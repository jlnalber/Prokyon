"use strict";(self.webpackChunkgraph=self.webpackChunkgraph||[]).push([[792],{321:()=>{function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function We(){return We=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,r){var t=function hd(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=Oe(e)););return e}(e,n);if(t){var i=Object.getOwnPropertyDescriptor(t,n);return i.get?i.get.call(arguments.length<3?e:r):i.value}},We.apply(null,arguments)}function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function yp(e){var n=function aS(e,n){if("object"!=ir(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!=ir(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==ir(n)?n:n+""}function h(e,n,r){return(n=yp(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function _p(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function re(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?_p(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gd(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}function mu(e,n){if(e){if("string"==typeof e)return gd(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gd(e,n):void 0}}function A(e,n){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=mu(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Cp(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,yp(t.key),t)}}function m(e,n,r){return n&&Cp(e.prototype,n),r&&Cp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pd=function(){return!!e})()}function w(e,n,r){return n=Oe(n),function sS(e,n){if(n&&("object"==ir(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function oS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pd()?Reflect.construct(n,r||[],Oe(e).constructor):n.apply(e,r))}function ko(e,n){return(ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r})(e,n)}function k(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ko(e,n)}function bp(e){if(Array.isArray(e))return e}function Ep(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function it(e,n){return bp(e)||function uS(e,n){var r=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;u=!1}else for(;!(u=(t=a.call(r)).done)&&(s.push(t.value),s.length!==n);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,n)||mu(e,n)||Ep()}function Dp(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function B(e){return function lS(e){if(Array.isArray(e))return gd(e)}(e)||Dp(e)||mu(e)||function cS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,n,r){if(pd())return Reflect.construct.apply(null,arguments);var t=[null];t.push.apply(t,n);var i=new(e.bind.apply(e,t));return r&&ko(i,r.prototype),i}function md(e){var n="function"==typeof Map?new Map:void 0;return md=function(t){if(null===t||!function dS(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch{return"function"==typeof e}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return Je(t,arguments,Oe(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ko(i,t)},md(e)}function wp(e,n){return Object.is(e,n)}var _n=null,So=!1,yu=1,Ft=Symbol("SIGNAL");function pe(e){var n=_n;return _n=e,n}var _u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:function(){return!1},producerRecomputeValue:function(){},consumerMarkedDirty:function(){},consumerOnSignalRead:function(){}};function yd(e){if(So)throw new Error("");if(null!==_n){_n.consumerOnSignalRead(e);var n=_n.nextProducerIndex++;Eu(_n),n<_n.producerNode.length&&_n.producerNode[n]!==e&&Io(_n)&&bu(_n.producerNode[n],_n.producerIndexOfThis[n]),_n.producerNode[n]!==e&&(_n.producerNode[n]=e,_n.producerIndexOfThis[n]=Io(_n)?Op(e,_n,n):0),_n.producerLastReadVersion[n]=e.version}}function Sp(e){if((!Io(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==yu)){if(!e.producerMustRecompute(e)&&!Cd(e))return e.dirty=!1,void(e.lastCleanEpoch=yu);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=yu}}function Ip(e){if(void 0!==e.liveConsumerNode){var n=So;So=!0;try{var t,r=A(e.liveConsumerNode);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.dirty||Pp(i)}}catch(a){r.e(a)}finally{r.f()}}finally{So=n}}}function Tp(){var e;return!1!==(null===(e=_n)||void 0===e?void 0:e.consumerAllowSignalWrites)}function Pp(e){var n;e.dirty=!0,Ip(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function Cu(e){return e&&(e.nextProducerIndex=0),pe(e)}function _d(e,n){if(pe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Io(e))for(var r=e.nextProducerIndex;r<e.producerNode.length;r++)bu(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Cd(e){Eu(e);for(var n=0;n<e.producerNode.length;n++){var r=e.producerNode[n],t=e.producerLastReadVersion[n];if(t!==r.version||(Sp(r),t!==r.version))return!0}return!1}function bd(e){if(Eu(e),Io(e))for(var n=0;n<e.producerNode.length;n++)bu(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Op(e,n,r){if(Ap(e),0===e.liveConsumerNode.length&&xp(e))for(var t=0;t<e.producerNode.length;t++)e.producerIndexOfThis[t]=Op(e.producerNode[t],e,t);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function bu(e,n){if(Ap(e),1===e.liveConsumerNode.length&&xp(e))for(var r=0;r<e.producerNode.length;r++)bu(e.producerNode[r],e.producerIndexOfThis[r]);var t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){var i=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];Eu(a),a.producerIndexOfThis[i]=n}}function Io(e){var n,r;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function Eu(e){var n,r,t;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(t=e.producerLastReadVersion)&&void 0!==t||(e.producerLastReadVersion=[])}function Ap(e){var n,r;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function xp(e){return void 0!==e.producerNode}var Ed=Symbol("UNSET"),Dd=Symbol("COMPUTING"),Du=Symbol("ERRORED"),gS=function(){return re(re({},_u),{},{value:Ed,dirty:!0,error:null,equal:wp,producerMustRecompute:function(n){return n.value===Ed||n.value===Dd},producerRecomputeValue:function(n){if(n.value===Dd)throw new Error("Detected cycle in computations.");var r=n.value;n.value=Dd;var i,t=Cu(n);try{i=n.computation()}catch(a){i=Du,n.error=a}finally{_d(n,t)}r!==Ed&&r!==Du&&i!==Du&&n.equal(r,i)?n.value=r:(n.value=i,n.version++)}})}(),Np=function pS(){throw new Error};function Fp(){Np()}var Mu=null;function Rp(e,n){Tp()||Fp(),e.equal(e.value,n)||(e.value=n,function bS(e){var n;e.version++,function vS(){yu++}(),Ip(e),null===(n=Mu)||void 0===n||n()}(e))}var CS=function(){return re(re({},_u),{},{equal:wp,value:void 0})}();function Se(e){return"function"==typeof e}function Vp(e){var r=e(function(i){Error.call(i),i.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Md=Vp(function(e){return function(r){e(this),this.message=r?"".concat(r.length," errors occurred during unsubscription:\n").concat(r.map(function(t,i){return"".concat(i+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=r}});function wu(e,n){if(e){var r=e.indexOf(n);0<=r&&e.splice(r,1)}}var e,It=function(){function e(n){y(this,e),this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}return m(e,[{key:"unsubscribe",value:function(){var r;if(!this.closed){this.closed=!0;var t=this._parentage;if(t)if(this._parentage=null,Array.isArray(t)){var a,i=A(t);try{for(i.s();!(a=i.n()).done;)a.value.remove(this)}catch(f){i.e(f)}finally{i.f()}}else t.remove(this);var s=this.initialTeardown;if(Se(s))try{s()}catch(f){r=f instanceof Md?f.errors:[f]}var u=this._teardowns;if(u){this._teardowns=null;var c,l=A(u);try{for(l.s();!(c=l.n()).done;){var d=c.value;try{Up(d)}catch(f){r=r??[],f instanceof Md?r=[].concat(B(r),B(f.errors)):r.push(f)}}}catch(f){l.e(f)}finally{l.f()}}if(r)throw new Md(r)}}},{key:"add",value:function(r){var t;if(r&&r!==this)if(this.closed)Up(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(r)}}},{key:"_hasParent",value:function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)}},{key:"_addParent",value:function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r}},{key:"_removeParent",value:function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&wu(t,r)}},{key:"remove",value:function(r){var t=this._teardowns;t&&wu(t,r),r instanceof e&&r._removeParent(this)}}])}();It.EMPTY=((e=new It).closed=!0,e);var Bp=It.EMPTY;function Hp(e){return e instanceof It||e&&"closed"in e&&Se(e.remove)&&Se(e.add)&&Se(e.unsubscribe)}function Up(e){Se(e)?e():e.unsubscribe()}var yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ku={setTimeout:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var e=ku.delegate;return(e?.setTimeout||setTimeout).apply(void 0,arguments)}),clearTimeout:function(e){function n(r){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=ku.delegate;return(n?.clearTimeout||clearTimeout)(e)}),delegate:void 0};function zp(e){ku.setTimeout(function(){var n=yi.onUnhandledError;if(!n)throw e;n(e)})}function ra(){}var DS=wd("C",void 0,void 0);function wd(e,n,r){return{kind:e,value:n,error:r}}var _i=null;function Su(e){if(yi.useDeprecatedSynchronousErrorHandling){var n=!_i;if(n&&(_i={errorThrown:!1,error:null}),e(),n){var r=_i;if(_i=null,r.errorThrown)throw r.error}}else e()}var kd=function(e){function n(r){var t;return y(this,n),(t=w(this,n)).isStopped=!1,r?(t.destination=r,Hp(r)&&r.add(t)):t.destination=SS,t}return k(n,e),m(n,[{key:"next",value:function(t){this.isStopped?Id(function wS(e){return wd("N",e,void 0)}(t),this):this._next(t)}},{key:"error",value:function(t){this.isStopped?Id(function MS(e){return wd("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped?Id(DS,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,We(Oe(n.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){try{this.destination.error(t)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(t,i,a){return new jp(t,i,a)}}])}(It),jp=function(e){function n(r,t,i){var a,o;if(y(this,n),a=w(this,n),Se(r))o=r;else if(r){var s;o=r.next,t=r.error,i=r.complete,a&&yi.useDeprecatedNextContext?(s=Object.create(r)).unsubscribe=function(){return a.unsubscribe()}:s=r,o=o?.bind(s),t=t?.bind(s),i=i?.bind(s)}return a.destination={next:o?Sd(o):ra,error:Sd(t??Gp),complete:i?Sd(i):ra},a}return k(n,e),m(n)}(kd);function Sd(e,n){return function(){try{e.apply(void 0,arguments)}catch(r){yi.useDeprecatedSynchronousErrorHandling?function kS(e){yi.useDeprecatedSynchronousErrorHandling&&_i&&(_i.errorThrown=!0,_i.error=e)}(r):zp(r)}}}function Gp(e){throw e}function Id(e,n){var r=yi.onStoppedNotification;r&&ku.setTimeout(function(){return r(e,n)})}var SS={closed:!0,next:ra,error:Gp,complete:ra},Td="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pd(e){return e}var cn=function(){var e=function(){function n(r){y(this,n),r&&(this._subscribe=r)}return m(n,[{key:"lift",value:function(t){var i=new n;return i.source=this,i.operator=t,i}},{key:"subscribe",value:function(t,i,a){var o=this,s=function TS(e){return e&&e instanceof kd||function IS(e){return e&&Se(e.next)&&Se(e.error)&&Se(e.complete)}(e)&&Hp(e)}(t)?t:new jp(t,i,a);return Su(function(){var u=o.operator,l=o.source;s.add(u?u.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(i){t.error(i)}}},{key:"forEach",value:function(t,i){var a=this;return new(i=qp(i))(function(o,s){var u;u=a.subscribe(function(l){try{t(l)}catch(c){s(c),u?.unsubscribe()}},s,o)})}},{key:"_subscribe",value:function(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}},{key:Td,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return function Wp(e){return 0===e.length?Pd:1===e.length?e[0]:function(r){return e.reduce(function(t,i){return i(t)},r)}}(i)(this)}},{key:"toPromise",value:function(t){var i=this;return new(t=qp(t))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}])}();return e.create=function(n){return new e(n)},e}();function qp(e){var n;return null!==(n=e??yi.Promise)&&void 0!==n?n:Promise}var PS=Vp(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),kr=function(){var e=function(n){function r(){var t;return y(this,r),(t=w(this,r)).closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return k(r,n),m(r,[{key:"lift",value:function(i){var a=new Zp(this,this);return a.operator=i,a}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new PS}},{key:"next",value:function(i){var a=this;Su(function(){if(a._throwIfClosed(),!a.isStopped){var u,s=A(a.observers.slice());try{for(s.s();!(u=s.n()).done;)u.value.next(i)}catch(c){s.e(c)}finally{s.f()}}})}},{key:"error",value:function(i){var a=this;Su(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=i;for(var o=a.observers;o.length;)o.shift().error(i)}})}},{key:"complete",value:function(){var i=this;Su(function(){if(i._throwIfClosed(),!i.isStopped){i.isStopped=!0;for(var a=i.observers;a.length;)a.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=null}},{key:"observed",get:function(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}},{key:"_trySubscribe",value:function(i){return this._throwIfClosed(),We(Oe(r.prototype),"_trySubscribe",this).call(this,i)}},{key:"_subscribe",value:function(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}},{key:"_innerSubscribe",value:function(i){var s=this.observers;return this.hasError||this.isStopped?Bp:(s.push(i),new It(function(){return wu(s,i)}))}},{key:"_checkFinalizedStatuses",value:function(i){var s=this.isStopped;this.hasError?i.error(this.thrownError):s&&i.complete()}},{key:"asObservable",value:function(){var i=new cn;return i.source=this,i}}])}(cn);return e.create=function(n,r){return new Zp(n,r)},e}(),Zp=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n)).destination=r,i.source=t,i}return k(n,e),m(n,[{key:"next",value:function(t){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===a||a.call(i,t)}},{key:"error",value:function(t){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===a||a.call(i,t)}},{key:"complete",value:function(){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===i||i.call(t)}},{key:"_subscribe",value:function(t){var i,a;return null!==(a=null===(i=this.source)||void 0===i?void 0:i.subscribe(t))&&void 0!==a?a:Bp}}])}(kr),OS=function(e){function n(r){var t;return y(this,n),(t=w(this,n))._value=r,t}return k(n,e),m(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var i=We(Oe(n.prototype),"_subscribe",this).call(this,t);return!i.closed&&t.next(this._value),i}},{key:"getValue",value:function(){var a=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),a}},{key:"next",value:function(t){We(Oe(n.prototype),"next",this).call(this,this._value=t)}}])}(kr);function Yp(e){return Se(e?.lift)}function Rt(e){return function(n){if(Yp(n))return n.lift(function(r){try{return e(r,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}var ia,ht=function(e){function n(r,t,i,a,o){var s;return y(this,n),(s=w(this,n,[r])).onFinalize=o,s._next=t?function(u){try{t(u)}catch(l){r.error(l)}}:We(Oe(n.prototype),"_next",s),s._error=a?function(u){try{a(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:We(Oe(n.prototype),"_error",s),s._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:We(Oe(n.prototype),"_complete",s),s}return k(n,e),m(n,[{key:"unsubscribe",value:function(){var t,i=this.closed;We(Oe(n.prototype),"unsubscribe",this).call(this),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}])}(kd);function Lt(e,n){return Rt(function(r,t){var i=0;r.subscribe(new ht(t,function(a){t.next(e.call(n,a,i++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;var rm="https://g.co/ng/security#xss",R=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n,[aa(r,t)])).code=r,i}return k(n,e),m(n)}(md(Error));function aa(e,n){var r="NG0".concat(Math.abs(e));return"".concat(r).concat(n?": "+n:"")}function Sr(e){return{toString:e}.toString()}var sa="__parameters__";function la(e,n,r){return Sr(function(){var t=function Nd(e){return function(){if(e){var r=e.apply(void 0,arguments);for(var t in r)this[t]=r[t]}}}(n);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return t.apply(this,o),this;var u=Je(i,o);return l.annotation=u,l;function l(c,d,f){for(var v=c.hasOwnProperty(sa)?c[sa]:Object.defineProperty(c,sa,{value:[]})[sa];v.length<=f;)v.push(null);return(v[f]=v[f]||[]).push(u),c}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Fe=globalThis;function xe(e){for(var n in e)if(e[n]===xe)return n;throw Error("Could not find renamed property on target object.")}function o1(e,n){for(var r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function Cn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Cn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var n=e.toString();if(null==n)return""+n;var r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Fd(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}var s1=xe({__forward_ref__:xe});function Ve(e){return e.__forward_ref__=Ve,e.toString=function(){return Cn(this())},e}function ne(e){return Pu(e)?e():e}function Pu(e){return"function"==typeof e&&e.hasOwnProperty(s1)&&e.__forward_ref__===Ve}function ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ir(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ou(e){return sm(e,xu)||sm(e,um)}function sm(e,n){return e.hasOwnProperty(n)?e[n]:null}function Au(e){return e&&(e.hasOwnProperty(Rd)||e.hasOwnProperty(f1))?e[Rd]:null}var xu=xe({\u0275prov:xe}),Rd=xe({\u0275inj:xe}),um=xe({ngInjectableDef:xe}),f1=xe({ngInjectorDef:xe}),q=function(){return m(function e(n,r){y(this,e),this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=ge({token:this,providedIn:r.providedIn||"root",factory:r.factory}))},[{key:"multi",get:function(){return this}},{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}])}();function Ud(e){return e&&!!e.\u0275providers}var To=xe({\u0275cmp:xe}),zd=xe({\u0275dir:xe}),jd=xe({\u0275pipe:xe}),cm=xe({\u0275mod:xe}),Tr=xe({\u0275fac:xe}),Po=xe({__NG_ELEMENT_ID__:xe}),dm=xe({__NG_ENV_ID__:xe});function ce(e){return"string"==typeof e?e:null==e?"":String(e)}function Gd(e,n){throw new R(-201,!1)}var Wd,De=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(De||{});function fm(){return Wd}function at(e){var n=Wd;return Wd=e,n}function vm(e,n,r){var t=Ou(e);return t&&"root"==t.providedIn?void 0===t.value?t.value=t.factory():t.value:r&De.Optional?null:void 0!==n?n:void Gd()}var Oo={},qd="__NG_DI_FLAG__",Nu="ngTempTokenPath",_1=/\n/gm,hm="__source",ca=void 0;function Zr(e){var n=ca;return ca=e,n}function E1(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default;if(void 0===ca)throw new R(-203,!1);return null===ca?vm(e,void 0,n):ca.get(e,n&De.Optional?null:void 0,n)}function Ee(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default;return(fm()||E1)(ne(e),n)}function Y(e){return Ee(e,Fu(arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default))}function Fu(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zd(e){for(var n=[],r=0;r<e.length;r++){var t=ne(e[r]);if(Array.isArray(t)){if(0===t.length)throw new R(900,!1);for(var i=void 0,a=De.Default,o=0;o<t.length;o++){var s=t[o],u=D1(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}n.push(Ee(i,a))}else n.push(Ee(t))}return n}function Ao(e,n){return e[qd]=n,e.prototype[qd]=n,e}function D1(e){return e[qd]}var Yd=Ao(la("Optional"),8),Kd=Ao(la("SkipSelf"),4);function bi(e,n){return e.hasOwnProperty(Tr)?e[Tr]:null}function da(e,n){e.forEach(function(r){return Array.isArray(r)?da(r,n):n(r)})}function pm(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function Ru(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function mt(e,n,r){var t=fa(e,n);return t>=0?e[1|t]=r:function mm(e,n,r,t){var i=e.length;if(i==n)e.push(r,t);else if(1===i)e.push(t,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=r,e[n+1]=t}}(e,t=~t,n,r),t}function Qd(e,n){var r=fa(e,n);if(r>=0)return e[1|r]}function fa(e,n){return function ym(e,n,r){for(var t=0,i=e.length>>r;i!==t;){var a=t+(i-t>>1),o=e[a<<r];if(n===o)return a<<r;o>n?i=a:t=a+1}return~(i<<r)}(e,n,1)}var ar={},Me=[],or=new q(""),_m=new q("",-1),Xd=new q(""),Vu=function(){return m(function e(){y(this,e)},[{key:"get",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo;if(t===Oo){var i=new Error("NullInjectorError: No provider for ".concat(Cn(r),"!"));throw i.name="NullInjectorError",i}return t}}])}(),Bu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Bu||{}),Vt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Vt||{}),Yr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Yr||{});function P1(e,n,r){for(var t=e.length;;){var i=e.indexOf(n,r);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=n.length;if(i+a===t||e.charCodeAt(i+a)<=32)return i}r=i+1}}function Jd(e,n,r){for(var t=0;t<r.length;){var i=r[t];if("number"==typeof i){if(0!==i)break;t++;var a=r[t++],o=r[t++],s=r[t++];e.setAttribute(n,o,s,a)}else{var u=i,l=r[++t];bm(u)?e.setProperty(n,u,l):e.setAttribute(n,u,l),t++}}return t}function Cm(e){return 3===e||4===e||6===e}function bm(e){return 64===e.charCodeAt(0)}function xo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else for(var r=-1,t=0;t<n.length;t++){var i=n[t];"number"==typeof i?r=i:0===r||Em(e,r,i,null,-1===r||2===r?n[++t]:null)}return e}function Em(e,n,r,t,i){var a=0,o=e.length;if(-1===n)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===n){o=-1;break}if(s>n){o=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===r){if(null===t)return void(null!==i&&(e[a+1]=i));if(t===e[a+1])return void(e[a+2]=i)}a++,null!==t&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,n),a=o+1),e.splice(a++,0,r),null!==t&&e.splice(a++,0,t),null!==i&&e.splice(a++,0,i)}var Dm="ng-template";function O1(e,n,r,t){var i=0;if(t){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==P1(n[i+1].toLowerCase(),r,0))return!0}else if(ef(e))return!1;if((i=n.indexOf(1,i))>-1)for(var a;++i<n.length&&"string"==typeof(a=n[i]);)if(a.toLowerCase()===r)return!0;return!1}function ef(e){return 4===e.type&&e.value!==Dm}function A1(e,n,r){return n===(4!==e.type||r?e.value:Dm)}function x1(e,n,r){for(var t=4,i=e.attrs,a=null!==i?function R1(e){for(var n=0;n<e.length;n++)if(Cm(e[n]))return n;return e.length}(i):0,o=!1,s=0;s<n.length;s++){var u=n[s];if("number"!=typeof u){if(!o)if(4&t){if(t=2|1&t,""!==u&&!A1(e,u,r)||""===u&&1===n.length){if(Bt(t))return!1;o=!0}}else if(8&t){if(null===i||!O1(e,i,u,r)){if(Bt(t))return!1;o=!0}}else{var l=n[++s],c=N1(u,i,ef(e),r);if(-1===c){if(Bt(t))return!1;o=!0;continue}if(""!==l){var d;if(d=c>a?"":i[c+1].toLowerCase(),2&t&&l!==d){if(Bt(t))return!1;o=!0}}}}else{if(!o&&!Bt(t)&&!Bt(u))return!1;if(o&&Bt(u))continue;o=!1,t=u|1&t}}return Bt(t)||o}function Bt(e){return!(1&e)}function N1(e,n,r,t){if(null===n)return-1;var i=0;if(t||!r){for(var a=!1;i<n.length;){var o=n[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=n[++i];"string"==typeof s;)s=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function L1(e,n){var r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){var t=e[r];if("number"==typeof t)return-1;if(t===n)return r;r++}return-1}(n,e)}function Mm(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=0;t<n.length;t++)if(x1(e,n[t],r))return!0;return!1}function wm(e,n){return e?":not("+n.trim()+")":n}function B1(e){for(var n=e[0],r=1,t=2,i="",a=!1;r<e.length;){var o=e[r];if("string"==typeof o)if(2&t){var s=e[++r];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&t?i+="."+o:4&t&&(i+=" "+o);else""!==i&&!Bt(o)&&(n+=wm(a,i),i=""),t=o,a=a||!Bt(t);r++}return""!==i&&(n+=wm(a,i)),n}function we(e){return Sr(function(){var n,r=Sm(e),t=re(re({},r),{},{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Bu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Vt.Emulated,styles:e.styles||Me,_:null,schemas:e.schemas||null,tView:null,id:""});Im(t);var i=e.dependencies;return t.directiveDefs=Hu(i,!1),t.pipeDefs=Hu(i,!0),t.id=function W1(e){var i,n=0,t=A([e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|"));try{for(t.s();!(i=t.n()).done;){var a=i.value;n=Math.imul(31,n)+a.charCodeAt(0)|0}}catch(u){t.e(u)}finally{t.f()}return"c"+(n+=2147483648)}(t),t})}function z1(e){return _e(e)||bn(e)}function j1(e){return null!==e}function Kr(e){return Sr(function(){return{type:e.type,bootstrap:e.bootstrap||Me,declarations:e.declarations||Me,imports:e.imports||Me,exports:e.exports||Me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}})}function km(e,n){if(null==e)return ar;var r={};for(var t in e)if(e.hasOwnProperty(t)){var u,i=e[t],a=void 0,o=void 0,s=Yr.None;Array.isArray(i)?(s=i[0],a=i[1],o=null!==(u=i[2])&&void 0!==u?u:a):(a=i,o=i),n?(r[a]=s!==Yr.None?[t,s]:t,n[a]=o):r[a]=t}return r}function ue(e){return Sr(function(){var n=Sm(e);return Im(n),n})}function _e(e){return e[To]||null}function bn(e){return e[zd]||null}function An(e){return e[jd]||null}function Sm(e){var n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ar,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Me,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:km(e.inputs,n),outputs:km(e.outputs),debugInfo:null}}function Im(e){var n;null===(n=e.features)||void 0===n||n.forEach(function(r){return r(e)})}function Hu(e,n){if(!e)return null;var r=n?An:z1;return function(){return("function"==typeof e?e():e).map(function(t){return r(t)}).filter(j1)}}function q1(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return{\u0275providers:nf(!0,n),\u0275fromNgModule:!0}}function nf(e){for(var t,n=[],r=new Set,i=function(l){n.push(l)},a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return da(o,function(u){var c=u;Uu(c,i,[],r)&&(t||(t=[]),t.push(c))}),void 0!==t&&Tm(t,i),n}function Tm(e,n){for(var r=function(){var a=e[t],o=a.ngModule;tf(a.providers,function(u){n(u,o)})},t=0;t<e.length;t++)r()}function Uu(e,n,r,t){if(!(e=ne(e)))return!1;var i=null,a=Au(e),o=!a&&_e(e);if(a||o){if(o&&!o.standalone)return!1;i=e}else{var s=e.ngModule;if(!(a=Au(s)))return!1;i=s}var c=t.has(i);if(o){if(c)return!1;if(t.add(i),o.dependencies){var v,f=A("function"==typeof o.dependencies?o.dependencies():o.dependencies);try{for(f.s();!(v=f.n()).done;)Uu(v.value,n,r,t)}catch(M){f.e(M)}finally{f.f()}}}else{if(!a)return!1;if(null!=a.imports&&!c){var p;t.add(i);try{da(a.imports,function(M){Uu(M,n,r,t)&&(p||(p=[]),p.push(M))})}finally{}void 0!==p&&Tm(p,n)}if(!c){var C=bi(i)||function(){return new i};n({provide:i,useFactory:C,deps:Me},i),n({provide:Xd,useValue:i,multi:!0},i),n({provide:or,useValue:function(){return Ee(i)},multi:!0},i)}var b=a.providers;if(null!=b&&!c){var _=e;tf(b,function(M){n(M,_)})}}return i!==e&&void 0!==e.providers}function tf(e,n){var t,r=A(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;Ud(i)&&(i=i.\u0275providers),Array.isArray(i)?tf(i,n):n(i)}}catch(a){r.e(a)}finally{r.f()}}var Z1=xe({provide:String,useValue:xe});function rf(e){return null!==e&&"object"==typeof e&&Z1 in e}function Di(e){return"function"==typeof e}var af=new q(""),zu={},K1={},of=void 0;function ju(){return void 0===of&&(of=new Vu),of}var sr=m(function e(){y(this,e)}),va=function(e){function n(r,t,i,a){var o;y(this,n),(o=w(this,n)).parent=t,o.source=i,o.scopes=a,o.records=new Map,o._ngOnDestroyHooks=new Set,o._onDestroyHooks=[],o._destroyed=!1,uf(r,function(u){return o.processProvider(u)}),o.records.set(_m,ha(void 0,o)),a.has("environment")&&o.records.set(sr,ha(void 0,o));var s=o.records.get(af);return null!=s&&"string"==typeof s.value&&o.scopes.add(s.value),o.injectorDefTypes=new Set(o.get(Xd,Me,De.Self)),o}return k(n,e),m(n,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;var t=pe(null);try{var a,i=A(this._ngOnDestroyHooks);try{for(i.s();!(a=i.n()).done;)a.value.ngOnDestroy()}catch(d){i.e(d)}finally{i.f()}var s=this._onDestroyHooks;this._onDestroyHooks=[];var l,u=A(s);try{for(u.s();!(l=u.n()).done;)(0,l.value)()}catch(d){u.e(d)}finally{u.f()}}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(t)}}},{key:"onDestroy",value:function(t){var i=this;return this.assertNotDestroyed(),this._onDestroyHooks.push(t),function(){return i.removeOnDestroy(t)}}},{key:"runInContext",value:function(t){this.assertNotDestroyed();var i=Zr(this),a=at(void 0);try{return t()}finally{Zr(i),at(a)}}},{key:"get",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De.Default;if(this.assertNotDestroyed(),t.hasOwnProperty(dm))return t[dm](this);a=Fu(a);var s=Zr(this),u=at(void 0);try{if(!(a&De.SkipSelf)){var l=this.records.get(t);if(void 0===l){var c=function eI(e){return"function"==typeof e||"object"==typeof e&&e instanceof q}(t)&&Ou(t);l=c&&this.injectableDefInScope(c)?ha(sf(t),zu):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(a&De.Self?ju():this.parent).get(t,i=a&De.Optional&&i===Oo?null:i)}catch(v){if("NullInjectorError"===v.name){if((v[Nu]=v[Nu]||[]).unshift(Cn(t)),s)throw v;return function M1(e,n,r,t){var i=e[Nu];throw n[hm]&&i.unshift(n[hm]),e.message=function w1(e,n,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;var i=Cn(n);if(Array.isArray(n))i=n.map(Cn).join(" -> ");else if("object"==typeof n){var a=[];for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Cn(s)))}i="{".concat(a.join(", "),"}")}return"".concat(r).concat(t?"("+t+")":"","[").concat(i,"]: ").concat(e.replace(_1,"\n  "))}("\n"+e.message,i,r,t),e.ngTokenPath=i,e[Nu]=null,e}(v,t,"R3InjectorError",this.source)}throw v}finally{at(u),Zr(s)}}},{key:"resolveInjectorInitializers",value:function(){var t=pe(null),i=Zr(this),a=at(void 0);try{var l,u=A(this.get(or,Me,De.Self));try{for(u.s();!(l=u.n()).done;)(0,l.value)()}catch(d){u.e(d)}finally{u.f()}}finally{Zr(i),at(a),pe(t)}}},{key:"toString",value:function(){var o,t=[],a=A(this.records.keys());try{for(a.s();!(o=a.n()).done;)t.push(Cn(o.value))}catch(u){a.e(u)}finally{a.f()}return"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new R(205,!1)}},{key:"processProvider",value:function(t){var i=Di(t=ne(t))?t:ne(t&&t.provide),a=function Q1(e){return rf(e)?ha(void 0,e.useValue):ha(Am(e),zu)}(t);if(Di(t)||!0!==t.multi);else{var o=this.records.get(i);o||((o=ha(void 0,zu,!0)).factory=function(){return Zd(o.multi)},this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,a)}},{key:"hydrate",value:function(t,i){var a=pe(null);try{return i.value===zu&&(i.value=K1,i.value=i.factory()),"object"==typeof i.value&&i.value&&function J1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{pe(a)}}},{key:"injectableDefInScope",value:function(t){if(!t.providedIn)return!1;var i=ne(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}},{key:"removeOnDestroy",value:function(t){var i=this._onDestroyHooks.indexOf(t);-1!==i&&this._onDestroyHooks.splice(i,1)}}])}(sr);function sf(e){var n=Ou(e),r=null!==n?n.factory:bi(e);if(null!==r)return r;if(e instanceof q)throw new R(204,!1);if(e instanceof Function)return function $1(e){if(e.length>0)throw new R(204,!1);var r=function d1(e){return e&&(e[xu]||e[um])||null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new R(204,!1)}function Am(e,n,r){var t=void 0;if(Di(e)){var i=ne(e);return bi(i)||sf(i)}if(rf(e))t=function(){return ne(e.useValue)};else if(function Om(e){return!(!e||!e.useFactory)}(e))t=function(){return e.useFactory.apply(e,B(Zd(e.deps||[])))};else if(function Pm(e){return!(!e||!e.useExisting)}(e))t=function(){return Ee(ne(e.useExisting))};else{var a=ne(e&&(e.useClass||e.provide));if(!function X1(e){return!!e.deps}(e))return bi(a)||sf(a);t=function(){return Je(a,B(Zd(e.deps)))}}return t}function ha(e,n){return{factory:e,value:n,multi:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:void 0}}function uf(e,n){var t,r=A(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;Array.isArray(i)?uf(i,n):i&&Ud(i)?uf(i.\u0275providers,n):n(i)}}catch(a){r.e(a)}finally{r.f()}}var qe=0,L=1,$=2,fn=3,Ht=4,xn=5,Zn=6,Mi=7,Be=8,vn=9,ur=10,ae=11,Ro=12,Fm=13,pa=14,Ze=15,wi=16,ma=17,lr=18,ya=19,Rm=20,$r=21,Lo=22,Tt=23,Z=25,cf=1,cr=7,_a=9,rn=10,Zu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Zu||{});function In(e){return Array.isArray(e)&&"object"==typeof e[cf]}function Un(e){return Array.isArray(e)&&!0===e[cf]}function df(e){return!!(4&e.flags)}function ki(e){return e.componentOffset>-1}function Yu(e){return!(1&~e.flags)}function Ut(e){return!!e.template}function Bo(e){return!!(512&e[$])}var hI=function(){return m(function e(n,r,t){y(this,e),this.previousValue=n,this.currentValue=r,this.firstChange=t},[{key:"isFirstChange",value:function(){return this.firstChange}}])}();function Hm(e,n,r,t){null!==n?n.applyValueToInputSignal(n,t):e[r]=t}function Pr(){return Um}function Um(e){return e.type.prototype.ngOnChanges&&(e.setInput=pI),gI}function gI(){var e=jm(this),n=e?.current;if(n){var r=e.previous;if(r===ar)e.previous=n;else for(var t in n)r[t]=n[t];e.current=null,this.ngOnChanges(n)}}function pI(e,n,r,t,i){var a=this.declaredInputs[t],o=jm(e)||function mI(e,n){return e[zm]=n}(e,{previous:ar,current:null}),s=o.current||(o.current={}),u=o.previous,l=u[a];s[a]=new hI(l&&l.currentValue,r,u===ar),Hm(e,n,i,r)}Pr.ngInherit=!0;var zm="__ngSimpleChanges__";function jm(e){return e[zm]||null}var dr=function(n,r,t){};function ke(e){for(;Array.isArray(e);)e=e[qe];return e}function Ho(e,n){return ke(n[e])}function Yn(e,n){return ke(n[e.index])}function Uo(e,n){return e.data[n]}function yt(e,n){var r=n[e];return In(r)?r:r[qe]}function pf(e){return!(128&~e[$])}function Pt(e,n){return null==n?null:e[n]}function qm(e){e[ma]=0}function Zm(e){1024&e[$]||(e[$]|=1024,pf(e)&&Ku(e))}function zo(e){var n;return!!(9216&e[$]||null!==(n=e[Tt])&&void 0!==n&&n.dirty)}function mf(e){var n;null===(n=e[ur].changeDetectionScheduler)||void 0===n||n.notify(7),64&e[$]&&(e[$]|=1024),zo(e)&&Ku(e)}function Ku(e){var n;null===(n=e[ur].changeDetectionScheduler)||void 0===n||n.notify(0);for(var r=Or(e);null!==r&&!(8192&r[$])&&(r[$]|=8192,pf(r));)r=Or(r)}function $u(e,n){if(!(256&~e[$]))throw new R(911,!1);null===e[$r]&&(e[$r]=[]),e[$r].push(n)}function Or(e){var n=e[fn];return Un(n)?n[fn]:n}var oe={lFrame:oy(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Km=!1;function $m(){return oe.bindingsEnabled}function T(){return oe.lFrame.lView}function me(){return oe.lFrame.tView}function Ye(e){return oe.lFrame.contextLView=e,e[Be]}function Ke(e){return oe.lFrame.contextLView=null,e}function Ne(){for(var e=Qm();null!==e&&64===e.type;)e=e.parent;return e}function Qm(){return oe.lFrame.currentTNode}function zt(e,n){var r=oe.lFrame;r.currentTNode=e,r.isParent=n}function Cf(){return oe.lFrame.isParent}function ey(){return Km}function ny(e){Km=e}function Kn(){var e=oe.lFrame,n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function jt(){return oe.lFrame.bindingIndex++}function xr(e){var n=oe.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function OI(e,n){var r=oe.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ef(n)}function Ef(e){oe.lFrame.currentDirectiveIndex=e}function Mf(){return oe.lFrame.currentQueryIndex}function Xu(e){oe.lFrame.currentQueryIndex=e}function xI(e){var n=e[L];return 2===n.type?n.declTNode:1===n.type?e[xn]:null}function iy(e,n,r){if(r&De.SkipSelf){for(var t=n,i=e;!(null!==(t=t.parent)||r&De.Host||null===(t=xI(i))||(i=i[pa],10&t.type)););if(null===t)return!1;n=t,e=i}var a=oe.lFrame=ay();return a.currentTNode=n,a.lView=e,!0}function wf(e){var n=ay(),r=e[L];oe.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function ay(){var e=oe.lFrame,n=null===e?null:e.child;return null===n?oy(e):n}function oy(e){var n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function sy(){var e=oe.lFrame;return oe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var uy=sy;function kf(){var e=sy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Nn(){return oe.lFrame.selectedIndex}function Ti(e){oe.lFrame.selectedIndex=e}function He(){var e=oe.lFrame;return Uo(e.tView,e.selectedIndex)}var cy=!0;function Go(){return cy}function fr(e){cy=e}function Ju(e,n){for(var r=n.directiveStart,t=n.directiveEnd;r<t;r++){var d,f,v,g,p,C,b,a=e.data[r].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(null!==(d=e.contentHooks)&&void 0!==d?d:e.contentHooks=[]).push(-r,o),s&&((null!==(f=e.contentHooks)&&void 0!==f?f:e.contentHooks=[]).push(r,s),(null!==(v=e.contentCheckHooks)&&void 0!==v?v:e.contentCheckHooks=[]).push(r,s)),u&&(null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push(-r,u),l&&((null!==(p=e.viewHooks)&&void 0!==p?p:e.viewHooks=[]).push(r,l),(null!==(C=e.viewCheckHooks)&&void 0!==C?C:e.viewCheckHooks=[]).push(r,l)),null!=c&&(null!==(b=e.destroyHooks)&&void 0!==b?b:e.destroyHooks=[]).push(r,c)}}function el(e,n,r){dy(e,n,3,r)}function nl(e,n,r,t){(3&e[$])===r&&dy(e,n,r,t)}function Sf(e,n){var r=e[$];(3&r)===n&&(r&=16383,e[$]=r+=1)}function dy(e,n,r,t){for(var a=t??-1,o=n.length-1,s=0,u=void 0!==t?65535&e[ma]:0;u<o;u++)if("number"==typeof n[u+1]){if(s=n[u],null!=t&&s>=t)break}else n[u]<0&&(e[ma]+=65536),(s<a||-1==a)&&(HI(e,r,n,u),e[ma]=(4294901760&e[ma])+u+2),u++}function fy(e,n){dr(4,e,n);var r=pe(null);try{n.call(e)}finally{pe(r),dr(5,e,n)}}function HI(e,n,r,t){var i=r[t]<0,a=r[t+1],s=e[i?-r[t]:r[t]];i?e[$]>>14<e[ma]>>16&&(3&e[$])===n&&(e[$]+=16384,fy(s,a)):fy(s,a)}var Ca=-1,Wo=m(function e(n,r,t){y(this,e),this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=t}),Tf={},Pi=function(){return m(function e(n,r){y(this,e),this.injector=n,this.parentInjector=r},[{key:"get",value:function(r,t,i){i=Fu(i);var a=this.injector.get(r,Tf,i);return a!==Tf||t===Tf?a:this.parentInjector.get(r,t,i)}}])}();function Pf(e){return e!==Ca}function qo(e){return 32767&e}function Zo(e,n){for(var r=function GI(e){return e>>16}(e),t=n;r>0;)t=t[pa],r--;return t}var Of=!0;function tl(e){var n=Of;return Of=e,n}var hy=255,gy=5,ZI=0,vr={};function rl(e,n){var r=py(e,n);if(-1!==r)return r;var t=n[L];t.firstCreatePass&&(e.injectorIndex=n.length,Af(t.data,e),Af(n,null),Af(t.blueprint,null));var i=il(e,n),a=e.injectorIndex;if(Pf(i))for(var o=qo(i),s=Zo(i,n),u=s[L].data,l=0;l<8;l++)n[a+l]=s[o+l]|u[o+l];return n[a+8]=i,a}function Af(e,n){e.push(0,0,0,0,0,0,0,0,n)}function py(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function il(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var r=0,t=null,i=n;null!==i;){if(null===(t=Dy(i)))return Ca;if(r++,i=i[pa],-1!==t.injectorIndex)return t.injectorIndex|r<<16}return Ca}function xf(e,n,r){!function YI(e,n,r){var t;"string"==typeof r?t=r.charCodeAt(0)||0:r.hasOwnProperty(Po)&&(t=r[Po]),null==t&&(t=r[Po]=ZI++);var i=t&hy;n.data[e+(i>>gy)]|=1<<i}(e,n,r)}function my(e,n,r){if(r&De.Optional||void 0!==e)return e;Gd()}function yy(e,n,r,t){if(r&De.Optional&&void 0===t&&(t=null),!(r&(De.Self|De.Host))){var i=e[vn],a=at(void 0);try{return i?i.get(n,t,r&De.Optional):vm(n,t,r&De.Optional)}finally{at(a)}}return my(t,0,r)}function _y(e,n,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:De.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){if(2048&n[$]&&!(t&De.Self)){var a=function JI(e,n,r,t,i){for(var a=e,o=n;null!==a&&null!==o&&2048&o[$]&&!(512&o[$]);){var s=Cy(a,o,r,t|De.Self,vr);if(s!==vr)return s;var u=a.parent;if(!u){var l=o[Rm];if(l){var c=l.get(r,vr,t);if(c!==vr)return c}u=Dy(o),o=o[pa]}a=u}return i}(e,n,r,t,vr);if(a!==vr)return a}var o=Cy(e,n,r,t,vr);if(o!==vr)return o}return yy(n,r,t,i)}function Cy(e,n,r,t,i){var a=function QI(e){if("string"==typeof e)return e.charCodeAt(0)||0;var n=e.hasOwnProperty(Po)?e[Po]:void 0;return"number"==typeof n?n>=0?n&hy:XI:n}(r);if("function"==typeof a){if(!iy(n,e,t))return t&De.Host?my(i,0,t):yy(n,r,t,i);try{var o;if(null!=(o=a(t))||t&De.Optional)return o;Gd()}finally{uy()}}else if("number"==typeof a){var s=null,u=py(e,n),l=Ca,c=t&De.Host?n[Ze][xn]:null;for((-1===u||t&De.SkipSelf)&&((l=-1===u?il(e,n):n[u+8])!==Ca&&Ey(t,!1)?(s=n[L],u=qo(l),n=Zo(l,n)):u=-1);-1!==u;){var d=n[L];if(by(a,u,d.data)){var f=$I(u,n,r,s,t,c);if(f!==vr)return f}(l=n[u+8])!==Ca&&Ey(t,n[L].data[u+8]===c)&&by(a,u,n)?(s=d,u=qo(l),n=Zo(l,n)):u=-1}}return i}function $I(e,n,r,t,i,a){var o=n[L],s=o.data[e+8],c=al(s,o,r,null==t?ki(s)&&Of:t!=o&&!!(3&s.type),i&De.Host&&a===s);return null!==c?Oi(n,o,c,s):vr}function al(e,n,r,t,i){for(var a=e.providerIndexes,o=n.data,s=1048575&a,u=e.directiveStart,c=a>>20,f=i?s+c:e.directiveEnd,v=t?s:s+c;v<f;v++){var g=o[v];if(v<u&&r===g||v>=u&&g.type===r)return v}if(i){var p=o[u];if(p&&Ut(p)&&p.type===r)return u}return null}function Oi(e,n,r,t){var i=e[r],a=n.data;if(function UI(e){return e instanceof Wo}(i)){var o=i;o.resolving&&function g1(e,n){throw n&&". Dependency path: ".concat(n.join(" > ")," > ").concat(e),new R(-200,e)}(function Ie(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ce(e)}(a[r]));var s=tl(o.canSeeViewProviders);o.resolving=!0;var d=o.injectImpl?at(o.injectImpl):null;iy(e,t,De.Default);try{i=e[r]=o.factory(void 0,a,e,t),n.firstCreatePass&&r>=t.directiveStart&&function BI(e,n,r){var c,d,f,t=n.type.prototype,a=t.ngOnInit,o=t.ngDoCheck;if(t.ngOnChanges){var s,u,l=Um(n);(null!==(s=r.preOrderHooks)&&void 0!==s?s:r.preOrderHooks=[]).push(e,l),(null!==(u=r.preOrderCheckHooks)&&void 0!==u?u:r.preOrderCheckHooks=[]).push(e,l)}a&&(null!==(c=r.preOrderHooks)&&void 0!==c?c:r.preOrderHooks=[]).push(0-e,a),o&&((null!==(d=r.preOrderHooks)&&void 0!==d?d:r.preOrderHooks=[]).push(e,o),(null!==(f=r.preOrderCheckHooks)&&void 0!==f?f:r.preOrderCheckHooks=[]).push(e,o))}(r,a[r],n)}finally{null!==d&&at(d),tl(s),o.resolving=!1,uy()}}return i}function by(e,n,r){return!!(r[n+(e>>gy)]&1<<e)}function Ey(e,n){return!(e&De.Self||e&De.Host&&n)}var Dn=function(){return m(function e(n,r){y(this,e),this._tNode=n,this._lView=r},[{key:"get",value:function(r,t,i){return _y(this._tNode,this._lView,r,Fu(i),t)}}])}();function XI(){return new Dn(Ne(),T())}function Fn(e){return Sr(function(){for(var n=e.prototype.constructor,r=n[Tr]||Nf(n),t=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==t;){var a=i[Tr]||Nf(i);if(a&&a!==r)return a;i=Object.getPrototypeOf(i)}return function(o){return new o}})}function Nf(e){return Pu(e)?function(){var n=Nf(ne(e));return n&&n()}:bi(e)}function Dy(e){var n=e[L],r=n.type;return 2===r?n.declTNode:1===r?e[xn]:null}function Iy(e){var i=Ty(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return i.resolveInjectorInitializers(),i}function Ty(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set,a=[r||Me,q1(e)];return t=t||("object"==typeof e?void 0:Cn(e)),new va(a,n||ju(),t||null,i)}var Mn=function(){return m(function e(){y(this,e)},null,[{key:"create",value:function(r,t){if(Array.isArray(r))return Iy({name:""},t,r,"");var i,a=null!==(i=r.name)&&void 0!==i?i:"";return Iy({name:a},r.parent,r.providers,a)}}])}();(ia=Mn).THROW_IF_NOT_FOUND=Oo,ia.NULL=new Vu,ia.\u0275prov=ge({token:ia,providedIn:"any",factory:function(){return Ee(_m)}}),ia.__NG_ELEMENT_ID__=-1,new q("").__NG_ELEMENT_ID__=function(e){var n=Ne();if(null===n)throw new R(204,!1);if(2&n.type)return n.value;if(e&De.Optional)return null;throw new R(204,!1)};function Lf(e){return e.ngOriginalError}var Qr=function(){return m(function e(){y(this,e),this._console=console},[{key:"handleError",value:function(r){var t=this._findOriginalError(r);this._console.error("ERROR",r),t&&this._console.error("ORIGINAL ERROR",t)}},{key:"_findOriginalError",value:function(r){for(var t=r&&Lf(r);t&&Lf(t);)t=Lf(t);return t||null}}])}(),Oy=new q("",{providedIn:"root",factory:function(){return Y(Qr).handleError.bind(void 0)}}),sl=function(){var e,n=m(function r(){y(this,r)});return(e=n).__NG_ELEMENT_ID__=lT,e.__NG_ENV_ID__=function(r){return r},n}(),uT=function(e){function n(r){var t;return y(this,n),(t=w(this,n))._lView=r,t}return k(n,e),m(n,[{key:"onDestroy",value:function(t){var i=this;return $u(this._lView,t),function(){return function yf(e,n){if(null!==e[$r]){var r=e[$r].indexOf(n);-1!==r&&e[$r].splice(r,1)}}(i._lView,t)}}}])}(sl);function lT(){return new uT(T())}function cT(){return Da(Ne(),T())}function Da(e,n){return new Gt(Yn(e,n))}var Gt=function(){var n=m(function r(t){y(this,r),this.nativeElement=t});return n.__NG_ELEMENT_ID__=cT,n}();function xy(e){return e instanceof Gt?e.nativeElement:e}var Ma=function(){var e,n=function(){return m(function r(){y(this,r),this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new OS(!1)},[{key:"_hasPendingTasks",get:function(){return this.hasPendingTasks.value}},{key:"add",value:function(){this._hasPendingTasks||this.hasPendingTasks.next(!0);var i=this.taskId++;return this.pendingTasks.add(i),i}},{key:"remove",value:function(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}},{key:"ngOnDestroy",value:function(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:function(){return new e}}),n}(),dT=function(e){function n(){var r,i,a,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y(this,n),(r=w(this,n)).destroyRef=void 0,r.pendingTasks=void 0,r.__isAsync=t,function xm(){return void 0!==fm()||null!=function b1(){return ca}()}()&&(r.destroyRef=null!==(i=Y(sl,{optional:!0}))&&void 0!==i?i:void 0,r.pendingTasks=null!==(a=Y(Ma,{optional:!0}))&&void 0!==a?a:void 0),r}return k(n,e),m(n,[{key:"emit",value:function(t){var i=pe(null);try{We(Oe(n.prototype),"next",this).call(this,t)}finally{pe(i)}}},{key:"subscribe",value:function(t,i,a){var o=t,s=i||function(){return null},u=a;if(t&&"object"==typeof t){var l,c,d,f=t;o=null===(l=f.next)||void 0===l?void 0:l.bind(f),s=null===(c=f.error)||void 0===c?void 0:c.bind(f),u=null===(d=f.complete)||void 0===d?void 0:d.bind(f)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),u&&(u=this.wrapInTimeout(u)));var v=We(Oe(n.prototype),"subscribe",this).call(this,{next:o,error:s,complete:u});return t instanceof It&&t.add(v),v}},{key:"wrapInTimeout",value:function(t){var i=this;return function(a){var o,s=null===(o=i.pendingTasks)||void 0===o?void 0:o.add();setTimeout(function(){var u;t(a),void 0!==s&&(null===(u=i.pendingTasks)||void 0===u||u.remove(s))})}}}])}(kr),hn=dT;function fT(){return this._results[Symbol.iterator]()}var vT=function(){return m(function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(this,e),this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;var r=e.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=fT)},[{key:"changes",get:function(){var r;return null!==(r=this._changes)&&void 0!==r?r:this._changes=new hn}},{key:"get",value:function(r){return this._results[r]}},{key:"map",value:function(r){return this._results.map(r)}},{key:"filter",value:function(r){return this._results.filter(r)}},{key:"find",value:function(r){return this._results.find(r)}},{key:"reduce",value:function(r,t){return this._results.reduce(r,t)}},{key:"forEach",value:function(r){this._results.forEach(r)}},{key:"some",value:function(r){return this._results.some(r)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(r,t){this.dirty=!1;var i=function ot(e){return e.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function T1(e,n,r){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++){var i=e[t],a=n[t];if(r&&(i=r(i),a=r(a)),a!==i)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}},{key:"notifyOnChanges",value:function(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"onDirty",value:function(r){this._onDirty=r}},{key:"setDirty",value:function(){var r;this.dirty=!0,null===(r=this._onDirty)||void 0===r||r.call(this)}},{key:"destroy",value:function(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}])}();function ul(e){return!(128&~e.flags)}var Vf=new Map,gT=0,cl="__ngContext__";function zn(e,n){In(n)?(e[cl]=n[ya],function mT(e){Vf.set(e[ya],e)}(n)):e[cl]=n}function jy(e){return Wy(e[Ro])}function Gy(e){return Wy(e[Ht])}function Wy(e){for(;null!==e&&!Un(e);)e=e[Ht];return e}var Hf=void 0;var ka=new q("",{providedIn:"root",factory:function(){return LT}}),LT="ng",$y=new q(""),Jr=new q("",{providedIn:"platform",factory:function(){return"unknown"}}),Qy=new q("",{providedIn:"root",factory:function(){var n;return(null===(n=function Xr(){if(void 0!==Hf)return Hf;if(typeof document<"u")return document;throw new R(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}}),Xy=function(){return null};function Wf(e,n){return Xy(e,n,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}var o_=new q("",{providedIn:"root",factory:function(){return!1}}),f_=function(){return m(function e(n){y(this,e),this.changingThisBreaksApplicationSecurity=n},[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see ".concat(rm,")")}}])}();function ei(e){return e instanceof f_?e.changingThisBreaksApplicationSecurity:e}var oP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Aa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Aa||{});function tv(e){var n=function is(){var e=T();return e&&e[ur].sanitizer}();return n?n.sanitize(Aa.URL,e)||"":function ts(e,n){var r=function tP(e){return e instanceof f_&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error("Required a safe ".concat(n,", got a ").concat(r," (see ").concat(rm,")"))}return r===n}(e,"URL")?ei(e):function Xf(e){return(e=String(e)).match(oP)?e:"unsafe:"+e}(ce(e))}var av,ni=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ni||{});function ov(e,n){return av(e,n)}function Na(e,n,r,t,i){if(null!=t){var a,o=!1;Un(t)?a=t:In(t)&&(o=!0,t=t[qe]);var s=ke(t);0===e&&null!==r?null==i?N_(n,r,s):Ai(n,r,s,i||null,!0):1===e&&null!==r?Ai(n,r,s,i||null,!0):2===e?function os(e,n,r){var t=Ml(e,n);t&&function YP(e,n,r,t){e.removeChild(n,r,t)}(e,t,n,r)}(n,s,o):3===e&&n.destroyNode(s),null!=a&&function QP(e,n,r,t,i){var a=r[cr];a!==ke(r)&&Na(n,e,t,a,i);for(var s=rn;s<r.length;s++){var u=r[s];kl(u[L],u,e,n,t,a)}}(n,e,a,r,i)}}function El(e,n,r){return e.createElement(n,r)}function O_(e,n){var r;null===(r=n[ur].changeDetectionScheduler)||void 0===r||r.notify(8),kl(e,n,n[ae],2,null,null)}function A_(e,n){var r=e[_a],t=n[fn];(In(t)||n[Ze]!==t[fn][Ze])&&(e[$]|=Zu.HasTransplantedViews),null===r?e[_a]=[n]:r.push(n)}function lv(e,n){var r=e[_a],t=r.indexOf(n);r.splice(t,1)}function as(e,n){if(!(e.length<=rn)){var r=rn+n,t=e[r];if(t){var i=t[wi];null!==i&&i!==e&&lv(i,t),n>0&&(e[r-1][Ht]=t[Ht]);var a=Ru(e,rn+n);!function zP(e,n){O_(e,n),n[qe]=null,n[xn]=null}(t[L],t);var o=a[lr];null!==o&&o.detachView(a[L]),t[fn]=null,t[Ht]=null,t[$]&=-129}return t}}function Dl(e,n){if(!(256&n[$])){var r=n[ae];r.destroyNode&&kl(e,n,r,3,null,null),function GP(e){var n=e[Ro];if(!n)return cv(e[L],e);for(;n;){var r=null;if(In(n))r=n[Ro];else{var t=n[rn];t&&(r=t)}if(!r){for(;n&&!n[Ht]&&n!==e;)In(n)&&cv(n[L],n),n=n[fn];null===n&&(n=e),In(n)&&cv(n[L],n),r=n&&n[Ht]}n=r}}(n)}}function cv(e,n){if(!(256&n[$])){var r=pe(null);try{n[$]&=-129,n[$]|=256,n[Tt]&&bd(n[Tt]),function ZP(e,n){var r;if(null!=e&&null!=(r=e.destroyHooks))for(var t=0;t<r.length;t+=2){var i=n[r[t]];if(!(i instanceof Wo)){var a=r[t+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];dr(4,s,u);try{u.call(s)}finally{dr(5,s,u)}}else{dr(4,i,a);try{a.call(i)}finally{dr(5,i,a)}}}}}(e,n),function qP(e,n){var r=e.cleanup,t=n[Mi];if(null!==r)for(var i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){var a=r[i+3];a>=0?t[a]():t[-a].unsubscribe(),i+=2}else r[i].call(t[r[i+1]]);null!==t&&(n[Mi]=null);var s=n[$r];if(null!==s){n[$r]=null;for(var u=0;u<s.length;u++)(0,s[u])()}}(e,n),1===n[L].type&&n[ae].destroy();var t=n[wi];if(null!==t&&Un(n[fn])){t!==n[fn]&&lv(t,n);var i=n[lr];null!==i&&i.detachView(e)}!function yT(e){Vf.delete(e[ya])}(n)}finally{pe(r)}}}function dv(e,n,r){return function x_(e,n,r){for(var t=n;null!==t&&168&t.type;)t=(n=t).parent;if(null===t)return r[qe];var a=t.componentOffset;if(a>-1){var o=e.data[t.directiveStart+a].encapsulation;if(o===Vt.None||o===Vt.Emulated)return null}return Yn(t,r)}(e,n.parent,r)}function Ai(e,n,r,t,i){e.insertBefore(n,r,t,i)}function N_(e,n,r){e.appendChild(n,r)}function F_(e,n,r,t,i){null!==t?Ai(e,n,r,t,i):N_(e,n,r)}function Ml(e,n){return e.parentNode(n)}var fv,V_=function L_(e,n,r){return 40&e.type?Yn(e,r):null};function wl(e,n,r,t){var i=dv(e,t,n),a=n[ae],s=function R_(e,n,r){return V_(e,n,r)}(t.parent||n[xn],t,n);if(null!=i)if(Array.isArray(r))for(var u=0;u<r.length;u++)F_(a,i,r[u],s,!1);else F_(a,i,r,s,!1);void 0!==fv&&fv(a,t,n,r,i)}function Fa(e,n){if(null!==n){var r=n.type;if(3&r)return Yn(n,e);if(4&r)return vv(-1,e[n.index]);if(8&r){var t=n.child;if(null!==t)return Fa(e,t);var i=e[n.index];return Un(i)?vv(-1,i):ke(i)}if(32&r)return ov(n,e)()||ke(e[n.index]);var s=H_(e,n);return null!==s?Array.isArray(s)?s[0]:Fa(Or(e[Ze]),s):Fa(e,n.next)}return null}function H_(e,n){return null!==n?e[Ze][xn].projection[n.projection]:null}function vv(e,n){var r=rn+e+1;if(r<n.length){var t=n[r],i=t[L].firstChild;if(null!==i)return Fa(t,i)}return n[cr]}function hv(e,n,r,t,i,a,o){for(;null!=r;)if(128!==r.type){var s=t[r.index],u=r.type;if(o&&0===n&&(s&&zn(ke(s),t),r.flags|=2),32&~r.flags)if(8&u)hv(e,n,r.child,t,i,a,!1),Na(n,e,i,s,a);else if(32&u){for(var l=ov(r,t),c=void 0;c=l();)Na(n,e,i,c,a);Na(n,e,i,s,a)}else 16&u?z_(e,n,t,r,i,a):Na(n,e,i,s,a);r=o?r.projectionNext:r.next}else r=r.next}function kl(e,n,r,t,i,a){hv(r,t,e.firstChild,n,i,a,!1)}function z_(e,n,r,t,i,a){var o=r[Ze],u=o[xn].projection[t.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)Na(n,e,i,u[l],a);else{var d=u,f=o[fn];ul(t)&&(d.flags|=128),hv(e,n,d,f,i,a,!0)}}function j_(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function G_(e,n,r){var t=r.mergedAttrs,i=r.classes,a=r.styles;null!==t&&Jd(e,n,t),null!==i&&j_(e,n,i),null!==a&&function JP(e,n,r){e.setAttribute(n,"style",r)}(e,n,a)}var de={};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;W_(me(),T(),Nn()+e,!1)}function W_(e,n,r,t){if(!t)if(3&~n[$]){var o=e.preOrderHooks;null!==o&&nl(n,o,0,r)}else{var a=e.preOrderCheckHooks;null!==a&&el(n,a,r)}Ti(r)}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default,r=T();return null===r?Ee(e,n):_y(Ne(),r,ne(e),n)}function q_(e,n,r,t,i,a){var o=pe(null);try{var s=null;i&Yr.SignalBased&&(s=n[t][Ft]),null!==s&&void 0!==s.transformFn&&(a=s.transformFn(a)),i&Yr.HasDecoratorInputTransform&&(a=e.inputTransforms[t].call(n,a)),null!==e.setInput?e.setInput(n,s,a,r,t):Hm(n,s,t,a)}finally{pe(o)}}function Sl(e,n,r,t,i,a,o,s,u,l,c){var d=n.blueprint.slice();return d[qe]=i,d[$]=204|t,(null!==l||e&&2048&e[$])&&(d[$]|=2048),qm(d),d[fn]=d[pa]=e,d[Be]=r,d[ur]=o||e&&e[ur],d[ae]=s||e&&e[ae],d[vn]=u||e&&e[vn]||null,d[xn]=a,d[ya]=function pT(){return gT++}(),d[Zn]=c,d[Rm]=l,d[Ze]=2==n.type?e[Ze]:d,d}function xi(e,n,r,t,i){var a=e.data[n];if(null===a)a=function gv(e,n,r,t,i){var a=Qm(),o=Cf(),u=e.data[n]=function uO(e,n,r,t,i,a){var o=n?n.injectorIndex:-1,s=0;return function Ii(){return null!==oe.skipHydrationRootTNode}()&&(s|=128),{type:r,index:t,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,r,n,t,i);return null===e.firstChild&&(e.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u,u.prev=a)),u}(e,n,r,t,i),function PI(){return oe.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=r,a.value=t,a.attrs=i;var o=function jo(){var e=oe.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return zt(a,!0),a}function ss(e,n,r,t){if(0===r)return-1;for(var i=n.length,a=0;a<r;a++)n.push(t),e.blueprint.push(t),e.data.push(null);return i}function Z_(e,n,r,t,i){var a=Nn(),o=2&t;try{Ti(-1),o&&n.length>Z&&W_(e,n,Z,!1),dr(o?2:0,i),r(t,i)}finally{Ti(a),dr(o?3:1,i)}}function pv(e,n,r){if(df(n)){var t=pe(null);try{for(var a=n.directiveEnd,o=n.directiveStart;o<a;o++){var s=e.data[o];s.contentQueries&&s.contentQueries(1,r[o],o)}}finally{pe(t)}}}function mv(e,n,r){$m()&&(function gO(e,n,r,t){var i=r.directiveStart,a=r.directiveEnd;ki(r)&&function EO(e,n,r){var t=Yn(n,e),i=Y_(r),o=16;r.signals?o=4096:r.onPush&&(o=64);var s=Il(e,Sl(e,i,null,o,t,n,null,e[ur].rendererFactory.createRenderer(t,r),null,null,null));e[n.index]=s}(n,r,e.data[i+r.componentOffset]),e.firstCreatePass||rl(r,n),zn(t,n);for(var o=r.initialInputs,s=i;s<a;s++){var u=e.data[s],l=Oi(n,e,s,r);zn(l,n),null!==o&&DO(0,s-i,l,u,0,o),Ut(u)&&(yt(r.index,n)[Be]=Oi(n,e,s,r))}}(e,n,r,Yn(r,n)),!(64&~r.flags)&&J_(e,n,r))}function yv(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yn,t=n.localNames;if(null!==t)for(var i=n.index+1,a=0;a<t.length;a+=2){var o=t[a+1],s=-1===o?r(n,e):e[o];e[i++]=s}}function Y_(e){var n=e.tView;return null===n||n.incompleteFirstPass?e.tView=_v(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function _v(e,n,r,t,i,a,o,s,u,l,c){var d=Z+t,f=d+i,v=function tO(e,n){for(var r=[],t=0;t<n;t++)r.push(t<e?null:de);return r}(d,f),g="function"==typeof l?l():l;return v[L]={type:e,blueprint:v,template:r,queries:null,viewQuery:s,declTNode:n,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:c}}var K_=function(){return null};function $_(e,n,r,t,i){for(var a in n){var o;if(n.hasOwnProperty(a)){var s=n[a];if(void 0!==s){null!==(o=t)&&void 0!==o||(t={});var u=void 0,l=Yr.None;Array.isArray(s)?(u=s[0],l=s[1]):u=s;var c=a;if(null!==i){if(!i.hasOwnProperty(a))continue;c=i[a]}0===e?Q_(t,r,c,u,l):Q_(t,r,c,u)}}}return t}function Q_(e,n,r,t,i){var a;e.hasOwnProperty(r)?(a=e[r]).push(n,t):a=e[r]=[n,t],void 0!==i&&a.push(i)}function lt(e,n,r,t,i,a,o,s){var c,u=Yn(n,r),l=n.inputs;!s&&null!=l&&(c=l[t])?(Mv(e,r,c,t,i),ki(n)&&function dO(e,n){var r=yt(n,e);16&r[$]||(r[$]|=64)}(r,n.index)):3&n.type&&(t=function cO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(t),i=null!=o?o(i,n.value||"",t):i,a.setProperty(u,t,i))}function Cv(e,n,r,t){if($m()){var o,s,i=null===t?null:{"":-1},a=function mO(e,n){var r=e.directiveRegistry,t=null,i=null;if(r)for(var a=0;a<r.length;a++){var o=r[a];if(Mm(n,o.selectors,!1))if(t||(t=[]),Ut(o))if(null!==o.findHostDirectiveDefs){var s,u=[];o.findHostDirectiveDefs(o,u,i=i||new Map),(s=t).unshift.apply(s,u.concat([o])),bv(e,n,u.length)}else t.unshift(o),bv(e,n,0);else{var c;i=i||new Map,null===(c=o.findHostDirectiveDefs)||void 0===c||c.call(o,o,t,i),t.push(o)}}return null===t?null:[t,i]}(e,r);if(null===a)o=s=null;else{var u=it(a,2);o=u[0],s=u[1]}null!==o&&X_(e,n,r,o,i,s),i&&function yO(e,n,r){if(n)for(var t=e.localNames=[],i=0;i<n.length;i+=2){var a=r[n[i+1]];if(null==a)throw new R(-301,!1);t.push(n[i],a)}}(r,t,i)}r.mergedAttrs=xo(r.mergedAttrs,r.attrs)}function X_(e,n,r,t,i,a){for(var o=0;o<t.length;o++)xf(rl(r,n),e,t[o].type);!function CO(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,t.length);for(var s=0;s<t.length;s++){var u=t[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,d=ss(e,n,t.length,null),f=0;f<t.length;f++){var v=t[f];r.mergedAttrs=xo(r.mergedAttrs,v.hostAttrs),bO(e,r,n,d,v),_O(d,v,i),null!==v.contentQueries&&(r.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(r.flags|=64);var p,C,g=v.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((null!==(p=e.preOrderHooks)&&void 0!==p?p:e.preOrderHooks=[]).push(r.index),l=!0),c||!g.ngOnChanges&&!g.ngDoCheck||((null!==(C=e.preOrderCheckHooks)&&void 0!==C?C:e.preOrderCheckHooks=[]).push(r.index),c=!0),d++}!function lO(e,n,r){for(var i=n.directiveEnd,a=e.data,o=n.attrs,s=[],u=null,l=null,c=n.directiveStart;c<i;c++){var d=a[c],f=r?r.get(d):null,g=f?f.outputs:null;u=$_(0,d.inputs,c,u,f?f.inputs:null),l=$_(1,d.outputs,c,l,g);var p=null===u||null===o||ef(n)?null:MO(u,c,o);s.push(p)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=s,n.inputs=u,n.outputs=l}(e,r,a)}function J_(e,n,r){var t=r.directiveStart,i=r.directiveEnd,a=r.index,o=function AI(){return oe.lFrame.currentDirectiveIndex}();try{Ti(a);for(var s=t;s<i;s++){var u=e.data[s],l=n[s];Ef(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&pO(u,l)}}finally{Ti(-1),Ef(o)}}function pO(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function bv(e,n,r){var t;n.componentOffset=r,(null!==(t=e.components)&&void 0!==t?t:e.components=[]).push(n.index)}function _O(e,n,r){if(r){if(n.exportAs)for(var t=0;t<n.exportAs.length;t++)r[n.exportAs[t]]=e;Ut(n)&&(r[""]=e)}}function bO(e,n,r,t,i){e.data[t]=i;var a=i.factory||(i.factory=bi(i.type)),o=new Wo(a,Ut(i),x);e.blueprint[t]=o,r[t]=o,function vO(e,n,r,t,i){var a=i.hostBindings;if(a){var o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);var s=~n.index;(function hO(e){for(var n=e.length;n>0;){var r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(o)!=s&&o.push(s),o.push(r,t,a)}}(e,n,t,ss(e,r,i.hostVars,de),i)}function hr(e,n,r,t,i,a){var o=Yn(e,n);!function Ev(e,n,r,t,i,a,o){if(null==a)e.removeAttribute(n,i,r);else{var s=null==o?ce(a):o(a,t||"",i);e.setAttribute(n,i,s,r)}}(n[ae],o,a,e.value,r,t,i)}function DO(e,n,r,t,i,a){var o=a[n];if(null!==o)for(var s=0;s<o.length;)q_(t,r,o[s++],o[s++],o[s++],o[s++])}function MO(e,n,r){for(var t=null,i=0;i<r.length;){var a=r[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===t&&(t=[]);for(var o=e[a],s=0;s<o.length;s+=3)if(o[s]===n){t.push(a,o[s+1],o[s+2],r[i+1]);break}}i+=2}else i+=2;else i+=4}return t}function eC(e,n,r,t){return[e,!0,0,n,null,t,null,r,null,null]}function nC(e,n){var r=e.contentQueries;if(null!==r){var t=pe(null);try{for(var i=0;i<r.length;i+=2){var o=r[i+1];if(-1!==o){var s=e.data[o];Xu(r[i]),s.contentQueries(2,n[o],o)}}}finally{pe(t)}}}function Il(e,n){return e[Ro]?e[Fm][Ht]=n:e[Ro]=n,e[Fm]=n,n}function Dv(e,n,r){Xu(0);var t=pe(null);try{n(e,r)}finally{pe(t)}}function tC(e){var n;return null!==(n=e[Mi])&&void 0!==n?n:e[Mi]=[]}function rC(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function Tl(e,n){var r=e[vn],t=r?r.get(Qr,null):null;t&&t.handleError(n)}function Mv(e,n,r,t,i){for(var a=0;a<r.length;){var o=r[a++],s=r[a++],u=r[a++];q_(e.data[o],n[o],t,s,u,i)}}function Fr(e,n,r){var t=Ho(n,e);!function P_(e,n,r){e.setValue(n,r)}(e[ae],t,r)}function wO(e,n){var r=yt(n,e),t=r[L];!function kO(e,n){for(var r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(t,r);var i=r[qe];null!==i&&null===r[Zn]&&(r[Zn]=Wf(i,r[vn])),wv(t,r,r[Be])}function wv(e,n,r){wf(n);try{var t,i=e.viewQuery;null!==i&&Dv(1,i,r);var a=e.template;null!==a&&Z_(e,n,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(t=n[lr])||void 0===t||t.finishViewCreation(e),e.staticContentQueries&&nC(e,n),e.staticViewQueries&&Dv(2,e.viewQuery,r);var o=e.components;null!==o&&function SO(e,n){for(var r=0;r<n.length;r++)wO(e,n[r])}(n,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[$]&=-5,kf()}}function Ni(e,n){return!n||null===n.firstChild||ul(e)}function us(e,n,r,t){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;)if(128!==r.type){var a=n[r.index];null!==a&&t.push(ke(a)),Un(a)&&oC(a,t);var o=r.type;if(8&o)us(e,n,r.child,t);else if(32&o)for(var s=ov(r,n),u=void 0;u=s();)t.push(u);else if(16&o){var l=H_(n,r);if(Array.isArray(l))t.push.apply(t,B(l));else{var c=Or(n[Ze]);us(c[L],c,l,t,!0)}}r=i?r.projectionNext:r.next}else r=i?r.projectionNext:r.next;return t}function oC(e,n){for(var r=rn;r<e.length;r++){var t=e[r],i=t[L].firstChild;null!==i&&us(t[L],t,i,n)}e[cr]!==e[qe]&&n.push(e[cr])}var sC=[];var OO=re(re({},_u),{},{consumerIsAlwaysLive:!0,consumerMarkedDirty:function(n){Ku(n.lView)},consumerOnSignalRead:function(){this.lView[Tt]=this}}),xO=re(re({},_u),{},{consumerIsAlwaysLive:!0,consumerMarkedDirty:function(n){for(var r=Or(n.lView);r&&!uC(r[L]);)r=Or(r);r&&Zm(r)},consumerOnSignalRead:function(){this.lView[Tt]=this}});function uC(e){return 2!==e.type}var NO=100;function Pl(e){var o,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t=e[ur],i=t.rendererFactory;null===(o=i.begin)||void 0===o||o.call(i);try{!function FO(e,n){var r=ey();try{ny(!0),Sv(e,n);for(var t=0;zo(e);){if(t===NO)throw new R(103,!1);t++,Sv(e,1)}}finally{ny(r)}}(e,r)}catch(l){throw n&&Tl(e,l),l}finally{var s,u;null===(s=i.end)||void 0===s||s.call(i),null===(u=t.inlineEffectRunner)||void 0===u||u.flush()}}function LO(e,n,r,t){var i,a=n[$];if(256&~a){null===(i=n[ur].inlineEffectRunner)||void 0===i||i.flush(),wf(n);var u=!0,l=null,c=null;uC(e)?l=Cu(c=function IO(e){var n;return null!==(n=e[Tt])&&void 0!==n?n:function TO(e){var n,r=null!==(n=sC.pop())&&void 0!==n?n:Object.create(OO);return r.lView=e,r}(e)}(n)):null===function kp(){return _n}()?(u=!1,c=function AO(e){var n,r=null!==(n=e[Tt])&&void 0!==n?n:Object.create(xO);return r.lView=e,r}(n),l=Cu(c)):n[Tt]&&(bd(n[Tt]),n[Tt]=null);try{qm(n),function ty(e){return oe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Z_(e,n,r,2,t);var d=!(3&~a);if(d){var f=e.preOrderCheckHooks;null!==f&&el(n,f,null)}else{var v=e.preOrderHooks;null!==v&&nl(n,v,0,null),Sf(n,0)}if(function VO(e){for(var n=jy(e);null!==n;n=Gy(n))if(n[$]&Zu.HasTransplantedViews)for(var r=n[_a],t=0;t<r.length;t++)Zm(r[t])}(n),lC(n,0),null!==e.contentQueries&&nC(e,n),d){var g=e.contentCheckHooks;null!==g&&el(n,g)}else{var p=e.contentHooks;null!==p&&nl(n,p,1),Sf(n,1)}!function nO(e,n){var r=e.hostBindingOpCodes;if(null!==r)try{for(var t=0;t<r.length;t++){var i=r[t];if(i<0)Ti(~i);else{var a=i,o=r[++t],s=r[++t];OI(o,a),s(2,n[a])}}}finally{Ti(-1)}}(e,n);var C=e.components;null!==C&&dC(n,C,0);var b=e.viewQuery;if(null!==b&&Dv(2,b,t),d){var _=e.viewCheckHooks;null!==_&&el(n,_)}else{var M=e.viewHooks;null!==M&&nl(n,M,2),Sf(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Lo]){var O,I=A(n[Lo]);try{for(I.s();!(O=I.n()).done;)(0,O.value)()}catch(N){I.e(N)}finally{I.f()}n[Lo]=null}n[$]&=-73}catch(N){throw Ku(n),N}finally{null!==c&&(_d(c,l),u&&function PO(e){e.lView[Tt]!==e&&(e.lView=null,sC.push(e))}(c)),kf()}}}function lC(e,n){for(var r=jy(e);null!==r;r=Gy(r))for(var t=rn;t<r.length;t++)cC(r[t],n)}function BO(e,n,r){cC(yt(n,e),r)}function cC(e,n){pf(e)&&Sv(e,n)}function Sv(e,n){var t=e[L],i=e[$],a=e[Tt],o=!!(0===n&&16&i);if(o||(o=!!(64&i&&0===n)),o||(o=!!(1024&i)),o||(o=!(null==a||!a.dirty||!Cd(a))),o||(o=!1),a&&(a.dirty=!1),e[$]&=-9217,o)LO(t,e,t.template,e[Be]);else if(8192&i){lC(e,1);var s=t.components;null!==s&&dC(e,s,1)}}function dC(e,n,r){for(var t=0;t<n.length;t++)BO(e,n[t],r)}function ls(e,n){var r,t=ey()?64:1088;for(null===(r=e[ur].changeDetectionScheduler)||void 0===r||r.notify(n);e;){e[$]|=t;var i=Or(e);if(Bo(e)&&!i)return e;e=i}return null}var cs=function(){return m(function e(n,r){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y(this,e),this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=t,this._appRef=null,this._attachedToViewContainer=!1},[{key:"rootNodes",get:function(){var r=this._lView,t=r[L];return us(t,r,t.firstChild,[])}},{key:"context",get:function(){return this._lView[Be]},set:function(r){this._lView[Be]=r}},{key:"destroyed",get:function(){return!(256&~this._lView[$])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var r=this._lView[fn];if(Un(r)){var t=r[8],i=t?t.indexOf(this):-1;i>-1&&(as(r,i),Ru(t,i))}this._attachedToViewContainer=!1}Dl(this._lView[L],this._lView)}},{key:"onDestroy",value:function(r){$u(this._lView,r)}},{key:"markForCheck",value:function(){ls(this._cdRefInjectingView||this._lView,4)}},{key:"detach",value:function(){this._lView[$]&=-129}},{key:"reattach",value:function(){mf(this._lView),this._lView[$]|=128}},{key:"detectChanges",value:function(){this._lView[$]|=1024,Pl(this._lView,this.notifyErrorHandler)}},{key:"checkNoChanges",value:function(){}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null;var r=Bo(this._lView),t=this._lView[wi];null!==t&&!r&&lv(t,this._lView),O_(this._lView[L],this._lView)}},{key:"attachToAppRef",value:function(r){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=r;var t=Bo(this._lView),i=this._lView[wi];null!==i&&!t&&A_(i,this._lView),mf(this._lView)}}])}(),Rr=function(){var n=m(function r(){y(this,r)});return n.__NG_ELEMENT_ID__=zO,n}(),UO=function(e){function n(r,t,i){var a;return y(this,n),(a=w(this,n))._declarationLView=r,a._declarationTContainer=t,a.elementRef=i,a}return k(n,e),m(n,[{key:"ssrId",get:function(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}},{key:"createEmbeddedView",value:function(t,i){return this.createEmbeddedViewImpl(t,i)}},{key:"createEmbeddedViewImpl",value:function(t,i,a){var o=function Ra(e,n,r,t){var i=pe(null);try{var a,o,s,u=n.tView,d=Sl(e,u,r,4096&e[$]?4096:16,null,n,null,null,null!==(a=t?.injector)&&void 0!==a?a:null,null!==(o=t?.embeddedViewInjector)&&void 0!==o?o:null,null!==(s=t?.dehydratedView)&&void 0!==s?s:null);d[wi]=e[n.index];var v=e[lr];return null!==v&&(d[lr]=v.createEmbeddedView(u)),wv(u,d,r),d}finally{pe(i)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:a});return new cs(o)}}])}(Rr);function zO(){return Ol(Ne(),T())}function Ol(e,n){return 4&e.type?new UO(n,e,Da(e,n)):null}var ys=m(function e(){y(this,e)}),Ll=new q("",{providedIn:"root",factory:function(){return!1}}),xC=new q(""),NA=m(function e(){y(this,e)}),NC=m(function e(){y(this,e)}),RA=function(){return m(function e(){y(this,e)},[{key:"resolveComponentFactory",value:function(r){throw function FA(e){var n=Error("No component factory found for ".concat(Cn(e),"."));return n.ngComponent=e,n}(r)}}])}(),_s=m(function e(){y(this,e)});_s.NULL=new RA;var Vv=m(function e(){y(this,e)}),Li=function(){var n=m(function r(){y(this,r),this.destroyNode=null});return n.__NG_ELEMENT_ID__=function(){return function LA(){var e=T(),r=yt(Ne().index,e);return(In(r)?r:e)[ae]}()},n}(),VA=function(){var e,n=m(function r(){y(this,r)});return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:function(){return null}}),n}(),RC=new Set;function $n(e){var n,r;RC.has(e)||(RC.add(e),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:e}}))}function LC(e){var n=!0;return setTimeout(function(){n&&(n=!1,e())}),"function"==typeof Fe.requestAnimationFrame&&Fe.requestAnimationFrame(function(){n&&(n=!1,e())}),function(){n=!1}}function VC(e){var n=!0;return queueMicrotask(function(){n&&e()}),function(){n=!1}}function BC(){}var Ge=function(){function e(n){var r=n.enableLongStackTrace,t=void 0!==r&&r,i=n.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=n.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(y(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hn(!1),this.onMicrotaskEmpty=new hn(!1),this.onStable=new hn(!1),this.onError=new hn(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.callbackScheduled=!1,function UA(e){var n=function(){!function HA(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(function(){LC(function(){e.callbackScheduled=!1,Hv(e),e.isCheckStableRunning=!0,Bv(e),e.isCheckStableRunning=!1})}),Hv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,i,a,o,s,u){if(function zA(e){return zC(e,"__ignore_ng_zone__")}(u))return t.invokeTask(a,o,s,u);try{return HC(e),t.invokeTask(a,o,s,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),UC(e)}},onInvoke:function(t,i,a,o,s,u,l){try{return HC(e),t.invoke(a,o,s,u,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function jA(e){return zC(e,"__scheduler_tick__")}(u)&&n(),UC(e)}},onHasTask:function(t,i,a,o){t.hasTask(a,o),i===a&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Hv(e),Bv(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,i,a,o){return t.handleError(a,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}(u)}return m(e,[{key:"run",value:function(r,t,i){return this._inner.run(r,t,i)}},{key:"runTask",value:function(r,t,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,r,BA,BC,BC);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(r,t,i){return this._inner.runGuarded(r,t,i)}},{key:"runOutsideAngular",value:function(r){return this._outer.run(r)}}],[{key:"isInAngularZone",value:function(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new R(909,!1)}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new R(909,!1)}}])}(),BA={};function Bv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Hv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function HC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function UC(e){e._nesting--,Bv(e)}var Uv=function(){return m(function e(){y(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hn,this.onMicrotaskEmpty=new hn,this.onStable=new hn,this.onError=new hn},[{key:"run",value:function(r,t,i){return r.apply(t,i)}},{key:"runGuarded",value:function(r,t,i){return r.apply(t,i)}},{key:"runOutsideAngular",value:function(r){return r()}},{key:"runTask",value:function(r,t,i,a){return r.apply(t,i)}}])}();function zC(e,n){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[n])}var Vl=function(){var e,n=function(){return m(function r(){y(this,r),this.handler=null,this.internalCallbacks=[]},[{key:"execute",value:function(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}},{key:"executeInternalCallbacks",value:function(){var i=B(this.internalCallbacks);this.internalCallbacks.length=0;var o,a=A(i);try{for(a.s();!(o=a.n()).done;)(0,o.value)()}catch(u){a.e(u)}finally{a.f()}}},{key:"ngOnDestroy",value:function(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:function(){return new e}}),n}();function Hl(e,n,r){var t=r?e.styles:null,i=r?e.classes:null,a=0;if(null!==n)for(var o=0;o<n.length;o++){var s=n[o];"number"==typeof s?a=s:1==a?i=Fd(i,s):2==a&&(t=Fd(t,s+": "+n[++o]+";"))}r?e.styles=t:e.stylesWithoutHost=t,r?e.classes=i:e.classesWithoutHost=i}var ZC=function(e){function n(r){var t;return y(this,n),(t=w(this,n)).ngModule=r,t}return k(n,e),m(n,[{key:"resolveComponentFactory",value:function(t){var i=_e(t);return new Es(i,this.ngModule)}}])}(_s);function YC(e,n){var r=[];for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];if(void 0!==i){var a=Array.isArray(i),o=a?i[0]:i;r.push(n?{propName:o,templateName:t,isSignal:!!((a?i[1]:Yr.None)&Yr.SignalBased)}:{propName:o,templateName:t})}}return r}var Es=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n)).componentDef=r,i.ngModule=t,i.componentType=r.type,i.selector=function H1(e){return e.map(B1).join(",")}(r.selectors),i.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],i.isBoundToModule=!!t,i}return k(n,e),m(n,[{key:"inputs",get:function(){var t=this.componentDef,i=t.inputTransforms,a=YC(t.inputs,!0);if(null!==i){var s,o=A(a);try{for(o.s();!(s=o.n()).done;){var u=s.value;i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName])}}catch(l){o.e(l)}finally{o.f()}}return a}},{key:"outputs",get:function(){return YC(this.componentDef.outputs,!1)}},{key:"create",value:function(t,i,a,o){var s=pe(null);try{var l,c=(o=o||this.ngModule)instanceof sr?o:null===(l=o)||void 0===l?void 0:l.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);var d=c?new Pi(t,c):t,f=d.get(Vv,null);if(null===f)throw new R(407,!1);var C={rendererFactory:f,sanitizer:d.get(VA,null),inlineEffectRunner:null,afterRenderEventManager:d.get(Vl,null),changeDetectionScheduler:d.get(ys,null)},b=f.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",M=a?function rO(e,n,r,t){var i=t.get(o_,!1),o=e.selectRootElement(n,i||r===Vt.ShadowDom);return function iO(e){K_(e)}(o),o}(b,a,this.componentDef.encapsulation,d):El(b,_,function XA(e){var n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(_)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);var O=null;null!==M&&(O=Wf(M,d,!0));var W,K,V=_v(0,null,null,1,0,null,null,null,null,null,null),N=Sl(null,V,null,I,null,null,C,b,d,null,O);wf(N);try{var ye,le=this.componentDef,ve=null;le.findHostDirectiveDefs?(le.findHostDirectiveDefs(le,ye=[],ve=new Map),ye.push(le)):ye=[le];var be=function ex(e,n){var r=e[L],t=Z;return e[t]=n,xi(r,t,2,"#host",null)}(N,M),je=function nx(e,n,r,t,i,a,o){var s=i[L];!function tx(e,n,r,t){var a,i=A(e);try{for(i.s();!(a=i.n()).done;)n.mergedAttrs=xo(n.mergedAttrs,a.value.hostAttrs)}catch(s){i.e(s)}finally{i.f()}null!==n.mergedAttrs&&(Hl(n,n.mergedAttrs,!0),null!==r&&G_(t,r,n))}(t,e,n,o);var u=null;null!==n&&(u=Wf(n,i[vn]));var l=a.rendererFactory.createRenderer(n,r),c=16;r.signals?c=4096:r.onPush&&(c=64);var d=Sl(i,Y_(r),null,c,i[e.index],e,a,l,null,null,u);return s.firstCreatePass&&bv(s,e,t.length-1),Il(i,d),i[e.index]=d}(be,M,le,ye,N,C,b);K=Uo(V,Z),M&&function ix(e,n,r,t){if(t)Jd(e,r,["ng-version","18.1.1"]);else{var i=function U1(e){for(var n=[],r=[],t=1,i=2;t<e.length;){var a=e[t];if("string"==typeof a)2===i?""!==a&&n.push(a,e[++t]):8===i&&r.push(a);else{if(!Bt(i))break;i=a}t++}return{attrs:n,classes:r}}(n.selectors[0]),a=i.attrs,o=i.classes;a&&Jd(e,r,a),o&&o.length>0&&j_(e,r,o.join(" "))}}(b,le,M,a),void 0!==i&&function ax(e,n,r){for(var t=e.projection=[],i=0;i<n.length;i++){var a=r[i];t.push(null!=a?Array.from(a):null)}}(K,this.ngContentSelectors,i),W=function rx(e,n,r,t,i,a){var o=Ne(),s=i[L],u=Yn(o,i);X_(s,i,o,r,null,t);for(var l=0;l<r.length;l++)zn(Oi(i,s,o.directiveStart+l,o),i);J_(s,i,o),u&&zn(u,i);var f=Oi(i,s,o.directiveStart+o.componentOffset,o);if(e[Be]=i[Be]=f,null!==a){var g,v=A(a);try{for(v.s();!(g=v.n()).done;)(0,g.value)(f,n)}catch(C){v.e(C)}finally{v.f()}}return pv(s,o,i),f}(je,le,ye,ve,N,[ox]),wv(V,N,null)}finally{kf()}return new JA(this.componentType,W,Da(K,N),N,K)}finally{pe(s)}}}])}(NC),JA=function(e){function n(r,t,i,a,o){var s;return y(this,n),(s=w(this,n)).location=i,s._rootLView=a,s._tNode=o,s.previousInputValues=null,s.instance=t,s.hostView=s.changeDetectorRef=new cs(a,void 0,!1),s.componentType=r,s}return k(n,e),m(n,[{key:"setInput",value:function(t,i){var o,a=this._tNode.inputs;if(null!==a&&(o=a[t])){var s;if(null!==(s=this.previousInputValues)&&void 0!==s||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;var u=this._rootLView;Mv(u[L],u,o,t,i),this.previousInputValues.set(t,i),ls(yt(this._tNode.index,u),1)}}},{key:"injector",get:function(){return new Dn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}])}(NA);function ox(){var e=Ne();Ju(T()[L],e)}var Rn=function(){var n=m(function r(){y(this,r)});return n.__NG_ELEMENT_ID__=sx,n}();function sx(){return QC(Ne(),T())}var KC=function(e){function n(r,t,i){var a;return y(this,n),(a=w(this,n))._lContainer=r,a._hostTNode=t,a._hostLView=i,a}return k(n,e),m(n,[{key:"element",get:function(){return Da(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Dn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=il(this._hostTNode,this._hostLView);if(Pf(t)){var i=Zo(t,this._hostLView),a=qo(t);return new Dn(i[L].data[a+8],i)}return new Dn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var i=$C(this._lContainer);return null!==i&&i[t]||null}},{key:"length",get:function(){return this._lContainer.length-rn}},{key:"createEmbeddedView",value:function(t,i,a){var o,s;"number"==typeof a?o=a:null!=a&&(o=a.index,s=a.injector);var l=t.createEmbeddedViewImpl(i||{},s,null);return this.insertImpl(l,o,Ni(this._hostTNode,null)),l}},{key:"createComponent",value:function(t,i,a,o,s){var u,c,f,d=t&&!function Fo(e){return"function"==typeof e}(t);if(d)f=i;else{var v=i||{};f=v.index,a=v.injector,o=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}var g=d?t:new Es(_e(t)),p=a||this.parentInjector;if(!s&&null==g.ngModule){var b=(d?p:this.parentInjector).get(sr,null);b&&(s=b)}var _=_e(null!==(u=g.componentType)&&void 0!==u?u:{}),M=(_?.id,null),I=null!==(c=M?.firstChild)&&void 0!==c?c:null,O=g.create(p,o,I,s);return this.insertImpl(O.hostView,f,Ni(this._hostTNode,M)),O}},{key:"insert",value:function(t,i){return this.insertImpl(t,i,!0)}},{key:"insertImpl",value:function(t,i,a){var o=t._lView;if(function bI(e){return Un(e[fn])}(o)){var s=this.indexOf(t);if(-1!==s)this.detach(s);else{var u=o[fn],l=new KC(u,u[xn],u[fn]);l.detach(l.indexOf(t))}}var c=this._adjustIndex(i),d=this._lContainer;return function La(e,n,r){var t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=n[L];if(function WP(e,n,r,t){var i=rn+t,a=r.length;t>0&&(r[i-1][Ht]=n),t<a-rn?(n[Ht]=r[i],pm(r,rn+t,n)):(r.push(n),n[Ht]=null),n[fn]=r;var o=n[wi];null!==o&&r!==o&&A_(o,n);var s=n[lr];null!==s&&s.insertView(e),mf(n),n[$]|=128}(i,n,e,r),t){var a=vv(r,e),o=n[ae],s=Ml(o,e[cr]);null!==s&&function jP(e,n,r,t,i,a){t[qe]=i,t[xn]=n,kl(e,t,r,1,i,a)}(i,e[xn],o,n,s,a)}var u=n[Zn];null!==u&&null!==u.firstChild&&(u.firstChild=null)}(d,o,c,a),t.attachToViewContainerRef(),pm(Wv(d),c,t),t}},{key:"move",value:function(t,i){return this.insert(t,i)}},{key:"indexOf",value:function(t){var i=$C(this._lContainer);return null!==i?i.indexOf(t):-1}},{key:"remove",value:function(t){var i=this._adjustIndex(t,-1),a=as(this._lContainer,i);a&&(Ru(Wv(this._lContainer),i),Dl(a[L],a))}},{key:"detach",value:function(t){var i=this._adjustIndex(t,-1),a=as(this._lContainer,i);return a&&null!=Ru(Wv(this._lContainer),i)?new cs(a):null}},{key:"_adjustIndex",value:function(t){return t??this.length+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}}])}(Rn);function $C(e){return e[8]}function Wv(e){return e[8]||(e[8]=[])}function QC(e,n){var r,t=n[e.index];return Un(t)?r=t:(r=eC(t,n,null,e),n[e.index]=r,Il(n,r)),XC(r,n,e,t),new KC(r,e,n)}var XC=function eb(e,n,r,t){var i;e[cr]||(i=8&r.type?ke(t):function lx(e,n){var r=e[ae],t=r.createComment(""),i=Yn(n,e);return Ai(r,Ml(r,i),t,function KP(e,n){return e.nextSibling(n)}(r,i),!1),t}(n,r),e[cr]=i)},qv=function(){return!1};var vx=function(){function e(n){y(this,e),this.queryList=n,this.matches=null}return m(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}])}(),hx=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.queries=n}return m(e,[{key:"createEmbeddedView",value:function(r){var t=r.queries;if(null!==t){for(var i=null!==r.contentQueries?r.contentQueries[0]:t.length,a=[],o=0;o<i;o++){var s=t.getByIndex(o);a.push(this.queries[s.indexInDeclarationView].clone())}return new e(a)}return null}},{key:"insertView",value:function(r){this.dirtyQueriesWithMatches(r)}},{key:"detachView",value:function(r){this.dirtyQueriesWithMatches(r)}},{key:"finishViewCreation",value:function(r){this.dirtyQueriesWithMatches(r)}},{key:"dirtyQueriesWithMatches",value:function(r){for(var t=0;t<this.queries.length;t++)null!==Kv(r,t).matches&&this.queries[t].setDirty()}}])}(),nb=m(function e(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;y(this,e),this.flags=r,this.read=t,this.predicate="string"==typeof n?function bx(e){return e.split(",").map(function(n){return n.trim()})}(n):n}),gx=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.queries=n}return m(e,[{key:"elementStart",value:function(r,t){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(r,t)}},{key:"elementEnd",value:function(r){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(r)}},{key:"embeddedTView",value:function(r){for(var t=null,i=0;i<this.length;i++){var a=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(r,a);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new e(t):null}},{key:"template",value:function(r,t){for(var i=0;i<this.queries.length;i++)this.queries[i].template(r,t)}},{key:"getByIndex",value:function(r){return this.queries[r]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(r){this.queries.push(r)}}])}(),px=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;y(this,e),this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}return m(e,[{key:"elementStart",value:function(r,t){this.isApplyingToNode(t)&&this.matchTNode(r,t)}},{key:"elementEnd",value:function(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(r,t){this.elementStart(r,t)}},{key:"embeddedTView",value:function(r,t){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,t),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(r){if(this._appliesToNextNode&&1&~this.metadata.flags){for(var t=this._declarationNodeIndex,i=r.parent;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(r,t){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var o=i[a];this.matchTNodeWithReadOption(r,t,mx(t,o)),this.matchTNodeWithReadOption(r,t,al(t,r,o,!1,!1))}else i===Rr?4&t.type&&this.matchTNodeWithReadOption(r,t,-1):this.matchTNodeWithReadOption(r,t,al(t,r,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(r,t,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===Gt||a===Rn||a===Rr&&4&t.type)this.addMatch(t.index,-2);else{var o=al(t,r,a,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}},{key:"addMatch",value:function(r,t){null===this.matches?this.matches=[r,t]:this.matches.push(r,t)}}])}();function mx(e,n){var r=e.localNames;if(null!==r)for(var t=0;t<r.length;t+=2)if(r[t]===n)return r[t+1];return null}function _x(e,n,r,t){return-1===r?function yx(e,n){return 11&e.type?Da(e,n):4&e.type?Ol(e,n):null}(n,e):-2===r?function Cx(e,n,r){return r===Gt?Da(n,e):r===Rr?Ol(n,e):r===Rn?QC(n,e):void 0}(e,n,t):Oi(e,e[L],r,n)}function tb(e,n,r,t){var i=n[lr].queries[t];if(null===i.matches){for(var a=e.data,o=r.matches,s=[],u=0;null!==o&&u<o.length;u+=2){var l=o[u];s.push(l<0?null:_x(n,a[l],o[u+1],r.metadata.read))}i.matches=s}return i.matches}function Zv(e,n,r,t){var i=e.queries.getByIndex(r),a=i.matches;if(null!==a)for(var o=tb(e,n,i,r),s=0;s<a.length;s+=2){var u=a[s];if(u>0)t.push(o[s/2]);else{for(var l=a[s+1],c=n[-u],d=rn;d<c.length;d++){var f=c[d];f[wi]===f[fn]&&Zv(f[L],f,l,t)}if(null!==c[_a])for(var v=c[_a],g=0;g<v.length;g++){var p=v[g];Zv(p[L],p,l,t)}}}return t}function ib(e,n,r){var t=me();return t.firstCreatePass&&(function ob(e,n,r){null===e.queries&&(e.queries=new gx),e.queries.track(new px(n,r))}(t,new nb(e,n,r),-1),!(2&~n)&&(t.staticViewQueries=!0)),function rb(e,n,r){var t,i=new vT(!(4&~r));return function sO(e,n,r,t){var i=tC(n);i.push(r),e.firstCreatePass&&rC(e).push(t,i.length-1)}(e,n,i,i.destroy),(null!==(t=n[lr])&&void 0!==t?t:n[lr]=new hx).queries.push(new vx(i))-1}(t,T(),n)}function Kv(e,n){return e.queries.getByIndex(n)}function sb(e,n){var r=e[L],t=Kv(r,n);return t.crossesNgTemplate?Zv(r,e,n,[]):tb(r,e,t,n)}function Ba(e,n){$n("NgSignals");var r=function yS(e){var n=Object.create(CS);n.value=e;var r=function(){return yd(n),n.value};return r[Ft]=n,r}(e),t=r[Ft];return null!=n&&n.equal&&(t.equal=n.equal),r.set=function(i){return Rp(t,i)},r.update=function(i){return function _S(e,n){Tp()||Fp(),Rp(e,n(e.value))}(t,i)},r.asReadonly=lb.bind(r),r}function lb(){var e=this,n=this[Ft];if(void 0===n.readonlyFn){var r=function(){return e()};r[Ft]=n,n.readonlyFn=r}return n.readonlyFn}function cb(e){return function ub(e){return"function"==typeof e&&void 0!==e[Ft]}(e)&&"function"==typeof e.set}function fe(e){for(var n=function bb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0,t=[e];n;){var i=void 0;if(Ut(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(r){t.push(i);var a=e;a.inputs=zl(e.inputs),a.inputTransforms=zl(e.inputTransforms),a.declaredInputs=zl(e.declaredInputs),a.outputs=zl(e.outputs);var o=i.hostBindings;o&&Rx(e,o);var s=i.viewQuery,u=i.contentQueries;if(s&&Nx(e,s),u&&Fx(e,u),Ax(e,i),o1(e.outputs,i.outputs),Ut(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var d=0;d<c.length;d++){var f=c[d];f&&f.ngInherit&&f(e),f===fe&&(r=!1)}}n=Object.getPrototypeOf(n)}!function xx(e){for(var n=0,r=null,t=e.length-1;t>=0;t--){var i=e[t];i.hostVars=n+=i.hostVars,i.hostAttrs=xo(i.hostAttrs,r=xo(r,i.hostAttrs))}}(t)}function Ax(e,n){for(var r in n.inputs)if(n.inputs.hasOwnProperty(r)&&!e.inputs.hasOwnProperty(r)){var t=n.inputs[r];if(void 0!==t&&(e.inputs[r]=t,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){var i,a=Array.isArray(t)?t[0]:t;if(!n.inputTransforms.hasOwnProperty(a))continue;null!==(i=e.inputTransforms)&&void 0!==i||(e.inputTransforms={}),e.inputTransforms[a]=n.inputTransforms[a]}}}function zl(e){return e===ar?{}:e===Me?[]:e}function Nx(e,n){var r=e.viewQuery;e.viewQuery=r?function(t,i){n(t,i),r(t,i)}:n}function Fx(e,n){var r=e.contentQueries;e.contentQueries=r?function(t,i,a){n(t,i,a),r(t,i,a)}:n}function Rx(e,n){var r=e.hostBindings;e.hostBindings=r?function(t,i){n(t,i),r(t,i)}:n}var Bi=m(function e(){y(this,e)}),jx=m(function e(){y(this,e)}),Qv=function(e){function n(r,t,i){var a;y(this,n),(a=w(this,n))._parent=t,a._bootstrapComponents=[],a.destroyCbs=[],a.componentFactoryResolver=new ZC(a);var o=function Hn(e,n){var r=e[cm]||null;if(!r&&!0===n)throw new Error("Type ".concat(Cn(e)," does not have '\u0275mod' property."));return r}(r);return a._bootstrapComponents=function _t(e){return e instanceof Function?e():e}(o.bootstrap),a._r3Injector=Ty(r,t,[{provide:Bi,useValue:a},{provide:_s,useValue:a.componentFactoryResolver}].concat(B(i)),Cn(r),new Set(["environment"])),a._r3Injector.resolveInjectorInitializers(),a.instance=a._r3Injector.get(r),a}return k(n,e),m(n,[{key:"injector",get:function(){return this._r3Injector}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(i){return i()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}])}(Bi),Xv=function(e){function n(r){var t;return y(this,n),(t=w(this,n)).moduleType=r,t}return k(n,e),m(n,[{key:"create",value:function(t){return new Qv(this.moduleType,t,[])}}])}(jx),wb=function(e){function n(r){var t;y(this,n),(t=w(this,n)).componentFactoryResolver=new ZC(t),t.instance=null;var i=new va([].concat(B(r.providers),[{provide:Bi,useValue:t},{provide:_s,useValue:t.componentFactoryResolver}]),r.parent||ju(),r.debugName,new Set(["environment"]));return t.injector=i,r.runEnvironmentInitializers&&i.resolveInjectorInitializers(),t}return k(n,e),m(n,[{key:"destroy",value:function(){this.injector.destroy()}},{key:"onDestroy",value:function(t){this.injector.onDestroy(t)}}])}(Bi);function jl(e){return!!Jv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Jv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function gr(e,n,r){return e[n]=r}function an(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function Hi(e,n,r,t){var i=an(e,n,r);return an(e,n+1,t)||i}function ws(e,n,r,t,i,a,o,s,u,l){var c=r+Z,d=n.firstCreatePass?function $x(e,n,r,t,i,a,o,s,u){var l=n.consts,c=xi(n,e,4,o||null,s||null);Cv(n,r,c,Pt(l,u)),Ju(n,c);var d=c.tView=_v(2,c,t,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,n,e,t,i,a,o,s,u):n.data[c];zt(d,!1);var f=Sb(n,e,d,r);Go()&&wl(n,e,f,d),zn(f,e);var v=eC(f,e,f,d);return e[c]=v,Il(e,v),function JC(e,n,r){return qv(e,n,r)}(v,d,e),Yu(d)&&mv(n,e,d),null!=u&&yv(e,d,l),d}function Ln(e,n,r,t,i,a,o,s){var u=T(),l=me();return ws(u,l,e,n,r,t,i,Pt(l.consts,a),o,s),Ln}var Sb=function Ib(e,n,r,t){return fr(!0),n[ae].createComment("")};function Lr(e,n,r,t){var i=T();return an(i,jt(),n)&&(me(),hr(He(),i,e,n,r,t)),Lr}function $a(e,n,r,t,i,a){var s=Hi(e,function Ar(){return oe.lFrame.bindingIndex}(),r,i);return xr(2),s?n+ce(r)+t+ce(i)+a:de}function $l(e,n){return e<<17|n<<2}function ii(e){return e>>17&32767}function ch(e){return 2|e}function zi(e){return(131068&e)>>2}function dh(e,n){return-131069&e|n<<2}function fh(e){return 1|e}function aE(e,n,r,t){for(var i=e[r+1],a=null===n,o=t?ii(i):zi(i),s=!1;0!==o&&(!1===s||a);){var l=e[o+1];FN(e[o],n)&&(s=!0,e[o+1]=t?fh(l):ch(l)),o=t?ii(l):zi(l)}s&&(e[r+1]=t?ch(i):fh(i))}function FN(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&fa(e,n)>=0}function X(e,n,r){var t=T();return an(t,jt(),n)&&lt(me(),He(),t,e,n,t[ae],r,!1),X}function vh(e,n,r,t,i){var o=i?"class":"style";Mv(e,r,n.inputs[o],o,t)}function Ql(e,n){return function Zt(e,n,r,t){var i=T(),a=me(),o=xr(2);a.firstUpdatePass&&function hE(e,n,r,t){var i=e.data;if(null===i[r+1]){var a=i[Nn()],o=function vE(e,n){return n>=e.expandoStartIndex}(e,r);(function yE(e,n){return!!(e.flags&(n?8:16))})(a,t)&&null===n&&!o&&(n=!1),n=function GN(e,n,r,t){var i=function Df(e){var n=oe.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e),a=t?n.residualClasses:n.residualStyles;if(null===i)0===(t?n.classBindings:n.styleBindings)&&(r=Ts(r=hh(null,e,n,r,t),n.attrs,t),a=null);else{var s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(r=hh(i,e,n,r,t),null===a){var l=function WN(e,n,r){var t=r?n.classBindings:n.styleBindings;if(0!==zi(t))return e[ii(t)]}(e,n,t);void 0!==l&&Array.isArray(l)&&function qN(e,n,r,t){e[ii(r?n.classBindings:n.styleBindings)]=t}(e,n,t,l=Ts(l=hh(null,e,n,l[1],t),n.attrs,t))}else a=function ZN(e,n,r){for(var t=void 0,i=n.directiveEnd,a=1+n.directiveStylingLast;a<i;a++)t=Ts(t,e[a].hostAttrs,r);return Ts(t,n.attrs,r)}(e,n,t)}return void 0!==a&&(t?n.residualClasses=a:n.residualStyles=a),r}(i,a,n,t),function xN(e,n,r,t,i,a){var o=a?n.classBindings:n.styleBindings,s=ii(o),u=zi(o);e[t]=r;var c,l=!1;if(Array.isArray(r)?(null===(c=r[1])||fa(r,c)>0)&&(l=!0):c=r,i)if(0!==u){var v=ii(e[s+1]);e[t+1]=$l(v,s),0!==v&&(e[v+1]=dh(e[v+1],t)),e[s+1]=function ON(e,n){return 131071&e|n<<17}(e[s+1],t)}else e[t+1]=$l(s,0),0!==s&&(e[s+1]=dh(e[s+1],t)),s=t;else e[t+1]=$l(u,0),0===s?s=t:e[u+1]=dh(e[u+1],t),u=t;l&&(e[t+1]=ch(e[t+1])),aE(e,c,t,!0),aE(e,c,t,!1),function NN(e,n,r,t,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof n&&fa(a,n)>=0&&(r[t+1]=fh(r[t+1]))}(n,c,e,t,a),o=$l(s,u),a?n.classBindings=o:n.styleBindings=o}(i,a,n,r,o,t)}}(a,e,o,t),n!==de&&an(i,o,n)&&function pE(e,n,r,t,i,a,o,s){if(3&n.type){var u=e.data,l=u[s+1],c=function AN(e){return!(1&~e)}(l)?mE(u,n,r,i,zi(l),o):void 0;Xl(c)||(Xl(a)||function PN(e){return!(2&~e)}(l)&&(a=mE(u,null,r,i,s,o)),function XP(e,n,r,t,i){if(n)i?e.addClass(r,t):e.removeClass(r,t);else{var a=-1===t.indexOf("-")?void 0:ni.DashCase;null==i?e.removeStyle(r,t,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=ni.Important),e.setStyle(r,t,i,a))}}(t,o,Ho(Nn(),r),i,a))}}(a,a.data[Nn()],i,i[ae],e,i[o+1]=function QN(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Cn(ei(e)))),e}(n,r),t,o)}(e,n,null,!0),Ql}function hh(e,n,r,t,i){var a=null,o=r.directiveEnd,s=r.directiveStylingLast;for(-1===s?s=r.directiveStart:s++;s<o&&(t=Ts(t,(a=n[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(r.directiveStylingLast=s),t}function Ts(e,n,r){var t=r?1:2,i=-1;if(null!==n)for(var a=0;a<n.length;a++){var o=n[a];"number"==typeof o?i=o:i===t&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),mt(e,o,!!r||n[++a]))}return void 0===e?null:e}function mE(e,n,r,t,i,a){for(var o=null===n,s=void 0;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c,f=r[i+1];f===de&&(f=d?Me:void 0);var v=d?Qd(f,t):c===t?f:void 0;if(l&&!Xl(v)&&(v=Qd(u,t)),Xl(v)&&(s=v,o))return s;var g=e[i+1];i=o?ii(g):zi(g)}if(null!==n){var p=a?n.residualClasses:n.residualStyles;null!=p&&(s=Qd(p,t))}return s}function Xl(e){return void 0!==e}function E(e,n,r,t){var i=T(),a=me(),o=Z+e,s=i[ae],u=a.firstCreatePass?function CF(e,n,r,t,i,a){var o=n.consts,u=xi(n,e,2,t,Pt(o,i));return Cv(n,r,u,Pt(o,a)),null!==u.attrs&&Hl(u,u.attrs,!1),null!==u.mergedAttrs&&Hl(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(o,a,i,n,r,t):a.data[o],l=EE(a,i,u,s,n,e);i[o]=l;var c=Yu(u);return zt(u,!0),G_(s,l,u),!function Ua(e){return!(32&~e.flags)}(u)&&Go()&&wl(a,i,l,u),0===function EI(){return oe.lFrame.elementDepthCount}()&&zn(l,i),function DI(){oe.lFrame.elementDepthCount++}(),c&&(mv(a,i,u),pv(a,u,i)),null!==t&&yv(i,u),E}function D(){var e=Ne();Cf()?function bf(){oe.lFrame.isParent=!1}():zt(e=e.parent,!1);var n=e;(function wI(e){return oe.skipHydrationRootTNode===e})(n)&&function TI(){oe.skipHydrationRootTNode=null}(),function MI(){oe.lFrame.elementDepthCount--}();var r=me();return r.firstCreatePass&&(Ju(r,e),df(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function zI(e){return!!(8&e.flags)}(n)&&vh(r,n,T(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function jI(e){return!!(16&e.flags)}(n)&&vh(r,n,T(),n.stylesWithoutHost,!1),D}function Ae(e,n,r,t){return E(e,n,r,t),D(),Ae}var EE=function(n,r,t,i,a,o){return fr(!0),El(i,a,function ly(){return oe.lFrame.currentNamespace}())};function Vr(){return T()}var ao="en-US";var YE=function(n,r,t){};function te(e,n,r,t){var i=T(),a=me(),o=Ne();return Dh(a,i,i[ae],o,e,n,t),te}function Dh(e,n,r,t,i,a,o){var s=Yu(t),l=e.firstCreatePass&&rC(e),c=n[Be],d=tC(n),f=!0;if(3&t.type||o){var v=Yn(t,n),g=o?o(v):v,p=d.length,C=o?function(je){return o(ke(je[t.index]))}:t.index,b=null;if(!o&&s&&(b=function gR(e,n,r,t){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===r&&i[a+1]===t){var s=n[Mi],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(e,n,i,t.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=a,b.__ngLastListenerFn__=a,f=!1;else{a=QE(t,n,c,a),YE(v,i,a);var M=r.listen(g,i,a);d.push(a,M),l&&l.push(i,C,p,p+1)}}else a=QE(t,n,c,a);var O,I=t.outputs;if(f&&null!==I&&(O=I[i])){var V=O.length;if(V)for(var N=0;N<V;N+=2){var ve=n[O[N]][O[N+1]].subscribe(a),be=d.length;d.push(a,ve),l&&l.push(i,t.index,be,-(be+1))}}}function $E(e,n,r,t){var i=pe(null);try{return dr(6,n,r),!1!==r(t)}catch(a){return Tl(e,a),!1}finally{dr(7,n,r),pe(i)}}function QE(e,n,r,t){return function i(a){if(a===Function)return t;ls(e.componentOffset>-1?yt(e.index,n):n,5);for(var s=$E(n,r,t,a),u=i.__ngNextListenerFn__;u;)s=$E(n,r,u,a)&&s,u=u.__ngNextListenerFn__;return s}}function en(){return function NI(e){return(oe.lFrame.contextLView=function Ym(e,n){for(;e>0;)n=n[pa],e--;return n}(e,oe.lFrame.contextLView))[Be]}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}function bt(e,n,r){ib(e,n,r)}function Et(e){var n=T(),r=me(),t=Mf();Xu(t+1);var i=Kv(r,t);if(e.dirty&&function CI(e){return!(4&~e[$])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{var a=sb(n,t);e.reset(a,xy),e.notifyOnChanges()}return!0}return!1}function Dt(){return function Yv(e,n){return e[lr].queries[n].queryList}(T(),Mf())}function S(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=T(),t=me(),i=e+Z,a=t.firstCreatePass?xi(t,i,1,n,null):t.data[i],o=pD(t,r,a,n,e);r[i]=o,Go()&&wl(t,r,o,a),zt(a,!1)}var pD=function(n,r,t,i,a){return fr(!0),function sv(e,n){return e.createText(n)}(r[ae],i)};function nn(e){return yr("",e,""),nn}function yr(e,n,r){var t=T(),i=function Ka(e,n,r,t){return an(e,jt(),r)?n+ce(r)+t:de}(t,e,n,r);return i!==de&&Fr(t,Nn(),i),yr}function Fs(e,n,r,t,i){var a=T(),o=$a(a,e,n,r,t,i);return o!==de&&Fr(a,Nn(),o),Fs}function j(e,n,r){cb(n)&&(n=n());var t=T();return an(t,jt(),n)&&lt(me(),He(),t,e,n,t[ae],r,!1),j}function H(e,n){var r=cb(e);return r&&e.set(n),r}function G(e,n){var r=T(),t=me(),i=Ne();return Dh(t,r,r[ae],i,e,n),G}function kh(e,n,r,t,i){if(e=ne(e),Array.isArray(e))for(var a=0;a<e.length;a++)kh(e[a],n,r,t,i);else{var o=me(),s=T(),u=Ne(),l=Di(e)?e:ne(e.provide),c=Am(e),f=1048575&u.providerIndexes,v=u.directiveStart,g=u.providerIndexes>>20;if(Di(e)||!e.multi){var p=new Wo(c,i,x),C=Ih(l,n,i?f:f+g,v);-1===C?(xf(rl(u,s),o,l),Sh(o,e,n.length),n.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),r.push(p),s.push(p)):(r[C]=p,s[C]=p)}else{var b=Ih(l,n,f+g,v),_=Ih(l,n,f,f+g),I=_>=0&&r[_];if(i&&!I||!i&&!(b>=0&&r[b])){xf(rl(u,s),o,l);var O=function UR(e,n,r,t,i){var a=new Wo(e,r,x);return a.multi=[],a.index=n,a.componentProviders=0,kD(a,i,t&&!r),a}(i?HR:BR,r.length,i,t,c);!i&&I&&(r[_].providerFactory=O),Sh(o,e,n.length,0),n.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),r.push(O),s.push(O)}else Sh(o,e,b>-1?b:_,kD(r[i?_:b],c,!i&&t));!i&&t&&I&&r[_].componentProviders++}}}function Sh(e,n,r,t){var i=Di(n),a=function Y1(e){return!!e.useClass}(n);if(i||a){var u=(a?ne(n.useClass):n).prototype.ngOnDestroy;if(u){var l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){var c=l.indexOf(r);-1===c?l.push(r,[t,u]):l[c+1].push(t,u)}else l.push(r,u)}}}function kD(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function Ih(e,n,r,t){for(var i=r;i<t;i++)if(n[i]===e)return i;return-1}function BR(e,n,r,t){return Th(this.multi,[])}function HR(e,n,r,t){var a,i=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Oi(r,r[L],this.providerFactory.index,t);Th(i,a=s.slice(0,o));for(var u=o;u<s.length;u++)a.push(s[u])}else Th(i,a=[]);return a}function Th(e,n){for(var r=0;r<e.length;r++)n.push((0,e[r])());return n}function $e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r){r.providersResolver=function(t,i){return function VR(e,n,r){var t=me();if(t.firstCreatePass){var i=Ut(e);kh(r,t.data,t.blueprint,i,!0),kh(n,t.data,t.blueprint,i,!1)}}(t,i?i(e):e,n)}}}var zR=function(){var e,n=function(){return m(function r(t){y(this,r),this._injector=t,this.cachedInjectors=new Map},[{key:"getOrCreateStandaloneInjector",value:function(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){var a=nf(!1,i.type),o=a.length>0?function kb(e,n){return new wb({providers:e,parent:n,debugName:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,runEnvironmentInitializers:!0}).injector}([a],this._injector,"Standalone[".concat(i.type.name,"]")):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}},{key:"ngOnDestroy",value:function(){try{var a,i=A(this.cachedInjectors.values());try{for(i.s();!(a=i.n()).done;){var o=a.value;null!==o&&o.destroy()}}catch(s){i.e(s)}finally{i.f()}}finally{this.cachedInjectors.clear()}}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"environment",factory:function(){return new e(Ee(sr))}}),n}();function SD(e){$n("NgStandalone"),e.getStandaloneInjector=function(n){return n.get(zR).getOrCreateStandaloneInjector(e)}}function kn(e,n,r,t){return function PD(e,n,r,t,i,a){var o=n+r;return an(e,o,i)?gr(e,o+1,a?t.call(a,i):t(i)):Rs(e,o+1)}(T(),Kn(),e,n,r,t)}function Ph(e,n,r,t,i){return function OD(e,n,r,t,i,a,o){var s=n+r;return Hi(e,s,i,a)?gr(e,s+2,o?t.call(o,i,a):t(i,a)):Rs(e,s+2)}(T(),Kn(),e,n,r,t,i)}function Rs(e,n){var r=e[n];return r===de?void 0:r}var Bh,JD=new q(""),uc=new q(""),Lh=function(){var e,n=function(){return m(function r(t,i,a){var o=this;y(this,r),this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Bh||(function n2(e){Bh=e}(a),a.addToWindow(i)),this._watchAngularEvents(),t.run(function(){o.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})},[{key:"_watchAngularEvents",value:function(){var i=this;this._ngZone.onUnstable.subscribe({next:function(){i._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){i._ngZone.onStable.subscribe({next:function(){Ge.assertNotInAngularZone(),queueMicrotask(function(){i._isZoneStable=!0,i._runCallbacksIfReady()})}})})}},{key:"isStable",value:function(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var i=this;if(this.isStable())queueMicrotask(function(){for(;0!==i._callbacks.length;){var o=i._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{var a=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(o){return!o.updateCb||!o.updateCb(a)||(clearTimeout(o.timeoutId),!1)})}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(i){return{source:i.source,creationLocation:i.creationLocation,data:i.data}}):[]}},{key:"addCallback",value:function(i,a,o){var s=this,u=-1;a&&a>0&&(u=setTimeout(function(){s._callbacks=s._callbacks.filter(function(l){return l.timeoutId!==u}),i()},a)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:o})}},{key:"whenStable",value:function(i,a,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,o),this._runCallbacksIfReady()}},{key:"registerApplication",value:function(i){this.registry.registerApplication(i,this)}},{key:"unregisterApplication",value:function(i){this.registry.unregisterApplication(i)}},{key:"findProviders",value:function(i,a,o){return[]}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(Ee(Ge),Ee(Vh),Ee(uc))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),Vh=function(){var e,n=function(){return m(function r(){y(this,r),this._applications=new Map},[{key:"registerApplication",value:function(i,a){this._applications.set(i,a)}},{key:"unregisterApplication",value:function(i){this._applications.delete(i)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(i){return this._applications.get(i)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(i){var a,o;return null!==(a=null===(o=Bh)||void 0===o?void 0:o.findTestabilityInTree(this,i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))&&void 0!==a?a:null}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"}),n}();function lc(e){return!!e&&"function"==typeof e.then}var n0=new q(""),Hh=function(){var e,n=function(){return m(function r(){var i,t=this;y(this,r),this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(a,o){t.resolve=a,t.reject=o}),this.appInits=null!==(i=Y(n0,{optional:!0}))&&void 0!==i?i:[]},[{key:"runInitializers",value:function(){var i=this;if(!this.initialized){var s,a=[],o=A(this.appInits);try{var u=function(){var f=(0,s.value)();if(lc(f))a.push(f);else if(function e0(e){return!!e&&"function"==typeof e.subscribe}(f)){var v=new Promise(function(g,p){f.subscribe({complete:g,error:p})});a.push(v)}};for(o.s();!(s=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}var l=function(){i.done=!0,i.resolve()};Promise.all(a).then(function(){l()}).catch(function(c){i.reject(c)}),0===a.length&&l(),this.initialized=!0}}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),Uh=new q("");function a0(e,n){return Array.isArray(n)?n.reduce(a0,e):re(re({},e),n)}var Kt=function(){var e,n=function(){return m(function r(){y(this,r),this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Y(Oy),this.afterRenderEffectManager=Y(Vl),this.zonelessEnabled=Y(Ll),this.externalTestViews=new Set,this.beforeRender=new kr,this.afterTick=new kr,this.componentTypes=[],this.components=[],this.isStable=Y(Ma).hasPendingTasks.pipe(Lt(function(t){return!t})),this._injector=Y(sr)},[{key:"allViews",get:function(){return[].concat(B(this.externalTestViews.keys()),B(this._views))}},{key:"destroyed",get:function(){return this._destroyed}},{key:"injector",get:function(){return this._injector}},{key:"bootstrap",value:function(i,a){var d,o=this,s=i instanceof NC;if(!this._injector.get(Hh).done)throw!s&&function Ei(e){var n=_e(e)||bn(e)||An(e);return null!==n&&n.standalone}(i),new R(405,!1);d=s?i:this._injector.get(_s).resolveComponentFactory(i),this.componentTypes.push(d.componentType);var v=function t2(e){return e.isBoundToModule}(d)?void 0:this._injector.get(Bi),p=d.create(Mn.NULL,[],a||d.selector,v),C=p.location.nativeElement,b=p.injector.get(JD,null);return b?.registerApplication(C),p.onDestroy(function(){o.detachView(p.hostView),cc(o.components,p),b?.unregisterApplication(C)}),this._loadComponent(p),p}},{key:"tick",value:function(){this._tick(!0)}},{key:"_tick",value:function(i){if(this._runningTick)throw new R(101,!1);var a=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,pe(a),this.afterTick.next()}}},{key:"detectChangesInAttachedViews",value:function(i){var a=null;this._injector.destroyed||(a=this._injector.get(Vv,null,{optional:!0}));for(var o=0,s=this.afterRenderEffectManager;o<10;){var u=0===o;if(i||!u){this.beforeRender.next(u);var c,l=A(this._views);try{for(l.s();!(c=l.n()).done;){var d=c.value;i2(d._lView,d.notifyErrorHandler,u,this.zonelessEnabled)}}catch(I){l.e(I)}finally{l.f()}}else{var g,p,C,b,_,M;null===(g=a)||void 0===g||null===(p=(C=g).begin)||void 0===p||p.call(C),null===(b=a)||void 0===b||null===(_=(M=b).end)||void 0===_||_.call(M)}if(o++,s.executeInternalCallbacks(),!this.allViews.some(function(I){return zo(I._lView)})&&(s.execute(),!this.allViews.some(function(I){return zo(I._lView)})))break}}},{key:"attachView",value:function(i){var a=i;this._views.push(a),a.attachToAppRef(this)}},{key:"detachView",value:function(i){var a=i;cc(this._views,a),a.detachFromAppRef()}},{key:"_loadComponent",value:function(i){this.attachView(i.hostView),this.tick(),this.components.push(i);var a=this._injector.get(Uh,[]);[].concat(B(this._bootstrapListeners),B(a)).forEach(function(o){return o(i)})}},{key:"ngOnDestroy",value:function(){if(!this._destroyed)try{this._destroyListeners.forEach(function(i){return i()}),this._views.slice().forEach(function(i){return i.destroy()})}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}},{key:"onDestroy",value:function(i){var a=this;return this._destroyListeners.push(i),function(){return cc(a._destroyListeners,i)}}},{key:"destroy",value:function(){if(this._destroyed)throw new R(406,!1);var i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}},{key:"viewCount",get:function(){return this._views.length}},{key:"warnIfDestroyed",value:function(){}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}();function cc(e,n){var r=e.indexOf(n);r>-1&&e.splice(r,1)}function i2(e,n,r,t){(r||zo(e))&&Pl(e,n,r&&!t?0:1)}var u2=function(){var e,n=function(){return m(function r(){y(this,r),this.zone=Y(Ge),this.changeDetectionScheduler=Y(ys),this.applicationRef=Y(Kt)},[{key:"initialize",value:function(){var i=this;this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:function(){i.changeDetectionScheduler.runningTick||i.zone.run(function(){i.applicationRef.tick()})}}))}},{key:"ngOnDestroy",value:function(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}();function c2(){var e=Y(Ge),n=Y(Qr);return function(r){return e.runOutsideAngular(function(){return n.handleError(r)})}}function jh(e){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=e?.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=e?.runCoalescing)&&void 0!==r&&r}}var d2=function(){var e,n=function(){return m(function r(){y(this,r),this.subscription=new It,this.initialized=!1,this.zone=Y(Ge),this.pendingTasks=Y(Ma)},[{key:"initialize",value:function(){var i=this;if(!this.initialized){this.initialized=!0;var a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(function(){i.subscription.add(i.zone.onStable.subscribe(function(){Ge.assertNotInAngularZone(),queueMicrotask(function(){null!==a&&!i.zone.hasPendingMacrotasks&&!i.zone.hasPendingMicrotasks&&(i.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(function(){var o;Ge.assertInAngularZone(),null!==(o=a)&&void 0!==o||(a=i.pendingTasks.add())}))}}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),dc=function(){var e,n=function(){return m(function r(){var t,i=this;y(this,r),this.appRef=Y(Kt),this.taskService=Y(Ma),this.ngZone=Y(Ge),this.zonelessEnabled=Y(Ll),this.disableScheduling=null!==(t=Y(xC,{optional:!0}))&&void 0!==t&&t,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new It,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(function(){i.runningTick||i.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(function(){i.runningTick||i.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Uv||!this.zoneIsDefined))},[{key:"notify",value:function(i){var a=this;if(this.zonelessEnabled||5!==i){switch(i){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(this.shouldScheduleTick()){var o=this.useMicrotaskScheduler?VC:LC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(function(){a.cancelScheduledCallback=o(function(){a.tick(a.shouldRefreshViews)})}):this.cancelScheduledCallback=o(function(){a.tick(a.shouldRefreshViews)})}}}},{key:"shouldScheduleTick",value:function(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ge.isInAngularZone())}},{key:"tick",value:function(i){var a=this;if(!this.runningTick&&!this.appRef.destroyed){var o=this.taskService.add();try{this.ngZone.run(function(){a.runningTick=!0,a.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(o),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,VC(function(){a.useMicrotaskScheduler=!1,a.taskService.remove(o)})}}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.cleanup()}},{key:"cleanup",value:function(){var i;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(i=this.cancelScheduledCallback)||void 0===i||i.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){var a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),Br=new q("",{providedIn:"root",factory:function(){return Y(Br,De.Optional|De.SkipSelf)||function f2(){return typeof $localize<"u"&&$localize.locale||ao}()}}),Wh=new q(""),c0=function(){var e,n=function(){return m(function r(t){y(this,r),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1},[{key:"bootstrapModuleFactory",value:function(i,a){var o=this,s=function GA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zone.js",n=arguments.length>1?arguments[1]:void 0;return"noop"===e?new Uv:"zone.js"===e?new Ge(n):e}(a?.ngZone,jh({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return s.run(function(){var u=a?.ignoreChangesOutsideZone,l=function Wx(e,n,r){return new Qv(e,n,r)}(i.moduleType,o.injector,[].concat(B(function zh(e){var n,r=e.ngZoneFactory;return null!==(n=r)&&void 0!==n||(r=function(){return new Ge(jh())}),[{provide:Ge,useFactory:r},{provide:or,multi:!0,useFactory:function(){var a=Y(u2,{optional:!0});return function(){return a.initialize()}}},{provide:or,multi:!0,useFactory:function(){var a=Y(d2);return function(){a.initialize()}}},{provide:Oy,useFactory:c2},!0===e.ignoreChangesOutsideZone?{provide:xC,useValue:!0}:[]]}({ngZoneFactory:function(){return s},ignoreChangesOutsideZone:u})),[{provide:ys,useExisting:dc}])),c=l.injector.get(Qr,null);return s.runOutsideAngular(function(){var d=s.onError.subscribe({next:function(v){c.handleError(v)}});l.onDestroy(function(){cc(o._modules,l),d.unsubscribe()})}),function r0(e,n,r){try{var t=r();return lc(t)?t.catch(function(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}):t}catch(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}}(c,s,function(){var d=l.injector.get(Hh);return d.runInitializers(),d.donePromise.then(function(){return function PE(e){"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(l.injector.get(Br,ao)||ao),o._moduleDoBootstrap(l),l})})})}},{key:"bootstrapModule",value:function(i){var a=this,s=a0({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return function s2(e,n,r){var t=new Xv(r);return Promise.resolve(t)}(0,0,i).then(function(u){return a.bootstrapModuleFactory(u,s)})}},{key:"_moduleDoBootstrap",value:function(i){var a=i.injector.get(Kt);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(function(o){return a.bootstrap(o)});else{if(!i.instance.ngDoBootstrap)throw new R(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}},{key:"onDestroy",value:function(i){this._destroyListeners.push(i)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(function(a){return a.destroy()}),this._destroyListeners.forEach(function(a){return a()});var i=this._injector.get(Wh,null);i&&(i.forEach(function(a){return a()}),i.clear()),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(Ee(Mn))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"}),n}(),ai=null,d0=new q("");function f0(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t="Platform: ".concat(n),i=new q(t);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=qh();if(!o||o.injector.get(d0,!1)){var s=[].concat(B(r),B(a),[{provide:i,useValue:!0}]);e?e(s):function g2(e){if(ai&&!ai.get(d0,!1))throw new R(400,!1);(function t0(){!function mS(e){Np=e}(function(){throw new R(600,!1)})})(),ai=e;var n=e.get(c0);(function h0(e){var n=e.get($y,null);n?.forEach(function(r){return r()})})(e)}(function v0(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Mn.create({name:arguments.length>1?arguments[1]:void 0,providers:[{provide:af,useValue:"platform"},{provide:Wh,useValue:new Set([function(){return ai=null}])}].concat(B(e))})}(s,t))}return function p2(e){var n=qh();if(!n)throw new R(401,!1);return n}()}}function qh(){var e,n;return null!==(e=null===(n=ai)||void 0===n?void 0:n.get(c0))&&void 0!==e?e:null}var fc=function(){var n=m(function r(){y(this,r)});return n.__NG_ELEMENT_ID__=_2,n}();function _2(e){return function C2(e,n,r){if(ki(e)&&!r){var t=yt(e.index,n);return new cs(t,t)}return 175&e.type?new cs(n[Ze],n):null}(Ne(),T(),!(16&~e))}var y0=function(){return m(function e(){y(this,e)},[{key:"supports",value:function(r){return jl(r)}},{key:"create",value:function(r){return new M2(r)}}])}(),D2=function(n,r){return r},M2=function(){return m(function e(n){y(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||D2},[{key:"forEachItem",value:function(r){var t;for(t=this._itHead;null!==t;t=t._next)r(t)}},{key:"forEachOperation",value:function(r){for(var t=this._itHead,i=this._removalsHead,a=0,o=null;t||i;){var s=!i||t&&t.currentIndex<C0(i,a,o)?t:i,u=C0(s,a,o),l=s.currentIndex;if(s===i)a--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)a++;else{o||(o=[]);var c=u-a,d=l-a;if(c!=d){for(var f=0;f<c;f++){var v=f<o.length?o[f]:o[f]=0,g=v+f;d<=g&&g<c&&(o[f]=v+1)}o[s.previousIndex]=d-c}}u!==l&&r(s,u,l)}}},{key:"forEachPreviousItem",value:function(r){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)r(t)}},{key:"forEachAddedItem",value:function(r){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)r(t)}},{key:"forEachMovedItem",value:function(r){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)r(t)}},{key:"forEachRemovedItem",value:function(r){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)r(t)}},{key:"forEachIdentityChange",value:function(r){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)r(t)}},{key:"diff",value:function(r){if(null==r&&(r=[]),!jl(r))throw new R(900,!1);return this.check(r)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(r){var t=this;this._reset();var o,s,u,i=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,s=r[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,s,u,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,u,l),a=!0),i=i._next}else o=0,function Yx(e,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)n(e[r]);else for(var i,t=e[Symbol.iterator]();!(i=t.next()).done;)n(i.value)}(r,function(c){u=t._trackByFn(o,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=t._verifyReinsertion(i,c,u,o)),Object.is(i.item,c)||t._addIdentityChange(i,c)):(i=t._mismatch(i,c,u,o),a=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=r,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(r,t,i,a){var o;return null===r?o=this._itTail:(o=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._reinsertAfter(r,o,a)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._moveAfter(r,o,a)):r=this._addAfter(new w2(t,i),o,a),r}},{key:"_verifyReinsertion",value:function(r,t,i,a){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?r=this._reinsertAfter(o,r._prev,a):r.currentIndex!=a&&(r.currentIndex=a,this._addToMoves(r,a)),r}},{key:"_truncate",value:function(r){for(;null!==r;){var t=r._next;this._addToRemovals(this._unlink(r)),r=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(r,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);var a=r._prevRemoved,o=r._nextRemoved;return null===a?this._removalsHead=o:a._nextRemoved=o,null===o?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(r,t,i),this._addToMoves(r,i),r}},{key:"_moveAfter",value:function(r,t,i){return this._unlink(r),this._insertAfter(r,t,i),this._addToMoves(r,i),r}},{key:"_addAfter",value:function(r,t,i){return this._insertAfter(r,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}},{key:"_insertAfter",value:function(r,t,i){var a=null===t?this._itHead:t._next;return r._next=a,r._prev=t,null===a?this._itTail=r:a._prev=r,null===t?this._itHead=r:t._next=r,null===this._linkedRecords&&(this._linkedRecords=new _0),this._linkedRecords.put(r),r.currentIndex=i,r}},{key:"_remove",value:function(r){return this._addToRemovals(this._unlink(r))}},{key:"_unlink",value:function(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);var t=r._prev,i=r._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,r}},{key:"_addToMoves",value:function(r,t){return r.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}},{key:"_addToRemovals",value:function(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}},{key:"_addIdentityChange",value:function(r,t){return r.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}])}(),w2=m(function e(n,r){y(this,e),this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),k2=function(){return m(function e(){y(this,e),this._head=null,this._tail=null},[{key:"add",value:function(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}},{key:"get",value:function(r,t){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,r))return i;return null}},{key:"remove",value:function(r){var t=r._prevDup,i=r._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}])}(),_0=function(){return m(function e(){y(this,e),this.map=new Map},[{key:"put",value:function(r){var t=r.trackById,i=this.map.get(t);i||(i=new k2,this.map.set(t,i)),i.add(r)}},{key:"get",value:function(r,t){var a=this.map.get(r);return a?a.get(r,t):null}},{key:"remove",value:function(r){var t=r.trackById;return this.map.get(t).remove(r)&&this.map.delete(t),r}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}])}();function C0(e,n,r){var t=e.previousIndex;if(null===t)return t;var i=0;return r&&t<r.length&&(i=r[t]),t+n+i}var b0=function(){return m(function e(){y(this,e)},[{key:"supports",value:function(r){return r instanceof Map||Jv(r)}},{key:"create",value:function(){return new S2}}])}(),S2=function(){return m(function e(){y(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null},[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(r){var t;for(t=this._mapHead;null!==t;t=t._next)r(t)}},{key:"forEachPreviousItem",value:function(r){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)r(t)}},{key:"forEachChangedItem",value:function(r){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)r(t)}},{key:"forEachAddedItem",value:function(r){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)r(t)}},{key:"forEachRemovedItem",value:function(r){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)r(t)}},{key:"diff",value:function(r){if(r){if(!(r instanceof Map||Jv(r)))throw new R(900,!1)}else r=new Map;return this.check(r)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(r){var t=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(r,function(o,s){if(i&&i.key===s)t._maybeAddToChanges(i,o),t._appendAfter=i,i=i._next;else{var u=t._getOrCreateRecordForKey(s,o);i=t._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(r,t){if(r){var i=r._prev;return t._next=r,t._prev=i,r._prev=t,i&&(i._next=t),r===this._mapHead&&(this._mapHead=t),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(r,t){if(this._records.has(r)){var i=this._records.get(r);this._maybeAddToChanges(i,t);var a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}var s=new I2(r);return this._records.set(r,s),s.currentValue=t,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(r,t){Object.is(t,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=t,this._addToChanges(r))}},{key:"_addToAdditions",value:function(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}},{key:"_addToChanges",value:function(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}},{key:"_forEach",value:function(r,t){r instanceof Map?r.forEach(t):Object.keys(r).forEach(function(i){return t(r[i],i)})}}])}(),I2=m(function e(n){y(this,e),this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function E0(){return new Xh([new y0])}var Xh=function(){var e,n=function(){function r(t){y(this,r),this.factories=t}return m(r,[{key:"find",value:function(i){var a=this.factories.find(function(o){return o.supports(i)});if(null!=a)return a;throw new R(901,!1)}}],[{key:"create",value:function(i,a){if(null!=a){var o=a.factories.slice();i=i.concat(o)}return new r(i)}},{key:"extend",value:function(i){return{provide:r,useFactory:function(o){return r.create(i,o||E0())},deps:[[r,new Kd,new Yd]]}}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:E0}),n}();function D0(){return new vc([new b0])}var vc=function(){var e,n=function(){function r(t){y(this,r),this.factories=t}return m(r,[{key:"find",value:function(i){var a=this.factories.find(function(o){return o.supports(i)});if(a)return a;throw new R(901,!1)}}],[{key:"create",value:function(i,a){if(a){var o=a.factories.slice();i=i.concat(o)}return new r(i)}},{key:"extend",value:function(i){return{provide:r,useFactory:function(o){return r.create(i,o||D0())},deps:[[r,new Kd,new Yd]]}}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:D0}),n}(),O2=f0(null,"core",[]),A2=function(){var e,n=m(function r(t){y(this,r)});return(e=n).\u0275fac=function(t){return new(t||e)(Ee(Kt))},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({}),n}(),H0=new q("");function Gs(e,n){$n("NgSignals");var r=function hS(e){var n=Object.create(gS);n.computation=e;var r=function(){if(Sp(n),yd(n),n.value===Du)throw n.error;return n.value};return r[Ft]=n,r}(e);return null!=n&&n.equal&&(r[Ft].equal=n.equal),r}function _r(e){var n=pe(null);try{return e()}finally{pe(n)}}var rg=null;function Ws(){return rg}var CV=m(function e(){y(this,e)}),oi=new q(""),vg=/\s+/,iM=[],Qt=function(){var e,n=function(){return m(function r(t,i){y(this,r),this._ngEl=t,this._renderer=i,this.initialClasses=iM,this.stateMap=new Map},[{key:"klass",set:function(i){this.initialClasses=null!=i?i.trim().split(vg):iM}},{key:"ngClass",set:function(i){this.rawClass="string"==typeof i?i.trim().split(vg):i}},{key:"ngDoCheck",value:function(){var a,i=A(this.initialClasses);try{for(i.s();!(a=i.n()).done;)this._updateState(a.value,!0)}catch(g){i.e(g)}finally{i.f()}var s=this.rawClass;if(Array.isArray(s)||s instanceof Set){var l,u=A(s);try{for(u.s();!(l=u.n()).done;)this._updateState(l.value,!0)}catch(g){u.e(g)}finally{u.f()}}else if(null!=s)for(var d=0,f=Object.keys(s);d<f.length;d++){var v=f[d];this._updateState(v,!!s[v])}this._applyStateDiff()}},{key:"_updateState",value:function(i,a){var o=this.stateMap.get(i);void 0!==o?(o.enabled!==a&&(o.changed=!0,o.enabled=a),o.touched=!0):this.stateMap.set(i,{enabled:a,changed:!0,touched:!0})}},{key:"_applyStateDiff",value:function(){var a,i=A(this.stateMap);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o[0],u=o[1];u.changed?(this._toggleClass(s,u.enabled),u.changed=!1):u.touched||(u.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),u.touched=!1}}catch(l){i.e(l)}finally{i.f()}}},{key:"_toggleClass",value:function(i,a){var o=this;(i=i.trim()).length>0&&i.split(vg).forEach(function(s){a?o._renderer.addClass(o._ngEl.nativeElement,s):o._renderer.removeClass(o._ngEl.nativeElement,s)})}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(x(Gt),x(Li))},e.\u0275dir=ue({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),n}(),uB=function(){return m(function e(n,r,t,i){y(this,e),this.$implicit=n,this.ngForOf=r,this.index=t,this.count=i},[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}])}(),lo=function(){var e,n=function(){return m(function r(t,i,a){y(this,r),this._viewContainer=t,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null},[{key:"ngForOf",set:function(i){this._ngForOf=i,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(i){this._trackByFn=i}},{key:"ngForTemplate",set:function(i){i&&(this._template=i)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){var o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}}},{key:"_applyChanges",value:function(i){var a=this,o=this._viewContainer;i.forEachOperation(function(d,f,v){if(null==d.previousIndex)o.createEmbeddedView(a._template,new uB(d.item,a._ngForOf,-1,-1),null===v?void 0:v);else if(null==v)o.remove(null===f?void 0:f);else if(null!==f){var g=o.get(f);o.move(g,v),oM(g,d)}});for(var s=0,u=o.length;s<u;s++){var c=o.get(s).context;c.index=s,c.count=u,c.ngForOf=this._ngForOf}i.forEachIdentityChange(function(d){oM(o.get(d.currentIndex),d)})}}],[{key:"ngTemplateContextGuard",value:function(i,a){return!0}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(x(Rn),x(Rr),x(Xh))},e.\u0275dir=ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n}();function oM(e,n){e.context.$implicit=n.item}var co=function(){var e,n=function(){return m(function r(t,i){y(this,r),this._viewContainer=t,this._context=new lB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i},[{key:"ngIf",set:function(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}},{key:"ngIfThen",set:function(i){sM("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(i){sM("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(i,a){return!0}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(x(Rn),x(Rr))},e.\u0275dir=ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n}(),lB=m(function e(){y(this,e),this.$implicit=null,this.ngIf=null});function sM(e,n){if(n&&!n.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Cn(n),"'."))}var fo=function(){var e,n=function(){return m(function r(t,i,a){y(this,r),this._ngEl=t,this._differs=i,this._renderer=a,this._ngStyle=null,this._differ=null},[{key:"ngStyle",set:function(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}},{key:"_setStyle",value:function(i,a){var s=it(i.split("."),2),u=s[0],l=s[1],c=-1===u.indexOf("-")?void 0:ni.DashCase;null!=a?this._renderer.setStyle(this._ngEl.nativeElement,u,l?"".concat(a).concat(l):a,c):this._renderer.removeStyle(this._ngEl.nativeElement,u,c)}},{key:"_applyChanges",value:function(i){var a=this;i.forEachRemovedItem(function(o){return a._setStyle(o.key,null)}),i.forEachAddedItem(function(o){return a._setStyle(o.key,o.currentValue)}),i.forEachChangedItem(function(o){return a._setStyle(o.key,o.currentValue)})}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(x(Gt),x(vc),x(Li))},e.\u0275dir=ue({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n}(),LB=function(){var e,n=m(function r(){y(this,r)});return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({}),n}(),cM="browser";function dM(e){return e===cM}function fM(e){return"server"===e}var BB=m(function e(){y(this,e)}),v5=function(e){function n(){var r;return y(this,n),(r=w(this,n,arguments)).supportsDOMEvents=!0,r}return k(n,e),m(n)}(CV),h5=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"onAndCancel",value:function(t,i,a){return t.addEventListener(i,a),function(){t.removeEventListener(i,a)}}},{key:"dispatchEvent",value:function(t,i){t.dispatchEvent(i)}},{key:"remove",value:function(t){t.parentNode&&t.parentNode.removeChild(t)}},{key:"createElement",value:function(t,i){return(i=i||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,i){return"window"===i?window:"document"===i?t:"body"===i?t.body:null}},{key:"getBaseHref",value:function(t){var i=function g5(){return($s=$s||document.querySelector("base"))?$s.getAttribute("href"):null}();return null==i?null:function p5(e){return new URL(e,document.baseURI).pathname}(i)}},{key:"resetBaseElement",value:function(){$s=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(t){return function oB(e,n){n=encodeURIComponent(n);var t,r=A(e.split(";"));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.indexOf("="),s=it(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===n)return decodeURIComponent(l)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){!function _V(e){var n;null!==(n=rg)&&void 0!==n||(rg=e)}(new n)}}])}(v5),$s=null,m5=function(){return m(function e(){y(this,e)},[{key:"addToWindow",value:function(r){Fe.getAngularTestability=function(i){var o=r.findTestabilityInTree(i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);if(null==o)throw new R(5103,!1);return o},Fe.getAllAngularTestabilities=function(){return r.getAllTestabilities()},Fe.getAllAngularRootElements=function(){return r.getAllRootElements()},Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(function(a){var o=Fe.getAllAngularTestabilities(),s=o.length,u=function(){0==--s&&a()};o.forEach(function(l){l.whenStable(u)})})}},{key:"findTestabilityInTree",value:function(r,t,i){return null==t?null:r.getTestability(t)??(i?Ws().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null)}}])}(),y5=function(){var e,n=function(){return m(function r(){y(this,r)},[{key:"build",value:function(){return new XMLHttpRequest}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),xc=new q(""),EM=function(){var e,n=function(){return m(function r(t,i){var a=this;y(this,r),this._zone=i,this._eventNameToPlugin=new Map,t.forEach(function(o){o.manager=a}),this._plugins=t.slice().reverse()},[{key:"addEventListener",value:function(i,a,o){return this._findPluginFor(a).addEventListener(i,a,o)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(i){var a=this._eventNameToPlugin.get(i);if(a)return a;if(!(a=this._plugins.find(function(s){return s.supports(i)})))throw new R(5101,!1);return this._eventNameToPlugin.set(i,a),a}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(Ee(xc),Ee(Ge))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),bg=m(function e(n){y(this,e),this._doc=n}),Eg="ng-app-id",DM=function(){var e,n=function(){return m(function r(t,i,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};y(this,r),this.doc=t,this.appId=i,this.nonce=a,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fM(o),this.resetHostNodes()},[{key:"addStyles",value:function(i){var o,a=A(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"removeStyles",value:function(i){var o,a=A(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"ngOnDestroy",value:function(){var i=this.styleNodesInDOM;i&&(i.forEach(function(u){return u.remove()}),i.clear());var o,a=A(this.getAllStyles());try{for(a.s();!(o=a.n()).done;)this.onStyleRemoved(o.value)}catch(u){a.e(u)}finally{a.f()}this.resetHostNodes()}},{key:"addHost",value:function(i){this.hostNodes.add(i);var o,a=A(this.getAllStyles());try{for(a.s();!(o=a.n()).done;)this.addStyleToHost(i,o.value)}catch(u){a.e(u)}finally{a.f()}}},{key:"removeHost",value:function(i){this.hostNodes.delete(i)}},{key:"getAllStyles",value:function(){return this.styleRef.keys()}},{key:"onStyleAdded",value:function(i){var o,a=A(this.hostNodes);try{for(a.s();!(o=a.n()).done;)this.addStyleToHost(o.value,i)}catch(u){a.e(u)}finally{a.f()}}},{key:"onStyleRemoved",value:function(i){var a,o=this.styleRef;null===(a=o.get(i))||void 0===a||null===(a=a.elements)||void 0===a||a.forEach(function(s){return s.remove()}),o.delete(i)}},{key:"collectServerRenderedStyles",value:function(){var i,a=null===(i=this.doc.head)||void 0===i?void 0:i.querySelectorAll("style[".concat(Eg,'="').concat(this.appId,'"]'));if(null!=a&&a.length){var o=new Map;return a.forEach(function(s){null!=s.textContent&&o.set(s.textContent,s)}),o}return null}},{key:"changeUsageCount",value:function(i,a){var o=this.styleRef;if(o.has(i)){var s=o.get(i);return s.usage+=a,s.usage}return o.set(i,{usage:a,elements:[]}),a}},{key:"getStyleElement",value:function(i,a){var o=this.styleNodesInDOM,s=o?.get(a);if(s?.parentNode===i)return o.delete(a),s.removeAttribute(Eg),s;var u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=a,this.platformIsServer&&u.setAttribute(Eg,this.appId),i.appendChild(u),u}},{key:"addStyleToHost",value:function(i,a){var o,s=this.getStyleElement(i,a),u=this.styleRef,l=null===(o=u.get(a))||void 0===o?void 0:o.elements;l?l.push(s):u.set(a,{elements:[s],usage:1})}},{key:"resetHostNodes",value:function(){var i=this.hostNodes;i.clear(),i.add(this.doc.head)}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(Ee(oi),Ee(ka),Ee(Qy,8),Ee(Jr))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),Dg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mg=/%COMP%/g,_5="_nghost-".concat("%COMP%"),C5="_ngcontent-".concat("%COMP%"),E5=new q("",{providedIn:"root",factory:function(){return!0}});function wM(e,n){return n.map(function(r){return r.replace(Mg,e)})}var kM=function(){var e,n=function(){return m(function r(t,i,a,o,s,u,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,r),this.eventManager=t,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=u,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fM(u),this.defaultRenderer=new wg(t,s,l,this.platformIsServer)},[{key:"createRenderer",value:function(i,a){if(!i||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===Vt.ShadowDom&&(a=re(re({},a),{},{encapsulation:Vt.Emulated}));var o=this.getOrCreateRenderer(i,a);return o instanceof IM?o.applyToHost(i):o instanceof kg&&o.applyStyles(),o}},{key:"getOrCreateRenderer",value:function(i,a){var o=this.rendererByCompId,s=o.get(a.id);if(!s){var u=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(a.encapsulation){case Vt.Emulated:s=new IM(c,d,a,this.appId,f,u,l,v);break;case Vt.ShadowDom:return new k5(c,d,i,a,u,l,this.nonce,v);default:s=new kg(c,d,a,f,u,l,v)}o.set(a.id,s)}return s}},{key:"ngOnDestroy",value:function(){this.rendererByCompId.clear()}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(Ee(EM),Ee(DM),Ee(ka),Ee(E5),Ee(oi),Ee(Jr),Ee(Ge),Ee(Qy))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),wg=function(){return m(function e(n,r,t,i){y(this,e),this.eventManager=n,this.doc=r,this.ngZone=t,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null},[{key:"destroy",value:function(){}},{key:"createElement",value:function(r,t){return t?this.doc.createElementNS(Dg[t]||t,r):this.doc.createElement(r)}},{key:"createComment",value:function(r){return this.doc.createComment(r)}},{key:"createText",value:function(r){return this.doc.createTextNode(r)}},{key:"appendChild",value:function(r,t){(SM(r)?r.content:r).appendChild(t)}},{key:"insertBefore",value:function(r,t,i){r&&(SM(r)?r.content:r).insertBefore(t,i)}},{key:"removeChild",value:function(r,t){r&&r.removeChild(t)}},{key:"selectRootElement",value:function(r,t){var i="string"==typeof r?this.doc.querySelector(r):r;if(!i)throw new R(-5104,!1);return t||(i.textContent=""),i}},{key:"parentNode",value:function(r){return r.parentNode}},{key:"nextSibling",value:function(r){return r.nextSibling}},{key:"setAttribute",value:function(r,t,i,a){if(a){t=a+":"+t;var o=Dg[a];o?r.setAttributeNS(o,t,i):r.setAttribute(t,i)}else r.setAttribute(t,i)}},{key:"removeAttribute",value:function(r,t,i){if(i){var a=Dg[i];a?r.removeAttributeNS(a,t):r.removeAttribute("".concat(i,":").concat(t))}else r.removeAttribute(t)}},{key:"addClass",value:function(r,t){r.classList.add(t)}},{key:"removeClass",value:function(r,t){r.classList.remove(t)}},{key:"setStyle",value:function(r,t,i,a){a&(ni.DashCase|ni.Important)?r.style.setProperty(t,i,a&ni.Important?"important":""):r.style[t]=i}},{key:"removeStyle",value:function(r,t,i){i&ni.DashCase?r.style.removeProperty(t):r.style[t]=""}},{key:"setProperty",value:function(r,t,i){null!=r&&(r[t]=i)}},{key:"setValue",value:function(r,t){r.nodeValue=t}},{key:"listen",value:function(r,t,i){if("string"==typeof r&&!(r=Ws().getGlobalEventTarget(this.doc,r)))throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.eventManager.addEventListener(r,t,this.decoratePreventDefault(i))}},{key:"decoratePreventDefault",value:function(r){var t=this;return function(i){if("__ngUnwrap__"===i)return r;!1===(t.platformIsServer?t.ngZone.runGuarded(function(){return r(i)}):r(i))&&i.preventDefault()}}}])}();function SM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}var k5=function(e){function n(r,t,i,a,o,s,u,l){var c;y(this,n),(c=w(this,n,[r,o,s,l])).sharedStylesHost=t,c.hostEl=i,c.shadowRoot=i.attachShadow({mode:"open"}),c.sharedStylesHost.addHost(c.shadowRoot);var v,f=A(wM(a.id,a.styles));try{for(f.s();!(v=f.n()).done;){var g=v.value,p=document.createElement("style");u&&p.setAttribute("nonce",u),p.textContent=g,c.shadowRoot.appendChild(p)}}catch(C){f.e(C)}finally{f.f()}return c}return k(n,e),m(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"appendChild",value:function(t,i){return We(Oe(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),i)}},{key:"insertBefore",value:function(t,i,a){return We(Oe(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),i,a)}},{key:"removeChild",value:function(t,i){return We(Oe(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),i)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(We(Oe(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}}])}(wg),kg=function(e){function n(r,t,i,a,o,s,u,l){var c;return y(this,n),(c=w(this,n,[r,o,s,u])).sharedStylesHost=t,c.removeStylesOnCompDestroy=a,c.styles=l?wM(l,i.styles):i.styles,c}return k(n,e),m(n,[{key:"applyStyles",value:function(){this.sharedStylesHost.addStyles(this.styles)}},{key:"destroy",value:function(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}])}(wg),IM=function(e){function n(r,t,i,a,o,s,u,l){var c;y(this,n);var d=a+"-"+i.id;return(c=w(this,n,[r,t,i,o,s,u,l,d])).contentAttr=function D5(e){return C5.replace(Mg,e)}(d),c.hostAttr=function M5(e){return _5.replace(Mg,e)}(d),c}return k(n,e),m(n,[{key:"applyToHost",value:function(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}},{key:"createElement",value:function(t,i){var a=We(Oe(n.prototype),"createElement",this).call(this,t,i);return We(Oe(n.prototype),"setAttribute",this).call(this,a,this.contentAttr,""),a}}])}(kg),S5=function(){var e,n=function(r){function t(i){return y(this,t),w(this,t,[i])}return k(t,r),m(t,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}])}(bg);return(e=n).\u0275fac=function(t){return new(t||e)(Ee(oi))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),I5=function(){var e,n=function(r){function t(i){var a;return y(this,t),(a=w(this,t,[i])).delegate=Y(H0,{optional:!0}),a}return k(t,r),m(t,[{key:"supports",value:function(a){return!!this.delegate&&this.delegate.supports(a)}},{key:"addEventListener",value:function(a,o,s){return this.delegate.addEventListener(a,o,s)}},{key:"removeEventListener",value:function(a,o,s){return this.delegate.removeEventListener(a,o,s)}}])}(bg);return(e=n).\u0275fac=function(t){return new(t||e)(Ee(oi))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),TM=["alt","control","meta","shift"],T5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P5={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},O5=function(){var e,n=function(r){function t(i){return y(this,t),w(this,t,[i])}return k(t,r),m(t,[{key:"supports",value:function(a){return null!=t.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=t.parseEventName(o),l=t.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Ws().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=t._normalizeKey(o.pop()),l="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),l="code."),TM.forEach(function(f){var v=o.indexOf(f);v>-1&&(o.splice(v,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var d={};return d.domEventName=s,d.fullKey=l,d}},{key:"matchEventFullKeyCode",value:function(a,o){var s=T5[a.key]||a.key,u="";return o.indexOf("code.")>-1&&(s=a.code,u="code."),!(null==s||!s)&&(" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),TM.forEach(function(l){l!==s&&(0,P5[l])(a)&&(u+=l+".")}),(u+=s)===o)}},{key:"eventCallback",value:function(a,o,s){return function(u){t.matchEventFullKeyCode(u,a)&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}])}(bg);return(e=n).\u0275fac=function(t){return new(t||e)(Ee(oi))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),OM=[{provide:Jr,useValue:cM},{provide:$y,useValue:function A5(){h5.makeCurrent()},multi:!0},{provide:oi,useFactory:function N5(){return function RT(e){Hf=e}(document),document},deps:[]}],F5=f0(O2,"browser",OM),R5=new q(""),AM=[{provide:uc,useClass:m5,deps:[]},{provide:JD,useClass:Lh,deps:[Ge,Vh,uc]},{provide:Lh,useClass:Lh,deps:[Ge,Vh,uc]}],xM=[{provide:af,useValue:"root"},{provide:Qr,useFactory:function x5(){return new Qr},deps:[]},{provide:xc,useClass:S5,multi:!0,deps:[oi,Ge,Jr]},{provide:xc,useClass:O5,multi:!0,deps:[oi]},{provide:xc,useClass:I5,multi:!0},kM,DM,EM,{provide:Vv,useExisting:kM},{provide:BB,useClass:y5,deps:[]},[]],L5=function(){var e,n=function(){function r(t){y(this,r)}return m(r,null,[{key:"withServerTransition",value:function(i){return{ngModule:r,providers:[{provide:ka,useValue:i.appId}]}}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(Ee(R5,12))},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({providers:[].concat(xM,AM),imports:[LB,A2]}),n}(),dt=function(){return m(function e(){y(this,e),h(this,"listeners",[])},[{key:"addListener",value:function(r){this.listeners.push(r)}},{key:"removeListener",value:function(r){var t=this.listeners.indexOf(r);return t>=0&&(this.listeners.splice(t,1),!0)}},{key:"emit",value:function(r){var i,t=A(this.listeners);try{for(t.s();!(i=t.n()).done;)(0,i.value)(r)}catch(o){t.e(o)}finally{t.f()}}},{key:"empty",get:function(){return 0==this.listeners.length}}])}(),RM=m(function e(){y(this,e)});function et(e){return void 0!==e.a?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}function wt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return{r:e.r,g:e.g,b:e.b,a:void 0===e.a?n:e.a*n}}var jn={r:0,g:0,b:0},B5={r:255,g:255,b:255},Jt={r:0,g:0,b:0,a:0},Vn={r:127,g:127,b:127},LM=[],qi=function(e){function n(){var r;return y(this,n),h(r=w(this,n),"id",void 0),h(r,"onChange",new dt),h(r,"onRemove",new dt),h(r,"onAdd",new dt),h(r,"configuration",{}),h(r,"_color",jn),h(r,"_visible",!0),h(r,"svgLabel",void 0),h(r,"_labelTranslate",{x:0,y:0}),r.id=function H5(){for(var e=0;;e++)if(-1===LM.indexOf(e))return LM.push(e),e;return Number.NaN}(),r}return k(n,e),m(n,[{key:"getDistance",value:function(t,i){}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.svgLabel=void 0,this.onChange.emit(t)}},{key:"visible",get:function(){return this._visible},set:function(t){this._visible=t,this.onChange.emit(t)}},{key:"labelTranslateX",get:function(){return this._labelTranslate.x},set:function(t){this._labelTranslate.x=t,this.onChange.emit(t)}},{key:"labelTranslateY",get:function(){return this._labelTranslate.y},set:function(t){this._labelTranslate.y=t,this.onChange.emit(t)}},{key:"labelTranslate",get:function(){return{x:this._labelTranslate.x,y:this._labelTranslate.y}},set:function(t){this._labelTranslate={x:t.x,y:t.y},this.onChange.emit(t)}},{key:"getPositionForLabel",value:function(t){}}])}(RM),U5=function(){function e(){y(this,e),h(this,"_ts",[]);for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];this._ts=r}return m(e,[{key:"getItem",value:function(r){return this._ts[r]}},{key:"setItem",value:function(r,t){this._ts[r]=t}},{key:"push",value:function(){var r;(r=this._ts).push.apply(r,arguments)}},{key:"remove",value:function(r){var t=this._ts.indexOf(r);return t>=0&&(this._ts.splice(t,1),!0)}},{key:"pop",value:function(){return this._ts.pop()}},{key:"forEach",value:function(r){for(var t=0;t<this._ts.length;t++)r(this._ts[t],t)}},{key:"filter",value:function(r){for(var t=[],i=0;i<this._ts.length;i++){var a=this._ts[i];r(a,i)&&t.push(a)}return Je(e,t)}},{key:"map",value:function(r){for(var t=[],i=0;i<this._ts.length;i++)t.push(r(this._ts[i],i));return Je(e,t)}},{key:"find",value:function(r){for(var t=0;t<this._ts.length;t++){var i=this._ts[t];if(r(i,t))return i}}}])}(),Gn=function(){return m(function e(){y(this,e),h(this,"childOperations",new U5)},[{key:"simplify",value:function(){return this}}])}(),Ce=function(e){function n(r){var t;return y(this,n),h(t=w(this,n),"constant",void 0),t.constant=r,t}return k(n,e),m(n,[{key:"evaluate",value:function(){return this.constant}},{key:"derive",value:function(){return new n(0)}},{key:"toString",value:function(){return this.constant==Math.PI?"pi":this.constant==Math.E?"e":this.constant>=0?this.constant.toString():"(".concat(this.constant.toString(),")")}}])}(Gn),Sg="$VAR_",Nt=function(e){function n(r){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return y(this,n),h(t=w(this,n),"key",void 0),h(t,"changingVariable",void 0),t.key=r,t.changingVariable=i,t}return k(n,e),m(n,[{key:"evaluate",value:function(t){var i=void 0===this.changingVariable?t[this.key]:t[Sg+this.changingVariable];if("number"==typeof i)return i;throw"no number found"}},{key:"derive",value:function(t){return new Ce(t===this.key?1:0)}},{key:"toString",value:function(){return this.key}}])}(Gn),ho=function(){function e(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";y(this,e),h(this,"operation",void 0),h(this,"name",void 0),h(this,"variable",void 0),h(this,"stopEvaluation",!1),this.operation=n,this.name=r,this.variable=t}return m(e,[{key:"evaluate",value:function(r,t){var i;if(this.stopEvaluation)throw"evaluation stopped";return(t=null!==(i=t)&&void 0!==i?i:{})[Sg+0]=r,this.operation.evaluate(t)}},{key:"derive",value:function(){var r=void 0;return this.name&&(r=this.name+"'"),new e(this.operation.derive(this.variable),r,this.variable).simplify()}},{key:"simplify",value:function(){return new e(this.operation.simplify(),this.name,this.variable)}},{key:"operationAsString",get:function(){var r;return this.name?"".concat(this.name,"(").concat(null!==(r=this.variable)&&void 0!==r?r:"x",") = ").concat(this.operation.toString()):this.operation.toString()}}])}();function Qs(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t=n=er(n),i_y=n.y+n.height;return mn(e.x,t.x-r,n.x+n.width+r)&&mn(e.y,t.y-r,i_y+r)}function mn(e,n,r){return r<n?mn(e,r,n):e>=n&&e<=r}function er(e){return e.width<0?er({x:e.x+e.width,y:e.y,width:-e.width,height:e.height}):e.height<0?er({x:e.x,y:e.y+e.height,width:e.width,height:-e.height}):e}function j5(e,n){if(function z5(e,n){return e=er(e),n=er(n),!(e.x+e.width<n.x||n.x+n.width<e.x||e.y+e.height<n.y||n.y+n.height<e.y)}(e=er(e),n=er(n))){var r=Math.max(e.x,n.x),t=Math.min(e.x+e.width,n.x+n.width),i=Math.max(e.y,n.y);return{x:r,y:i,width:t-r,height:Math.min(e.y+e.height,n.y+n.height)-i}}}function VM(e,n){if(Qs(e,n))return 0;var r=Math.min(Math.abs(e.x-n.x),Math.abs(e.x-n.x-n.width)),t=Math.min(Math.abs(e.y-n.y),Math.abs(e.y-n.y-n.height));return mn(e.x,n.x,n.x+n.width)?t:mn(e.y,n.y,n.y+n.height)?r:Math.sqrt(Math.pow(t,2)+Math.pow(r,2))}function si(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function W5(){for(var e=void 0,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];for(var i=0,a=r;i<a.length;i++){var o=a[i];(null==e||isNaN(e)||null!=o&&!isNaN(o)&&o<e)&&(e=o)}return e}function BM(e,n){return e.x===n.x&&e.y===n.y}function Fc(e,n){var r=n.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}}function HM(e){var n=void 0;if(null!==e){for(;-1!==e.indexOf(",");)e=e.replace(",",".");e.length>0&&isFinite(e)&&(n=parseFloat(e))}return n}function Xs(e){return void 0!==HM(e)}function q5(e,n,r){for(var t=e;-1!=t.indexOf(n);)t=t.replace(n,r);return t}function Ig(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];for(var i=0;i<e.length;i++)if(-1!=r.indexOf(e[i]))return i;return-1}function UM(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var i=r.map(function(s){return e.indexOf(s)}).filter(function(s){return-1!==s});if(0===i.length)return-1;for(var a=i[0],o=1;o<i.length;o++)i[o]<a&&(a=i[o]);return a}function Wn(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return-1!=Ig.apply(void 0,[e].concat(r))}function Y5(e,n){for(var r=e.length-2;r>=0;r--)if(n(e[r],e[r+1]))return r;return-1}function K5(e,n){return-1!==function Z5(e,n){for(var r=0;r<e.length-1;r++)if(n(e[r],e[r+1]))return r;return-1}(e,n)}function Rc(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return-1!==UM.apply(void 0,[e].concat(r))}function zM(e,n,r){return e>n?e:r<n?r:n}function jM(e,n){var t,r=A(e);try{for(r.s();!(t=r.n()).done;)if(n(t.value))return!0}catch(a){r.e(a)}finally{r.f()}return!1}function $5(e,n){for(var r=0;r<e.length;r++)if(n(e[r]))return r;return-1}function Q5(e,n,r,t,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=0,s=t??0;s>=0&&s<e.length;s+=a){var u=e[s];if(Wn(n,u)&&o++,Wn(r,u)&&o--,0==o)return s}if(0==o)return t??0;throw i}function GM(e){return B(new Set(e))}function WM(e,n){var t,r=A(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i[0]===e)return i[1]}}catch(a){r.e(a)}finally{r.f()}return e}var ui=function(){return m(function e(){y(this,e),h(this,"threePointsClickedEvent",new dt)},[{key:"contextMenu",get:function(){return{elements:function(){return[]},additionalEvent:this.threePointsClickedEvent}}},{key:"threePointsClicked",value:function(r){var t=r.target;t instanceof HTMLSpanElement&&(t=t.parentElement);var i=t.getBoundingClientRect();this.threePointsClickedEvent.emit([{x:i.x+i.width/2,y:i.y+i.height/2},r])}}])}();function Lc(e,n,r){e.openSnackbar(function nH(e,n){return 1!==n&&(e+="e"),0===n?"Keine ".concat(e," gefunden."):1===n?"Ein ".concat(e," gefunden."):"".concat(n," ").concat(e," gefunden.")}(n,r))}function Vc(e){e.openSnackbar(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ein unerwarteter Fehler ist aufgetreten!",{color:"white",background:"#c44"})}function Zi(){Zi=function(){return n};var e,n={},r=Object.prototype,t=r.hasOwnProperty,i=Object.defineProperty||function(z,F,U){z[F]=U.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(z,F,U){return Object.defineProperty(z,F,{value:U,enumerable:!0,configurable:!0,writable:!0}),z[F]}try{l({},"")}catch{l=function(U,J,se){return U[J]=se}}function c(z,F,U,J){var Q=Object.create((F&&F.prototype instanceof b?F:b).prototype),Qe=new je(J||[]);return i(Q,"_invoke",{value:le(z,U,Qe)}),Q}function d(z,F,U){try{return{type:"normal",arg:z.call(F,U)}}catch(J){return{type:"throw",arg:J}}}n.wrap=c;var f="suspendedStart",v="suspendedYield",g="executing",p="completed",C={};function b(){}function _(){}function M(){}var I={};l(I,o,function(){return this});var O=Object.getPrototypeOf,V=O&&O(O(tn([])));V&&V!==r&&t.call(V,o)&&(I=V);var N=M.prototype=b.prototype=Object.create(I);function W(z){["next","throw","return"].forEach(function(F){l(z,F,function(U){return this._invoke(F,U)})})}function K(z,F){function U(se,Q,Qe,On){var rt=d(z[se],z,Q);if("throw"!==rt.type){var rr=rt.arg,Wr=rr.value;return Wr&&"object"==ir(Wr)&&t.call(Wr,"__await")?F.resolve(Wr.__await).then(function(ta){U("next",ta,Qe,On)},function(ta){U("throw",ta,Qe,On)}):F.resolve(Wr).then(function(ta){rr.value=ta,Qe(rr)},function(ta){return U("throw",ta,Qe,On)})}On(rt.arg)}var J;i(this,"_invoke",{value:function(Q,Qe){function On(){return new F(function(rt,rr){U(Q,Qe,rt,rr)})}return J=J?J.then(On,On):On()}})}function le(z,F,U){var J=f;return function(se,Q){if(J===g)throw Error("Generator is already running");if(J===p){if("throw"===se)throw Q;return{value:e,done:!0}}for(U.method=se,U.arg=Q;;){var Qe=U.delegate;if(Qe){var On=ye(Qe,U);if(On){if(On===C)continue;return On}}if("next"===U.method)U.sent=U._sent=U.arg;else if("throw"===U.method){if(J===f)throw J=p,U.arg;U.dispatchException(U.arg)}else"return"===U.method&&U.abrupt("return",U.arg);J=g;var rt=d(z,F,U);if("normal"===rt.type){if(J=U.done?p:v,rt.arg===C)continue;return{value:rt.arg,done:U.done}}"throw"===rt.type&&(J=p,U.method="throw",U.arg=rt.arg)}}}function ye(z,F){var U=F.method,J=z.iterator[U];if(J===e)return F.delegate=null,"throw"===U&&z.iterator.return&&(F.method="return",F.arg=e,ye(z,F),"throw"===F.method)||"return"!==U&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+U+"' method")),C;var se=d(J,z.iterator,F.arg);if("throw"===se.type)return F.method="throw",F.arg=se.arg,F.delegate=null,C;var Q=se.arg;return Q?Q.done?(F[z.resultName]=Q.value,F.next=z.nextLoc,"return"!==F.method&&(F.method="next",F.arg=e),F.delegate=null,C):Q:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,C)}function ve(z){var F={tryLoc:z[0]};1 in z&&(F.catchLoc=z[1]),2 in z&&(F.finallyLoc=z[2],F.afterLoc=z[3]),this.tryEntries.push(F)}function be(z){var F=z.completion||{};F.type="normal",delete F.arg,z.completion=F}function je(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(ve,this),this.reset(!0)}function tn(z){if(z||""===z){var F=z[o];if(F)return F.call(z);if("function"==typeof z.next)return z;if(!isNaN(z.length)){var U=-1,J=function se(){for(;++U<z.length;)if(t.call(z,U))return se.value=z[U],se.done=!1,se;return se.value=e,se.done=!0,se};return J.next=J}}throw new TypeError(ir(z)+" is not iterable")}return _.prototype=M,i(N,"constructor",{value:M,configurable:!0}),i(M,"constructor",{value:_,configurable:!0}),_.displayName=l(M,u,"GeneratorFunction"),n.isGeneratorFunction=function(z){var F="function"==typeof z&&z.constructor;return!!F&&(F===_||"GeneratorFunction"===(F.displayName||F.name))},n.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,M):(z.__proto__=M,l(z,u,"GeneratorFunction")),z.prototype=Object.create(N),z},n.awrap=function(z){return{__await:z}},W(K.prototype),l(K.prototype,s,function(){return this}),n.AsyncIterator=K,n.async=function(z,F,U,J,se){void 0===se&&(se=Promise);var Q=new K(c(z,F,U,J),se);return n.isGeneratorFunction(F)?Q:Q.next().then(function(Qe){return Qe.done?Qe.value:Q.next()})},W(N),l(N,u,"Generator"),l(N,o,function(){return this}),l(N,"toString",function(){return"[object Generator]"}),n.keys=function(z){var F=Object(z),U=[];for(var J in F)U.push(J);return U.reverse(),function se(){for(;U.length;){var Q=U.pop();if(Q in F)return se.value=Q,se.done=!1,se}return se.done=!0,se}},n.values=tn,je.prototype={constructor:je,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(be),!F)for(var U in this)"t"===U.charAt(0)&&t.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=e)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if("throw"===F.type)throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var U=this;function J(rr,Wr){return Qe.type="throw",Qe.arg=F,U.next=rr,Wr&&(U.method="next",U.arg=e),!!Wr}for(var se=this.tryEntries.length-1;se>=0;--se){var Q=this.tryEntries[se],Qe=Q.completion;if("root"===Q.tryLoc)return J("end");if(Q.tryLoc<=this.prev){var On=t.call(Q,"catchLoc"),rt=t.call(Q,"finallyLoc");if(On&&rt){if(this.prev<Q.catchLoc)return J(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return J(Q.finallyLoc)}else if(On){if(this.prev<Q.catchLoc)return J(Q.catchLoc,!0)}else{if(!rt)throw Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return J(Q.finallyLoc)}}}},abrupt:function(F,U){for(var J=this.tryEntries.length-1;J>=0;--J){var se=this.tryEntries[J];if(se.tryLoc<=this.prev&&t.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var Q=se;break}}Q&&("break"===F||"continue"===F)&&Q.tryLoc<=U&&U<=Q.finallyLoc&&(Q=null);var Qe=Q?Q.completion:{};return Qe.type=F,Qe.arg=U,Q?(this.method="next",this.next=Q.finallyLoc,C):this.complete(Qe)},complete:function(F,U){if("throw"===F.type)throw F.arg;return"break"===F.type||"continue"===F.type?this.next=F.arg:"return"===F.type?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):"normal"===F.type&&U&&(this.next=U),C},finish:function(F){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.finallyLoc===F)return this.complete(J.completion,J.afterLoc),be(J),C}},catch:function(F){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.tryLoc===F){var se=J.completion;if("throw"===se.type){var Q=se.arg;be(J)}return Q}}throw Error("illegal catch attempt")},delegateYield:function(F,U,J){return this.delegate={iterator:tn(F),resultName:U,nextLoc:J},"next"===this.method&&(this.arg=e),C}},n}function qM(e,n,r,t,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void r(l)}s.done?n(u):Promise.resolve(u).then(t,i)}function Yi(e){return this instanceof Yi?(this.v=e,this):new Yi(e)}function uH(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function KM(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(o){return new Promise(function(s,u){!function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}(s,u,(o=e[a](o)).done,o.value)})}}}var Pg=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function $M(e){return Se(e?.then)}function QM(e){return Se(e[Td])}function XM(e){return Symbol.asyncIterator&&Se(e?.[Symbol.asyncIterator])}function JM(e){return new TypeError("You provided ".concat(null!==e&&"object"==typeof e?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var ew=function cH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nw(e){return Se(e?.[ew])}function tw(e){return function sH(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=r.apply(e,n||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){t[f]&&(i[f]=function(v){return new Promise(function(g,p){a.push([f,v,g,p])>1||s(f,v)})})}function s(f,v){try{!function u(f){f.value instanceof Yi?Promise.resolve(f.value.v).then(l,c):d(a[0][2],f)}(t[f](v))}catch(g){d(a[0][3],g)}}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,v){f(v),a.shift(),a.length&&s(a[0][0],a[0][1])}}(this,arguments,Zi().mark(function n(){var r,t,i;return Zi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=e.getReader(),s.prev=1;case 2:return s.next=5,Yi(r.read());case 5:if(i=(t=s.sent).value,!t.done){s.next=12;break}return s.next=11,Yi(void 0);case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,Yi(i);case 14:return s.next=16,s.sent;case 16:s.next=2;break;case 18:return s.prev=18,r.releaseLock(),s.finish(18);case 21:case"end":return s.stop()}},n,null,[[1,,18,21]])}))}function rw(e){return Se(e?.getReader)}function Cr(e){if(e instanceof cn)return e;if(null!=e){if(QM(e))return function dH(e){return new cn(function(n){var r=e[Td]();if(Se(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Pg(e))return function fH(e){return new cn(function(n){for(var r=0;r<e.length&&!n.closed;r++)n.next(e[r]);n.complete()})}(e);if($M(e))return function vH(e){return new cn(function(n){e.then(function(r){n.closed||(n.next(r),n.complete())},function(r){return n.error(r)}).then(null,zp)})}(e);if(XM(e))return iw(e);if(nw(e))return function hH(e){return new cn(function(n){var t,r=A(e);try{for(r.s();!(t=r.n()).done;)if(n.next(t.value),n.closed)return}catch(a){r.e(a)}finally{r.f()}n.complete()})}(e);if(rw(e))return function gH(e){return iw(tw(e))}(e)}throw JM(e)}function iw(e){return new cn(function(n){(function pH(e,n){var r,t,i,a;return function aH(e,n,r,t){return new(r||(r=Promise))(function(a,o){function s(c){try{l(t.next(c))}catch(d){o(d)}}function u(c){try{l(t.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):function i(a){return a instanceof r?a:new r(function(o){o(a)})}(c.value).then(s,u)}l((t=t.apply(e,n||[])).next())})}(this,void 0,void 0,Zi().mark(function o(){return Zi().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,r=uH(e);case 2:return l.next=4,r.next();case 4:if((t=l.sent).done){l.next=12;break}if(n.next(t.value),!n.closed){l.next=10;break}return l.abrupt("return");case 10:l.next=2;break;case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),i={error:l.t0};case 17:if(l.prev=17,l.prev=18,!t||t.done||!(a=r.return)){l.next=22;break}return l.next=22,a.call(r);case 22:if(l.prev=22,!i){l.next=25;break}throw i.error;case 25:return l.finish(22);case 26:return l.finish(17);case 27:n.complete();case 28:case"end":return l.stop()}},o,null,[[0,14,17,27],[18,,22,26]])}))})(e,n).catch(function(r){return n.error(r)})})}function li(e,n,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=n.schedule(function(){r(),i?e.add(this.schedule(null,t)):this.unsubscribe()},t);if(e.add(a),!i)return a}function aw(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Rt(function(r,t){r.subscribe(new ht(t,function(i){return li(t,e,function(){return t.next(i)},n)},function(){return li(t,e,function(){return t.complete()},n)},function(i){return li(t,e,function(){return t.error(i)},n)}))})}function ow(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Rt(function(r,t){t.add(e.schedule(function(){return r.subscribe(t)},n))})}function sw(e,n){if(!e)throw new Error("Iterable cannot be null");return new cn(function(r){li(r,n,function(){var t=e[Symbol.asyncIterator]();li(r,n,function(){t.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function Js(e,n){return n?function EH(e,n){if(null!=e){if(QM(e))return function mH(e,n){return Cr(e).pipe(ow(n),aw(n))}(e,n);if(Pg(e))return function _H(e,n){return new cn(function(r){var t=0;return n.schedule(function(){t===e.length?r.complete():(r.next(e[t++]),r.closed||this.schedule())})})}(e,n);if($M(e))return function yH(e,n){return Cr(e).pipe(ow(n),aw(n))}(e,n);if(XM(e))return sw(e,n);if(nw(e))return function CH(e,n){return new cn(function(r){var t;return li(r,n,function(){t=e[ew](),li(r,n,function(){var i,a;try{var o=t.next();i=o.value,a=o.done}catch(s){return void r.error(s)}a?r.complete():r.next(i)},0,!0)}),function(){return Se(t?.return)&&t.return()}})}(e,n);if(rw(e))return function bH(e,n){return sw(tw(e),n)}(e,n)}throw JM(e)}(e,n):Cr(e)}var DH=Array.isArray,MH=Object.getPrototypeOf,wH=Object.prototype,kH=Object.keys;function uw(e){return e&&Se(e.schedule)}function Og(e){return e[e.length-1]}function Ag(e){return uw(Og(e))?e.pop():void 0}var OH=Array.isArray;function lw(e){return Lt(function(n){return function AH(e,n){return OH(n)?e.apply(void 0,B(n)):e(n)}(e,n)})}function NH(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var t=function TH(e){return Se(Og(e))?e.pop():void 0}(n),i=function SH(e){if(1===e.length){var n=e[0];if(DH(n))return{args:n,keys:null};if(function IH(e){return e&&"object"==typeof e&&MH(e)===wH}(n)){var r=kH(n);return{args:r.map(function(t){return n[t]}),keys:r}}}return{args:e,keys:null}}(n),a=i.args,o=i.keys,s=new cn(function(u){var l=a.length;if(l)for(var c=new Array(l),d=l,f=l,v=function(C){var b=!1;Cr(a[C]).subscribe(new ht(u,function(_){b||(b=!0,f--),c[C]=_},function(){return d--},void 0,function(){(!d||!b)&&(f||u.next(o?function xH(e,n){return e.reduce(function(r,t,i){return r[t]=n[i],r},{})}(o,c):c),u.complete())}))},g=0;g<l;g++)v(g);else u.complete()});return t?s.pipe(lw(t)):s}var cw=function(){var e,n=function(){return m(function r(t,i){y(this,r),this._renderer=t,this._elementRef=i,this.onChange=function(a){},this.onTouched=function(){}},[{key:"setProperty",value:function(i,a){this._renderer.setProperty(this._elementRef.nativeElement,i,a)}},{key:"registerOnTouched",value:function(i){this.onTouched=i}},{key:"registerOnChange",value:function(i){this.onChange=i}},{key:"setDisabledState",value:function(i){this.setProperty("disabled",i)}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(x(Li),x(Gt))},e.\u0275dir=ue({type:e}),n}(),Ki=function(){var e,n=function(r){function t(){return y(this,t),w(this,t,arguments)}return k(t,r),m(t)}(cw);return(e=n).\u0275fac=function(){var r;return function(i){return(r||(r=Fn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,features:[fe]}),n}(),br=new q(""),FH={provide:br,useExisting:Ve(function(){return zr}),multi:!0},zr=function(){var e,n=function(r){function t(){return y(this,t),w(this,t,arguments)}return k(t,r),m(t,[{key:"writeValue",value:function(a){this.setProperty("checked",a)}}])}(Ki);return(e=n).\u0275fac=function(){var r;return function(i){return(r||(r=Fn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&te("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[$e([FH]),fe]}),n}(),RH={provide:br,useExisting:Ve(function(){return un}),multi:!0},VH=new q(""),un=function(){var e,n=function(r){function t(i,a,o){var s;return y(this,t),(s=w(this,t,[i,a]))._compositionMode=o,s._composing=!1,null==s._compositionMode&&(s._compositionMode=!function LH(){var e=Ws()?Ws().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),s}return k(t,r),m(t,[{key:"writeValue",value:function(a){this.setProperty("value",a??"")}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}])}(cw);return(e=n).\u0275fac=function(t){return new(t||e)(x(Li),x(Gt),x(VH,8))},e.\u0275dir=ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&te("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[$e([RH]),fe]}),n}();function ci(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}var qn=new q(""),di=new q("");function xg(e){return null}function fw(e){return null!=e}function vw(e){return lc(e)?Js(e):e}function hw(e){var n={};return e.forEach(function(r){n=null!=r?re(re({},n),r):n}),0===Object.keys(n).length?null:n}function gw(e,n){return n.map(function(r){return r(e)})}function pw(e){return e.map(function(n){return function YH(e){return!e.validate}(n)?n:function(r){return n.validate(r)}})}function Ng(e){return null!=e?function KH(e){if(!e)return null;var n=e.filter(fw);return 0==n.length?null:function(r){return hw(gw(r,n))}}(pw(e)):null}function Fg(e){return null!=e?function $H(e){if(!e)return null;var n=e.filter(fw);return 0==n.length?null:function(r){return NH(gw(r,n).map(vw)).pipe(Lt(hw))}}(pw(e)):null}function mw(e,n){return null===e?[n]:Array.isArray(e)?[].concat(B(e),[n]):[e,n]}function Rg(e){return e?Array.isArray(e)?e:[e]:[]}function Bc(e,n){return Array.isArray(e)?e.includes(n):e===n}function Cw(e,n){var r=Rg(n);return Rg(e).forEach(function(i){Bc(r,i)||r.push(i)}),r}function bw(e,n){return Rg(n).filter(function(r){return!Bc(e,r)})}var Ew=function(){return m(function e(){y(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]},[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(r){this._rawValidators=r||[],this._composedValidatorFn=Ng(this._rawValidators)}},{key:"_setAsyncValidators",value:function(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Fg(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(r){this._onDestroyCallbacks.push(r)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(r){return r()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){this.control&&this.control.reset(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)}},{key:"hasError",value:function(r,t){return!!this.control&&this.control.hasError(r,t)}},{key:"getError",value:function(r,t){return this.control?this.control.getError(r,t):null}}])}(),nt=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}])}(Ew),fi=function(e){function n(){var r;return y(this,n),(r=w(this,n,arguments))._parent=null,r.name=null,r.valueAccessor=null,r}return k(n,e),m(n)}(Ew),Dw=function(){return m(function e(n){y(this,e),this._cd=n},[{key:"isTouched",get:function(){var r,t,i;return null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||null===(t=r._touched)||void 0===t||t.call(r),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.touched)}},{key:"isUntouched",get:function(){var r;return!(null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||!r.untouched)}},{key:"isPristine",get:function(){var r,t,i;return null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||null===(t=r._pristine)||void 0===t||t.call(r),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.pristine)}},{key:"isDirty",get:function(){var r;return!(null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||!r.dirty)}},{key:"isValid",get:function(){var r,t,i;return null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||null===(t=r._status)||void 0===t||t.call(r),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.valid)}},{key:"isInvalid",get:function(){var r;return!(null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||!r.invalid)}},{key:"isPending",get:function(){var r;return!(null===(r=this._cd)||void 0===r||null===(r=r.control)||void 0===r||!r.pending)}},{key:"isSubmitted",get:function(){var r,t,i;return null===(r=this._cd)||void 0===r||null===(t=r._submitted)||void 0===t||t.call(r),!(null===(i=this._cd)||void 0===i||!i.submitted)}}])}(),yn=function(){var e,n=function(r){function t(i){return y(this,t),w(this,t,[i])}return k(t,r),m(t)}(Dw);return(e=n).\u0275fac=function(t){return new(t||e)(x(fi,2))},e.\u0275dir=ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Ql("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]}),n}(),eu="VALID",Uc="INVALID",go="PENDING",nu="DISABLED",po=m(function e(){y(this,e)}),ww=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n)).value=r,i.source=t,i}return k(n,e),m(n)}(po),Bg=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n)).pristine=r,i.source=t,i}return k(n,e),m(n)}(po),Hg=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n)).touched=r,i.source=t,i}return k(n,e),m(n)}(po),zc=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n)).status=r,i.source=t,i}return k(n,e),m(n)}(po);function kw(e){return(jc(e)?e.validators:e)||null}function Sw(e,n){return(jc(n)?n.asyncValidators:e)||null}function jc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Iw=function(){return m(function e(n,r){var t=this;y(this,e),this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=function(){},this._parent=null,this._status=Gs(function(){return t.statusReactive()}),this.statusReactive=Ba(void 0),this._pristine=Gs(function(){return t.pristineReactive()}),this.pristineReactive=Ba(!0),this._touched=Gs(function(){return t.touchedReactive()}),this.touchedReactive=Ba(!1),this._events=new kr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(r)},[{key:"validator",get:function(){return this._composedValidatorFn},set:function(r){this._rawValidators=this._composedValidatorFn=r}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}},{key:"parent",get:function(){return this._parent}},{key:"status",get:function(){return _r(this.statusReactive)},set:function(r){var t=this;_r(function(){return t.statusReactive.set(r)})}},{key:"valid",get:function(){return this.status===eu}},{key:"invalid",get:function(){return this.status===Uc}},{key:"pending",get:function(){return this.status==go}},{key:"disabled",get:function(){return this.status===nu}},{key:"enabled",get:function(){return this.status!==nu}},{key:"pristine",get:function(){return _r(this.pristineReactive)},set:function(r){var t=this;_r(function(){return t.pristineReactive.set(r)})}},{key:"dirty",get:function(){return!this.pristine}},{key:"touched",get:function(){return _r(this.touchedReactive)},set:function(r){var t=this;_r(function(){return t.touchedReactive.set(r)})}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(r){this._assignValidators(r)}},{key:"setAsyncValidators",value:function(r){this._assignAsyncValidators(r)}},{key:"addValidators",value:function(r){this.setValidators(Cw(r,this._rawValidators))}},{key:"addAsyncValidators",value:function(r){this.setAsyncValidators(Cw(r,this._rawAsyncValidators))}},{key:"removeValidators",value:function(r){this.setValidators(bw(r,this._rawValidators))}},{key:"removeAsyncValidators",value:function(r){this.setAsyncValidators(bw(r,this._rawAsyncValidators))}},{key:"hasValidator",value:function(r){return Bc(this._rawValidators,r)}},{key:"hasAsyncValidator",value:function(r){return Bc(this._rawAsyncValidators,r)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1===this.touched;this.touched=!0;var a=null!==(r=t.sourceControl)&&void 0!==r?r:this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(re(re({},t),{},{sourceControl:a})),i&&!1!==t.emitEvent&&this._events.next(new Hg(!0,a))}},{key:"markAllAsTouched",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.markAsTouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:this}),this._forEachChild(function(t){return t.markAllAsTouched(r)})}},{key:"markAsUntouched",value:function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!0===this.touched;this.touched=!1,this._pendingTouched=!1;var a=null!==(r=t.sourceControl)&&void 0!==r?r:this;this._forEachChild(function(o){o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:a})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,a),i&&!1!==t.emitEvent&&this._events.next(new Hg(!1,a))}},{key:"markAsDirty",value:function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!0===this.pristine;this.pristine=!1;var a=null!==(r=t.sourceControl)&&void 0!==r?r:this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(re(re({},t),{},{sourceControl:a})),i&&!1!==t.emitEvent&&this._events.next(new Bg(!1,a))}},{key:"markAsPristine",value:function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;var a=null!==(r=t.sourceControl)&&void 0!==r?r:this;this._forEachChild(function(o){o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,a),i&&!1!==t.emitEvent&&this._events.next(new Bg(!0,a))}},{key:"markAsPending",value:function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=go;var i=null!==(r=t.sourceControl)&&void 0!==r?r:this;!1!==t.emitEvent&&(this._events.next(new zc(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(re(re({},t),{},{sourceControl:i}))}},{key:"disable",value:function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._parentMarkedDirty(t.onlySelf);this.status=nu,this.errors=null,this._forEachChild(function(o){o.disable(re(re({},t),{},{onlySelf:!0}))}),this._updateValue();var a=null!==(r=t.sourceControl)&&void 0!==r?r:this;!1!==t.emitEvent&&(this._events.next(new ww(this.value,a)),this._events.next(new zc(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(re({},t),{},{skipPristineCheck:i}),this),this._onDisabledChange.forEach(function(o){return o(!0)})}},{key:"enable",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(r.onlySelf);this.status=eu,this._forEachChild(function(i){i.enable(re(re({},r),{},{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(re(re({},r),{},{skipPristineCheck:t}),this),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(r,t){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}},{key:"setParent",value:function(r){this._parent=r}},{key:"getRawValue",value:function(){return this.value}},{key:"updateValueAndValidity",value:function(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._setInitialStatus(),this._updateValue(),this.enabled){var i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eu||this.status===go)&&this._runAsyncValidator(i,t.emitEvent)}var a=null!==(r=t.sourceControl)&&void 0!==r?r:this;!1!==t.emitEvent&&(this._events.next(new ww(this.value,a)),this._events.next(new zc(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(re(re({},t),{},{sourceControl:a}))}},{key:"_updateTreeValidity",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(r)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?nu:eu}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(r,t){var i=this;if(this.asyncValidator){this.status=go,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};var a=vw(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(function(o){i._hasOwnPendingAsyncValidator=null,i.setErrors(o,{emitEvent:t,shouldHaveEmitted:r})})}}},{key:"_cancelExistingSubscription",value:function(){if(this._asyncValidationSubscription){var r,t;this._asyncValidationSubscription.unsubscribe();var i=null!==(r=null===(t=this._hasOwnPendingAsyncValidator)||void 0===t?void 0:t.emitEvent)&&void 0!==r&&r;return this._hasOwnPendingAsyncValidator=null,i}return!1}},{key:"setErrors",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=r,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}},{key:"get",value:function(r){var t=r;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce(function(i,a){return i&&i._find(a)},this)}},{key:"getError",value:function(r,t){var i=t?this.get(t):this;return i&&i.errors?i.errors[r]:null}},{key:"hasError",value:function(r,t){return!!this.getError(r,t)}},{key:"root",get:function(){for(var r=this;r._parent;)r=r._parent;return r}},{key:"_updateControlsErrors",value:function(r,t,i){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),(r||i)&&this._events.next(new zc(this.status,t)),this._parent&&this._parent._updateControlsErrors(r,t,i)}},{key:"_initObservables",value:function(){this.valueChanges=new hn,this.statusChanges=new hn}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?nu:this.errors?Uc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(go)?go:this._anyControlsHaveStatus(Uc)?Uc:eu}},{key:"_anyControlsHaveStatus",value:function(r){return this._anyControls(function(t){return t.status===r})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(r){return r.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(r){return r.touched})}},{key:"_updatePristine",value:function(r,t){var i=!this._anyControlsDirty(),a=this.pristine!==i;this.pristine=i,this._parent&&!r.onlySelf&&this._parent._updatePristine(r,t),a&&this._events.next(new Bg(this.pristine,t))}},{key:"_updateTouched",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.touched=this._anyControlsTouched(),this._events.next(new Hg(this.touched,t)),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,t)}},{key:"_registerOnCollectionChange",value:function(r){this._onCollectionChange=r}},{key:"_setUpdateStrategy",value:function(r){jc(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}},{key:"_parentMarkedDirty",value:function(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}},{key:"_find",value:function(r){return null}},{key:"_assignValidators",value:function(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=function aU(e){return Array.isArray(e)?Ng(e):e||null}(this._rawValidators)}},{key:"_assignAsyncValidators",value:function(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=function oU(e){return Array.isArray(e)?Fg(e):e||null}(this._rawAsyncValidators)}}])}(),mo=new q("CallSetDisabledState",{providedIn:"root",factory:function(){return Gc}}),Gc="always";function tu(e,n){var t,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gc;(function zg(e,n){var r=function yw(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(mw(r,n.validator)):"function"==typeof r&&e.setValidators([r]);var t=function _w(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(mw(t,n.asyncValidator)):"function"==typeof t&&e.setAsyncValidators([t]);var i=function(){return e.updateValueAndValidity()};Zc(n._rawValidators,i),Zc(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&(null===(t=(i=n.valueAccessor).setDisabledState)||void 0===t||t.call(i,e.disabled)),function dU(e,n){n.valueAccessor.registerOnChange(function(r){e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Tw(e,n)})}(e,n),function vU(e,n){var r=function(i,a){n.valueAccessor.writeValue(i),a&&n.viewToModelUpdate(i)};e.registerOnChange(r),n._registerOnDestroy(function(){e._unregisterOnChange(r)})}(e,n),function fU(e,n){n.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Tw(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function cU(e,n){if(n.valueAccessor.setDisabledState){var r=function(i){n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(r),n._registerOnDestroy(function(){e._unregisterOnDisabledChange(r)})}}(e,n)}function Zc(e,n){e.forEach(function(r){r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Tw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Aw(e,n){var r=e.indexOf(n);r>-1&&e.splice(r,1)}function xw(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}var Nw=function(e){function n(){var r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return y(this,n),(r=w(this,n,[kw(i),Sw(a,i)])).defaultValue=null,r._onChange=[],r._pendingChange=!1,r._applyFormState(t),r._setUpdateStrategy(i),r._initObservables(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!!r.asyncValidator}),jc(i)&&(i.nonNullable||i.initialValueIsDefault)&&(r.defaultValue=xw(t)?t.value:t),r}return k(n,e),m(n,[{key:"setValue",value:function(t){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(function(o){return o(i.value,!1!==a.emitViewToModelChange)}),this.updateValueAndValidity(a)}},{key:"patchValue",value:function(t){this.setValue(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"reset",value:function(){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultValue),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){Aw(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){Aw(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){xw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}])}(Iw),bU={provide:fi,useExisting:Ve(function(){return ln})},Lw=function(){return Promise.resolve()}(),ln=function(){var e,n=function(r){function t(i,a,o,s,u,l){var c;return y(this,t),(c=w(this,t))._changeDetectorRef=u,c.callSetDisabledState=l,c.control=new Nw,c._registered=!1,c.name="",c.update=new hn,c._parent=i,c._setValidators(a),c._setAsyncValidators(o),c.valueAccessor=function Wg(e,n){if(!n)return null;Array.isArray(n);var r=void 0,t=void 0,i=void 0;return n.forEach(function(a){a.constructor===un?r=a:function pU(e){return Object.getPrototypeOf(e.constructor)===Ki}(a)?t=a:i=a}),i||t||r||null}(0,s),c}return k(t,r),m(t,[{key:"ngOnChanges",value:function(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){var o=a.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),function Gg(e,n){if(!e.hasOwnProperty("model"))return!1;var r=e.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._getPath(this.name)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){tu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;Lw.then(function(){var s;o.control.setValue(a,{emitViewToModelChange:!1}),null===(s=o._changeDetectorRef)||void 0===s||s.markForCheck()})}},{key:"_updateDisabled",value:function(a){var o=this,s=a.isDisabled.currentValue,u=0!==s&&function tg(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(s);Lw.then(function(){var l;u&&!o.control.disabled?o.control.disable():!u&&o.control.disabled&&o.control.enable(),null===(l=o._changeDetectorRef)||void 0===l||l.markForCheck()})}},{key:"_getPath",value:function(a){return this._parent?function Wc(e,n){return[].concat(B(n.path),[e])}(a,this._parent):[a]}}])}(fi);return(e=n).\u0275fac=function(t){return new(t||e)(x(nt,9),x(qn,10),x(di,10),x(br,10),x(fc,8),x(mo,8))},e.\u0275dir=ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([bU]),fe,Pr]}),n}(),DU={provide:br,useExisting:Ve(function(){return kt}),multi:!0},kt=function(){var e,n=function(r){function t(){return y(this,t),w(this,t,arguments)}return k(t,r),m(t,[{key:"writeValue",value:function(a){this.setProperty("value",a??"")}},{key:"registerOnChange",value:function(a){this.onChange=function(o){a(""==o?null:parseFloat(o))}}}])}(Ki);return(e=n).\u0275fac=function(){var r;return function(i){return(r||(r=Fn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&te("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[$e([DU]),fe]}),n}(),kU={provide:br,useExisting:Ve(function(){return jr}),multi:!0},jr=function(){var e,n=function(r){function t(){return y(this,t),w(this,t,arguments)}return k(t,r),m(t,[{key:"writeValue",value:function(a){this.setProperty("value",parseFloat(a))}},{key:"registerOnChange",value:function(a){this.onChange=function(o){a(""==o?null:parseFloat(o))}}}])}(Ki);return(e=n).\u0275fac=function(){var r;return function(i){return(r||(r=Fn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,i){1&t&&te("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[$e([kU]),fe]}),n}();function qw(e){return"number"==typeof e?e:parseFloat(e)}var $i=function(){var e,n=function(){return m(function r(){y(this,r),this._validator=xg},[{key:"ngOnChanges",value:function(i){if(this.inputName in i){var a=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):xg,this._onChange&&this._onChange()}}},{key:"validate",value:function(i){return this._validator(i)}},{key:"registerOnValidatorChange",value:function(i){this._onChange=i}},{key:"enabled",value:function(i){return null!=i}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275dir=ue({type:e,features:[Pr]}),n}(),VU={provide:qn,useExisting:Ve(function(){return Xg}),multi:!0},Xg=function(){var e,n=function(r){function t(){var i;return y(this,t),(i=w(this,t,arguments)).inputName="max",i.normalizeInput=function(a){return qw(a)},i.createValidator=function(a){return function UH(e){return function(n){if(ci(n.value)||ci(e))return null;var r=parseFloat(n.value);return!isNaN(r)&&r>e?{max:{max:e,actual:n.value}}:null}}(a)},i}return k(t,r),m(t)}($i);return(e=n).\u0275fac=function(){var r;return function(i){return(r||(r=Fn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&Lr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[$e([VU]),fe]}),n}(),BU={provide:qn,useExisting:Ve(function(){return Kc}),multi:!0},Kc=function(){var e,n=function(r){function t(){var i;return y(this,t),(i=w(this,t,arguments)).inputName="min",i.normalizeInput=function(a){return qw(a)},i.createValidator=function(a){return function HH(e){return function(n){if(ci(n.value)||ci(e))return null;var r=parseFloat(n.value);return!isNaN(r)&&r<e?{min:{min:e,actual:n.value}}:null}}(a)},i}return k(t,r),m(t)}($i);return(e=n).\u0275fac=function(){var r;return function(i){return(r||(r=Fn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&Lr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[$e([BU]),fe]}),n}(),qU=function(){var e,n=m(function r(){y(this,r)});return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({}),n}(),Xw=function(){var e,n=function(){function r(){y(this,r)}return m(r,null,[{key:"withConfig",value:function(i){var a;return{ngModule:r,providers:[{provide:mo,useValue:null!==(a=i.callSetDisabledState)&&void 0!==a?a:Gc}]}}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({imports:[qU]}),n}(),YU=function(n){return{background:n}},KU=function(){var e,n=function(){return m(function r(t){y(this,r),h(this,"ref",void 0),h(this,"r",0),h(this,"g",0),h(this,"b",0),h(this,"_data",void 0),this.ref=t},[{key:"data",get:function(){return this._data},set:function(i){var a;this._data=i;var o=null===(a=this.data)||void 0===a?void 0:a.getter();o&&(this.r=o.r,this.g=o.g,this.b=o.b),this.ref.detectChanges()}},{key:"colorStr",get:function(){return this.data?et(this.data.getter()):""}},{key:"input",value:function(){var i,a;null===(i=this.data)||void 0===i||i.setter({r:this.r<0?0:this.r>255?255:this.r,g:this.g<0?0:this.g>255?255:this.g,b:this.b<0?0:this.b>255?255:this.b,a:null===(a=this.data)||void 0===a?void 0:a.getter().a})}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(fc))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-color-picker"]],decls:5,vars:6,consts:[[1,"wrapper"],[1,"preview",3,"ngStyle"],["type","number","title","Rot","min","0","max","255",1,"inp","r",3,"ngModelChange","input","ngModel"],["type","number","title","Gr\xfcn","min","0","max","255",1,"inp","g",3,"ngModelChange","input","ngModel"],["type","number","title","Blau","min","0","max","255",1,"inp","b",3,"ngModelChange","input","ngModel"]],template:function(t,i){1&t&&(E(0,"div",0),Ae(1,"div",1),E(2,"input",2),G("ngModelChange",function(o){return H(i.r,o)||(i.r=o),o}),te("input",function(){return i.input()}),D(),E(3,"input",3),G("ngModelChange",function(o){return H(i.g,o)||(i.g=o),o}),te("input",function(){return i.input()}),D(),E(4,"input",4),G("ngModelChange",function(o){return H(i.b,o)||(i.b=o),o}),te("input",function(){return i.input()}),D()()),2&t&&(P(),X("ngStyle",kn(4,YU,i.colorStr)),P(),j("ngModel",i.r),P(),j("ngModel",i.g),P(),j("ngModel",i.b))},dependencies:[fo,un,kt,yn,Kc,Xg,ln],styles:['.wrapper[_ngcontent-%COMP%]{--width: 100px;width:var(--width)}.preview[_ngcontent-%COMP%]{--size: 40px;width:var(--width);height:var(--size);border-radius:5px}.inp[_ngcontent-%COMP%]{--padding: 5px;--border: 1px;width:calc(var(--width) - 2 * (var(--padding) + var(--border)));padding:var(--padding);margin-top:7px;border-radius:5px;border:var(--border) solid #ddd;transition:all .1s ease-in-out;outline:none;font-size:10pt;font-family:Segoe UI,Calibri,"sans-serif"}.inp[_ngcontent-%COMP%]:hover{border:var(--border) solid #999}.inp[_ngcontent-%COMP%]:active, .inp[_ngcontent-%COMP%]:focus{border:var(--border) solid #555}']})),n}(),$U=["content"],QU=["wrapper"],XU=function(n,r){return{"top.px":n,"left.px":r}},JU=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"content",void 0),h(this,"wrapper",void 0),h(this,"component",void 0),h(this,"position",{x:0,y:0}),h(this,"data",void 0)},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.content.createComponent(this.component).instance.data=this.data}},{key:"getBoundingClientRect",value:function(){return this.wrapper.nativeElement.getBoundingClientRect()}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-hover-menu"]],viewQuery:function(t,i){var a;1&t&&(bt($U,5,Rn),bt(QU,5)),2&t&&(Et(a=Dt())&&(i.content=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:4,vars:4,consts:[["wrapper",""],["content",""],[1,"wrapper",3,"ngStyle"]],template:function(t,i){1&t&&(E(0,"div",2,0),Ae(2,"div",null,1),D()),2&t&&X("ngStyle",Ph(1,XU,i.position.y,i.position.x))},dependencies:[fo],styles:["@keyframes _ngcontent-%COMP%_start{0%{transform:scale(0)}to{transform:scale(1)}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;animation:.1s start ease-in-out;z-index:1}"]})),n}(),e3=function(){var e,n=function(){return m(function r(t){var i=this;y(this,r),h(this,"vc",void 0),h(this,"hoverMenu",void 0),h(this,"appHoverMenu",void 0),h(this,"element",void 0),h(this,"hoverTimeMs",750),h(this,"version",0),h(this,"eventListenerStart",function(){if(!i.hoverMenu){var a=++i.version;setTimeout(function(){i.version===a&&i.openHoverMenu()},i.hoverTimeMs)}}),h(this,"eventListenerEnd",function(a){if(i.hoverMenu&&a instanceof MouseEvent){var o={x:a.clientX,y:a.clientY};(!Qs(o,i.element.getBoundingClientRect())||a.target==i.element)&&(!Qs(o,i.hoverMenu.instance.getBoundingClientRect())||a.target==i.hoverMenu.location.nativeElement)&&(i.hoverMenu.destroy(),i.hoverMenu=void 0)}i.version=0}),this.vc=t,this.element=t.element.nativeElement,this.element.addEventListener("mouseover",this.eventListenerStart),this.element.addEventListener("mousemove",this.eventListenerStart),this.element.addEventListener("mouseleave",this.eventListenerEnd),this.element.addEventListener("click",function(){i.version=0})},[{key:"openHoverMenu",value:function(){if(!this.hoverMenu){this.hoverMenu=this.vc.createComponent(JU),this.hoverMenu.instance.component=this.appHoverMenu.component,this.hoverMenu.instance.data=this.appHoverMenu.data;var i=this.element.getBoundingClientRect();this.hoverMenu.instance.position={x:i.x+i.width/2,y:i.y+i.height/2},this.hoverMenu.location.nativeElement.addEventListener("mouseleave",this.eventListenerEnd)}}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(Rn))}),h(n,"\u0275dir",ue({type:e,selectors:[["","appHoverMenu",""]],inputs:{appHoverMenu:"appHoverMenu"}})),n}(),n3=function(n,r){return{"border-color":n,background:r}},t3=function(n){return{notVisible:n}},Qi=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"color",jn),h(this,"colorChange",new hn),h(this,"visible",!0),h(this,"visibleChange",new hn)},[{key:"ngOnInit",value:function(){}},{key:"changeVisibility",value:function(){this.visible=!this.visible,this.visibleChange.emit(this.visible)}},{key:"colorStr",get:function(){return et(this.color)}},{key:"hoverMenu",get:function(){var i=this;return{component:KU,data:{getter:function(){return i.color},setter:function(o){i.color=o,i.colorChange.emit(o)}}}}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-color-circle"]],inputs:{color:"color",visible:"visible"},outputs:{colorChange:"colorChange",visibleChange:"visibleChange"},decls:1,vars:8,consts:[[1,"colorPicker",3,"click","appHoverMenu","ngStyle","ngClass"]],template:function(t,i){1&t&&(E(0,"div",0),te("click",function(){return i.changeVisibility()}),D()),2&t&&X("appHoverMenu",i.hoverMenu)("ngStyle",Ph(3,n3,i.colorStr,i.colorStr))("ngClass",kn(6,t3,!i.visible))},dependencies:[Qt,fo,e3],styles:[".colorPicker[_ngcontent-%COMP%]{--buttonSize: 46px;--borderThickness: 2px;float:left;width:calc(var(--buttonSize) - 2 * var(--borderThickness));height:calc(var(--buttonSize) - 2 * var(--borderThickness));border:var(--borderThickness) solid;border-radius:100%}.colorPicker.notVisible[_ngcontent-%COMP%]{background:transparent!important}"]})),n}(),r3=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"canvasElement",void 0),i.canvasElement=new he({x:0,y:0}),i}return k(t,r),m(t,[{key:"name",get:function(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}}])}(ui);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-point-formula"]],features:[fe],decls:15,vars:7,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return H(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return H(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"div")(3,"p",2),Ae(4,"span"),S(5),E(6,"span")(7,"input",3),G("ngModelChange",function(o){return H(i.canvasElement.x,o)||(i.canvasElement.x=o),o}),D()(),S(8," | "),E(9,"span")(10,"input",3),G("ngModelChange",function(o){return H(i.canvasElement.y,o)||(i.canvasElement.y=o),o}),D()(),S(11," ) "),D()(),E(12,"button",4),te("click",function(o){return i.threePointsClicked(o)}),E(13,"span",5),S(14,"more_vert"),D()()()),2&t&&(P(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(4),yr(" ",i.name,"( "),P(2),X("disabled",i.canvasElement.dependent),j("ngModel",i.canvasElement.x),P(3),X("disabled",i.canvasElement.dependent),j("ngModel",i.canvasElement.y))},dependencies:[un,kt,yn,ln,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}']})),n}(),$c=function(e){function n(r){var t,i;return y(this,n),h(i=w(this,n),"removeListener",function(a){void 0!==a&&a.removeCanvasElements(i)}),h(i,"resetTempListener",void 0),(t=i).addDependency.apply(t,B(r)),i.onAdd.addListener(function(a){void 0!==a&&void 0!==i.resetTempListener&&a.onBeforeElementsDraw.addListener(i.resetTempListener)}),i.onRemove.addListener(function(a){void 0!==a&&void 0!==i.resetTempListener&&a.onBeforeElementsDraw.removeListener(i.resetTempListener)}),i}return k(n,e),m(n,[{key:"addDependency",value:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];for(var o=0,s=i;o<s.length;o++)s[o].onRemove.addListener(this.removeListener)}}])}(qi),Xi=m(function e(){y(this,e),h(this,"dialog",void 0)}),i3=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"dialogData",void 0),i}return k(t,r),m(t,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-point-element"]],features:[fe],decls:28,vars:8,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths"],["title","Name","type","text",1,"input",3,"ngModelChange","ngModel"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"p",1),S(2,"Punkt bearbeiten"),D(),E(3,"p",2),Ae(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),D(),S(6," ( "),E(7,"span")(8,"input",4),G("ngModelChange",function(o){return H(i.dialogData.x,o)||(i.dialogData.x=o),o}),D()(),S(9," | "),E(10,"span")(11,"input",4),G("ngModelChange",function(o){return H(i.dialogData.y,o)||(i.dialogData.y=o),o}),D()(),S(12," ) "),D(),E(13,"div",5)(14,"input",6),G("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),D(),E(15,"label",7),S(16,"Label als LaTeX rendern"),D()(),E(17,"div",8)(18,"input",9),G("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(19,"label",10),S(20,"Label schwarz anzeigen"),D()(),E(21,"div",11)(22,"label",12),S(23,"Labelgr\xf6\xdfe:"),D(),Ae(24,"br"),E(25,"input",13),G("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(26,"button",14),te("click",function(){return i.dialog.close()}),S(27,"Schlie\xdfen"),D()()),2&t&&(P(5),j("ngModel",i.name),P(3),X("disabled",i.dialogData.dependent),j("ngModel",i.dialogData.x),P(3),X("disabled",i.dialogData.dependent),j("ngModel",i.dialogData.y),P(3),j("ngModel",i.latex),P(4),j("ngModel",i.displayBlack),P(7),j("ngModel",i.labelSize))},dependencies:[un,kt,jr,zr,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),he=function(e){function n(r){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(t=w(this,n,[o]),"dependent",void 0),h(t,"componentType",r3),h(t,"formulaDialogType",i3),h(t,"_stroke",{r:100,g:100,b:100}),h(t,"_strokeWidth",3),h(t,"_radius",5),h(t,"_x",void 0),h(t,"_y",void 0),h(t,"selected",!1),t.dependent=a,t._x=r?.x,t._y=r?.y,t._color=i,t._visible=s,t.configuration.showLabel=u,t}return k(n,e),m(n,[{key:"stroke",get:function(){return this._stroke},set:function(t){this._stroke=t,this.onChange.emit(t)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=t,this.onChange.emit(t)}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.onChange.emit(t)}},{key:"x",get:function(){return this._x},set:function(t){this.dependent||(this._x=t,this.onChange.emit(t))}},{key:"y",get:function(){return this._y},set:function(t){this.dependent||(this._y=t,this.onChange.emit(t))}},{key:"point",get:function(){if(void 0!==this.x&&void 0!==this.y)return{x:this.x,y:this.y}},set:function(t){this.dependent||this.forceSetPoint(t)}},{key:"forceSetPoint",value:function(t){this._x=t?.x,this._y=t?.y,this.onChange.emit(t)}},{key:"draw",value:function(t){var a=this.point;void 0!==a&&Qs(a,t.range,1.75*this.radius/t.zoom)&&((this.selected||-1!==t.selection.indexOf(this))&&t.drawCircle(a,1.75*this.radius/t.zoom,wt(this.color,.3)),t.drawCircle(a,this.radius/t.zoom,this.color,this.stroke,this.strokeWidth))}},{key:"getDistance",value:function(t,i){var a=this.point;if(void 0!==a)return Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2))-this.radius/i.zoom}},{key:"getPositionForLabel",value:function(t){var a=this.x,o=this.y;if(void 0!==a&&void 0!==o)return{x:a+15/t.zoom,y:o+15/t.zoom}}},{key:"serialize",value:function(){return{data:{x:this.x,y:this.y,dependent:this.dependent},style:{color:this.color,stroke:this.stroke,size:this.radius,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(t,i,a){var o=i.data;this.forceSetPoint(void 0===o.x||void 0===o.y?void 0:{x:o.x,y:o.y}),this.dependent=o.dependent,this.loadStyle(i.style)}},{key:"loadStyle",value:function(t){var i,a,o;this.color=t.color,this.visible=t.visible,this.radius=null!==(i=t.size)&&void 0!==i?i:this.radius,this.stroke=null!==(a=t.stroke)&&void 0!==a?a:this.stroke,this.strokeWidth=null!==(o=t.strokeWidth)&&void 0!==o?o:this.strokeWidth}}],[{key:"getDefaultInstance",value:function(){return new n(void 0)}}])}($c),a3=["componentNeighbor"],o3=["filler"],s3=function(n){return{display:n}},u3=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"componentNeighbor",void 0),h(this,"filler",void 0),h(this,"componentType",void 0),h(this,"component",void 0),h(this,"opened",!1),h(this,"dialog",void 0)},[{key:"open",value:function(i,a){var o=this;this.dialog=a,setTimeout(function(){o.componentType&&o.componentNeighbor&&(o.component=o.componentNeighbor.createComponent(o.componentType),o.component.instance.dialogData=i,o.component.instance.dialog=a,o.opened=!0)})}},{key:"close",value:function(){if(this.component){var i,a=this.component.instance.dialogData;return null===(i=this.dialog)||void 0===i||i.destroy(),this.opened=!1,a}return null}},{key:"onFillerClicked",value:function(i){this.filler&&this.filler.nativeElement===i.target&&this.close()}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-dialog"]],viewQuery:function(t,i){var a;1&t&&(bt(a3,5,Rn),bt(o3,5)),2&t&&(Et(a=Dt())&&(i.componentNeighbor=a.first),Et(a=Dt())&&(i.filler=a.first))},decls:5,vars:3,consts:[["filler",""],["componentNeighbor",""],[1,"filler",3,"click","ngStyle"],[1,"wrapper"],[1,"componentNeighbor"]],template:function(t,i){if(1&t){var a=Vr();E(0,"div",2,0),te("click",function(s){return Ye(a),Ke(i.onFillerClicked(s))}),E(2,"div",3),Ae(3,"div",4,1),D()()}2&t&&X("ngStyle",kn(1,s3,i.opened?"flex":"none"))},dependencies:[fo],styles:["@keyframes _ngcontent-%COMP%_animateFillerDialog{0%{background-color:#0000}to{background-color:#0007}}@keyframes _ngcontent-%COMP%_animateWrapperDialog{0%{transform:scale(0)}to{transform:scale(1)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;background-color:#0007;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_animateFillerDialog .1s ease-in-out;overflow:auto}.wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperDialog .1s ease-in-out}.componentNeighbor[_ngcontent-%COMP%]{display:none}"]})),n}(),l3=function(){return m(function e(n,r){y(this,e),h(this,"dialogComponentRef",void 0),h(this,"componentType",void 0),h(this,"dialogComponent",void 0),this.dialogComponentRef=n,this.componentType=r,this.dialogComponent=this.dialogComponentRef.instance,this.dialogComponent.componentType=r},[{key:"open",value:function(r){this.dialogComponent.open(r,this)}},{key:"close",value:function(){return this.dialogComponent.close()}},{key:"destroy",value:function(){this.dialogComponentRef.destroy()}}])}(),iu=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"rootViewContainerRef",void 0)},[{key:"createDialog",value:function(i){if(!this.rootViewContainerRef)return null;var a=this.rootViewContainerRef.createComponent(u3);return new l3(a,i)}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275prov",ge({token:e,factory:e.\u0275fac,providedIn:"root"})),n}();function c3(e,n){if(1&e&&(E(0,"span"),S(1," von "),E(2,"span",7),S(3),D()()),2&e){var r=en();P(3),nn(r.canvasElement.description[1]())}}var d3=function(){var e,n=function(r){function t(i){var a;return y(this,t),h(a=w(this,t),"dialogService",void 0),h(a,"canvasElement",void 0),a.dialogService=i,a}return k(t,r),m(t,[{key:"elementCountStr",get:function(){var a=this.canvasElement.size;return 0===a?"Keine Elemente":1===a?"Ein Element":"".concat(a," Elemente")}}])}(ui);return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(iu))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-dependency-point-element-formula"]],features:[fe],decls:10,vars:5,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[4,"ngIf"],[1,"elementCount"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"maths"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return H(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return H(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"p",2),S(3),Ln(4,c3,4,1,"span",3),E(5,"span",4),S(6),D()(),E(7,"button",5),te("click",function(o){return i.threePointsClicked(o)}),E(8,"span",6),S(9,"more_vert"),D()()()),2&t&&(P(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(2),yr(" ",i.canvasElement.description[0],""),P(),X("ngIf",void 0!==i.canvasElement.description[1]()),P(2),nn(i.elementCountStr))},dependencies:[co,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.elementCount[_ngcontent-%COMP%]{font-size:10pt;color:gray;margin-left:7px}']})),n}(),Tn=function(e){function n(r,t){var i;return y(this,n),h(i=w(this,n),"str",void 0),i.str=t,i.operation=r,i}return k(n,e),m(n,[{key:"operation",get:function(){return this.childOperations.getItem(0)},set:function(t){this.childOperations.setItem(0,t)}},{key:"simplify",value:function(){return this.operation=this.operation.simplify(),this}},{key:"toString",value:function(){return"".concat(this.str,"(").concat(this.operation.toString(),")")}}])}(Gn),vi=function(e){function n(){var r,t;y(this,n),h(t=w(this,n),"_summands",void 0);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t._summands=a,(r=t.childOperations).push.apply(r,a),t}return k(n,e),m(n,[{key:"evaluate",value:function(t){var o,i=0,a=A(this._summands);try{for(a.s();!(o=a.n()).done;)i+=o.value.evaluate(t)}catch(u){a.e(u)}finally{a.f()}return i}},{key:"derive",value:function(t){return Je(n,B(this._summands.map(function(i){return i.derive(t)})))}},{key:"summands",get:function(){return this._summands.slice()}},{key:"toString",value:function(){if(0==this._summands.length)return"0";for(var t="(".concat(this._summands[0].toString()),i=1;i<this._summands.length;i++)t+=" + ".concat(this._summands[i].toString());return t+")"}},{key:"simplify",value:function(){var t=0,i=this._summands.map(function(l){return l.simplify()}).filter(function(l){return!(l instanceof Ce&&(t+=l.constant,1))});if(0!=t&&(i=[new Ce(t)].concat(B(i))),0==i.length)return new Ce(0);if(1==i.length)return i[0];var s,a=[],o=A(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;u instanceof n?a.push.apply(a,B(u._summands)):a.push(u)}}catch(l){o.e(l)}finally{o.f()}return a.length!=i.length?Je(n,a).simplify():Je(n,B(i))}}])}(Gn),yo=function(e){function n(r,t){var i;return y(this,n),h(i=w(this,n),"minuend",void 0),h(i,"subtrahend",void 0),i.minuend=r,i.subtrahend=t,i.childOperations.push(i.minuend,i.subtrahend),i}return k(n,e),m(n,[{key:"evaluate",value:function(t){return this.minuend.evaluate(t)-this.subtrahend.evaluate(t)}},{key:"derive",value:function(t){return new n(this.minuend.derive(t),this.subtrahend.derive(t))}},{key:"toString",value:function(){return"(".concat(this.minuend.toString()," - ").concat(this.subtrahend.toString(),")")}},{key:"simplify",value:function(){var t=this.minuend.simplify(),i=this.subtrahend.simplify();if(i instanceof Ce){if(0==i.constant)return t;if(t instanceof Ce)return new Ce(t.constant-i.constant).simplify()}return t instanceof Ce&&0==t.constant?new Xe(new Ce(-1),i).simplify():t instanceof vi?Je(vi,B(t.summands).concat([new Xe(new Ce(-1),i)])).simplify():i instanceof vi?new vi(t,Je(vi,B(i.summands.map(function(a){return new Xe(new Ce(-1),a)})))).simplify():new n(t,i)}}])}(Gn),Jw=function(e){function n(r){return y(this,n),w(this,n,[r,"ln"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.log(this.operation.evaluate(t))}},{key:"derive",value:function(t){return new Ji(this.operation.derive(t),this.operation)}},{key:"toString",value:function(){return"ln (".concat(this.operation.toString(),")")}},{key:"simplify",value:function(){var t=this.operation.simplify();if(t instanceof Ce){if(1==t.constant)return new Ce(0);if(t.constant==Math.E)return new Ce(1)}return new n(t)}}])}(Tn),Er=function(e){function n(r,t){var i;return y(this,n),h(i=w(this,n),"base",void 0),h(i,"exponent",void 0),i.base=r,i.exponent=t,i.childOperations.push(i.base,i.exponent),i}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.pow(this.base.evaluate(t),this.exponent.evaluate(t))}},{key:"derive",value:function(t){return new Xe(new n(this.base,this.exponent),new vi(new Xe(this.exponent.derive(t),new Jw(this.base)),new Xe(this.exponent,new Ji(this.base.derive(t),this.base))))}},{key:"toString",value:function(){return"((".concat(this.base.toString(),") ^ (").concat(this.exponent.toString(),"))")}},{key:"simplify",value:function(){var t=this.base.simplify(),i=this.exponent.simplify();if(i instanceof Ce){if(1==i.constant)return t;if(0==i.constant)return new Ce(1)}return t instanceof Ce&&1==t.constant?new Ce(1):t instanceof n?new n(t.base,new Xe(t.exponent,i)).simplify():new n(t,i)}}])}(Gn),Ji=function(e){function n(r,t){var i;return y(this,n),h(i=w(this,n),"dividend",void 0),h(i,"divisor",void 0),i.dividend=r,i.divisor=t,i.childOperations.push(i.dividend,i.divisor),i}return k(n,e),m(n,[{key:"evaluate",value:function(t){return this.dividend.evaluate(t)/this.divisor.evaluate(t)}},{key:"derive",value:function(t){return new n(new yo(new Xe(this.dividend.derive(t),this.divisor),new Xe(this.dividend,this.divisor.derive(t))),new Er(this.divisor,new Ce(2)))}},{key:"toString",value:function(){return"(".concat(this.dividend.toString()," / ").concat(this.divisor.toString(),")")}},{key:"simplify",value:function(){var t=this.dividend.simplify(),i=this.divisor.simplify();if(i instanceof Ce&&1==i.constant)return t;if(t instanceof Ce&&0==t.constant)return new Ce(0);if(t instanceof n)return new n(t.dividend,new Xe(t.divisor,i)).simplify();if(i instanceof n)return new n(new Xe(t,i.divisor),i.dividend).simplify();if(i instanceof Nt&&t instanceof Xe)for(var a=t.factors,o=0;o<a.length;o++){var s=a[o];if(s instanceof Nt&&s.key===i.key)return a.splice(o,1),Je(Xe,B(a)).simplify();if(s instanceof Er&&s.base instanceof Nt&&s.base.key===i.key)return a.splice(o,1,new Er(s.base,new yo(s.exponent,new Ce(1)))),Je(Xe,B(a)).simplify()}if(i instanceof Er&&i.base instanceof Nt&&t instanceof Xe)for(var u=t.factors,l=0;l<u.length;l++){var c=u[l];if(c instanceof Nt&&c.key===i.base.key)return u.splice(l,1,new Er(i.base,new yo(new Ce(1),i.exponent))),Je(Xe,B(u)).simplify();if(c instanceof Er&&c.base instanceof Nt&&c.base.key===i.base.key)return u.splice(l,1,new Er(c.base,new yo(c.exponent,i.exponent))),Je(Xe,B(u)).simplify()}return new n(t,i)}}])}(Gn),Xe=function(e){function n(){var r,t;y(this,n),h(t=w(this,n),"_factors",void 0);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t._factors=a,(r=t.childOperations).push.apply(r,a),t}return k(n,e),m(n,[{key:"evaluate",value:function(t){var o,i=1,a=A(this._factors);try{for(a.s();!(o=a.n()).done;)i*=o.value.evaluate(t)}catch(u){a.e(u)}finally{a.f()}return i}},{key:"derive",value:function(t){for(var i=this,a=[],o=function(l){var c=i._factors.map(function(d,f){return f==l?d.derive(t):d});a.push(Je(n,B(c)))},s=0;s<this._factors.length;s++)o(s);return Je(vi,a)}},{key:"factors",get:function(){return this._factors.slice()}},{key:"toString",value:function(){if(0==this._factors.length)return"1";for(var t="(".concat(this._factors[0].toString()),i=1;i<this._factors.length;i++)t+=" * ".concat(this._factors[i].toString());return t+")"}},{key:"simplify",value:function(){var t=1,i=this._factors.map(function(d){return d.simplify()}).filter(function(d){return!(d instanceof Ce&&(t*=d.constant,1))});if(1!==t&&(i=[new Ce(t)].concat(B(i))),jM(i,function(d){return d instanceof Ce&&0==d.constant}))return new Ce(0);if(0===i.length)return new Ce(1);if(1===i.length)return i[0];for(var a=0;a<i.length;a++){var o=i[a];if(o instanceof Ji)return i.splice(a,1,o.dividend),new Ji(Je(n,B(i)),o.divisor).simplify()}var l,s=[],u=A(i);try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof n?s.push.apply(s,B(c._factors)):s.push(c)}}catch(d){u.e(d)}finally{u.f()}return s.length!==i.length?Je(n,s).simplify():Je(n,B(i))}}])}(Gn),ea=function(e){function n(r,t,i){var a;return y(this,n),h(a=w(this,n,[i,r]),"funcKey",void 0),h(a,"funcProvider",void 0),a.funcKey=r,a.funcProvider=t,a}return k(n,e),m(n,[{key:"derive",value:function(t){return new Xe(this.operation.derive(t),new n(function f3(e){return e+"'"}(this.funcKey),this.funcProvider,this.operation))}},{key:"evaluate",value:function(t){var i=this.func;if(void 0===i)throw"Func doesn't exist!";return i.evaluate(this.operation.evaluate(t),function eH(e){return JSON.parse(JSON.stringify(e))}(t))}},{key:"func",get:function(){return this.funcProvider(this.funcKey)}}])}(Tn),ek="'";function ep(e){var n=[],r=[];if(e instanceof Nt&&n.push(e.key),e instanceof ea){var t,i=null===(t=e.func)||void 0===t?void 0:t.name;void 0!==i&&r.push(i)}return e.childOperations.forEach(function(a){var o,s,u=ep(a);(o=n).push.apply(o,B(u.variableNames)),(s=r).push.apply(s,B(u.externalFuncNames))}),n=GM(n),r=GM(r),{variableNames:n,externalFuncNames:r}}function nk(e){return Qc(e,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}function Qc(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof ho)return Qc(e.operation,n);if(e instanceof ea&&(e.funcKey===n.name||r&&Xc(e.funcKey)===Xc(n.name)))return!0;var t=!1;if(e.childOperations.forEach(function(a){t=t||Qc(a,n)}),e instanceof ea){var i=e.func;void 0!==i&&(t=t||Qc(i,n))}return t}function Dr(e,n){if(void 0===e)return!1;if(e instanceof ho)return Dr(e.operation,n);if(e instanceof Nt&&e.key===n)return!0;var r=!1;return e.childOperations.forEach(function(t){r=r||Dr(t,n)}),e instanceof ea&&(r=r||Dr(e.func,n)),r}function Xc(e){if(e){for(var n=e;n.endsWith(ek);)n=n.substring(0,n.length-1);return n}}function Jc(e){for(var n=0,r=e;r.endsWith(ek);)r=r.substring(0,r.length-1),n++;return n}function au(e,n,r,t,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=(r+t)/2,l=(t-r)/2;if(i<=0)try{var c=[],d=e.evaluate(r,n),f=e.evaluate(t,n);if(!s&&0===d&&(!a||e.evaluate(r-l,n)*e.evaluate(r+l,n)<0)&&c.push(r),0===f&&(!a||e.evaluate(t-l,n)*e.evaluate(t+l,n)<0)&&c.push(t),d*f<0&&isFinite(d)&&isFinite(f))if(o){var v=function h3(e){try{var n=e.derive();return nk(n),n}catch{return}}(e);(!v||d*v.evaluate(r,n)<=0&&f*v.evaluate(t,n)>=0)&&c.push(u)}else c.push(u);return c}catch{return[]}return[].concat(B(au(e,n,r,u,i-1,a,o,s)),B(au(e,n,u,t,i-1,a,o,!0)))}function rk(e,n,r,t,i){return au(e.derive(),n,r,t,i,!0)}var ou=[10,10],_3=function(){return m(function e(n,r,t,i,a){y(this,e),h(this,"ctx",void 0),h(this,"transformations",void 0),h(this,"_variables",void 0),h(this,"selection",void 0),h(this,"config",void 0),this.ctx=n,this.transformations=r,this._variables=t,this.selection=i,this.config=a},[{key:"transformPointFromCanvasToField",value:function(r){return{x:r.x/this.transformations.zoom-this.transformations.translateX,y:-r.y/this.transformations.zoom-this.transformations.translateY}}},{key:"transformPointFromFieldToCanvas",value:function(r){return{x:(r.x+this.transformations.translateX)*this.transformations.zoom,y:-(r.y+this.transformations.translateY)*this.transformations.zoom}}},{key:"transformRectFromCanvasToField",value:function(r){var t=this.transformPointFromCanvasToField(r);return{x:t.x,y:t.y,width:r.width/this.transformations.zoom,height:-r.height/this.transformations.zoom}}},{key:"transformRectFromFieldToCanvas",value:function(r){var t=this.transformPointFromFieldToCanvas(r);return{x:t.x,y:t.y,width:r.width*this.transformations.zoom,height:-r.height*this.transformations.zoom}}},{key:"zoom",get:function(){return this.transformations.zoom}},{key:"step",get:function(){return 1/this.transformations.zoom}},{key:"range",get:function(){return this.transformRectFromCanvasToField({x:0,y:0,width:this.ctx.canvas.width,height:this.ctx.canvas.height})}},{key:"variables",get:function(){return re({},this._variables)}},{key:"getRightColor",value:function(r){var t;return void 0===(null===(t=this.config)||void 0===t?void 0:t.transformColor)?r:this.config.transformColor(r)}},{key:"drawPath",value:function(r,t,i,a,o){var s=this,u=r.map(function(f){return s.transformPointFromFieldToCanvas(f)});if(this.ctx.beginPath(),this.ctx.lineWidth=t,this.ctx.strokeStyle=et(this.getRightColor(i)),this.ctx.setLineDash(o?ou:[]),0!=u.length){var l=u[0];this.ctx.moveTo(l.x,l.y);for(var c=1;c<u.length;c++){var d=u[c];this.ctx.lineTo(d.x,d.y)}this.ctx.stroke(),a&&(this.ctx.fillStyle=et(this.getRightColor(a)),this.ctx.fill()),this.ctx.closePath()}}},{key:"drawLine",value:function(r,t,i,a,o){this.drawPath([r,t],i,a,void 0,o)}},{key:"drawText",value:function(r,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sans-serif",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"start",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"alphabetic",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"inherit",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{r:0,g:0,b:0},c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Jt,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3,f=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,g=this.transformPointFromFieldToCanvas(t),p=this.ctx;this.ctx.setLineDash(f?ou:[]);for(var C=[],b="",_=0;_<r.length;_++)"_"===r.charAt(_)&&_+1<r.length&&!v?(C.push(b),b="",C.push(r.charAt(_+1)),_++):b+=r.charAt(_);""!==b&&C.push(b),p.textAlign=o,p.textBaseline=s,p.direction=u,p.fillStyle=et(this.getRightColor(l)),p.strokeStyle=et(this.getRightColor(c)),p.lineWidth=d;for(var I=g.x,O=0;O<C.length;O++){var V=C[O],N=g.y;O%2==0?p.font="".concat(i,"px ").concat(a):(p.font="".concat(3*i/4,"px ").concat(a),N+=i/3),p.strokeText(V,I,N),p.fillText(V,I,N),I+=p.measureText(V).width+1}}},{key:"measureText",value:function(r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sans-serif",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"start",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"alphabetic",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"inherit",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,l=this.ctx;return l.font="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,"px ").concat(i),l.textAlign=a,l.textBaseline=o,l.direction=s,l.lineWidth=u,l.measureText(r)}},{key:"drawEllipse",value:function(r,t,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jn,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jt,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.ctx.setLineDash((arguments.length>7?arguments[7]:void 0)?ou:[]),this.ctx.lineWidth=u,this.ctx.strokeStyle=et(this.getRightColor(s)),this.ctx.fillStyle=et(this.getRightColor(o));var c=this.transformPointFromFieldToCanvas(r),d=t*this.zoom,f=i*this.zoom;this.ctx.beginPath(),this.ctx.ellipse(c.x,c.y,d,f,a,0,2*Math.PI),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}},{key:"drawCircle",value:function(r,t){this.drawEllipse(r,t,t,0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn,arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jt,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5?arguments[5]:void 0)}},{key:"drawCircleSector",value:function(r,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jt,s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;this.ctx.lineWidth=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,this.ctx.strokeStyle=et(this.getRightColor(a)),this.ctx.fillStyle=et(this.getRightColor(i));var c=this.transformPointFromFieldToCanvas(r),d=t*this.zoom;this.ctx.setLineDash(l?ou:[]),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(c.x,c.y),this.ctx.arc(c.x,c.y,d,s,u),this.ctx.lineTo(c.x,c.y),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}},{key:"drawRect",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jt,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.ctx.setLineDash((arguments.length>4?arguments[4]:void 0)?ou:[]),this.ctx.lineWidth=a,this.ctx.strokeStyle=et(this.getRightColor(i)),this.ctx.fillStyle=et(this.getRightColor(t));var s=this.transformRectFromFieldToCanvas(r);this.ctx.fillRect(s.x,s.y,s.width,s.height)}},{key:"drawImage",value:function(r,t,i,a){var o=this.transformPointFromFieldToCanvas(t);this.ctx.drawImage(r,o.x,o.y,i,a)}}])}(),C3=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"draw",value:function(t){var i;if(void 0===(null===(i=t.config)||void 0===i?void 0:i.showGrid)||t.config.showGrid){var a,o,s,u,l=er(t.range),c=99/t.zoom,f=Math.round(Math.log(c)/Math.log(2)+.5),v=Math.round(c/Math.pow(2,f)+.5)*Math.pow(2,f);if(0==v)return;for(var g=null===(a=null===(o=t.config)||void 0===o?void 0:o.showNumbers)||void 0===a||a,p=15/t.zoom,C=zM(l.y+p,-p,l.y+l.height-p),b=C==l.y+p,_=zM(l.x+p,-p,l.x+l.width-p),M=_==l.x+p,O="sans-serif",V=null!==(s=null===(u=t.config)||void 0===u?void 0:u.gridColor)&&void 0!==s?s:{r:100,g:100,b:100},N=l.x-l.x%(v/2);N<l.x+l.width;N+=v/2){var W=N%v==0;if(t.drawLine({x:N,y:l.y},{x:N,y:l.y+l.height},0===N?3:W?1:.5,V),0===N){var K=15/t.zoom,le=.5/t.zoom;t.drawPath([{x:N+le,y:l.y+l.height+3/t.zoom},{x:N-K/4+le,y:l.y+l.height-K},{x:N+K/4+le,y:l.y+l.height-K}],0,V,V)}else W&&g&&t.drawText(N.toLocaleString(),{x:N,y:C},15,O,"center",b?"bottom":"top")}for(var ve=l.y-l.y%(v/2);ve<l.y+l.height;ve+=v/2){var be=ve%v==0;if(t.drawLine({x:l.x,y:ve},{x:l.x+l.width,y:ve},0===ve?3:be?1:.5,V),0===ve){var je=15/t.zoom,tn=.5/t.zoom;t.drawPath([{x:l.x+l.width+3/t.zoom,y:ve+tn},{x:l.x+l.width-je,y:ve-je/4+tn},{x:l.x+l.width-je,y:ve+je/4+tn}],0,V,V)}else be&&g&&t.drawText(ve.toLocaleString(),{x:_,y:ve},15,O,M?"left":"right","middle")}l.y<=-p&&l.y+l.height>=-p&&l.x<=-p&&l.x+l.width>=-p&&g&&t.drawText("0",{x:-p,y:-p},15,O,"right","top")}}}])}(RM),b3=function(e){function n(r,t){var i;return y(this,n),h(i=w(this,n),"value",void 0),h(i,"modulo",void 0),i.value=r,i.modulo=t,i.childOperations.push(i.value,i.modulo),i}return k(n,e),m(n,[{key:"evaluate",value:function(t){return this.value.evaluate(t)%this.modulo.evaluate(t)}},{key:"derive",value:function(){throw"not implemented yet"}},{key:"toString",value:function(){return"(".concat(this.value.toString()," % ").concat(this.modulo.toString(),")")}},{key:"simplify",value:function(){return new n(this.value.simplify(),this.modulo.simplify())}}])}(Gn),np=function(e){function n(r){return y(this,n),w(this,n,[r,"cos"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.cos(this.operation.evaluate(t))}},{key:"derive",value:function(t){return new Xe(new Ce(-1),this.operation.derive(t),new ik(this.operation))}},{key:"toString",value:function(){return"cos(".concat(this.operation.toString(),")")}}])}(Tn),ik=function(e){function n(r){return y(this,n),w(this,n,[r,"sin"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.sin(this.operation.evaluate(t))}},{key:"derive",value:function(t){return new Xe(this.operation.derive(t),new np(this.operation))}}])}(Tn),E3=function(e){function n(r){return y(this,n),w(this,n,[r,"tan"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.tan(this.operation.evaluate(t))}},{key:"derive",value:function(t){return new Ji(this.operation.derive(t),new Er(new np(this.operation),new Ce(2)))}}])}(Tn),D3=function(e){function n(r){return y(this,n),w(this,n,[r,"sec"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return 1/Math.cos(this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),M3=function(e){function n(r){return y(this,n),w(this,n,[r,"csc"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return 1/Math.sin(this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),w3=function(e){function n(r){return y(this,n),w(this,n,[r,"cot"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return 1/Math.tan(this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),k3=function(e){function n(r){return y(this,n),w(this,n,[r,"asin"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.asin(this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),S3=function(e){function n(r){return y(this,n),w(this,n,[r,"acos"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.acos(this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),I3=function(e){function n(r){return y(this,n),w(this,n,[r,"atan"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.atan(this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),T3=function(e){function n(r){return y(this,n),w(this,n,[r,"asec"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.acos(1/this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),P3=function(e){function n(r){return y(this,n),w(this,n,[r,"acsc"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.asin(1/this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),O3=function(e){function n(r){return y(this,n),w(this,n,[r,"acot"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.PI/2-Math.atan(this.operation.evaluate(t))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),A3=function(e){function n(r,t){var i;return y(this,n),h(i=w(this,n),"base",void 0),h(i,"exponent",void 0),i.base=r,i.exponent=t,i.childOperations.push(i.base,i.exponent),i}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.pow(this.base.evaluate(t),1/this.exponent.evaluate(t))}},{key:"derive",value:function(t){return new Er(this.base,new Ji(new Ce(1),this.exponent)).derive(t)}},{key:"toString",value:function(){return"((".concat(this.base.toString(),") ^ (1 / (").concat(this.exponent.toString(),")))")}},{key:"simplify",value:function(){var t=this.base.simplify(),i=this.exponent.simplify();return i instanceof Ce&&1==i.constant?t:t instanceof Ce&&1==t.constant?new Ce(1):new n(t,i)}}])}(Gn),x3=function(e){function n(){return y(this,n),w(this,n,[Math.PI])}return k(n,e),m(n,[{key:"toString",value:function(){return"pi"}}])}(Ce),N3=function(e){function n(){return y(this,n),w(this,n,[Math.E])}return k(n,e),m(n,[{key:"toString",value:function(){return"e"}}])}(Ce),F3=function(e){function n(r){return y(this,n),w(this,n,[r,"abs"])}return k(n,e),m(n,[{key:"derive",value:function(){throw"not implemented yet"}},{key:"evaluate",value:function(t){return Math.abs(this.operation.evaluate(t))}}])}(Tn),R3=function(e){function n(r){return y(this,n),w(this,n,[r,"sgn"])}return k(n,e),m(n,[{key:"derive",value:function(){throw"not implemented yet"}},{key:"evaluate",value:function(t){return Math.sign(this.operation.evaluate(t))}}])}(Tn),ak=function(e){function n(r){return y(this,n),w(this,n,[r,"cosh"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.cosh(this.operation.evaluate(t))}},{key:"derive",value:function(t){return new Xe(this.operation.derive(t),new ok(this.operation))}}])}(Tn),ok=function(e){function n(r){return y(this,n),w(this,n,[r,"sinh"])}return k(n,e),m(n,[{key:"evaluate",value:function(t){return Math.sinh(this.operation.evaluate(t))}},{key:"derive",value:function(t){return new Xe(this.operation.derive(t),new ak(this.operation))}}])}(Tn),sk=[["^",function(e,n){return new Er(e,n)}]],uk=[["*",function(e,n){return new Xe(e,n)}],["/",function(e,n){return new Ji(e,n)}],["%",function(e,n){return new b3(e,n)}]],lk=[["+",function(e,n){return new vi(e,n)}],["-",function(e,n){return new yo(e,n)}]],ck=[].concat(sk,uk,lk),L3=sk.map(function(e){return e[0]}),V3=uk.map(function(e){return e[0]}),B3=lk.map(function(e){return e[0]}),_o=ck.map(function(e){return e[0]}),H3=[["sin",function(e){return new ik(e)}],["asin",function(e){return new k3(e)}],["csc",function(e){return new M3(e)}],["acsc",function(e){return new P3(e)}],["cos",function(e){return new np(e)}],["acos",function(e){return new S3(e)}],["sec",function(e){return new D3(e)}],["asec",function(e){return new T3(e)}],["tan",function(e){return new E3(e)}],["atan",function(e){return new I3(e)}],["cot",function(e){return new w3(e)}],["acot",function(e){return new O3(e)}],["ln",function(e){return new Jw(e)}],["sqrt",function(e){return new A3(e,new Ce(2))}],["abs",function(e){return new F3(e)}],["sgn",function(e){return new R3(e)}],["sinh",function(e){return new ok(e)}],["cosh",function(e){return new ak(e)}]],U3=[["pi",function(){return new x3}],["e",function(){return new N3}]],su=[" ","\t","\r","\n"],hi=["(","["],ed=[")","]"],nd=[].concat(hi,ed),dk=[].concat(su,B(_o),B(nd)),z3=[["**","^"],["\xb2","^2"],["\xb3","^3"]],j3=[["arcsin","asin"],["arccos","acos"],["arctan","atan"],["arcsec","asec"],["arccsc","acsc"],["arccot","acot"],["sign","sgn"]],G3=[["\u03c0","pi"]],Gr="syntax error",fk=function(){return m(function e(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];y(this,e),h(this,"str",void 0),h(this,"funcProvider",void 0),h(this,"changingVariables",void 0),h(this,"formattedString",void 0),h(this,"stringSplit",void 0),h(this,"parseTree",void 0),h(this,"operation",void 0),this.str=n,this.funcProvider=r,this.changingVariables=t},[{key:"formatString",value:function(){if(!this.formattedString){this.formattedString=this.str.trim();for(var r=0,t=z3;r<t.length;r++){var i=t[r];this.formattedString=q5(this.formattedString,i[0],i[1])}}return this.formattedString}},{key:"splitString",value:function(){if(!this.stringSplit){if(!this.formattedString)throw"string not formatted yet";this.stringSplit=[];for(var r="",t=0;t<this.formattedString.length;t++){var i=!1,a=this.formattedString.charAt(t);(-1!==[].concat(B(_o),su,B(nd)).indexOf(a)||-1!==[].concat(B(_o),B(nd)).indexOf(r)||Xs(r)&&!Xs(r+a))&&(i=!0),i&&""!==r&&(this.stringSplit.push(r),r=""),-1===su.indexOf(a)&&(r+=a)}""!=r&&this.stringSplit.push(r);for(var o=0;o<this.stringSplit.length-1;o++)o+1==this.stringSplit.length||Wn(hi,this.stringSplit[o])||Wn(ed,this.stringSplit[o+1])||Wn(hi,this.stringSplit[o+1])&&!Wn(ed,this.stringSplit[o])&&!Xs(this.stringSplit[o])||Wn(_o,this.stringSplit[o])||Wn(_o,this.stringSplit[o+1])||Xs(this.stringSplit[o+1])?"+"!=this.stringSplit[o]||0!=o&&!Wn(hi,this.stringSplit[o-1])?"-"==this.stringSplit[o]&&(0==o||Wn(hi,this.stringSplit[o-1]))&&this.stringSplit.splice(o,1,"-1","*"):(this.stringSplit.splice(o,1),o--):this.stringSplit.splice(o+1,0,"*")}return this.stringSplit}},{key:"parseToTree",value:function(){if(!this.parseTree){if(!this.stringSplit)throw"string not split yet";this.parseTree=function t(i){if(0==i.length)throw Gr;if(1==i.length){var a=i[0];if("string"==typeof a){if(!Wn(dk,a))return{value:WM(a,G3)};throw Gr}return a}for(var o=B(i);Wn.apply(void 0,[o].concat(hi));){var s=Ig.apply(void 0,[o].concat(hi)),u=Q5(o,hi,ed,s,Gr)+1,l=o.splice(s,u-s);o.splice(s,0,t(l.splice(1,u-s-2)))}for(var c=function(V,N){return"string"==typeof V&&"string"!=typeof N&&!Wn(dk,V)};K5(o,c);){var d=Y5(o,c);if(d==o.length-1)throw Gr;var f=WM(o[d],j3),v=o[d+1];if(Wn(nd,v)||Wn(_o,v))throw Gr;o.splice(d,2,{value:f,first:t([v])})}for(var g=0,p=[L3,V3,B3];g<p.length;g++)for(var C=p[g];Wn.apply(void 0,[o].concat(B(C)));){var b=Ig.apply(void 0,[o].concat(B(C)));if(-1==b||0==b||b==o.length-1)throw Gr;var _=o.splice(b-1,3),M={value:_[1],first:t([_[0]]),second:t([_[2]])};o.splice(b-1,0,M)}if(1==o.length){var I=o[0];if("string"!=typeof I)return I}throw Gr}(this.stringSplit)}return this.parseTree}},{key:"createOperation",value:function(){var r=this;if(!this.operation){if(!this.parseTree)throw"tree not created yet";this.operation=function i(a){if(void 0!==a.first&&void 0!==a.second){var s,o=A(ck);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(a.value===u[0])return u[1](i(a.first),i(a.second))}}catch(b){o.e(b)}finally{o.f()}}else{if(void 0!==a.first&&void 0===a.second){for(var l=0,c=H3;l<c.length;l++){var d=c[l];if(a.value===d[0])return d[1](i(a.first))}return new ea(a.value,r.funcProvider,i(a.first))}if(void 0===a.first&&void 0===a.second){if(Xs(a.value))return new Ce(HM(a.value));for(var f=0;f<r.changingVariables.length;f++)if(r.changingVariables[f]===a.value)return new Nt(a.value,f);for(var g=0,p=U3;g<p.length;g++){var C=p[g];if(a.value===C[0])return C[1]()}return new Nt(a.value)}}throw Gr}(this.parseTree)}return this.operation}},{key:"parse",value:function(){return this.formatString(),this.splitString(),this.parseToTree(),this.createOperation()}}])}(),vk="couldn't split the function",tp=["="],W3=function(){return m(function e(n,r){y(this,e),h(this,"str",void 0),h(this,"funcProvider",void 0),h(this,"funcMetaData",void 0),h(this,"funcOperation",void 0),h(this,"func",void 0),this.str=n,this.funcProvider=r},[{key:"splitString",value:function(){if(!this.funcOperation||!this.funcMetaData)if(Rc.apply(void 0,[this.str].concat(tp))){var r=UM.apply(void 0,[this.str].concat(tp)),t=this.str.slice(0,r).trim(),i=this.str.slice(r+1,this.str.length);if(Rc.apply(void 0,[i].concat(tp))||0===t.length)throw vk;if(this.funcOperation=i,"y"==t)this.funcMetaData={variable:"x"};else{var a=t.split(/(\(|\))/).map(function(o){return o.trim()}).filter(function(o){return""!==o});if(4!==a.length||Rc.apply(void 0,[a[0]].concat(B(su)))||Rc.apply(void 0,[a[2]].concat(B(su)))||"("!=a[1]||")"!=a[3]||0===a[0].length||-1==="abcdefghijklmnopqrstuvwxyz_".indexOf(a[0].charAt(0).toLowerCase()))throw vk;this.funcMetaData={name:a[0],variable:a[2]}}}else this.funcOperation=this.str,this.funcMetaData={variable:"x"};return[this.funcMetaData,this.funcOperation]}},{key:"parseOperation",value:function(){if(this.funcOperation&&this.funcMetaData){if(!this.func){var t=new fk(this.funcOperation,this.funcProvider,[this.funcMetaData.variable]).parse();this.func=new ho(t,this.funcMetaData.name,this.funcMetaData.variable)}return this.func}throw"func not split yet!"}},{key:"parse",value:function(){return this.splitString(),this.parseOperation()}}])}(),rp=function(){return m(function e(){y(this,e),h(this,"dict",void 0);for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];this.dict=r},[{key:"getItem",value:function(r){var i,t=A(this.dict);try{for(t.s();!(i=t.n()).done;){var a=i.value;if(a[0]===r)return a[1]}}catch(o){t.e(o)}finally{t.f()}}},{key:"setItem",value:function(r,t){for(var i=0;i<this.dict.length;i++)if(this.dict[i][0]===r)return void(this.dict[i][1]=t);this.dict.push([r,t])}},{key:"delItem",value:function(r){var t=this.indexOfKey(r);return t>=0&&(this.dict.splice(t,1),!0)}},{key:"hasKey",value:function(r){var i,t=A(this.dict);try{for(t.s();!(i=t.n()).done;)if(i.value[0]===r)return!0}catch(o){t.e(o)}finally{t.f()}return!1}},{key:"indexOfKey",value:function(r){for(var t=0;t<this.dict.length;t++)if(this.dict[t][0]===r)return t;return-1}},{key:"keys",get:function(){return this.dict.map(function(r){return r[0]})}},{key:"values",get:function(){return this.dict.map(function(r){return r[1]})}},{key:"empty",value:function(){this.dict=[]}},{key:"size",get:function(){return this.dict.length}}])}(),q3=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"_canvasElement",void 0),h(i,"min",-5),h(i,"max",5),i._canvasElement=new Co("",0),i}return k(t,r),m(t,[{key:"ngOnInit",value:function(){}},{key:"canvasElement",get:function(){return this._canvasElement},set:function(a){var o=this;this._canvasElement=a,a.onChange.addListener(function(){o.setMinMax(o.canvasElement.value)})}},{key:"setMinMax",value:function(a){this.min=Math.min(a,this.min),this.max=Math.max(a,this.max)}}])}(ui);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-variable-formula"]],features:[fe],decls:8,vars:5,consts:[[1,"text"],[1,"span"],["type","number","step","any",1,"input",3,"ngModelChange","ngModel"],[1,"iconButton","floatRight",3,"click"],[1,"material-symbols-outlined"],["type","range","step","any",1,"slider",3,"ngModelChange","ngModel","min","max"]],template:function(t,i){1&t&&(E(0,"span",0),S(1),D(),E(2,"span",1)(3,"input",2),G("ngModelChange",function(o){return H(i.canvasElement.value,o)||(i.canvasElement.value=o),o}),D()(),E(4,"button",3),te("click",function(o){return i.threePointsClicked(o)}),E(5,"span",4),S(6,"more_vert"),D()(),E(7,"input",5),G("ngModelChange",function(o){return H(i.canvasElement.value,o)||(i.canvasElement.value=o),o}),D()),2&t&&(P(),yr("",i.canvasElement.key," = "),P(2),j("ngModel",i.canvasElement.value),P(4),j("ngModel",i.canvasElement.value),X("min",i.min)("max",i.max))},dependencies:[un,kt,jr,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.text[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{height:30px;font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.text[_ngcontent-%COMP%]{user-select:none}.span[_ngcontent-%COMP%]{--padding: 7px;--border: 1px;display:inline-flex;overflow:hidden;right:0;margin-right:0;padding-right:calc(2 * (var(--padding) + var(--border)))}.input[_ngcontent-%COMP%]{width:200px}.slider[_ngcontent-%COMP%]{width:100%;margin-top:16px}']})),n}(),Co=function(e){function n(r,t){var i;return y(this,n),h(i=w(this,n),"componentType",q3),h(i,"formulaDialogType",void 0),h(i,"_value",void 0),h(i,"_key",void 0),i._key=r,i._value=t,i.visible=!1,i}return k(n,e),m(n,[{key:"draw",value:function(){}},{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.onChange.emit(t)}},{key:"key",get:function(){return this._key},set:function(t){this._key=t,this.onChange.emit(t)}},{key:"serialize",value:function(){return{data:{value:this.value,key:this.key},style:{color:this.color,visible:this.visible}}}},{key:"loadFrom",value:function(t,i){var a=i.data;this.color=i.style.color,this.visible=i.style.visible,this.key=a.key,this.value=a.value}}],[{key:"getDefaultInstance",value:function(){return new n("",0)}}])}(qi),Z3=function(){return m(function e(){y(this,e),h(this,"_ts",[]),h(this,"onSelectionChanged",new dt)},[{key:"empty",value:function(){var r=this._ts;this._ts=[],this.onSelectionChanged.emit(r)}},{key:"set",value:function(r){this._ts=void 0!==r?[r]:[],this.onSelectionChanged.emit(r)}},{key:"add",value:function(r){return void 0!==r&&!this.contains(r)&&(this._ts.push(r),this.onSelectionChanged.emit(r),!0)}},{key:"remove",value:function(r){if(void 0===r)return!1;var t=this._ts.indexOf(r);return t>=0&&(this._ts.splice(t,1),this.onSelectionChanged.emit(r),!0)}},{key:"contains",value:function(r){return void 0===r||-1!==this._ts.indexOf(r)}},{key:"alternate",value:function(r){return void 0!==r&&(this.contains(r)?(this.remove(r),!1):(this.add(r),!0))}},{key:"toArray",value:function(){return this._ts.slice()}},{key:"size",get:function(){return this._ts.length}}])}(),Y3=[{r:18,g:128,b:234},{r:214,g:78,b:78},{r:78,g:194,b:98},{r:88,g:88,b:224},{r:255,g:148,b:148},{r:255,g:234,b:38},{r:224,g:48,b:224},{r:48,g:224,b:224},{r:227,g:131,b:30},{r:180,g:180,b:30},{r:113,g:35,b:103}],K3=m(function e(){y(this,e),h(this,"transformInvisibleColor",void 0)}),Mr=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(t,i,a,o,s){t.translateX+=(o.x-a.x)/s.pointerCount,t.translateY+=(o.y-a.y)/s.pointerCount}},{key:"click",value:function(t,i,a,o){t.setSelection(a,!o.ctrlKey)}}])}(K3);function td(e,n){if(void 0!==e&&void 0!==n){var r=n.y-e.y,t=e.x-n.x;return{a:r,b:t,c:r*e.x+t*e.y}}}function ip(e){if(void 0!==e&&(0!==e.a||0!==e.b))return 0===e.a?[{x:0,y:e.c/e.b},{x:1,y:e.c/e.b}]:[{x:e.c/e.a,y:0},{x:(e.c-e.b)/e.a,y:1}]}function ap(e,n){var r=e.b,t=-e.a;return{a:r,b:t,c:r*n.x+t*n.y}}function uu(e,n){if(void 0!==e&&void 0!==n)return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}function op(e,n){var r,t=td(e,n);return void 0===t||void 0===e||void 0===n?[void 0,void 0]:null!==(r=ip(ap(t,uu(e,n))))&&void 0!==r?r:[void 0,void 0]}function hk(e,n,r){if(void 0===e||void 0===n||void 0===r)return[[void 0,void 0],[void 0,void 0]];var i=uu(e,n),a=sp(n,r,i,si(i,e));return[[e,a[0]],[e,a[1]]]}function bo(e,n){var r=e.b*n.a-e.a*n.b;if(0!==r){var i=(e.c*n.a-e.a*n.c)/r;return{y:i,x:0!==e.a?(e.c-e.b*i)/e.a:(n.c-n.b*i)/n.a}}}function rd(e,n,r){if(0===e.a){if(0===e.b)return[void 0,void 0];var a=rd({a:e.b,b:e.a,c:e.c},{x:n.y,y:n.x},r);return[void 0===a[0]?void 0:{x:a[0].y,y:a[0].x},void 0===a[1]?void 0:{x:a[1].y,y:a[1].x}]}var o=Math.pow(e.b/e.a,2)+1,s=-2*e.c*e.b/Math.pow(e.a,2)-2*n.y+2*e.b*n.x/e.a,u=Math.pow(e.c,2)/Math.pow(e.a,2)+Math.pow(n.x,2)+Math.pow(n.y,2)-Math.pow(r,2)-2*e.c*n.x/e.a,l=Math.pow(s,2)-4*o*u;if(l<0)return[void 0,void 0];if(0===l){var c=-s/(2*o);return[{x:(e.c-e.b*c)/e.a,y:c},void 0]}var d=(-s-Math.sqrt(l))/(2*o),f=(-s+Math.sqrt(l))/(2*o);return[{x:(e.c-e.b*d)/e.a,y:d},{x:(e.c-e.b*f)/e.a,y:f}]}function sp(e,n,r,t){var i=function(M){var I=Math.pow(n,2)-Math.pow(M,2);return I<0?[void 0,void 0]:0===I?[{x:0,y:M},void 0]:[{x:Math.sqrt(I),y:M},{x:-Math.sqrt(I),y:M}]},a=function(M){return void 0===M?Number.MAX_VALUE:Math.abs(Math.pow(M.x-r.x,2)+Math.pow(M.y-r.y,2)-t*t)};if(0!==e.x||0!==e.y)return sp({x:0,y:0},n,{x:r.x-e.x,y:r.y-e.y},t).map(function(_){if(void 0!==_)return{x:_.x+e.x,y:_.y+e.y}});var s=r.x,u=r.y,l=t*t-n*n-s*s-u*u,c=s*s*4+u*u*4,d=4*l*u,f=s*s*-4*(n*n)+l*l,v=Math.pow(d,2)-4*c*f;if(0===c||v<0)return[void 0,void 0];if(0===v)return[i(-d/(2*c)).sort(function(_,M){return a(_)-a(M)})[0],void 0];var b=[].concat(B(i((-d+Math.sqrt(v))/(2*c))),B(i((-d-Math.sqrt(v))/(2*c)))).sort(function(_,M){return a(_)-a(M)});return[b[0],b[1]]}function gi(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}var ez=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"dialogData",void 0),i}return k(t,r),m(t,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"abcForm",get:function(){var a=this.dialogData.getABCFormLine();if(void 0===a)return"kann nicht konstruiert werden";var o=Math.pow(10,2),s=Math.round(a.a*o)/o,u=Math.round(a.b*o)/o,l=Math.round(a.c*o)/o;return"".concat(s.toLocaleString()," \xb7 x + ").concat(u.toLocaleString()," \xb7 y = ").concat(l.toLocaleString())}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-abstract-line-element"]],features:[fe],decls:29,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"p",1),S(2,"Allgemeine Geradenform:"),D(),E(3,"p",2),Ae(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"p",4)(8,"span"),S(9),D()(),E(10,"div",5)(11,"input",6),G("ngModelChange",function(o){return H(i.dashed,o)||(i.dashed=o),o}),D(),E(12,"label",7),S(13,"Gestrichelt anzeigen"),D()(),E(14,"div",8)(15,"input",9),G("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),D(),E(16,"label",10),S(17,"Label als LaTeX rendern"),D()(),E(18,"div",11)(19,"input",12),G("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(20,"label",13),S(21,"Label schwarz anzeigen"),D()(),E(22,"div",14)(23,"label",15),S(24,"Labelgr\xf6\xdfe:"),D(),Ae(25,"br"),E(26,"input",16),G("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(27,"button",17),te("click",function(){return i.dialog.close()}),S(28,"Schlie\xdfen"),D()()),2&t&&(P(5),j("ngModel",i.name),P(4),nn(i.abcForm),P(2),j("ngModel",i.dashed),P(4),j("ngModel",i.latex),P(4),j("ngModel",i.displayBlack),P(7),j("ngModel",i.labelSize))},dependencies:[un,jr,zr,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),wr=function(e){function n(r,t){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:0,g:0,b:0},o=arguments.length>3?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return y(this,n),h(i=w(this,n,[t]),"lineWidth",void 0),h(i,"formulaDialogType",ez),h(i,"_pointsProvider",void 0),h(i,"_tempPoints",void 0),h(i,"resetTempListener",function(){i._tempPoints=void 0}),i.lineWidth=u,i.configuration.formula=o,i.configuration.showLabel=l,i._color=a,i._visible=s,i._pointsProvider=r,i}return k(n,e),m(n,[{key:"point1",get:function(){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[0]}},{key:"point2",get:function(){return null==this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[1]}},{key:"pointsProvider",get:function(){return this._pointsProvider},set:function(t){this._pointsProvider=t,this.onChange.emit(t)}},{key:"getDistance",value:function(t,i){var a=this.getClosestPointOnLineToPoint(t);if(void 0!==a)return si(t,a)}},{key:"getABCFormLine",value:function(){return td(this.point1,this.point2)}},{key:"getClosestPointOnLineToPoint",value:function(t){var i=this.getABCFormLine();if(void 0!==i)return bo(i,ap(i,t))}}])}($c),lu=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"canvasElement",void 0),i.canvasElement=new vt(function(){return[void 0,void 0]},[],function(){return{subType:"",els:[]}}),i}return k(t,r),m(t,[{key:"ngOnInit",value:function(){}},{key:"labelString",get:function(){var a=this.canvasElement.configuration.formula,o=this.canvasElement.configuration.label;return void 0!==o&&void 0!==a?a+" "+o:void 0!==o?o:void 0!==a?a:" "}}])}(ui);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-geometric-formula"]],features:[fe],decls:8,vars:3,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return H(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return H(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"p",2)(3,"span"),S(4),D()(),E(5,"button",3),te("click",function(o){return i.threePointsClicked(o)}),E(6,"span",4),S(7,"more_vert"),D()()()),2&t&&(P(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(3),nn(i.labelString))},dependencies:[Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;user-select:none;height:var(--buttonSize);line-height:var(--buttonSize)}']})),n}(),ft=function(e){function n(r,t,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=w(this,n,[r,t,o,s,u,l,c]),"dataProvider",void 0),h(a,"componentType",lu),a.dataProvider=i,a}return k(n,e),m(n,[{key:"draw",value:function(t){var i=this.point1,a=this.point2;void 0!==i&&void 0!==a&&!BM(i,a)&&(-1!==t.selection.indexOf(this)&&t.drawPath([i,a],this.lineWidth*na,wt(this._color,hu),void 0,this.configuration.dashed),t.drawPath([i,a],this.lineWidth,this.color,void 0,this.configuration.dashed))}},{key:"getDistance",value:function(t,i){var a=this.getClosestPointOnLineToPoint(t),o=this.point1,s=this.point2;if(void 0!==a&&void 0!==o&&void 0!==s)return mn(a.x,o.x,s.x)&&mn(a.y,o.y,s.y)?si(t,a):Math.min(si(o,a),si(s,a))}},{key:"getPositionForLabel",value:function(t){var i=t.zoom,o=uu(this.point1,this.point2);if(void 0!==o)return{x:o.x+15/i,y:o.y+15/i}}},{key:"serialize",value:function(){return{data:this.dataProvider(),style:{color:this.color,visible:this.visible,size:this.lineWidth}}}},{key:"loadFrom",value:function(t,i){var a;this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(a=i.style.size)&&void 0!==a?a:this.lineWidth;var o=i.data,s=t[o.p1],u=t[o.p2];s instanceof he&&u instanceof he&&(this.pointsProvider=function(){return[s.point,u.point]},this.dataProvider=function(){return{p1:s.id,p2:u.id}},this.addDependency(s,u))}}],[{key:"getDefaultInstance",value:function(){return new n(function(){return[void 0,void 0]},[],function(){return{p1:-1,p2:-1}})}}])}(wr);function nz(e,n){if(1&e&&(E(0,"table")(1,"tr")(2,"td")(3,"p",15),S(4,"Radius:"),D()(),E(5,"td")(6,"p",16)(7,"span"),S(8),D()()()(),E(9,"tr")(10,"td")(11,"p",15),S(12,"Mittelpunkt:"),D()(),E(13,"td")(14,"p",16),S(15),D()()()()),2&e){var r=en();P(8),nn(r.radius),P(7),Fs("( ",r.pointX," | ",r.pointY," )")}}function tz(e,n){1&e&&(E(0,"div")(1,"p",16),S(2,"Kreis konnte nicht konstruiert werden."),D()())}var Eo=Math.pow(10,2),rz=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"dialogData",void 0),i}return k(t,r),m(t,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"isDefined",value:function(){return void 0!==this.dialogData.point&&void 0!==this.dialogData.radius}},{key:"radius",get:function(){return(Math.round(this.dialogData.radius*Eo)/Eo).toLocaleString()}},{key:"pointX",get:function(){return(Math.round(this.dialogData.point.x*Eo)/Eo).toLocaleString()}},{key:"pointY",get:function(){return(Math.round(this.dialogData.point.y*Eo)/Eo).toLocaleString()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-circle-element"]],features:[fe],decls:24,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],[4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"paragraph"],[1,"paragraph","maths","centered"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"p",1),S(2,"Kreis:"),D(),E(3,"p",2),Ae(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"div",4)(8,"input",5),G("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),D(),E(9,"label",6),S(10,"Label als LaTeX rendern"),D()(),E(11,"div",7)(12,"input",8),G("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(13,"label",9),S(14,"Label schwarz anzeigen"),D()(),E(15,"div",10)(16,"label",11),S(17,"Labelgr\xf6\xdfe:"),D(),Ae(18,"br"),E(19,"input",12),G("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),D()(),Ln(20,nz,16,3,"table",13)(21,tz,3,0,"div",13),E(22,"button",14),te("click",function(){return i.dialog.close()}),S(23,"Schlie\xdfen"),D()()),2&t&&(P(5),j("ngModel",i.name),P(3),j("ngModel",i.latex),P(4),j("ngModel",i.displayBlack),P(7),j("ngModel",i.labelSize),P(),X("ngIf",i.isDefined()),P(),X("ngIf",!i.isDefined()))},dependencies:[co,un,jr,zr,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}td[_ngcontent-%COMP%]{padding-left:16px;padding-top:7px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),St=function(e){function n(r,t,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{r:0,g:0,b:0},u=arguments.length>5?arguments[5]:void 0,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:3,d=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return y(this,n),h(o=w(this,n,[i]),"dataProvider",void 0),h(o,"lineWidth",void 0),h(o,"componentType",lu),h(o,"formulaDialogType",rz),h(o,"_pointProvider",void 0),h(o,"_tempPoint",void 0),h(o,"_radiusProvider",void 0),h(o,"_tempRadius",void 0),h(o,"resetTempListener",function(){o._tempPoint=void 0,o._tempRadius=void 0}),o.dataProvider=a,o.lineWidth=c,o.configuration.formula=u,o.configuration.showLabel=d,o._color=s,o._visible=l,o._pointProvider=r,o._radiusProvider=t,o}return k(n,e),m(n,[{key:"point",get:function(){return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),this._tempPoint}},{key:"pointProvider",get:function(){return this._pointProvider},set:function(t){this._pointProvider=t,this.onChange.emit(t)}},{key:"radius",get:function(){return void 0===this._tempRadius&&(this._tempRadius=this._radiusProvider()),this._tempRadius}},{key:"radiusProvider",get:function(){return this._radiusProvider},set:function(t){this._radiusProvider=t,this.onChange.emit(t)}},{key:"draw",value:function(t){var i=this.point,a=this.radius;void 0!==i&&void 0!==a&&(-1!==t.selection.indexOf(this)&&t.drawCircle(i,a,Jt,wt(this._color,hu),this.lineWidth*na,this.configuration.dashed),t.drawCircle(i,a,Jt,this.color,this.lineWidth,this.configuration.dashed))}},{key:"getPositionForLabel",value:function(t){var i=15/t.zoom,a=this.point,o=this.radius;if(void 0!==a&&void 0!==o)return{x:a.x+o/Math.SQRT2+i,y:a.y+o/Math.SQRT2+i}}},{key:"getDistance",value:function(t,i){var a=this.point,o=this.radius;if(void 0!==a&&void 0!==o)return Math.abs(si(a,t)-o)}},{key:"serialize",value:function(){return{style:{color:this.color,size:this.lineWidth,visible:this.visible},data:this.dataProvider()}}},{key:"loadFrom",value:function(t,i){if(void 0!==i.data.center&&void 0!==i.data.scdPoint){var a,o=t[i.data.center],s=t[i.data.scdPoint];o instanceof he&&s instanceof he&&(this.pointProvider=function(){return o.point},this.radiusProvider=function(){return function G5(e,n){if(void 0!==e&&void 0!==n)return si(e,n)}(o.point,s.point)},this.dataProvider=function(){return{center:o.id,scdPoint:s.id}},this.addDependency(o,s)),this.color=i.style.color,this.lineWidth=null!==(a=i.style.size)&&void 0!==a?a:this.lineWidth,this.visible=i.style.visible}}}],[{key:"getDefaultInstance",value:function(){return new n(function(){},function(){},[],function(){return{center:-1,scdPoint:-1}})}}])}($c),gk="angle_bisector",up="bisection",pk="connection",mk="orthogonal",yk="parallel",lp="tangens",vt=function(e){function n(r,t,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=w(this,n,[r,t,o,s,u,l,c]),"subTypeAndDataProvider",void 0),h(a,"componentType",lu),a.subTypeAndDataProvider=i,a}return k(n,e),m(n,[{key:"draw",value:function(t){var i=this.point1,a=this.point2;if(void 0!==i&&void 0!==a&&!BM(i,a)){var u,l,o=t.range,s=this.getABCFormLine();0===s.a?(u={x:o.x,y:s.c/s.b},l={x:o.x+o.width,y:s.c/s.b}):s.a>s.b||0===s.b?(u={x:(s.c-s.b*o.y)/s.a,y:o.y},l={x:(s.c-s.b*(o.y+o.height))/s.a,y:o.y+o.height}):(u={x:o.x,y:(s.c-s.a*o.x)/s.b},l={x:o.x+o.width,y:(s.c-s.a*(o.x+o.width))/s.b}),-1!==t.selection.indexOf(this)&&t.drawPath([u,l],this.lineWidth*na,wt(this._color,hu),void 0,this.configuration.dashed),t.drawPath([u,l],this.lineWidth,this.color,void 0,this.configuration.dashed)}}},{key:"getPositionForLabel",value:function(t){var i=er(t.range),a=50/t.zoom,o=this.getABCFormLine();if(void 0!==o){var s={x:i.x+a,y:i.y+a,width:i.width-2*a,height:i.height-2*a},u=bo(o,{a:0,b:1,c:s.y}),l=bo(o,{a:0,b:1,c:s.y+s.height}),c=void 0!==l&&mn(l.x,s.x,s.x+s.width),d=bo(o,{a:1,b:0,c:s.x+s.width}),f=void 0!==u&&mn(u.x,s.x,s.x+s.width);if(void 0!==d&&mn(d.y,s.y,s.y+s.height))return d;if(c&&f)return l.x>u.x?l:u;if(c)return l;if(f)return u}}},{key:"serialize",value:function(){var t=this.subTypeAndDataProvider();return{data:{els:t.els,index:t.index},subType:t.subType,style:{color:this.color,size:this.lineWidth,visible:this.visible}}}},{key:"loadFrom",value:function(t,i,a){var o,c,v,s=i.data,u=[],l=A(s.els);try{for(l.s();!(c=l.n()).done;){var f=t[c.value];void 0!==f&&this.addDependency(f),u.push(f)}}catch(p){l.e(p)}finally{l.f()}if(this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.size)&&void 0!==o?o:this.lineWidth,i.subType===gk&&3===u.length&&u[0]instanceof he&&u[1]instanceof he&&u[2]instanceof he)v=n.createAngleBisector(u[0],u[1],u[2]);else if(i.subType===up)if(1===u.length&&u[0]instanceof ft)v=n.createBisectionByLineSegment(u[0]);else{if(!(2===u.length&&u[0]instanceof he&&u[1]instanceof he))return;v=n.createBisectionByPoints(u[0],u[1])}else if(i.subType===pk&&2===u.length&&u[0]instanceof he&&u[1]instanceof he)v=n.createConnection(u[0],u[1]);else if(i.subType===mk&&2===u.length&&u[0]instanceof he&&u[1]instanceof wr)v=n.createOrthogonal(u[0],u[1]);else if(i.subType===yk&&2===u.length&&u[0]instanceof he&&u[1]instanceof wr)v=n.createParallel(u[0],u[1]);else{if(!(i.subType===lp&&2===u.length&&u[0]instanceof he&&u[1]instanceof St))return;var g;v=n.createTangens(u[0],u[1])[null!==(g=s.index)&&void 0!==g?g:0]}this.pointsProvider=v.pointsProvider,this.subTypeAndDataProvider=v.subTypeAndDataProvider}}],[{key:"createAngleBisector",value:function(t,i,a){return new n(function(){return function J3(e,n,r){var t=td(n,e),i=td(r,e);if(void 0===t||void 0===e||void 0===n||void 0===r||void 0===i)return[void 0,void 0];var a=n.y-e.y,o=r.y-e.y,s=Math.sign(a*o),u=(s=0===s?Math.sign(a+o):s)>0?0:1;return op(rd(t,e,1)[0],rd(i,e,1)[u])}(t.point,i.point,a.point)},[t,i,a],function(){return{subType:gk,els:[t.id,i.id,a.id]}},Vn,"Winkelhalbierende")}},{key:"createBisectionByPoints",value:function(t,i){return new n(function(){return op(t.point,i.point)},[t,i],function(){return{subType:up,els:[t.id,i.id]}},Vn,"Mittelsenkrechte")}},{key:"createBisectionByLineSegment",value:function(t){return new n(function(){return function X3(e){return op(e.point1,e.point2)}(t)},[t],function(){return{subType:up,els:[t.id]}},Vn,"Mittelsenkrechte")}},{key:"createConnection",value:function(t,i){return new n(function(){return[t.point,i.point]},[t,i],function(){return{subType:pk,els:[t.id,i.id]}},Vn,"Verbindungsgerade")}},{key:"createOrthogonal",value:function(t,i){return new n(function(){var a,o=i.getABCFormLine(),s=t.point;if(void 0===o||void 0===s)return[void 0,void 0];var u=ap(o,s);if(i instanceof ft){var l=bo(o,u),c=i.point1,d=i.point2;if(void 0===l||void 0===c||void 0===d)return[void 0,void 0];if(!mn(l.x,c.x,d.x)||!mn(l.y,c.y,d.y))return[void 0,void 0]}return null!==(a=ip(u))&&void 0!==a?a:[void 0,void 0]},[t,i],function(){return{subType:mk,els:[t.id,i.id]}},Vn,"Lot")}},{key:"createParallel",value:function(t,i){return new n(function(){return function $3(e,n){var r;return void 0===e||void 0===n?[void 0,void 0]:null!==(r=ip({a:e.a,b:e.b,c:e.a*n.x+e.b*n.y}))&&void 0!==r?r:[void 0,void 0]}(i.getABCFormLine(),t.point)},[t,i],function(){return{subType:yk,els:[t.id,i.id]}},Vn,"Parallele")}},{key:"createTangens",value:function(t,i){return[new n(function(){return hk(t.point,i.point,i.radius)[0]},[t,i],function(){return{subType:lp,els:[t.id,i.id],index:0}},Vn,"Tangente"),new n(function(){return hk(t.point,i.point,i.radius)[1]},[t,i],function(){return{subType:lp,els:[t.id,i.id],index:1}},Vn,"Tangente")]}},{key:"getDefaultInstance",value:function(){return new n(function(){return[void 0,void 0]},[],function(){return{subType:"",els:[]}})}}])}(wr),iz=function(n){return{noMargin:n}},id=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"_from",0),h(this,"fromChange",new hn),h(this,"_to",0),h(this,"toChange",new hn),h(this,"noMargin",!1)},[{key:"fromForTemplate",get:function(){return this._from},set:function(i){this._from=i,this.fromChange.emit(i)}},{key:"from",set:function(i){this._from=i}},{key:"toForTemplate",get:function(){return this._to},set:function(i){this._to=i,this.toChange.emit(i)}},{key:"to",set:function(i){this._to=i}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-interval"]],inputs:{from:"from",to:"to",noMargin:"noMargin"},outputs:{fromChange:"fromChange",toChange:"toChange"},decls:6,vars:5,consts:[[1,"maths",3,"ngClass"],["step","any","type","number","title","Von (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"],["step","any","type","number","title","Bis (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"]],template:function(t,i){1&t&&(E(0,"p",0),S(1," ["),E(2,"input",1),G("ngModelChange",function(o){return H(i.fromForTemplate,o)||(i.fromForTemplate=o),o}),D(),S(3,"; "),E(4,"input",2),G("ngModelChange",function(o){return H(i.toForTemplate,o)||(i.toForTemplate=o),o}),D(),S(5,"]\n"),D()),2&t&&(X("ngClass",kn(3,iz,i.noMargin)),P(2),j("ngModel",i.fromForTemplate),P(2),j("ngModel",i.toForTemplate))},dependencies:[Qt,un,kt,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.noMargin[_ngcontent-%COMP%]{margin:0}']})),n}();function az(e,n){if(1&e&&(E(0,"span"),S(1," von "),E(2,"span",12),S(3),D()()),2&e){var r=en(2);P(3),nn(r.canvasElement.graph.func.name)}}function oz(e,n){if(1&e&&(E(0,"p",10),S(1,"Bestimmtes Integral "),Ln(2,az,4,1,"span",11),D()),2&e){var r=en();P(2),X("ngIf",null==r.canvasElement.graph.func?null:r.canvasElement.graph.func.name)}}function sz(e,n){if(1&e&&(E(0,"span"),S(1," von "),E(2,"span",12),S(3),D()()),2&e){var r=en(2);P(3),Fs("",r.canvasElement.graph.func.name,", ",r.canvasElement.secondGraph.func.name,"")}}function uz(e,n){if(1&e&&(E(0,"p",10),S(1,"Fl\xe4che zwischen Graphen "),Ln(2,sz,4,2,"span",11),D()),2&e){var r=en();P(2),X("ngIf",(null==r.canvasElement.graph.func?null:r.canvasElement.graph.func.name)&&(null==r.canvasElement.secondGraph.func?null:r.canvasElement.secondGraph.func.name))}}var lz=function(){var e,n=function(r){function t(){var i;y(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return h(i=w(this,t,[].concat(o)),"canvasElement",void 0),i}return k(t,r),m(t)}(ui);return e=n,h(n,"\u0275fac",function(){var r;return function(i){return(r||(r=Fn(e)))(i||e)}}()),h(n,"\u0275cmp",we({type:e,selectors:[["app-definite-integral-formula"]],features:[fe],decls:17,vars:9,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],["class","paragraph description",4,"ngIf"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","intervalParagraph"],[1,"interval",3,"fromChange","toChange","noMargin","from","to"],[1,"paragraph"],["min","0","step","any","type","number","title","Schrittweite der Integralbestimmung",1,"input",3,"ngModelChange","ngModel"],["title","N\xe4herungsweise bestimmter Wert",1,"maths"],[1,"paragraph","description"],[4,"ngIf"],[1,"maths"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return H(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return H(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),Ln(2,oz,3,1,"p",2)(3,uz,3,1,"p",2),E(4,"button",3),te("click",function(o){return i.threePointsClicked(o)}),E(5,"span",4),S(6,"more_vert"),D()(),E(7,"p",5),S(8,"Intervall: "),E(9,"app-interval",6),G("fromChange",function(o){return H(i.canvasElement.from,o)||(i.canvasElement.from=o),o})("toChange",function(o){return H(i.canvasElement.to,o)||(i.canvasElement.to=o),o}),D()(),E(10,"p",7),S(11,"Schrittweite: "),E(12,"input",8),G("ngModelChange",function(o){return H(i.canvasElement.h,o)||(i.canvasElement.h=o),o}),D()(),E(13,"p",7),S(14,"\u2192 "),E(15,"span",9),S(16),D()()()),2&t&&(P(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(),X("ngIf",void 0===i.canvasElement.secondGraph),P(),X("ngIf",void 0!==i.canvasElement.secondGraph),P(6),X("noMargin",!0),j("from",i.canvasElement.from)("to",i.canvasElement.to),P(3),j("ngModel",i.canvasElement.h),P(4),nn(i.canvasElement.value.toLocaleString()))},dependencies:[co,un,kt,yn,Kc,ln,Qi,id],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.interval[_ngcontent-%COMP%]{display:inline-block}.intervalParagraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}.input[_ngcontent-%COMP%]{width:75px;display:unset}']})),n}(),ad=function(e){function n(r,t,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jn,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jt,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return y(this,n),h(o=w(this,n),"componentType",lz),h(o,"formulaDialogType",void 0),h(o,"_value",0),h(o,"rects",[]),h(o,"_graph",void 0),h(o,"_secondGraph",void 0),h(o,"_stroke",void 0),h(o,"_strokeWidth",void 0),h(o,"_h",1),h(o,"_from",void 0),h(o,"_to",void 0),o._graph=r,o._secondGraph=t,o._color=u,o._stroke=l,o._strokeWidth=c,o._visible=d,o._h=s,o._from=i,o._to=a,o}return k(n,e),m(n,[{key:"value",get:function(){return this._value},set:function(t){this._value=t}},{key:"graph",get:function(){return this._graph},set:function(t){this._graph=t,this.onChange.emit(t)}},{key:"secondGraph",get:function(){return this._secondGraph},set:function(t){this._secondGraph=t,this.onChange.emit(t)}},{key:"stroke",get:function(){return this._stroke},set:function(t){this._stroke=t,this.onChange.emit(t)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=t,this.onChange.emit(t)}},{key:"h",get:function(){return this._h},set:function(t){this._h=this.correctH(t),this.onChange.emit(this._h)}},{key:"correctH",value:function(t){return t<0?t=-t:t||(t=1),t}},{key:"from",get:function(){return this._from},set:function(t){this._from=Math.min(t,this.to),this.onChange.emit(this._from)}},{key:"to",get:function(){return this._to},set:function(t){this._to=Math.max(t,this.from),this.onChange.emit(this._to)}},{key:"reload",value:function(t){for(var i=this,a=[],o=0,s=function(d,f){if(0!==f&&void 0!==i.graph.func)try{var v,g,p=i.graph.func.evaluate(d,t),C=null!==(v=null===(g=i.secondGraph)||void 0===g||null===(g=g.func)||void 0===g?void 0:g.evaluate(d,t))&&void 0!==v?v:0;isFinite(p)&&isFinite(C)&&(o+=f*(p-C),a.push({x:d,y:C,width:f,height:p-C}))}catch{}},u=this.from;u<=this.to-this.h;u+=this.h)s(u,this.h);var l=this.to-u;s(this.to-l,l),a=a.map(function(c){return er(c)}),this.rects=a,this.value=o}},{key:"draw",value:function(t){this.reload(t.variables);var u,i=-1!==t.selection.indexOf(this),a=t.range,o=wt(this.color,i?.5:.3),s=A(this.rects);try{for(s.s();!(u=s.n()).done;){var c=j5(u.value,a);c&&t.drawRect(c,o,this.stroke)}}catch(d){s.e(d)}finally{s.f()}}},{key:"getDistance",value:function(t,i){return Math.min.apply(Math,B(this.rects.map(function(a){return VM(t,a)})))}},{key:"serialize",value:function(){return{data:{graph:this.graph.id,secondGraph:void 0===this.secondGraph?void 0:this.secondGraph.id,h:this.h,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(t,i){var a,o;if(void 0!==i.data.graph&&void 0!==i.data.h&&void 0!==i.data.from&&void 0!==i.data.to){var s=t[i.data.graph],u=t[i.data.secondGraph];s instanceof tt&&(this.graph=s),(u instanceof tt||void 0===u)&&(this.secondGraph=u),"number"==typeof i.data.h&&(this.h=i.data.h),"number"==typeof i.data.from&&(this.from=i.data.from),"number"==typeof i.data.to&&(this.to=i.data.to)}this.stroke=null!==(a=i.style.stroke)&&void 0!==a?a:Jt,this.strokeWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:0,this.color=i.style.color,this.visible=i.style.visible}}],[{key:"getDefaultInstance",value:function(){return new n(void 0,void 0,0,0)}}])}(qi),Do="intersection_point",cp="middle_point",Bn=function(e){function n(r,t,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jn,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(a=w(this,n,[{x:0,y:0},o,!0,t,u]),"subTypeAndDataProvider",void 0),h(a,"_pointProvider",void 0),h(a,"_tempPoint",void 0),h(a,"resetTempListener",function(){a._tempPoint=void 0}),a.subTypeAndDataProvider=i,a._pointProvider=r,a}return k(n,e),m(n,[{key:"x",get:function(){var t;return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),null===(t=this._tempPoint)||void 0===t?void 0:t.x}},{key:"y",get:function(){var t;return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),null===(t=this._tempPoint)||void 0===t?void 0:t.y}},{key:"pointProvider",get:function(){return this._pointProvider},set:function(t){this._pointProvider=t,this.onChange.emit(t)}},{key:"serialize",value:function(){var t=this.subTypeAndDataProvider();return{data:{el1:t.el1,el2:t.el2,index:t.index},subType:t.subType,style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(t,i,a){var o=i.data,s=t[o.el1],u=void 0===o.el2?void 0:t[o.el2];if(void 0!==s&&this.addDependency(s),void 0!==u&&this.addDependency(u),this.loadStyle(i.style),i.subType===cp){if(s instanceof he&&u instanceof he){var l=n.createMiddlePointByPoints(s,u);this.pointProvider=l.pointProvider,this.subTypeAndDataProvider=l.subTypeAndDataProvider}else if(s instanceof ft){var c=n.createMiddlePointByLineSegment(s);this.pointProvider=c.pointProvider,this.subTypeAndDataProvider=c.subTypeAndDataProvider}}else if(i.subType===Do&&(s instanceof wr||s instanceof St)&&(u instanceof wr||u instanceof St)){var d,f=n.createIntersectionPoints(s,u)[null!==(d=o.index)&&void 0!==d?d:0];this.pointProvider=f.pointProvider,this.subTypeAndDataProvider=f.subTypeAndDataProvider}}}],[{key:"createMiddlePointByPoints",value:function(t,i){return new n(function(){return uu(t.point,i.point)},[t,i],function(){return{subType:cp,el1:t.id,el2:i.id}},Vn)}},{key:"createMiddlePointByLineSegment",value:function(t){return new n(function(){return function Q3(e){return uu(e.point1,e.point2)}(t)},[t],function(){return{subType:cp,el1:t.id}},Vn)}},{key:"createIntersectionPoints",value:function(t,i){if(t instanceof wr&&i instanceof wr)return[new n(function(){var u=t.getABCFormLine(),l=i.getABCFormLine();if(void 0!==u&&void 0!==l){var c=bo(u,l);if(void 0!==c){if(t instanceof ft){var d=t.point1,f=t.point2;if(void 0===d||void 0===f||!mn(c.x,d.x,f.x)||!mn(c.y,d.y,f.y))return}if(i instanceof ft){var v=i.point1,g=i.point2;if(void 0===v||void 0===g||!mn(c.x,v.x,g.x)||!mn(c.y,v.y,g.y))return}return c}}},[t,i],function(){return{subType:Do,el1:t.id,el2:i.id}},Vn)];if(t instanceof St&&i instanceof wr){var a=t;t=i,i=a}if(t instanceof wr&&i instanceof St){var o=function(l){return function(){var c=t.getABCFormLine(),d=i.point,f=i.radius;if(void 0!==c&&void 0!==d&&void 0!==f){var v=rd(c,d,f)[l];if(void 0!==v){if(t instanceof ft){var g=t.point1,p=t.point2;return void 0===g||void 0===p?void 0:mn(v.x,g.x,p.x)&&mn(v.y,g.y,p.y)?v:void 0}return v}}}};return[new n(o(0),[t,i],function(){return{subType:Do,el1:t.id,el2:i.id,index:0}},Vn),new n(o(1),[t,i],function(){return{subType:Do,el1:t.id,el2:i.id,index:1}},Vn)]}if(t instanceof St&&i instanceof St){var s=function(l){return function(){var c=t.point,d=t.radius,f=i.point,v=i.radius;if(void 0!==c&&void 0!==d&&void 0!==f&&void 0!==v)return sp(c,d,f,v)[l]}};return[new n(s(0),[t,i],function(){return{subType:Do,el1:t.id,el2:i.id,index:0}},Vn),new n(s(1),[t,i],function(){return{subType:Do,el1:t.id,el2:i.id,index:1}},Vn)]}return[]}},{key:"getDefaultInstance",value:function(){return new n(function(){},[],function(){return{subType:"",el1:-1}})}}])}(he),cz=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"dialogData",void 0),i}return k(t,r),m(t,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"angle",get:function(){return(Math.floor(1e3*this.dialogData.angle)/1e3).toLocaleString()}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-angle-element"]],features:[fe],decls:34,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],[1,"rangeDiv","sizeDiv"],["for","si"],["id","si","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"p",1),S(2,"Winkel:"),D(),E(3,"p",2),Ae(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"p",4)(8,"span"),S(9),D()(),E(10,"div",5)(11,"input",6),G("ngModelChange",function(o){return H(i.dashed,o)||(i.dashed=o),o}),D(),E(12,"label",7),S(13,"Gestrichelt anzeigen"),D()(),E(14,"div",8)(15,"input",9),G("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),D(),E(16,"label",10),S(17,"Label als LaTeX rendern"),D()(),E(18,"div",11)(19,"input",12),G("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(20,"label",13),S(21,"Label schwarz anzeigen"),D()(),E(22,"div",14)(23,"label",15),S(24,"Labelgr\xf6\xdfe:"),D(),Ae(25,"br"),E(26,"input",16),G("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(27,"div",17)(28,"label",18),S(29,"Darstellungsgr\xf6\xdfe:"),D(),Ae(30,"br"),E(31,"input",19),G("ngModelChange",function(o){return H(i.dialogData.size,o)||(i.dialogData.size=o),o}),D()(),E(32,"button",20),te("click",function(){return i.dialog.close()}),S(33,"Schlie\xdfen"),D()()),2&t&&(P(5),j("ngModel",i.name),P(4),yr("",i.angle,"\xb0"),P(2),j("ngModel",i.dashed),P(4),j("ngModel",i.latex),P(4),j("ngModel",i.displayBlack),P(7),j("ngModel",i.labelSize),P(5),j("ngModel",i.dialogData.size))},dependencies:[un,jr,zr,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{width:100%}']})),n}(),cu=function(e){function n(r){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(t=w(this,n),"_size",void 0),h(t,"_lineWidth",void 0),h(t,"componentType",lu),h(t,"formulaDialogType",cz),h(t,"_points",void 0),t._size=o,t._lineWidth=s,t._color=i,t._visible=a,t._points=r,t.configuration.formula="Winkel",t.configuration.showLabel=u,t}return k(n,e),m(n,[{key:"points",get:function(){return this._points.slice()},set:function(t){this._points=t.slice(),this.onChange.emit()}},{key:"size",get:function(){return this._size},set:function(t){this._size=t,this.onChange.emit(t)}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.onChange.emit(t)}},{key:"angle",get:function(){if(3!==this.points.length)return Number.NaN;var t=this.points[0].point,i=this.points[1].point,a=this.points[2].point;if(t&&i&&a){var o={x:t.x-i.x,y:t.y-i.y},s={x:a.x-i.x,y:a.y-i.y},u={x:0,y:0},l=(o.x*s.x+o.y*s.y)/(gi(u,o)*gi(u,s));return Math.acos(l)/Math.PI*180}return Number.NaN}},{key:"angles",get:function(){if(3===this._points.length){var t=this._points[0].point,i=this._points[1].point,a=this._points[2].point;if(void 0!==t&&void 0!==i&&void 0!==a){var o={x:1,y:0},s={x:0,y:0},l=function(p,C){return Math.acos(function(p,C){return p.x*C.x+p.y*C.y}(p,C)/gi(s,p)/gi(s,C))},d={x:a.x-i.x,y:a.y-i.y},f=l(o,{x:t.x-i.x,y:t.y-i.y}),v=l(o,d);return t.y>i.y&&(f=-f),a.y>i.y&&(v=-v),[f,v]}}}},{key:"serialize",value:function(){return{data:{points:this.points.map(function(t){return t.id})},style:{color:this.color,visible:this.visible,size:this.size,strokeWidth:this.lineWidth}}}},{key:"loadFrom",value:function(t,i,a){var o,s;this.points=i.data.points.map(function(l){return t[l]}).filter(function(l){return l instanceof he}),this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:this.lineWidth,this.size=null!==(s=i.style.size)&&void 0!==s?s:this.size}},{key:"draw",value:function(t){var i=this.angles,a=this._points;if(i&&3===a.length){var o=a[1].point;void 0!==o&&(t.drawCircleSector(o,this.size/t.zoom,wt(this.color,.3),this.color,this.lineWidth,i[1],i[0],this.configuration.dashed),-1!==t.selection.indexOf(this)&&t.drawCircleSector(o,this.size/t.zoom,Jt,wt(this.color,.3),this.lineWidth*na,i[1],i[0],this.configuration.dashed))}}},{key:"getPositionForLabel",value:function(t){if(3===this._points.length){var a=this._points[0].point,o=this._points[1].point,s=this._points[2].point;if(void 0!==a&&void 0!==o&&void 0!==s){var u={x:a.x-o.x,y:a.y-o.y},l={x:s.x-o.x,y:s.y-o.y},c={x:u.x+l.x,y:u.y+l.y},d=this.size/t.zoom/2/gi({x:0,y:0},c),f={x:c.x*d,y:c.y*d};return{x:f.x+o.x,y:f.y+o.y}}}}},{key:"getDistance",value:function(t,i){var a=this.size/i.zoom;if(3===this._points.length){var o=this._points[0].point,s=this._points[1].point,u=this._points[2].point;if(void 0!==o&&void 0!==s&&void 0!==u){var l={x:1,y:0},c={x:0,y:0},f=function(I,O){return Math.acos(function(I,O){return I.x*O.x+I.y*O.y}(I,O)/gi(c,I)/gi(c,O))},g={x:u.x-s.x,y:u.y-s.y},p=f(l,{x:o.x-s.x,y:o.y-s.y}),C=f(l,g),b={x:t.x-s.x,y:t.y-s.y},_=f(l,b);if(o.y>s.y&&(p=-p+2*Math.PI),u.y>s.y&&(C=-C+2*Math.PI),t.y>s.y&&(_=-_+2*Math.PI),gi(c,b)<=a&&(C<_&&p>_||C>_&&p>_&&C>p||p<_&&C<_&&C>p))return 0}}return Number.MAX_VALUE}}],[{key:"getDefaultInstance",value:function(){return new n([])}}])}(qi),_k=function(n){return{error:n}},dz=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"canvasElement",void 0),i.canvasElement=du.getDefaultInstance(),i}return k(t,r),m(t,[{key:"name",get:function(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}},{key:"errorMessageX",get:function(){return this.canvasElement.xErrorText}},{key:"errorMessageY",get:function(){return this.canvasElement.yErrorText}}])}(ui);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-compiled-point-formula"]],features:[fe],decls:15,vars:13,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(t,i){var a,o;1&t&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(u){return H(i.canvasElement.color,u)||(i.canvasElement.color=u),u})("visibleChange",function(u){return H(i.canvasElement.visible,u)||(i.canvasElement.visible=u),u}),D(),E(2,"div")(3,"p",2),Ae(4,"span"),S(5),E(6,"span")(7,"input",3),G("ngModelChange",function(u){return H(i.canvasElement.xText,u)||(i.canvasElement.xText=u),u}),D()(),S(8," | "),E(9,"span")(10,"input",3),G("ngModelChange",function(u){return H(i.canvasElement.yText,u)||(i.canvasElement.yText=u),u}),D()(),S(11," ) "),D()(),E(12,"button",4),te("click",function(u){return i.threePointsClicked(u)}),E(13,"span",5),S(14,"more_vert"),D()()()),2&t&&(P(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(4),yr(" ",i.name,"( "),P(2),X("ngClass",kn(9,_k,void 0!==i.errorMessageX))("title",null!==(a=i.errorMessageX)&&void 0!==a?a:""),j("ngModel",i.canvasElement.xText),P(3),X("ngClass",kn(11,_k,void 0!==i.errorMessageY))("title",null!==(o=i.errorMessageY)&&void 0!==o?o:""),j("ngModel",i.canvasElement.yText))},dependencies:[Qt,un,yn,ln,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:100px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}input.error[_ngcontent-%COMP%]{background:#fcc!important}']})),n}(),du=function(e){function n(r){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2?arguments[2]:void 0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return y(this,n),h(t=w(this,n,[null,[],null,i,a,o]),"parseAndValidateProvider",void 0),h(t,"componentType",dz),h(t,"_xText","0"),h(t,"_xOperation",void 0),h(t,"_xErrorText",void 0),h(t,"_yText","0"),h(t,"_yOperation",void 0),h(t,"_yErrorText",void 0),h(t,"_tempVariables",void 0),h(t,"evaluate",function(){if((t.error||void 0===t._xOperation||void 0===t._yOperation)&&t.reparse(),!t.error&&void 0!==t._xOperation&&void 0!==t._yOperation)try{return{x:t._xOperation.evaluate(t._tempVariables),y:t._yOperation.evaluate(t._tempVariables)}}catch{return}}),h(t,"resetTempListener",function(s){var u;t._tempPoint=void 0,void 0!==s&&(t._tempVariables=null!==(u=s.variables)&&void 0!==u?u:{})}),t.parseAndValidateProvider=r,t._pointProvider=t.evaluate,t}return k(n,e),m(n,[{key:"xText",get:function(){return this._xText},set:function(t){this._xText=t,this.reparseX(),this.onChange.emit(t)}},{key:"yText",get:function(){return this._yText},set:function(t){this._yText=t,this.reparseY(),this.onChange.emit(t)}},{key:"xErrorText",get:function(){return this._xErrorText}},{key:"xError",get:function(){return void 0!==this._xErrorText}},{key:"yErrorText",get:function(){return this._yErrorText}},{key:"yError",get:function(){return void 0!==this._yErrorText}},{key:"error",get:function(){return this.yError||this.xError}},{key:"xOperation",get:function(){return this._xOperation}},{key:"yOperation",get:function(){return this._yOperation}},{key:"reparseX",value:function(){var t=this.parseAndValidateProvider(this._xText);return t instanceof Gn?(this._xOperation=t,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=t,!1)}},{key:"reparseY",value:function(){var t=this.parseAndValidateProvider(this._yText);return t instanceof Gn?(this._yOperation=t,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=t,!1)}},{key:"reparse",value:function(){var t=this.reparseX(),i=this.reparseY();return t&&i}},{key:"serialize",value:function(){return{data:{xText:this.xText,yText:this.yText},style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(t,i,a){var o=i.data;this.loadStyle(i.style),this._xText=o.xText,this._yText=o.yText}},{key:"draw",value:function(t){We(Oe(n.prototype),"draw",this).call(this,t)}}],[{key:"getDefaultInstance",value:function(){return new n(function(){})}},{key:"getDefaultInstanceWithDrawerService",value:function(t){return new n(function(i){return t.parseAndValidateOperation(i)})}}])}(Bn),od=function(n){return{error:n}},fz=function(){var e,n=function(r){function t(i){var a;return y(this,t),h(a=w(this,t),"drawerService",void 0),h(a,"canvasElement",void 0),a.drawerService=i,a.canvasElement=fu.getDefaultInstance(i),a}return k(t,r),m(t,[{key:"name",get:function(){return this.canvasElement.configuration.name?" "+this.canvasElement.configuration.name:""}},{key:"contextMenu",get:function(){var a=this;return{elements:function(){return[{header:"Duplizieren",icon:"content_copy",disabled:a.canvasElement.error,click:function(){a.duplicate()},title:"Diese Funktion duplizieren."}]},additionalEvent:this.threePointsClickedEvent}}},{key:"duplicate",value:function(){var a=this.canvasElement.clone();this.drawerService.addCanvasElements(a)}},{key:"errorMessageX",get:function(){return this.canvasElement.xErrorText}},{key:"errorMessageY",get:function(){return this.canvasElement.yErrorText}},{key:"errorMessageBottom",get:function(){return this.canvasElement.bottomErrorText}},{key:"errorMessageTop",get:function(){return this.canvasElement.topErrorText}}])}(ui);return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-curve-formula"]],features:[fe],decls:52,vars:25,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph","description"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"alignEnd","paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],["autocomplete","off","type","text","step","any",1,"input","parameter",3,"ngModelChange","ngModel"],["autocomplete","off","type","number","step","any",1,"input","steps",3,"ngModelChange","ngModel"]],template:function(t,i){var a,o,s,u;1&t&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(c){return H(i.canvasElement.color,c)||(i.canvasElement.color=c),c})("visibleChange",function(c){return H(i.canvasElement.visible,c)||(i.canvasElement.visible=c),c}),D(),E(2,"div")(3,"p",2),Ae(4,"span"),S(5),D(),E(6,"button",3),te("click",function(c){return i.threePointsClicked(c)}),E(7,"span",4),S(8,"more_vert"),D()(),E(9,"table")(10,"tr")(11,"td")(12,"p",5),S(13,"x = "),D()(),E(14,"td")(15,"span")(16,"input",6),G("ngModelChange",function(c){return H(i.canvasElement.xText,c)||(i.canvasElement.xText=c),c}),D()()()(),E(17,"tr")(18,"td")(19,"p",5),S(20,"y = "),D()(),E(21,"td")(22,"span")(23,"input",6),G("ngModelChange",function(c){return H(i.canvasElement.yText,c)||(i.canvasElement.yText=c),c}),D()()()(),E(24,"tr")(25,"td")(26,"p",5),S(27,"Parameter: "),D()(),E(28,"td")(29,"span")(30,"input",7),G("ngModelChange",function(c){return H(i.canvasElement.parameter,c)||(i.canvasElement.parameter=c),c}),D()()()(),E(31,"tr")(32,"td")(33,"p",5),S(34,"Schritte: "),D()(),E(35,"td")(36,"span")(37,"input",8),G("ngModelChange",function(c){return H(i.canvasElement.steps,c)||(i.canvasElement.steps=c),c}),D()()()(),E(38,"tr")(39,"td")(40,"p",5),S(41,"Untere Grenze: "),D()(),E(42,"td")(43,"span")(44,"input",6),G("ngModelChange",function(c){return H(i.canvasElement.bottomText,c)||(i.canvasElement.bottomText=c),c}),D()()()(),E(45,"tr")(46,"td")(47,"p",5),S(48,"Obere Grenze: "),D()(),E(49,"td")(50,"span")(51,"input",6),G("ngModelChange",function(c){return H(i.canvasElement.topText,c)||(i.canvasElement.topText=c),c}),D()()()()()()()),2&t&&(P(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(4),yr(" Kurve",i.name,": "),P(11),X("ngClass",kn(17,od,void 0!==i.errorMessageX))("title",null!==(a=i.errorMessageX)&&void 0!==a?a:""),j("ngModel",i.canvasElement.xText),P(7),X("ngClass",kn(19,od,void 0!==i.errorMessageY))("title",null!==(o=i.errorMessageY)&&void 0!==o?o:""),j("ngModel",i.canvasElement.yText),P(7),j("ngModel",i.canvasElement.parameter),P(7),j("ngModel",i.canvasElement.steps),P(7),X("ngClass",kn(21,od,void 0!==i.errorMessageBottom))("title",null!==(s=i.errorMessageBottom)&&void 0!==s?s:""),j("ngModel",i.canvasElement.bottomText),P(7),X("ngClass",kn(23,od,void 0!==i.errorMessageTop))("title",null!==(u=i.errorMessageTop)&&void 0!==u?u:""),j("ngModel",i.canvasElement.topText))},dependencies:[Qt,un,kt,yn,ln,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.input[_ngcontent-%COMP%]{width:150px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none;margin-bottom:0}.alignEnd[_ngcontent-%COMP%]{text-align:end}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}input.error[_ngcontent-%COMP%]{background:#fcc!important}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}']})),n}(),vz=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"dialogData",void 0),i}return k(t,r),m(t,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-curve-element"]],features:[fe],decls:26,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"p",1),S(2,"Kurve:"),D(),E(3,"p",2),Ae(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"div",4)(8,"input",5),G("ngModelChange",function(o){return H(i.dashed,o)||(i.dashed=o),o}),D(),E(9,"label",6),S(10,"Gestrichelt anzeigen"),D()(),E(11,"div",7)(12,"input",8),G("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),D(),E(13,"label",9),S(14,"Label als LaTeX rendern"),D()(),E(15,"div",10)(16,"input",11),G("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(17,"label",12),S(18,"Label schwarz anzeigen"),D()(),E(19,"div",13)(20,"label",14),S(21,"Labelgr\xf6\xdfe:"),D(),Ae(22,"br"),E(23,"input",15),G("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(24,"button",16),te("click",function(){return i.dialog.close()}),S(25,"Schlie\xdfen"),D()()),2&t&&(P(5),j("ngModel",i.name),P(3),j("ngModel",i.dashed),P(4),j("ngModel",i.latex),P(4),j("ngModel",i.displayBlack),P(7),j("ngModel",i.labelSize))},dependencies:[un,jr,zr,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),fu=function(e){function n(r){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(t=w(this,n),"parseAndValidateProvider",void 0),h(t,"componentType",fz),h(t,"formulaDialogType",vz),h(t,"_lineWidth",void 0),h(t,"_parameter","t"),h(t,"_steps",1e3),h(t,"_xText","0"),h(t,"_xErrorText",void 0),h(t,"_xOperation",void 0),h(t,"_yText","0"),h(t,"_yErrorText",void 0),h(t,"_yOperation",void 0),h(t,"_bottomText","0"),h(t,"_bottomErrorText",void 0),h(t,"_bottomOperation",void 0),h(t,"_topText","1"),h(t,"_topErrorText",void 0),h(t,"_topOperation",void 0),t.parseAndValidateProvider=r,t._color=i,t._lineWidth=a,t.configuration.name=o,t.configuration.showLabel=u,t.svgLabel=void 0,t._visible=s,t}return k(n,e),m(n,[{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.onChange.emit(t)}},{key:"dashed",get:function(){return 1==this.configuration.dashed},set:function(t){this.configuration.dashed=t,this.onChange.emit(t)}},{key:"parameter",get:function(){return this._parameter},set:function(t){this._parameter=t,this.onChange.emit(t)}},{key:"steps",get:function(){return this._steps},set:function(t){this._steps=Math.floor(Math.abs(t)),this.onChange.emit(t)}},{key:"xText",get:function(){return this._xText},set:function(t){this._xText=t,this.reparseX(),this.onChange.emit(t)}},{key:"xError",get:function(){return void 0!==this._xErrorText}},{key:"xErrorText",get:function(){return this._xErrorText}},{key:"xOperation",get:function(){return this._xOperation}},{key:"yText",get:function(){return this._yText},set:function(t){this._yText=t,this.reparseY(),this.onChange.emit(t)}},{key:"yError",get:function(){return void 0!==this._yErrorText}},{key:"yErrorText",get:function(){return this._yErrorText}},{key:"yOperation",get:function(){return this._yOperation}},{key:"bottomText",get:function(){return this._bottomText},set:function(t){this._bottomText=t,this.reparseBottom(),this.onChange.emit(t)}},{key:"bottomError",get:function(){return void 0!==this._bottomErrorText}},{key:"bottomErrorText",get:function(){return this._bottomErrorText}},{key:"bottomOperation",get:function(){return this._bottomOperation}},{key:"topText",get:function(){return this._topText},set:function(t){this._topText=t,this.reparseTop(),this.onChange.emit(t)}},{key:"topError",get:function(){return void 0!==this._topErrorText}},{key:"topErrorText",get:function(){return this._topErrorText}},{key:"topOperation",get:function(){return this._topOperation}},{key:"error",get:function(){return this.topError||this.bottomError||this.yError||this.xError}},{key:"reparseX",value:function(){var t=this.parseAndValidateProvider(this._xText,[this.parameter]);return t instanceof Gn?(this._xOperation=t,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=t,!1)}},{key:"reparseY",value:function(){var t=this.parseAndValidateProvider(this._yText,[this.parameter]);return t instanceof Gn?(this._yOperation=t,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=t,!1)}},{key:"reparseBottom",value:function(){var t=this.parseAndValidateProvider(this._bottomText,[]);return t instanceof Gn?(this._bottomOperation=t,this._bottomErrorText=void 0,!0):(this._bottomOperation=void 0,this._bottomErrorText=t,!1)}},{key:"reparseTop",value:function(){var t=this.parseAndValidateProvider(this._topText,[]);return t instanceof Gn?(this._topOperation=t,this._topErrorText=void 0,!0):(this._topOperation=void 0,this._topErrorText=t,!1)}},{key:"reparse",value:function(){var t=this.reparseX(),i=this.reparseY(),a=this.reparseBottom(),o=this.reparseTop();return t&&i&&a&&o}},{key:"parseIfNecessary",value:function(){void 0===this.bottomOperation&&this.reparseBottom(),void 0===this.topOperation&&this.reparseTop(),void 0===this.xOperation&&this.reparseX(),void 0===this.yOperation&&this.reparseY()}},{key:"draw",value:function(t){var i=this.getPoints(t);if(void 0!==i){var a=wt(this._color,hu),o=this.lineWidth*na;t.drawPath(i,this.lineWidth,this.color,void 0,this.dashed),-1!==t.selection.indexOf(this)&&t.drawPath(i,o,a,void 0,this.dashed)}}},{key:"getPoints",value:function(t){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){var i=t.variables,a=this.bottomOperation.evaluate(i),o=this.topOperation.evaluate(i);if(o<a){var s=a;a=o,o=s}for(var u=[],l=this.steps,c=(o-a)/l,d=0;d<=l;d++){var f=a+c*d;try{i[this.parameter]=f;var v=this.xOperation.evaluate(i),g=this.yOperation.evaluate(i);u.push({x:v,y:g})}catch{}}return u}}},{key:"loadFrom",value:function(t,i,a){var o,s=i.data;this._xText=s.xText,this._yText=s.yText,this._bottomText=s.bottomText,this._topText=s.topText,this._parameter=s.parameter,this._steps=s.steps,this._color=i.style.color,this._lineWidth=null!==(o=i.style.size)&&void 0!==o?o:3,this._visible=i.style.visible,this.onChange.emit()}},{key:"serialize",value:function(){return{data:{xText:this.xText,yText:this.yText,parameter:this.parameter,bottomText:this.bottomText,topText:this.topText,steps:this.steps},style:{color:this.color,size:this.lineWidth,visible:this.visible}}}},{key:"getDistance",value:function(t,i){var a=this.getPoints(i);if(void 0!==a){var o=a.map(function(l){return si(l,t)});if(0!==o.length){for(var s=o[0],u=1;u<o.length;u++)o[u]<s&&(s=o[u]);return s}}}},{key:"getPositionForLabel",value:function(t){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){var a=t.variables,o=this.bottomOperation.evaluate(a),s=this.topOperation.evaluate(a);a[this.parameter]=(o+s)/2;try{var u=this.xOperation.evaluate(a),l=this.yOperation.evaluate(a);return{x:u+15/t.zoom,y:l+15/t.zoom}}catch{}}}},{key:"clone",value:function(){var t=new n(this.parseAndValidateProvider,this.color,this.lineWidth,void 0,this.visible);return t._steps=this._steps,t._parameter=this._parameter,t._xText=this._xText,t._yText=this._yText,t._bottomText=this._bottomText,t._topText=this._topText,t.configuration=re({},this.configuration),t}}],[{key:"getDefaultInstance",value:function(t){return new n(function(i,a){return t.parseAndValidateOperation(i,!0,a)})}}])}(qi),hz=function(){var e,n=function(r){function t(){var i;return y(this,t),h(i=w(this,t),"dialogData",void 0),i}return k(t,r),m(t,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-shape-element"]],standalone:!0,features:[fe,SD],decls:26,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"p",1),S(2,"Polygon:"),D(),E(3,"p",2),Ae(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"div",4)(8,"input",5),G("ngModelChange",function(o){return H(i.dashed,o)||(i.dashed=o),o}),D(),E(9,"label",6),S(10,"Gestrichelt anzeigen"),D()(),E(11,"div",7)(12,"input",8),G("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),D(),E(13,"label",9),S(14,"Label als LaTeX rendern"),D()(),E(15,"div",10)(16,"input",11),G("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(17,"label",12),S(18,"Label schwarz anzeigen"),D()(),E(19,"div",13)(20,"label",14),S(21,"Labelgr\xf6\xdfe:"),D(),Ae(22,"br"),E(23,"input",15),G("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(24,"button",16),te("click",function(){return i.dialog.close()}),S(25,"Schlie\xdfen"),D()()),2&t&&(P(5),j("ngModel",i.name),P(3),j("ngModel",i.dashed),P(4),j("ngModel",i.latex),P(4),j("ngModel",i.displayBlack),P(7),j("ngModel",i.labelSize))},dependencies:[Xw,un,jr,zr,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{width:100%}']})),n}(),dp=function(e){function n(r,t,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=w(this,n,[t]),"dataProvider",void 0),h(a,"_lineWidth",void 0),h(a,"componentType",lu),h(a,"formulaDialogType",hz),h(a,"_pointsProvider",void 0),h(a,"_tempPoints",void 0),h(a,"resetTempListener",function(){a._tempPoints=void 0}),a.dataProvider=i,a._lineWidth=l,a.configuration.formula=s,a.configuration.showLabel=c,a._color=o,a._visible=u,a._pointsProvider=r,a}return k(n,e),m(n,[{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.onChange.emit(t)}},{key:"getPointAt",value:function(t){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[t]}},{key:"points",get:function(){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints.slice()}},{key:"pointsProvider",get:function(){return this._pointsProvider},set:function(t){this._pointsProvider=t,this.onChange.emit(t)}},{key:"serialize",value:function(){return{data:this.dataProvider(),style:{color:this._color,visible:this._visible,strokeWidth:this._lineWidth}}}},{key:"loadFrom",value:function(t,i,a){var o,c,u=[],l=A(i.data.points);try{for(l.s();!(c=l.n()).done;){var f=t[c.value];void 0!==f&&f instanceof he&&(this.addDependency(f),u.push(f))}}catch(v){l.e(v)}finally{l.f()}this.pointsProvider=function(){return u.map(function(v){return v.point})},this.dataProvider=function(){return{points:u.map(function(v){return v.id})}},this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:this.lineWidth}},{key:"draw",value:function(t){var i=this.points;if(0!==i.length){var o,a=A(i);try{for(a.s();!(o=a.n()).done;)if(void 0===o.value)return}catch(u){a.e(u)}finally{a.f()}i.push(i[0]),t.drawPath(i,this.lineWidth,this.color,wt(this.color,.3),this.configuration.dashed),-1!==t.selection.indexOf(this)&&t.drawPath(i,this.lineWidth*na,wt(this.color,.3),Jt,this.configuration.dashed)}}},{key:"pointInPolygon",value:function(t){var i=this.points;if(0===i.length)return!1;var o,a=A(i);try{for(a.s();!(o=a.n()).done;)if(void 0===o.value)return!1}catch(_){a.e(_)}finally{a.f()}for(var u=i,l=!1,c=i.length,d=0,f=c-1;d<c;f=d++){var v=u[d].x,g=u[d].y,C=u[f].y;g>t.y!=C>t.y&&t.x<(u[f].x-v)*(t.y-g)/(C-g)+v&&(l=!l)}return l}},{key:"getDistance",value:function(t,i){function a(v,g,p){var N,W,_=p.x-g.x,M=p.y-g.y,O=_*_+M*M,V=0!==O?((v.x-g.x)*_+(v.y-g.y)*M)/O:-1;V<0?(N=g.x,W=g.y):V>1?(N=p.x,W=p.y):(N=g.x+V*_,W=g.y+V*M);var K=v.x-N,le=v.y-W;return Math.sqrt(K*K+le*le)}var s=this.points;if(0!==s.length){var l,u=A(s);try{for(u.s();!(l=u.n()).done;)if(void 0===l.value)return}catch(v){u.e(v)}finally{u.f()}var d=s;return this.pointInPolygon(t)?0:function o(v,g){for(var p=1/0,C=g.length,b=0;b<C;b++){var I=a(v,g[b],g[(b+1)%C]);I<p&&(p=I)}return p}(t,d)}}},{key:"getPositionForLabel",value:function(t){var i=this.points;if(0!==i.length){var o,a=A(i);try{for(a.s();!(o=a.n()).done;)if(void 0===o.value)return}catch(c){a.e(c)}finally{a.f()}var u=i,l=function(d){var g,f=0,v=A(d);try{for(v.s();!(g=v.n()).done;)f+=g.value}catch(C){v.e(C)}finally{v.f()}return f};return{x:l(u.map(function(c){return c.x}))/u.length,y:l(u.map(function(c){return c.y}))/u.length}}}}],[{key:"getDefaultInstance",value:function(){return new n(function(){return[]},[],function(){return{points:[]}})}}])}($c),bk="definite_integral",Ek="dependency_points",Dk="linesegment",wk="dynamic_point",kk="compiled_point",Tk="variable",Ak="polygon";function mz(e){return e instanceof tt?"graph":e instanceof vt?"line":e instanceof St?"circle":e instanceof ad?bk:e instanceof du?kk:e instanceof Mo?Ek:e instanceof ft?Dk:e instanceof Bn?wk:e instanceof he?"point":e instanceof Co?Tk:e instanceof cu?"angle":e instanceof fu?"curve":e instanceof dp?Ak:"undefined"}var xk="serialized",Nk='"Cambria Math", Cambria, "CMU Serif", serif',Fk="Ung\xfcltige Eingabe.",Rk="Referenz einer unbekannten Funktion.",nr=function(){var e,n=function(){return m(function r(){var t=this;y(this,r),h(this,"_mode",new Mr),h(this,"_backgroundColor",{r:255,g:255,b:255}),h(this,"_canvasElements",[]),h(this,"_metaDrawers",[]),h(this,"_transformations",{translateX:7,translateY:-5,zoom:100}),h(this,"_showGrid",!0),h(this,"_showGridNumbers",!0),h(this,"_drawPointsEqually",!1),h(this,"selection",new Z3),h(this,"canvas",void 0),h(this,"onBackgroundColorChanged",new dt),h(this,"onCanvasElementChanged",new dt),h(this,"onMetaDrawersChanged",new dt),h(this,"onTransformationsChanged",new dt),h(this,"onCanvasConfigChanged",new dt),h(this,"onBeforeRedraw",new dt),h(this,"onBeforeElementsDraw",new dt),h(this,"onAfterRedraw",new dt),h(this,"onModeChanged",new dt),h(this,"redrawListener",function(){t.redraw()}),h(this,"canvasElementOnChangeListener",function(i){t.onCanvasElementChanged.emit(i)}),h(this,"emptyCacheListener",function(){t.funcCache.empty()}),h(this,"saveListener",function(){localStorage[xk]=JSON.stringify(t.serialize())}),h(this,"funcCache",new rp),h(this,"funcProvider",function(i){var a=t.funcCache.getItem(i);if(a)return a;var s,o=A(t.graphs);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(void 0!==u.func&&Xc(i)===Xc(u.func.name)){var l=u.func,c=Jc(l.name),d=Jc(i);if(c>d)continue;for(var f=0;f<d-c;f++)l=l.derive();return t.funcCache.setItem(i,l),l}}}catch(v){o.e(v)}finally{o.f()}}),this.addMetaDrawer(new C3),this.onBackgroundColorChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.redrawListener),this.onTransformationsChanged.addListener(this.redrawListener),this.onMetaDrawersChanged.addListener(this.redrawListener),this.onCanvasConfigChanged.addListener(this.redrawListener),this.onModeChanged.addListener(this.redrawListener),this.selection.onSelectionChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onAfterRedraw.addListener(this.saveListener)},[{key:"mode",get:function(){return this._mode},set:function(i){this._mode=i,this.onModeChanged.emit(i)}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this.onBackgroundColorChanged.emit(i)}},{key:"addCanvasElements",value:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=0,u=a;s<u.length;s++){var l=u[s];this._canvasElements.push(l),l.onChange.addListener(this.canvasElementOnChangeListener),l.onAdd.emit(this)}this.onCanvasElementChanged.emit(a)}},{key:"removeCanvasElements",value:function(){for(var i=!0,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];for(var u=0,l=o;u<l.length;u++){var c=l[u],d=this._canvasElements.indexOf(c);d>=0?(this._canvasElements.splice(d,1),c.onChange.removeListener(this.canvasElementOnChangeListener),c.onRemove.emit(this)):i=!1}return this.onCanvasElementChanged.emit(o),i}},{key:"emptyCanvasElements",value:function(){var a,i=A(this._canvasElements);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.onChange.removeListener(this.canvasElementOnChangeListener),o.onRemove.emit(this)}}catch(s){i.e(s)}finally{i.f()}this._canvasElements=[],this.onCanvasElementChanged.emit()}},{key:"canvasElements",get:function(){return this._canvasElements.slice()}},{key:"addMetaDrawer",value:function(i){this._metaDrawers.push(i),this.onMetaDrawersChanged.emit(i)}},{key:"removeMetaDrawer",value:function(i){var a=this._metaDrawers.indexOf(i);return a>=0&&(this._metaDrawers.splice(a,1),this.onMetaDrawersChanged.emit(i),!0)}},{key:"emptyMetaDrawers",value:function(){this._metaDrawers=[],this.onMetaDrawersChanged.emit()}},{key:"metaDrawers",get:function(){return this._metaDrawers.slice()}},{key:"translateX",get:function(){return this._transformations.translateX},set:function(i){this._transformations.translateX=i,this.onTransformationsChanged.emit(i)}},{key:"translateY",get:function(){return this._transformations.translateY},set:function(i){this._transformations.translateY=i,this.onTransformationsChanged.emit(i)}},{key:"zoom",get:function(){return this._transformations.zoom},set:function(i){this._transformations.zoom=i,this.onTransformationsChanged.emit(i)}},{key:"transformations",get:function(){return{translateX:this.translateX,translateY:this.translateY,zoom:this.zoom}},set:function(i){this._transformations.zoom=i.zoom,this._transformations.translateX=i.translateX,this._transformations.translateY=i.translateY,this.onTransformationsChanged.emit(i)}},{key:"showGrid",get:function(){return this._showGrid},set:function(i){this._showGrid=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"showGridNumbers",get:function(){return this._showGridNumbers},set:function(i){this._showGridNumbers=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"drawPointsEqually",get:function(){return this._drawPointsEqually},set:function(i){this._drawPointsEqually=!0===i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"canvasConfig",get:function(){return{showNumbers:this.showGridNumbers,showGrid:this.showGrid,drawPointsEqually:this.drawPointsEqually}}},{key:"renderingContext",get:function(){var i;return this.getRenderingContextFor(null===(i=this.canvas)||void 0===i?void 0:i.ctx,this._transformations)}},{key:"getRenderingContextFor",value:function(i,a){return new _3(i,a,this.getVariables(),this.selection.toArray(),this.canvasConfig)}},{key:"redraw",value:function(){this.canvas&&this.canvas.canvasEl&&this.canvas.wrapperEl&&this.canvas.ctx&&(this.onBeforeRedraw.emit(),this.drawToCanvas(this.canvas.canvasEl,this.canvas.wrapperEl.getBoundingClientRect(),this._transformations,!0),this.onAfterRedraw.emit())}},{key:"tex2svg",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,o=MathJax.tex2svg(i).firstElementChild;return o.setAttributeNS(null,"color",et(a)),o}},{key:"drawToCanvas",value:function(i,a,o){var s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=i.getContext("2d");l.canvas.width=a.width,l.canvas.height=a.height,l.fillStyle=et(this.backgroundColor),l.fillRect(0,0,i.width,i.height);var c=this.getRenderingContextFor(l,o);this.onBeforeElementsDraw.emit(c);var f,g,d=A(this._metaDrawers);try{for(d.s();!(f=d.n()).done;)f.value.draw(c)}catch(O){d.e(O)}finally{d.f()}if(this.drawPointsEqually)g=this._canvasElements;else{var p=this._canvasElements.filter(function(O){return O instanceof he}),C=this._canvasElements.filter(function(O){return O instanceof cu}),b=this._canvasElements.filter(function(O){return!(O instanceof he||O instanceof cu)});g=C.concat(b).concat(p)}var M,_=A(g);try{var I=function(){var V,N=M.value;if(c.config&&u)if(N.visible)c.config.transformColor=void 0;else{var W;c.config.transformColor=null===(W=s.mode)||void 0===W?void 0:W.transformInvisibleColor}if(N.visible||null!==(V=c.config)&&void 0!==V&&V.transformColor){N.draw(c);var K=s.getLabelPoint(N,c),le=N.configuration.label;if(void 0!==K&&void 0!==le&&""!==le){var ye,ve,be=N.configuration.displayBlackLabel?jn:N.color,je=null===(ye=!N.configuration.dontUseLaTeX)||void 0===ye||ye,tn=null!==(ve=N.configuration.labelSizeFactor)&&void 0!==ve?ve:1,z=function(){c.drawText(le,K,18*tn,Nk,"start","alphabetic","inherit",be,s.selection.contains(N)?wt(be,.2):B5,3)};if(MathJax&&je)try{var F=function(Q){c.drawImage(Q,K,Q.naturalWidth*tn,Q.naturalHeight*tn)};if(void 0===N.svgLabel){var U=s.tex2svg(le,be),J=document.createElement("img");J.src="data:image/svg+xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n'+U.outerHTML),J.onload=function(se){var Q;N.svgLabel=null!==(Q=se.target)&&void 0!==Q?Q:void 0,N.svgLabel?F(N.svgLabel):z()}}else F(N.svgLabel)}catch{N.svgLabel=void 0,console.log("nenenenenene"),z()}else z()}}};for(_.s();!(M=_.n()).done;)I()}catch(O){_.e(O)}finally{_.f()}}},{key:"zoomToBy",value:function(i,a){var o_y=-i.y/this.zoom*(1-1/a);this._transformations.translateX-=i.x/this.zoom*(1-1/a),this._transformations.translateY-=o_y,this.zoom*=a}},{key:"graphs",get:function(){return this.canvasElements.filter(function(i){return i instanceof tt})}},{key:"points",get:function(){return this.canvasElements.filter(function(i){return i instanceof he})}},{key:"parseAndValidateOperation",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var s=new fk(i,this.funcProvider).parse();try{var u=ep(s);if(a){var c,l=A(u.variableNames);try{for(l.s();!(c=l.n()).done;){var d=c.value;-1===o.indexOf(d)&&this.addVariable(d)}}catch(f){l.e(f)}finally{l.f()}}return s}catch{return Rk}}catch{return Fk}}},{key:"parseAndValidateFunc",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var o=new W3(i,this.funcProvider).parse();try{if(nk(o))return"Eine Funktion darf nicht auf sich selbst verweisen.";var s=function v3(e){return ep(e.operation)}(o);if(a){var l,u=A(s.variableNames);try{for(u.s();!(l=u.n()).done;){var c=l.value;c!==o.variable&&(void 0!==o.variable||"x"!==c)&&this.addVariable(c)}}catch(d){u.e(d)}finally{u.f()}}return o}catch{return Rk}}catch{return Fk}}},{key:"parseAndValidateProviderGraph",get:function(){var i=this;return function(a){return i.parseAndValidateFunc(a)}}},{key:"addVariable",value:function(i){var a=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.hasVariable(i)){var s=new Co(i,0);return this.addCanvasElements(s),o&&this.onCanvasElementChanged.addListener(function l(){var f,c=!1,d=A(a.canvasElements);try{for(d.s();!(f=d.n()).done;){var v=f.value;if(v instanceof tt?c=c||void 0!==v.func&&v.func.variable!==s.key&&(void 0!==v.func.variable||"x"!==s.key)&&Dr(v.func,s.key):v instanceof du?c=c||Dr(v.xOperation,s.key)||Dr(v.yOperation,s.key):v instanceof fu&&(c=(c=(c=c||Dr(v.topOperation,s.key)||Dr(v.bottomOperation,s.key))||v.parameter!==s.key&&Dr(v.xOperation,s.key))||v.parameter!==s.key&&Dr(v.yOperation,s.key)),c)return}}catch(g){d.e(g)}finally{d.f()}c||(a.onCanvasElementChanged.removeListener(l),a.removeCanvasElements(s))}),s}}},{key:"getNewColor",value:function(){return function J5(e,n,r){for(var t=n.slice(),i=0,a=function(u){return r(e[i%e.length],u)};jM(t,a);i++){var o=$5(t,a);t.splice(o,1)}return e[i%e.length]}(Y3,this.canvasElements.map(function(i){return i.color}),function(i,a){return function X5(e,n){return e.r==n.r&&e.g==n.g&&e.b==n.b&&(e.a==n.a||!e.a&&!n.a)}(i,a)})}},{key:"getVariables",value:function(){var o,i={},a=A(this.canvasElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;s instanceof Co&&(i[s.key]=s.value)}}catch(u){a.e(u)}finally{a.f()}return i}},{key:"hasVariable",value:function(i){var o,a=A(this.canvasElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s instanceof Co&&s.key===i)return!0}}catch(u){a.e(u)}finally{a.f()}return!1}},{key:"getLabelPoint",value:function(i,a){var o=i.getPositionForLabel(a);if(void 0!==o&&void 0!==i.configuration.label&&i.configuration.showLabel){var s=a.range,u={x:Math.abs(s.width)*i.labelTranslate.x,y:Math.abs(s.height)*i.labelTranslate.y};return{x:o.x+u.x,y:o.y+u.y}}}},{key:"getSelection",value:function(i){var c,v,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=this.renderingContext,l=void 0,d=function(M){var I,O=a.getLabelPoint(M,u);if(void 0!==M.configuration.label&&void 0!==O){var V=null!==(I=M.configuration.labelSizeFactor)&&void 0!==I?I:1,N=0,W=0;return M.configuration.dontUseLaTeX||void 0===M.svgLabel?(N=u.measureText(M.configuration.label,18,Nk).width/u.zoom*V,W=18/u.zoom*V):(N=M.svgLabel.width/u.zoom*V,W=-M.svgLabel.height/u.zoom*V),VM(i,re(re({},O),{},{width:N,height:W}))}},f=A(this.canvasElements);try{for(f.s();!(v=f.n()).done;){var g=v.value,p=W5(g.getDistance(i,u),d(g));if(null!=p&&isFinite(p)&&o(g)&&(g.visible||!s)){var C=void 0===l;(C=C||p<=l)&&(l=p,c=g)}}}catch(_){f.e(_)}finally{f.f()}return void 0!==l&&10<l*this.zoom&&(c=void 0,l=void 0),c}},{key:"setSelection",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.getSelection(i,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0});a?this.selection.set(s):this.selection.alternate(s)}},{key:"serialize",value:function(){return function gz(e){var t,n=[],r=A(e.canvasElements);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=re(re({},i.serialize()),{},{id:i.id,configuration:i.configuration,type:mz(i),translateLabel:i.labelTranslate});n.push(o)}}catch(s){r.e(s)}finally{r.f()}return{canvasElements:n,backgroundColor:e.backgroundColor,transformations:e.transformations,showGrid:e.showGrid,showGridNumbers:e.showGridNumbers,drawPointsEqually:e.drawPointsEqually}}(this)}},{key:"loadFrom",value:function(i){!function yz(e,n){e.showGridNumbers=n.showGridNumbers,e.showGrid=n.showGrid,e.drawPointsEqually=n.drawPointsEqually,e.transformations=n.transformations,e.backgroundColor=n.backgroundColor,e.emptyCanvasElements();var i,r={},t=A(n.canvasElements);try{for(t.s();!(i=t.n()).done;){var a=i.value,o=void 0;"circle"===a.type?o=St.getDefaultInstance():a.type===bk?o=ad.getDefaultInstance():a.type===kk?o=du.getDefaultInstanceWithDrawerService(e):a.type===Ek?o=Mo.getDefaultInstance(e):a.type===Dk?o=ft.getDefaultInstance():"graph"===a.type?o=tt.getDefaultInstance(e):a.type===wk?o=Bn.getDefaultInstance():"point"===a.type?o=he.getDefaultInstance():"line"===a.type?o=vt.getDefaultInstance():a.type===Tk?o=Co.getDefaultInstance():"angle"===a.type?o=cu.getDefaultInstance():"curve"===a.type?o=fu.getDefaultInstance(e):a.type===Ak&&(o=dp.getDefaultInstance()),void 0!==o&&(o.configuration=a.configuration,o.labelTranslate=a.translateLabel,o.svgLabel=void 0,r[a.id]=o)}}catch(g){t.e(g)}finally{t.f()}var u,s=A(n.canvasElements);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=r[l.id];void 0!==c&&c.loadFrom(r,l,e)}}catch(g){s.e(g)}finally{s.f()}e.addCanvasElements.apply(e,B(Object.values(r).filter(function(g){return void 0!==g})));var f,d=A(e.graphs);try{for(d.s();!(f=d.n()).done;)f.value.reparseIfNecessary()}catch(g){d.e(g)}finally{d.f()}e.redraw()}(this,i)}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275prov",ge({token:e,factory:e.\u0275fac,providedIn:"root"})),n}(),Cz=function(n){return{notLast:n}};function bz(e,n){if(1&e&&(E(0,"span"),S(1," von "),E(2,"span",12),S(3),D()()),2&e){var r=en(2);P(3),nn(r.dialogData.description[1]())}}function Ez(e,n){if(1&e){var r=Vr();E(0,"div",15)(1,"p",16),S(2),D(),E(3,"button",17),te("click",function(){var o=Ye(r).$implicit;return Ke(en(3).addPointToDrawerService(o))}),E(4,"span",18),S(5,"add"),D()()()}if(2&e){var t=n.$implicit;X("ngClass",kn(3,Cz,!n.last)),P(2),Fs("(",t.x.toLocaleString(),"|",t.y.toLocaleString(),")")}}function Dz(e,n){if(1&e&&(E(0,"div",13)(1,"p",4),S(2,"Ergebnisse:"),D(),Ln(3,Ez,6,5,"div",14),D()),2&e){var r=en(2);P(3),X("ngForOf",r.dialogData.points)}}function Mz(e,n){1&e&&(E(0,"div",19),S(1,"Es wurden keine Elemente gefunden."),D())}function wz(e,n){if(1&e){var r=Vr();E(0,"div",1)(1,"p",2),S(2),Ln(3,bz,4,1,"span",3),D(),E(4,"p",4),S(5,"Im Intervall"),D(),E(6,"p",5)(7,"app-interval",6),G("fromChange",function(a){Ye(r);var o=en();return H(o.dialogData.from,a)||(o.dialogData.from=a),Ke(a)})("toChange",function(a){Ye(r);var o=en();return H(o.dialogData.to,a)||(o.dialogData.to=a),Ke(a)}),D()(),E(8,"p",4),S(9,"mit der Suchtiefe:"),D(),E(10,"p",7)(11,"input",8),G("ngModelChange",function(a){Ye(r);var o=en();return H(o.dialogData.depth,a)||(o.dialogData.depth=a),Ke(a)}),D()(),Ln(12,Dz,4,1,"div",9)(13,Mz,2,0,"div",10),E(14,"button",11),te("click",function(){return Ye(r),Ke(en().dialog.close())}),S(15,"Schlie\xdfen"),D()()}if(2&e){var t=en();P(2),yr(" ",t.dialogData.description[0],""),P(),X("ngIf",void 0!==t.dialogData.description[1]()),P(4),j("from",t.dialogData.from)("to",t.dialogData.to),P(4),j("ngModel",t.dialogData.depth),P(),X("ngIf",0!==t.dialogData.size),P(),X("ngIf",0===t.dialogData.size)}}var kz=function(){var e,n=function(r){function t(i){var a;return y(this,t),h(a=w(this,t),"drawerService",void 0),h(a,"dialogData",void 0),a.drawerService=i,a}return k(t,r),m(t,[{key:"addPointToDrawerService",value:function(a){this.drawerService.addCanvasElements(new he(a,this.drawerService.getNewColor()))}}])}(Xi);return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-dependency-point-elements-dialog"]],features:[fe],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"paragraph","heading"],[4,"ngIf"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],[1,"centered","maths"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["class","pointWrappers",4,"ngIf"],["class","paragraph defaultMargin pointsNotFoundMessage",4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"maths"],[1,"pointWrappers"],["class","point",3,"ngClass",4,"ngFor","ngForOf"],[1,"point",3,"ngClass"],[1,"maths","paragraph","pointParagraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","defaultMargin","pointsNotFoundMessage"]],template:function(t,i){1&t&&Ln(0,wz,16,7,"div",0),2&t&&X("ngIf",void 0!==i.dialogData)},dependencies:[Qt,lo,co,un,kt,yn,ln,id],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.defaultMargin[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.pointParagraph[_ngcontent-%COMP%]{line-height:46px;margin-top:0;margin-bottom:0}.maths[_ngcontent-%COMP%]{font-size:16pt!important}.point[_ngcontent-%COMP%]{width:290px;padding:7px}.notLast[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.pointWrappers[_ngcontent-%COMP%]{margin-bottom:16px;max-height:400px;overflow-y:auto}.iconButton[_ngcontent-%COMP%]{background-color:#fff}.input[_ngcontent-%COMP%]{width:50px;display:unset}.pointsNotFoundMessage[_ngcontent-%COMP%]{width:290px;padding:7px}']})),n}(),vu="__dependencyPointElements__",Lk="intersectionpoints",Vk="zeropoints",Bk="extremumpoints",Hk="inflectionpoints",Mo=function(e){function n(r,t,i,a,o,s,u,l){var c,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:jn,f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],v=arguments.length>10?arguments[10]:void 0,g=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];return y(this,n),h(c=w(this,n),"drawerService",void 0),h(c,"pointsProvider",void 0),h(c,"dependencyStillActive",void 0),h(c,"description",void 0),h(c,"subTypeAndGraphsProvider",void 0),h(c,"firstInit",void 0),h(c,"componentType",d3),h(c,"formulaDialogType",kz),h(c,"pointElements",[]),h(c,"initializedYet",!1),h(c,"correctVersion",0),h(c,"drawnVersion",0),h(c,"_stroke",{r:100,g:100,b:100}),h(c,"_strokeWidth",3),h(c,"_radius",5),h(c,"_from",void 0),h(c,"_to",void 0),h(c,"_depth",void 0),h(c,"reloadListener",function(p){p!==vu&&p!==c&&c.reload().catch(function(C){return console.error(C)})}),h(c,"removeListener",function(){c.drawerService.onCanvasElementChanged.removeListener(c.reloadListener)}),c.drawerService=r,c.pointsProvider=t,c.dependencyStillActive=s,c.description=u,c.subTypeAndGraphsProvider=l,c.firstInit=v,c._color=d,c._visible=f,c._from=i,c._to=a,c._depth=o,g&&(c.onRemove.addListener(c.removeListener),c.drawerService.onCanvasElementChanged.addListener(c.reloadListener)),c}return k(n,e),m(n,[{key:"points",get:function(){return this.pointElements.map(function(t){return t.point})}},{key:"stroke",get:function(){return this._stroke},set:function(t){this._stroke=t,this.onChange.emit(vu)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=t,this.onChange.emit(vu)}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.onChange.emit(vu)}},{key:"size",get:function(){return this.pointElements.length}},{key:"from",get:function(){return this._from},set:function(t){this._from=t,this.onChange.emit(t)}},{key:"to",get:function(){return this._to},set:function(t){this._to=t,this.onChange.emit(t)}},{key:"depth",get:function(){return this._depth},set:function(t){this._depth=t,this.onChange.emit(t)}},{key:"reload",value:(r=function iH(e){return function(){var n=this,r=arguments;return new Promise(function(t,i){var a=e.apply(n,r);function o(u){qM(a,t,i,o,s,"next",u)}function s(u){qM(a,t,i,o,s,"throw",u)}o(void 0)})}}(Zi().mark(function i(){var a=this;return Zi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.dependencyStillActive()){s.next=5;break}return this.correctVersion++,s.abrupt("return",new Promise(function(u,l){setTimeout(function(){try{var c=a.pointsProvider(a.from,a.to,a.depth);if(!a.initializedYet&&a.firstInit&&a.firstInit(c),a.initializedYet=!0,a.pointElements.length<c.length)for(var d=c.length-a.pointElements.length,f=0;f<d;f++)a.createPointElement();else if(a.pointElements.length>c.length)for(var v=a.pointElements.length-c.length,g=0;g<v;g++)a.pointElements.pop();for(var p=0;p<c.length;p++)a.pointElements[p].forceSetPoint(c[p]);a.drawnVersion++,a.onChange.emit(vu),u()}catch(C){a.drawnVersion++,l(C)}})}));case 5:this.drawerService.removeCanvasElements(this);case 6:case"end":return s.stop()}},i,this)})),function t(){return r.apply(this,arguments)})},{key:"createPointElement",value:function(){var i=new he(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},this.color,!0);return i.radius=this.radius,i.stroke=this.stroke,i.strokeWidth=this.strokeWidth,this.pointElements.push(i),i}},{key:"draw",value:function(t){if(this.correctVersion===this.drawnVersion){var o,i=-1!==t.selection.indexOf(this),a=A(this.pointElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.color=this.color,s.radius=this.radius,s.stroke=this.stroke,s.strokeWidth=this.strokeWidth,s.selected=i,s.draw(t)}}catch(u){a.e(u)}finally{a.f()}}}},{key:"getDistance",value:function(t,i){return Math.min.apply(Math,B(this.pointElements.map(function(a){return a.getDistance(t,i)}).filter(function(a){return void 0!==a})))}},{key:"serialize",value:function(){var t=this.subTypeAndGraphsProvider();return{subType:t.subType,data:{graph:t.graph,secondGraph:t.secondGraph,depth:this.depth,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,size:this.radius,visible:this.visible}}}},{key:"loadFrom",value:function(t,i){var a=i.data;this.color=i.style.color,this.stroke=i.style.stroke,this.radius=i.style.size,this.strokeWidth=i.style.strokeWidth,this.visible=i.style.visible,this.depth=a.depth,this.from=a.from,this.to=a.to;var u,o=t[a.graph],s=void 0===a.secondGraph?void 0:t[a.secondGraph];if(i.subType===Lk&&o instanceof tt&&s instanceof tt)u=n.createIntersectionPoints(this.drawerService,o,s,a.from,a.to,a.depth,void 0,void 0,!1);else if(i.subType===Vk&&o instanceof tt)u=n.createZeroPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1);else if(i.subType===Bk&&o instanceof tt)u=n.createExtremumPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1);else{if(!(i.subType===Hk&&o instanceof tt))throw"not known subtype";u=n.createInflectionPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1)}this.pointsProvider=u.pointsProvider,this.dependencyStillActive=u.dependencyStillActive,this.description=u.description,this.subTypeAndGraphsProvider=u.subTypeAndGraphsProvider,this.draw=u.draw}}],[{key:"createIntersectionPoints",value:function(t,i,a,o,s,u,l,c){var d,f=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];l=null!==(d=l)&&void 0!==d?d:t.getNewColor();var v=Sg+0;return new n(t,function(g,p,C){var b,_,M,I;if(void 0===i.func)return[];var O=function(K){return function(le){if(void 0===K.func)throw"can't use bad function";var ye=K.func,je=Jc(le)-(K.func.name?Jc(K.func.name):0);if(je<0)throw"can't integrate";for(var tn=0;tn<je;tn++)ye=ye.derive();return ye}},V=new ho(new yo(new ea(null!==(b=null===(_=i.func)||void 0===_?void 0:_.name)&&void 0!==b?b:"",O(i),new Nt(v)),new ea(null!==(M=null===(I=a.func)||void 0===I?void 0:I.name)&&void 0!==M?M:"",O(a),new Nt(v))),void 0,"x"),N=t.getVariables();return au(V,N,g,p,C).map(function(W){return{x:W,y:i.func.evaluate(W,N)}})},o,s,u,function(){var b,g=!1,p=!1,C=A(t.canvasElements);try{for(C.s();!(b=C.n()).done;){var _=b.value;_===i?g=!0:_===a&&(p=!0)}}catch(M){C.e(M)}finally{C.f()}return g&&p},["Schnittpunkte",function(){var g;return void 0!==i.func&&i.func.name&&null!==(g=a.func)&&void 0!==g&&g.name?"".concat(i.func.name,", ").concat(a.func.name):void 0}],function(){return{graph:i.id,secondGraph:a.id,subType:Lk}},l,!0,c,f)}},{key:"createZeroPoints",value:function(t,i,a,o,s,u){return n.createDependencyPointElements(t,i,function(c,d,f){return void 0===i.func?[]:function g3(e,n,r,t,i){return au(e,n,r,t,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,t.getVariables(),c,d,f)},a,o,s,Vk,"Nullpunkt",u,!(arguments.length>6&&void 0!==arguments[6])||arguments[6])}},{key:"createExtremumPoints",value:function(t,i,a,o,s,u){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.func.derive(),n.createDependencyPointElements(t,i,function(c,d,f){return void 0===i.func?[]:function p3(e,n,r,t,i){return rk(e,n,r,t,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,t.getVariables(),c,d,f)},a,o,s,Bk,"Extrempunkt",u,l)}},{key:"createInflectionPoints",value:function(t,i,a,o,s,u){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.func.derive(),n.createDependencyPointElements(t,i,function(c,d,f){return void 0===i.func?[]:function y3(e,n,r,t,i){return function m3(e,n,r,t,i){return rk(e.derive(),n,r,t,i)}(e,n,r,t,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,t.getVariables(),c,d,f)},a,o,s,Hk,"Wendepunkt",u,l)}},{key:"createDependencyPointElements",value:function(t,i,a,o,s,u,l,c,d){var f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];return new n(t,a,o,s,u,function tH(e,n){return function(){var t,r=A(e.canvasElements);try{for(r.s();!(t=r.n()).done;)if(t.value===n)return!0}catch(a){r.e(a)}finally{r.f()}return!1}}(t,i),function rH(e,n){return[e,function(){var r;return null===(r=n.func)||void 0===r?void 0:r.name}]}("".concat(c,"e"),i),function(){return{graph:i.id,subType:l}},i.color,!0,d,f)}},{key:"getDefaultInstance",value:function(t){return new n(t,function(){return[]},0,0,1,function(){return!0},["",function(){}],function(){return{subType:"",graph:-1}},jn,!0,void 0,!0)}}]);var r}(qi),Sz=["snackbar"],Iz=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"wrapper",void 0),h(this,"snackbarConfig",void 0),h(this,"message",void 0)},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var i,a,o,s,u=this.wrapper.nativeElement;u.textContent=this.message,u.style.background=null!==(i=null===(a=this.snackbarConfig)||void 0===a?void 0:a.background)&&void 0!==i?i:"#333",u.style.color=null!==(o=null===(s=this.snackbarConfig)||void 0===s?void 0:s.color)&&void 0!==o?o:"white"}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-snackbar"]],viewQuery:function(t,i){var a;1&t&&bt(Sz,5),2&t&&Et(a=Dt())&&(i.wrapper=a.first)},decls:3,vars:0,consts:[["snackbar",""],[1,"filler"],[1,"snackbar"]],template:function(t,i){1&t&&(E(0,"div",1),Ae(1,"div",2,0),D())},styles:['@keyframes _ngcontent-%COMP%_animateWrapperSnackbar{0%{transform:translateY(100px)}to{transform:translateY(0)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;pointer-events:none;align-items:flex-end;justify-content:center;display:flex}.snackbar[_ngcontent-%COMP%]{padding:10px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperSnackbar .2s ease-in-out;font-size:13pt;text-align:center;font-family:Segoe UI,Calibri,"sans-serif";user-select:none;pointer-events:all;margin-bottom:10px;box-shadow:0 0 10px #9997}']})),n}(),vp=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"rootViewContainerRef",void 0)},[{key:"openSnackbar",value:function(i,a){var o=this;return new Promise(function(s,u){var l,c;if(o.rootViewContainerRef){var d=null!==(l=a?.duration)&&void 0!==l?l:4e3,f=null===(c=o.rootViewContainerRef)||void 0===c?void 0:c.createComponent(Iz);f?(f.instance.message=i,f.instance.snackbarConfig=a,setTimeout(function(){f.destroy(),s()},d)):u()}else u()})}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275prov",ge({token:e,factory:e.\u0275fac,providedIn:"root"})),n}(),Tz=function(){var e,n=function(){return m(function r(t,i){y(this,r),h(this,"drawerService",void 0),h(this,"snackbarService",void 0),h(this,"dialogData",void 0),h(this,"dialog",void 0),h(this,"from",-1),h(this,"to",1),h(this,"_depth",10),this.drawerService=t,this.snackbarService=i},[{key:"depth",get:function(){return this._depth},set:function(i){this._depth=Math.floor(i)}},{key:"evaluateZeroPoints",value:function(){var i=this;try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Mo.createZeroPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(a){Lc(i.snackbarService,"Nullpunkt",a.length)}))}catch{Vc(this.snackbarService)}this.dialog.close()}},{key:"evaluateExtremumPoints",value:function(){var i=this;try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Mo.createExtremumPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(a){Lc(i.snackbarService,"Extrempunkt",a.length)}))}catch{Vc(this.snackbarService)}this.dialog.close()}},{key:"evaluateInflectionPoints",value:function(){var i=this;try{if(this.dialogData&&this.dialogData.graph){var a=Mo.createInflectionPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(o){Lc(i.snackbarService,"Wendepunkt",o.length)});this.drawerService.addCanvasElements(a)}}catch{Vc(this.snackbarService)}this.dialog.close()}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr),x(vp))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-func-analyser-dialog"]],decls:24,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"maths","heading"],[1,"centered","maths"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Extrempunkte berechnen",1,"button","floatRight",3,"click"],["title","Nullpunkte berechnen",1,"button","floatRight",3,"click"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Wendepunkte berechnen",1,"button","floatRight",3,"click"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"p",1),S(2,"Funktion "),E(3,"span",2),S(4),D(),S(5,"analysieren:"),D(),E(6,"p",3),S(7),D(),E(8,"p",4),S(9,"Im Intervall"),D(),E(10,"p",5)(11,"app-interval",6),G("fromChange",function(o){return H(i.from,o)||(i.from=o),o})("toChange",function(o){return H(i.to,o)||(i.to=o),o}),D()(),E(12,"p",4),S(13,"mit der Suchtiefe:"),D(),E(14,"p",3)(15,"input",7),G("ngModelChange",function(o){return H(i.depth,o)||(i.depth=o),o}),D()(),E(16,"button",8),te("click",function(){return i.evaluateExtremumPoints()}),S(17,"Extrempunkte"),D(),E(18,"button",9),te("click",function(){return i.evaluateZeroPoints()}),S(19,"Nullpunkte"),D(),E(20,"button",10),te("click",function(){return i.dialog.close()}),S(21,"Schlie\xdfen"),D(),E(22,"button",11),te("click",function(){return i.evaluateInflectionPoints()}),S(23,"Wendepunkte"),D()()),2&t&&(P(4),nn(null!=i.dialogData&&null!=i.dialogData.graph&&null!=i.dialogData.graph.func&&i.dialogData.graph.func.name?(null==i.dialogData||null==i.dialogData.graph||null==i.dialogData.graph.func?null:i.dialogData.graph.func.name)+" ":""),P(3),nn(null==i.dialogData||null==i.dialogData.graph||null==i.dialogData.graph.func?null:i.dialogData.graph.func.operationAsString),P(4),j("from",i.from)("to",i.to),P(4),j("ngModel",i.depth))},dependencies:[un,kt,yn,ln,id],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})),n}(),Pz=function(){var e,n=function(){return m(function r(t,i){y(this,r),h(this,"drawerService",void 0),h(this,"snackbarService",void 0),h(this,"dialogData",void 0),h(this,"dialog",void 0),h(this,"from",-1),h(this,"to",1),h(this,"_depth",10),this.drawerService=t,this.snackbarService=i},[{key:"depth",get:function(){return this._depth},set:function(i){this._depth=Math.floor(i)}},{key:"getFuncName",value:function(i){return i&&void 0!==i.func&&i.func.name?" ".concat(i.func.name):""}},{key:"evaluateIntersectionPoints",value:function(){var i=this,a=!1;try{this.dialogData&&this.dialogData.graph1&&this.dialogData.graph2?this.drawerService.addCanvasElements(Mo.createIntersectionPoints(this.drawerService,this.dialogData.graph1,this.dialogData.graph2,this.from,this.to,this.depth,this.dialogData.color,function(l){Lc(i.snackbarService,"Schnittpunkt",l.length)})):a=!0}catch{a=!0}a&&Vc(this.snackbarService),this.dialog.close()}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr),x(vp))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-intersection-dialog"]],decls:29,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"maths"],[1,"centered","maths"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Schnittpunkte berechnen",1,"button","floatRight",3,"click"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"p",1),S(2,"Schnittpunkte berechnen"),D(),E(3,"p",2),S(4,"Von"),E(5,"span",3),S(6),D(),S(7,":"),D(),E(8,"p",4),S(9),D(),E(10,"p",2),S(11,"Und"),E(12,"span",3),S(13),D(),S(14,":"),D(),E(15,"p",4),S(16),D(),E(17,"p",2),S(18,"Im Intervall"),D(),E(19,"p",5)(20,"app-interval",6),G("fromChange",function(o){return H(i.from,o)||(i.from=o),o})("toChange",function(o){return H(i.to,o)||(i.to=o),o}),D()(),E(21,"p",2),S(22,"mit der Suchtiefe:"),D(),E(23,"p",4)(24,"input",7),G("ngModelChange",function(o){return H(i.depth,o)||(i.depth=o),o}),D()(),E(25,"button",8),te("click",function(){return i.dialog.close()}),S(26,"Schlie\xdfen"),D(),E(27,"button",9),te("click",function(){return i.evaluateIntersectionPoints()}),S(28,"Schnittpunkte"),D()()),2&t&&(P(6),nn(i.getFuncName(null==i.dialogData?null:i.dialogData.graph1)),P(3),nn(null==i.dialogData||null==i.dialogData.graph1||null==i.dialogData.graph1.func?null:i.dialogData.graph1.func.operationAsString),P(4),nn(i.getFuncName(null==i.dialogData?null:i.dialogData.graph2)),P(3),nn(null==i.dialogData||null==i.dialogData.graph2||null==i.dialogData.graph2.func?null:i.dialogData.graph2.func.operationAsString),P(4),j("from",i.from)("to",i.to),P(4),j("ngModel",i.depth))},dependencies:[un,kt,yn,ln,id],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})),n}(),Oz=function(n){return{error:n}},Az=function(){var e,n=function(r){function t(i,a){var o;return y(this,t),h(o=w(this,t),"drawerService",void 0),h(o,"dialogService",void 0),h(o,"canvasElement",void 0),o.drawerService=i,o.dialogService=a,o.canvasElement=tt.getDefaultInstance(i),o}return k(t,r),m(t,[{key:"contextMenu",get:function(){var a=this;return{elements:function(){var s=a.drawerService.selection.toArray(),u=-1!==s.indexOf(a.canvasElement)&&2===s.length&&s[0]instanceof tt&&s[1]instanceof tt;return[{header:"Ableiten",click:function(){var d=a.canvasElement.derive(a.drawerService.getNewColor());void 0!==d&&a.drawerService.addCanvasElements(d)},disabled:!a.canvasElement.canDerive()||a.canvasElement.funcError,icon:"south_east",title:"Diese Funktion ableiten."},{header:"Duplizieren",icon:"content_copy",disabled:a.canvasElement.funcError,click:function(){try{a.drawerService.addCanvasElements(a.canvasElement.clone())}catch{}},title:"Diese Funktion duplizieren."},{header:"Analysieren",icon:"query_stats",click:function(){var d;null===(d=a.dialogService.createDialog(Tz))||void 0===d||d.open({graph:a.canvasElement})},title:"Nullpunkte, Extrempunkte oder Wendepunkte dieser Funktion bestimmen."},{header:"Bestimmtes Integral",click:function(){a.drawerService.addCanvasElements(new ad(a.canvasElement,void 0,-1,1,.1,a.canvasElement.color))},icon:"monitoring"},{header:"Schnittpunkte bestimmen",disabled:!u,click:function(){var d;u&&(null===(d=a.dialogService.createDialog(Pz))||void 0===d||d.open({graph1:s[0],graph2:s[1]}))},title:u?"Schnittpunkte der beiden ausgew\xe4hlten Funktionen berechnen.":"Um Schnittpunkte zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"multiline_chart"},{header:"Fl\xe4che zwischen Graphen",disabled:!u,click:function(){u&&a.drawerService.addCanvasElements(new ad(s[0],s[1],-1,1,.1,a.drawerService.getNewColor()))},title:u?"Fl\xe4che zwischen den Graphen der beiden ausgew\xe4hlten Funktionen berechnen.":"Um die Fl\xe4che zwischen den Graphen zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"stacked_line_chart"}]},additionalEvent:this.threePointsClickedEvent}}},{key:"color",get:function(){return et(this.canvasElement.color)}}])}(ui);return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr),x(iu))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-graph-formula"]],features:[fe],decls:7,vars:8,consts:[["inp",""],[1,"wrapper",3,"ngClass"],[3,"colorChange","visibleChange","color","visible"],["autocomplete","off",1,"input",3,"ngModelChange","title","ngModel","disabled"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(t,i){if(1&t){var a=Vr();E(0,"div",1)(1,"app-color-circle",2),G("colorChange",function(u){return Ye(a),H(i.canvasElement.color,u)||(i.canvasElement.color=u),Ke(u)})("visibleChange",function(u){return Ye(a),H(i.canvasElement.visible,u)||(i.canvasElement.visible=u),Ke(u)}),D(),E(2,"input",3,0),G("ngModelChange",function(u){return Ye(a),H(i.canvasElement.funcText,u)||(i.canvasElement.funcText=u),Ke(u)}),D(),E(4,"button",4),te("click",function(u){return Ye(a),Ke(i.threePointsClicked(u))}),E(5,"span",5),S(6,"more_vert"),D()()()}var o;2&t&&(X("ngClass",kn(6,Oz,i.canvasElement.funcError)),P(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(),X("title",null!==(o=i.canvasElement.funcErrorText)&&void 0!==o?o:""),j("ngModel",i.canvasElement.funcText),X("disabled",!i.canvasElement.configuration.editable))},dependencies:[Qt,un,yn,ln,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--margin: 16px}.wrapper.error[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:#fcc!important}.input[_ngcontent-%COMP%]{--padding: 7px;width:calc(100% - 2 * (var(--padding) + var(--buttonSize) + var(--margin)));margin-left:calc(var(--margin) + var(--buttonSize))}']})),n}();function Uk(e,n,r){var t=(n.y-r.y)/(n.x-r.x),i=(e.y+e.x/t-n.y+t*n.x)/(t+1/t),a_y=t*i+n.y-t*n.x;return Math.sqrt(Math.pow(e.x-i,2)+Math.pow(e.y-a_y,2))}var hu=.3,na=2.5,tt=function(e){function n(r,t){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:0,g:0,b:0},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(i=w(this,n),"parseAndValidateProvider",void 0),h(i,"lineWidth",void 0),h(i,"componentType",Az),h(i,"formulaDialogType",void 0),h(i,"_funcText","0"),h(i,"_funcErrorText",void 0),h(i,"_func",void 0),i.parseAndValidateProvider=r,i.lineWidth=s,t instanceof ho?(i._func=t,i.configuration.label=t?.name,i._funcText=t.operationAsString):"string"==typeof t&&(i._funcText=t),i.configuration.showLabel=u,i.svgLabel=void 0,i._color=a,i._visible=o,i}return k(n,e),m(n,[{key:"func",get:function(){return this._func}},{key:"funcText",get:function(){return this._funcText},set:function(t){this._funcText=t,this.reparse(),this.onChange.emit(t)}},{key:"funcErrorText",get:function(){return this._funcErrorText}},{key:"funcError",get:function(){return void 0!==this.funcErrorText}},{key:"draw",value:function(t){var i=this;if((this.funcError||void 0===this.func)&&this.reparse(),!this.funcError&&void 0!==this.func){for(var a=[],o=[],s=t.range,u=t.step,l=u,c=-1!==t.selection.indexOf(this),d=wt(this._color,hu),f=this.lineWidth*na,v=function(ve,be){if(void 0!==be){var je=ve/(0===be?1:be);if(Math.abs(ve)>10){if(je<0)return!0;if(je>15)return!0}}return!1},g=function(ve){try{var be=i._func.evaluate(ve,t.variables);if(isFinite(be))return{x:ve,y:be}}catch{}},p=void 0,C=void 0,b=void 0,_=s.x;_<s.x+s.width;_+=l){var M=!1,I=g(_);if(I||(M=!0,b=void 0),I&&C){var O=(I.y-C.y)/(I.x-C.x);p=(M=M||v(O,p))?void 0:O,l=u/Math.min(Math.max(1,Math.abs(O/5)),15)}if(I&&!Qs(I,s)){if(b||_===s.x){if(!M&&b&&mn(s.y,b.y,I.y)){var N=g((b.x+I.x)/2);N&&mn(N.y,b.y,I.y)&&o.push(b,N,I)}M=!0}b=I}else I&&(b&&void 0!==p&&!M&&(o.push(b),p=(I.y-b.y)/(I.x-b.x)),b=void 0);I&&!M&&o.push(I),C=I,M&&0!=o.length&&(a.push(o),o=[])}0!=o.length&&a.push(o);for(var W=0,K=a;W<K.length;W++){var le=K[W];t.drawPath(le,this.lineWidth,this._color,void 0,this.configuration.dashed),c&&t.drawPath(le,f,d,void 0,this.configuration.dashed)}}}},{key:"getDistance",value:function(t,i){try{var a=t.x-i.step,o=t.x,s=t.x+i.step,u={x:a,y:this.func.evaluate(a,i.variables)},l={x:o,y:this.func.evaluate(o,i.variables)},c={x:s,y:this.func.evaluate(s,i.variables)},d=Uk(t,u,l),f=Uk(t,l,c);if(d=isFinite(d)?d:1/0,f=isFinite(f)?f:1/0,d!==1/0||f!==1/0)return Math.min(d,f)}catch{}try{return Math.abs(t.y-this.func.evaluate(t.x,i.variables))}catch{}}},{key:"serialize",value:function(){return{data:{formula:this.funcText},style:{color:this.color,visible:this.visible,size:this.lineWidth}}}},{key:"loadFrom",value:function(t,i,a){var o;this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.size)&&void 0!==o?o:this.lineWidth;var s=i.data;try{void 0!==s.formula&&(this._funcText=s.formula)}catch{}}},{key:"reparse",value:function(){var t=this.parseAndValidateProvider(this._funcText);return t instanceof ho?(this._func=t,this._funcErrorText=void 0,this.configuration.label=t.name,this.svgLabel=void 0,!0):(this._func=void 0,this._funcErrorText=t,this.configuration.label=void 0,this.svgLabel=void 0,!1)}},{key:"reparseIfNecessary",value:function(){return!this.funcError&&void 0!==this.func||this.reparse()}},{key:"getPositionForLabel",value:function(t){var i=er(t.range);try{var s=i.x+.6*i.width;return{x:s,y:this.func.evaluate(s)+.05*i.height}}catch{return}}},{key:"clone",value:function(){var t=new n(this.parseAndValidateProvider,this.funcText,this.color,this.visible,this.lineWidth,this.configuration.showLabel);return t.configuration=re({},this.configuration),t.svgLabel=void 0,t}},{key:"derive",value:function(t){try{var i,a=new n(this.parseAndValidateProvider,null===(i=this.func)||void 0===i?void 0:i.derive(),t??this.color);return a.configuration.editable=!0,a}catch{return}}},{key:"canDerive",value:function(){try{return void 0!==this.func&&(this.func.derive(),!0)}catch{return!1}}}],[{key:"getDefaultInstance",value:function(t){return new n(t.parseAndValidateProviderGraph)}}])}(qi),xz=["wrapper"],Nz=function(n){return{color:n}},Fz=function(n){return{disabled:n}};function Rz(e,n){if(1&e){var r=Vr();E(0,"div",3),te("click",function(s){var u=Ye(r).$implicit;return Ke(en().click(s,u))})("keydown",function(s){var u=Ye(r).$implicit;return Ke(en().onTabKeyboard(s,u))}),E(1,"p"),S(2),D(),E(3,"span",4),S(4),D()()}if(2&e){var t,i,a=n.$implicit;X("title",null!==(t=a.title)&&void 0!==t?t:"")("ngStyle",kn(5,Nz,null!==(i=a.color)&&void 0!==i?i:"black"))("ngClass",kn(7,Fz,a.disabled)),P(2),nn(a.header),P(2),nn(a.icon)}}var Lz=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"wrapper",void 0),h(this,"wrapperElement",void 0),h(this,"elements",[]),h(this,"_contextMenu",{elements:function(){return[]}}),h(this,"_position",{x:0,y:0})},[{key:"contextMenu",get:function(){return this._contextMenu},set:function(i){this._contextMenu=i,this.elements=i.elements()}},{key:"position",get:function(){if(this.wrapperElement){var i={width:window.innerWidth,height:window.innerHeight},a=this.wrapperElement.getBoundingClientRect();return{x:Math.min(this._position.x,i.width-a.width),y:Math.min(this._position.y,i.height-a.height)}}return this._position},set:function(i){this._position=i}},{key:"ngAfterViewInit",value:function(){this.wrapperElement=this.wrapper.nativeElement,this.setPosition()}},{key:"setPosition",value:function(){if(this.wrapperElement){var i=this.position;this.wrapperElement.style.left="".concat(i.x,"px"),this.wrapperElement.style.top="".concat(i.y,"px")}}},{key:"click",value:function(i,a){!a.disabled&&a.click&&a.click(i)}},{key:"onTabKeyboard",value:function(i,a){("Enter"==i.key||" "==i.key)&&this.click(i,a)}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-context-menu"]],viewQuery:function(t,i){var a;1&t&&bt(xz,5),2&t&&Et(a=Dt())&&(i.wrapper=a.first)},decls:3,vars:1,consts:[["wrapper",""],[1,"wrapper"],["class","element","tabindex","0",3,"title","ngStyle","ngClass","click","keydown",4,"ngFor","ngForOf"],["tabindex","0",1,"element",3,"click","keydown","title","ngStyle","ngClass"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(E(0,"div",1,0),Ln(2,Rz,5,9,"div",2),D()),2&t&&(P(2),X("ngForOf",i.elements))},dependencies:[Qt,lo,fo],styles:['.element[_ngcontent-%COMP%]{--height: 30px;--sizeIcon: 30px;--marginToIcon: 5px;height:var(--height);user-select:none;line-height:var(--height);padding:7px;font-size:12pt;font-family:Segoe UI,sans-serif;border-radius:var(--borderRadius);background:#fff;transition:.1s all ease-in-out}.element[_ngcontent-%COMP%]:hover{background:#eee}.element[_ngcontent-%COMP%]:active{background:#ccc}.element.disabled[_ngcontent-%COMP%]{color:gray!important}.element.disabled[_ngcontent-%COMP%]:hover, .element.disabled[_ngcontent-%COMP%]:active{background:#fff}.element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:calc(var(--sizeIcon) + var(--marginToIcon));margin-top:0;margin-bottom:0}@keyframes _ngcontent-%COMP%_start{0%{opacity:0;transform:scale(1)}to{opacity:1}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;transform-origin:top left;animation:.1s start ease-in-out;z-index:1}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translateY(-27.5px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})),n}(),zk=function(){var e,n=function(){return m(function r(t){var i=this;y(this,r),h(this,"vc",void 0),h(this,"contextMenu",void 0),h(this,"_appContextMenu",void 0),h(this,"element",void 0),h(this,"contextmenuDocumentEventListener",function(a){(a instanceof PointerEvent||a instanceof MouseEvent)&&-1===a.composedPath().indexOf(i.element)&&i.destroyContextMenu()}),h(this,"keyboardDocumentEventListener",function(a){a instanceof KeyboardEvent&&"Escape"==a.key&&i.destroyContextMenu()}),h(this,"closeContextMenuEventListener",function(a){a!==i.skipEvent&&i.destroyContextMenu(),i.skipEvent=void 0}),h(this,"contextmenuEventListener",function(a){(a instanceof PointerEvent||a instanceof MouseEvent)&&(a.preventDefault(),i.showContextMenuAt({x:a.x,y:a.y}))}),h(this,"skipEvent",void 0),h(this,"customContextMenuActivateListener",function(a){var s,o=a?a[0]:void 0;i.skipEvent=a?a[1]:void 0,!o&&i._appContextMenu&&(o=i._appContextMenu.defaultPopUpPosition),o||(o=null!==(s=i.element.getBoundingClientRect())&&void 0!==s?s:{x:0,y:0}),i.showContextMenuAt(o)}),this.vc=t,this.element=t.element.nativeElement,this.element.addEventListener("contextmenu",this.contextmenuEventListener)},[{key:"appContextMenu",get:function(){return this._appContextMenu},set:function(i){this._appContextMenu&&this._appContextMenu.additionalEvent&&this._appContextMenu.additionalEvent.removeListener(this.customContextMenuActivateListener),i&&i.additionalEvent&&i.additionalEvent.addListener(this.customContextMenuActivateListener),this._appContextMenu=i}},{key:"ngOnDestroy",value:function(){this.element.removeEventListener("contextmenu",this.contextmenuEventListener),this.destroyContextMenu()}},{key:"showContextMenuAt",value:function(i){this.destroyContextMenu(),this._appContextMenu&&(this.contextMenu=this.vc.createComponent(Lz),this.contextMenu.instance.position=i,this.contextMenu.instance.contextMenu=this._appContextMenu,document.addEventListener("click",this.closeContextMenuEventListener),document.addEventListener("wheel",this.closeContextMenuEventListener),document.addEventListener("contextmenu",this.contextmenuDocumentEventListener),document.addEventListener("keydown",this.keyboardDocumentEventListener))}},{key:"destroyContextMenu",value:function(){this.contextMenu&&(this.contextMenu.destroy(),this.contextMenu=void 0,document.removeEventListener("click",this.closeContextMenuEventListener),document.removeEventListener("wheel",this.closeContextMenuEventListener),document.removeEventListener("contextmenu",this.contextmenuDocumentEventListener),document.removeEventListener("keydown",this.keyboardDocumentEventListener))}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(Rn))}),h(n,"\u0275dir",ue({type:e,selectors:[["","appContextMenu",""]],inputs:{appContextMenu:"appContextMenu"}})),n}(),Vz=["formula"],Bz=function(n){return{selected:n}},Hz=function(){var e,n=function(){return m(function r(t,i){y(this,r),h(this,"drawerService",void 0),h(this,"dialogService",void 0),h(this,"canvasElement",void 0),h(this,"formula",void 0),h(this,"formulaElementComp",void 0),this.drawerService=t,this.dialogService=i},[{key:"ngAfterViewInit",value:function(){var i=this;setTimeout(function(){i.formulaElementComp=i.formula.createComponent(i.canvasElement.componentType).instance,i.formulaElementComp.canvasElement=i.canvasElement})}},{key:"selected",get:function(){return this.drawerService.selection.contains(this.canvasElement||void 0)}},{key:"getContextMenuElementsFromFormulaElement",value:function(){return this.formulaElementComp?this.formulaElementComp.contextMenu.elements():[]}},{key:"completeContextMenu",get:function(){var a,o,i=this;return{elements:function(){var u=void 0!==i.canvasElement.formulaDialogType?[{header:"Anzeigen",click:function(){var f;null===(f=i.dialogService.createDialog(i.canvasElement.formulaDialogType))||void 0===f||f.open(i.canvasElement)},icon:"visibility",title:"Element anzeigen und bearbeiten."}]:[],l=i.selected,c=[].concat(u,B(i.getContextMenuElementsFromFormulaElement()),[{header:l?"Auswahl entfernen":"Ausw\xe4hlen",click:function(){i.drawerService.selection.alternate(i.canvasElement||void 0)},icon:l?"remove_done":"done",title:"Dieses Element ausw\xe4hlen."},{header:"L\xf6schen",color:"red",click:function(){i.drawerService.removeCanvasElements(i.canvasElement)},icon:"delete",title:"Dieses Element l\xf6schen."}]);return l&&c.push({header:"Auswahl l\xf6schen",click:function(){var f;(f=i.drawerService).removeCanvasElements.apply(f,B(i.drawerService.selection.toArray()))},color:"red",icon:"delete_sweep",title:"Alle ausgew\xe4hlten Elemente l\xf6schen."}),c},additionalEvent:null===(a=this.formulaElementComp)||void 0===a?void 0:a.contextMenu.additionalEvent,defaultPopUpPosition:null===(o=this.formulaElementComp)||void 0===o?void 0:o.contextMenu.defaultPopUpPosition}}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr),x(iu))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-formula-element"]],viewQuery:function(t,i){var a;1&t&&bt(Vz,5,Rn),2&t&&Et(a=Dt())&&(i.formula=a.first)},inputs:{canvasElement:"canvasElement"},decls:3,vars:4,consts:[["formula",""],[1,"wrapper",3,"appContextMenu","ngClass"],[1,"formula"]],template:function(t,i){1&t&&(E(0,"div",1),Ae(1,"div",2,0),D()),2&t&&X("appContextMenu",i.completeContextMenu)("ngClass",kn(2,Bz,i.selected))},dependencies:[Qt,zk],styles:[".wrapper[_ngcontent-%COMP%]{padding:15px;background:#fcfcfc;border:1px solid transparent;border-bottom:1px solid #ccc}.selected[_ngcontent-%COMP%]{border:1px solid black;border-radius:7px}.formula[_ngcontent-%COMP%]{display:none}"]})),n}();function Uz(e,n){1&e&&Ae(0,"app-formula-element",3),2&e&&X("canvasElement",n.$implicit)}var zz=function(){var e,n=function(){return m(function r(t){var i=this;y(this,r),h(this,"drawerService",void 0),h(this,"contextMenu",{elements:function(){return[{header:"Funktion hinzuf\xfcgen",click:function(){i.addGraph()},icon:"show_chart",title:"Eine Funktion hinzuf\xfcgen."},{header:"Punkt hinzuf\xfcgen",click:function(){i.addPoint()},icon:"radio_button_checked",title:"Einen Punkt hinzuf\xfcgen."},{header:"Kurve hinzuf\xfcgen",click:function(){i.addCurve()},icon:"gesture",title:"Eine Kurve hinzuf\xfcgen."},{header:"Alle l\xf6schen",click:function(){i.drawerService.emptyCanvasElements()},icon:"delete",color:"red",title:"Alle Elemente l\xf6schen."}]}}),this.drawerService=t},[{key:"ngOnInit",value:function(){}},{key:"addClick",value:function(){this.addGraph()}},{key:"keyboardAdd",value:function(i){("Enter"==i.key||" "==i.key)&&this.addClick()}},{key:"addGraph",value:function(){var i=new tt(this.drawerService.parseAndValidateProviderGraph,void 0,this.drawerService.getNewColor());i.configuration.formula="0",i.configuration.editable=!0,this.drawerService.addCanvasElements(i)}},{key:"addPoint",value:function(){var i=this,a=new du(function(o){return i.drawerService.parseAndValidateOperation(o)},this.drawerService.getNewColor());this.drawerService.addCanvasElements(a)}},{key:"addCurve",value:function(){var i=this,a=new fu(function(o,s){return i.drawerService.parseAndValidateOperation(o,!0,s)},this.drawerService.getNewColor());this.drawerService.addCanvasElements(a)}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-formula-tab"]],decls:6,vars:2,consts:[[3,"canvasElement",4,"ngFor","ngForOf"],["tabindex","0",1,"addDiv",3,"click","keydown","appContextMenu"],[1,"material-symbols-outlined"],[3,"canvasElement"]],template:function(t,i){1&t&&(Ln(0,Uz,1,1,"app-formula-element",0),E(1,"div",1),te("click",function(){return i.addClick()})("keydown",function(o){return i.keyboardAdd(o)}),E(2,"p")(3,"span",2),S(4,"add"),D(),S(5," Hinzuf\xfcgen "),D()()),2&t&&(X("ngForOf",i.drawerService.canvasElements),P(),X("appContextMenu",i.contextMenu))},dependencies:[lo,zk,Hz],styles:['.addDiv[_ngcontent-%COMP%]{height:62px;background:#fcfcfc;transition:.1s all ease-in-out;line-height:62px}.addDiv[_ngcontent-%COMP%]:hover{background:#eee}.addDiv[_ngcontent-%COMP%]:active{background:#ddd}p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;user-select:none;margin:0;height:100%;width:100%;display:inline-block;font-family:Segoe UI,Calibri,"sans-serif";font-size:13pt}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translate(-5px,6px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})),n}(),jz=["canvas"],Gz=["wrapper"],sd="screenshot_range",ud="screenshot_zoom",Wz=function(){var e,n=function(){return m(function r(t){y(this,r),h(this,"drawerService",void 0),h(this,"canvas",void 0),h(this,"canvasEl",void 0),h(this,"wrapper",void 0),h(this,"wrapperEl",void 0),h(this,"dialog",void 0),h(this,"_range",{x:0,y:0,width:0,height:0}),h(this,"_zoom",1),this.drawerService=t,this.load()},[{key:"x",get:function(){return this._range.x},set:function(i){this._range.x=i,this.save(),this.reload()}},{key:"y",get:function(){return this._range.y},set:function(i){this._range.y=i,this.save(),this.reload()}},{key:"width",get:function(){return Math.abs(this._range.width)},set:function(i){this._range.width=Math.abs(i),this.save(),this.reload()}},{key:"height",get:function(){return Math.abs(this._range.height)},set:function(i){this._range.height=Math.abs(i),this.save(),this.reload()}},{key:"zoom",get:function(){return this._zoom},set:function(i){i>0&&(this._zoom=i,this.save(),this.reload())}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.reload()}},{key:"download",value:function(){var i=document.createElement("canvas");this.drawToCanvas(i);var a=document.createElement("a");a.download="export.png",a.href=i.toDataURL(),a.click(),this.dialog.close()}},{key:"reset",value:function(){sessionStorage.removeItem(sd),sessionStorage.removeItem(ud),this.load()}},{key:"load",value:function(){var i,a;this._range=sessionStorage[sd]&&null!==(i=JSON.parse(sessionStorage[sd]))&&void 0!==i?i:this.drawerService.renderingContext.range,this._zoom=sessionStorage[ud]&&null!==(a=JSON.parse(sessionStorage[ud]))&&void 0!==a?a:this.drawerService.zoom,this.reload()}},{key:"save",value:function(){sessionStorage[sd]=JSON.stringify(this._range),sessionStorage[ud]=JSON.stringify(this._zoom)}},{key:"drawToCanvas",value:function(i){this.drawerService.drawToCanvas(i,{x:0,y:0,width:this.width*this.zoom,height:this.height*this.zoom},{translateX:-this.x,translateY:-this.y,zoom:this.zoom})}},{key:"reload",value:function(){this.canvasEl&&this.drawToCanvas(this.canvasEl)}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-screenshot-dialog"]],viewQuery:function(t,i){var a;1&t&&(bt(jz,5),bt(Gz,5)),2&t&&(Et(a=Dt())&&(i.canvas=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:30,vars:5,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"centered","maths"],["type","number","title","x",1,"input",3,"ngModelChange","ngModel"],["type","number","title","y",1,"input",3,"ngModelChange","ngModel"],["type","number","title","Breite",1,"input",3,"ngModelChange","ngModel"],["type","number","title","H\xf6he",1,"input","leftMargin",3,"ngModelChange","ngModel"],["type","number","title","Zoom",1,"input",3,"ngModelChange","ngModel"],[1,"canvasWrapper"],["id","canvas",1,"canvas"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Download",1,"button","floatRight",3,"click"],["title","Ausschnitt zur\xfccksetzen",1,"button","floatRight",3,"click"]],template:function(t,i){if(1&t){var a=Vr();E(0,"div",2)(1,"p",3),S(2,"Screenshot machen"),D(),E(3,"p",4),S(4,"Startpunkt:"),D(),E(5,"p",5),S(6," ("),E(7,"input",6),G("ngModelChange",function(s){return Ye(a),H(i.x,s)||(i.x=s),Ke(s)}),D(),S(8,"| "),E(9,"input",7),G("ngModelChange",function(s){return Ye(a),H(i.y,s)||(i.y=s),Ke(s)}),D(),S(10,") "),D(),E(11,"p",4),S(12,"Breite und H\xf6he:"),D(),E(13,"p",5)(14,"input",8),G("ngModelChange",function(s){return Ye(a),H(i.width,s)||(i.width=s),Ke(s)}),D(),E(15,"input",9),G("ngModelChange",function(s){return Ye(a),H(i.height,s)||(i.height=s),Ke(s)}),D()(),E(16,"p",4),S(17,"Zoom:"),D(),E(18,"p",5)(19,"input",10),G("ngModelChange",function(s){return Ye(a),H(i.zoom,s)||(i.zoom=s),Ke(s)}),D()(),E(20,"div",11,0),Ae(22,"canvas",12,1),D(),E(24,"button",13),te("click",function(){return Ye(a),Ke(i.dialog.close())}),S(25,"Schlie\xdfen"),D(),E(26,"button",14),te("click",function(){return Ye(a),Ke(i.download())}),S(27,"Download"),D(),E(28,"button",15),te("click",function(){return Ye(a),Ke(i.reset())}),S(29,"Zur\xfccksetzen"),D()()}2&t&&(P(7),j("ngModel",i.x),P(2),j("ngModel",i.y),P(5),j("ngModel",i.width),P(),j("ngModel",i.height),P(4),j("ngModel",i.zoom))},dependencies:[un,kt,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:100px;display:unset}.leftMargin[_ngcontent-%COMP%]{margin-left:15px}.canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.canvasWrapper[_ngcontent-%COMP%]{padding:0;max-width:75vw}']})),n}(),Zz=function(){var e,n=function(){return m(function r(t,i){y(this,r),h(this,"drawerService",void 0),h(this,"dialogService",void 0),this.drawerService=t,this.dialogService=i},[{key:"ngOnInit",value:function(){}},{key:"screenshot",value:function(){var i;null===(i=this.dialogService.createDialog(Wz))||void 0===i||i.open()}},{key:"download",value:function(){var i="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.drawerService.serialize())),a=document.createElement("a");a.href=i,a.download="download.json",a.click(),localStorage.setItem("serialized",JSON.stringify(this.drawerService.serialize()))}},{key:"openFile",value:function(){var i=this,a=document.getElementById("inp");if(a.files){var o,s=null===(o=a.files)||void 0===o?void 0:o.item(0);s?.text().then(function(u){try{i.drawerService.loadFrom(JSON.parse(u))}catch(l){console.error(l)}})}}},{key:"reset",value:function(){try{this.drawerService.loadFrom({canvasElements:[],backgroundColor:{r:255,g:255,b:255},transformations:{translateX:7,translateY:-5,zoom:100},showGrid:!0,showGridNumbers:!0})}catch{}}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr),x(iu))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-settings-tab"]],decls:26,vars:4,consts:[[1,"wrapper"],[1,"showGrid","settingsContainer"],["type","checkbox","id","showGrid",3,"ngModelChange","ngModel"],["for","showGrid"],[1,"showGridNumbers","settingsContainer"],["type","checkbox","id","showGridNumbers",3,"ngModelChange","ngModel","disabled"],["for","showGridNumbers"],[1,"drawPointsEqually","settingsContainer"],["type","checkbox","id","drawPointsEqually",3,"ngModelChange","ngModel"],["for","drawPointsEqually"],[1,"screenshotDiv","settingsContainer"],["title","Mache ein Screenshot",1,"button",3,"click"],[1,"downloadDiv","settingsContainer"],["title","Speicher in einer Datei",1,"button",3,"click"],[1,"openDiv","settingsContainer"],[1,"button","inpButton"],["title","Lade aus einer Datei","id","inp","type","file","accept",".json",3,"change"],[1,"resetDiv","settingsContainer"],["title","Alles zur\xfccksetzen",1,"button",3,"click"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"div",1)(2,"input",2),G("ngModelChange",function(o){return H(i.drawerService.showGrid,o)||(i.drawerService.showGrid=o),o}),D(),E(3,"label",3),S(4,"Koordinatengitter anzeigen"),D()(),E(5,"div",4)(6,"input",5),G("ngModelChange",function(o){return H(i.drawerService.showGridNumbers,o)||(i.drawerService.showGridNumbers=o),o}),D(),E(7,"label",6),S(8,"Achsenbeschriftung anzeigen"),D()(),E(9,"div",7)(10,"input",8),G("ngModelChange",function(o){return H(i.drawerService.drawPointsEqually,o)||(i.drawerService.drawPointsEqually=o),o}),D(),E(11,"label",9),S(12,"Punkte auf gleicher Ebene zeichnen"),D()(),E(13,"div",10)(14,"button",11),te("click",function(){return i.screenshot()}),S(15,"Screenshot"),D()(),E(16,"div",12)(17,"button",13),te("click",function(){return i.download()}),S(18,"Herunterladen"),D()(),E(19,"div",14)(20,"button",15),S(21," \xd6ffnen "),E(22,"input",16),te("change",function(){return i.openFile()}),D()()(),E(23,"div",17)(24,"button",18),te("click",function(){return i.reset()}),S(25,"Zur\xfccksetzen"),D()()()),2&t&&(P(2),j("ngModel",i.drawerService.showGrid),P(4),j("ngModel",i.drawerService.showGridNumbers),X("disabled",!i.drawerService.showGrid),P(4),j("ngModel",i.drawerService.drawPointsEqually))},dependencies:[zr,yn,ln],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{padding:16px;font-family:Segoe UI,Calibri,"sans-serif";font-size:11pt;user-select:none}.settingsContainer[_ngcontent-%COMP%]{margin-bottom:7px}.settingsContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:7px}.inpButton[_ngcontent-%COMP%]{position:relative}#inp[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}']})),n}(),Yz=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"click",value:function(t,i,a,o){t.addCanvasElements(new he(a,t.getNewColor()))}}])}(Mr),Kz=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(t,i,a,o,s){if(0===t.selection.size)We(Oe(n.prototype),"pointerMove",this).call(this,t,i,a,o,s);else{var l,u=A(t.selection.toArray());try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof he&&void 0!==c.x&&void 0!==c.y&&!c.dependent&&(c.x+=o.x-a.x,c.y+=o.y-a.y)}}catch(d){u.e(d)}finally{u.f()}}}},{key:"click",value:function(t,i,a,o){t.setSelection(a,!o.ctrlKey,function(s){return s instanceof he&&!s.dependent})}}])}(Mr),pi=function(e){function n(r,t){var i;return y(this,n),h(i=w(this,n),"types1",void 0),h(i,"types2",void 0),h(i,"selectedElement",void 0),i.types1=r,i.types2=t,i}return k(n,e),m(n,[{key:"click",value:function(t,i,a,o){var s=this;t.selection.empty();var u=t.getSelection(a,function(l){return void 0===s.selectedElement&&(tr.apply(void 0,[l].concat(B(s.types1)))||tr.apply(void 0,[l].concat(B(s.types2))))||tr.apply(void 0,[s.selectedElement].concat(B(s.types1)))&&tr.apply(void 0,[l].concat(B(s.types2)))||tr.apply(void 0,[s.selectedElement].concat(B(s.types2)))&&tr.apply(void 0,[l].concat(B(s.types1)))});void 0!==u&&u!==this.selectedElement?void 0!==this.selectedElement?(tr.apply(void 0,[this.selectedElement].concat(B(this.types1)))&&tr.apply(void 0,[u].concat(B(this.types2)))?this.addCanvasElement(t,this.selectedElement,u):tr.apply(void 0,[this.selectedElement].concat(B(this.types2)))&&tr.apply(void 0,[u].concat(B(this.types1)))&&this.addCanvasElement(t,u,this.selectedElement),this.selectedElement=void 0):(this.selectedElement=u,t.selection.set(u)):this.selectedElement=void 0}}])}(Mr);function tr(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];for(var i=0,a=r;i<a.length;i++)if(e instanceof a[i])return!0;return!1}var $z=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[he,Bn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){t.addCanvasElements(vt.createConnection(i,a))}}])}(pi),Qz=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[he,Bn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){t.addCanvasElements(new ft(function(){return[i.point,a.point]},[i,a],function(){return{p1:i.id,p2:a.id}},Vn,"Verbindungsstrecke"))}}])}(pi),Xz=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[he,Bn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){t.addCanvasElements(new St(function(){return i.point},function(){return void 0!==i.point&&void 0!==a.point?Math.sqrt(Math.pow(i.point.x-a.point.x,2)+Math.pow(i.point.y-a.point.y,2)):void 0},[i,a],function(){return{center:i.id,scdPoint:a.id}},Vn,"Verbindungskreis"))}}])}(pi),jk=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[he,Bn]])}return k(n,e),m(n,[{key:"click",value:function(t,i,a,o){var s=t.getSelection(a,function(u){return u instanceof ft});void 0!==s?this.addCanvasElementFromLineSegment(t,s):We(Oe(n.prototype),"click",this).call(this,t,i,a,o)}}])}(pi),Jz=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){t.addCanvasElements(vt.createBisectionByPoints(i,a))}},{key:"addCanvasElementFromLineSegment",value:function(t,i){t.addCanvasElements(vt.createBisectionByLineSegment(i))}}])}(jk),ej=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[vt,ft]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){t.addCanvasElements(vt.createParallel(i,a))}}])}(pi),nj=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[vt,ft]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){t.addCanvasElements(vt.createOrthogonal(i,a))}}])}(pi),tj=function(e){function n(){return y(this,n),w(this,n,[[vt,ft,St],[vt,ft,St]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){var o=Bn.createIntersectionPoints(i,a);t.addCanvasElements.apply(t,B(o))}}])}(pi),rj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){t.addCanvasElements(Bn.createMiddlePointByPoints(i,a))}},{key:"addCanvasElementFromLineSegment",value:function(t,i){t.addCanvasElements(Bn.createMiddlePointByLineSegment(i))}}])}(jk),Gk=function(e){function n(){var r;y(this,n);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return h(r=w(this,n,[].concat(i)),"clickedElement1",void 0),h(r,"clickedElement2",void 0),r}return k(n,e),m(n,[{key:"click",value:function(t,i,a,o){var s=t.getSelection(a,function(d){return d instanceof he});if(void 0!==s){if(s===this.clickedElement1)return this.clickedElement1=this.clickedElement2,this.clickedElement2=void 0,void t.selection.remove(s);if(s===this.clickedElement2)return this.clickedElement2=void 0,void t.selection.remove(s);if((void 0===this.clickedElement1&&void 0===this.clickedElement2||void 0!==this.clickedElement1&&void 0!==this.clickedElement2)&&t.selection.empty(),void 0===this.clickedElement1)return this.clickedElement1=s,void t.selection.set(s);if(void 0===this.clickedElement2)return this.clickedElement2=s,void t.selection.alternate(s);var u=this.clickedElement2,l=this.clickedElement1,c=s;this.clickedElement1=void 0,this.clickedElement2=void 0,this.addCanvasElement(t,l,u,c)}else t.selection.empty(),this.clickedElement1=void 0,this.clickedElement2=void 0}}])}(Mr),ij=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a,o){t.addCanvasElements(vt.createAngleBisector(a,i,o))}}])}(Gk),aj=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[St]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a){t.addCanvasElements.apply(t,B(vt.createTangens(i,a)))}}])}(pi),oj=function(e){function n(){var r;y(this,n);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return h(r=w(this,n,[].concat(i)),"transformInvisibleColor",function(o){return wt(o)}),r}return k(n,e),m(n,[{key:"click",value:function(t,i,a,o){var s=t.getSelection(a,function(){return!0},!1);void 0!==s&&(s.visible=!s.visible)}}])}(Mr),sj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"click",value:function(t,i,a,o){var s=t.getSelection(a);void 0!==s&&(s.configuration.showLabel=!0!==s.configuration.showLabel,t.onCanvasElementChanged.emit(s))}}])}(Mr),uj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(t,i,a,o,s){if(0===t.selection.size)We(Oe(n.prototype),"pointerMove",this).call(this,t,i,a,o,s);else{var l,u=A(t.selection.toArray());try{for(u.s();!(l=u.n()).done;){var c=l.value;if(c.configuration.showLabel&&c.configuration.label){var d=i.range,f=(o.x-a.x)/Math.abs(d.width),v=(o.y-a.y)/Math.abs(d.height);c.labelTranslateX+=f,c.labelTranslateY+=v}}}catch(g){u.e(g)}finally{u.f()}}}},{key:"click",value:function(t,i,a,o){t.setSelection(a,!o.ctrlKey)}}])}(Mr),lj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i,a,o){t.addCanvasElements(new cu([i,a,o],t.getNewColor()))}}])}(Gk),cj=function(e){function n(r,t){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE;return y(this,n),h(i=w(this,n),"types",void 0),h(i,"minElements",void 0),h(i,"maxElements",void 0),h(i,"clickedElements",[]),i.types=r,i.minElements=t,i.maxElements=a,i}return k(n,e),m(n,[{key:"click",value:function(t,i,a,o){var s=this,u=t.getSelection(a,function(c){return tr.apply(void 0,[c].concat(B(s.types)))});if(void 0!==u)if(0===this.clickedElements.length)this.clickedElements.push(u),t.selection.set(u);else if(u===this.clickedElements[this.clickedElements.length-1])this.clickedElements.splice(this.clickedElements.length-1),-1===this.clickedElements.indexOf(u)&&t.selection.remove(u);else if(u===this.clickedElements[0]&&this.clickedElements.length+1>=this.minElements&&this.clickedElements.length+1<=this.maxElements){var l=B(this.clickedElements);this.clickedElements=[],t.selection.empty(),this.addCanvasElement(t,l)}else this.clickedElements.push(u),t.selection.add(u);else t.selection.empty(),this.clickedElements=[]}}])}(Mr),dj=function(e){function n(){return y(this,n),w(this,n,[[he],3])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(t,i){t.addCanvasElements(new dp(function(){return i.map(function(a){return a.point})},i,function(){return{points:i.map(function(a){return a.id})}},t.getNewColor(),"Polygon"))}}])}(cj),fj=function(n){return{active:n}};function vj(e,n){if(1&e){var r=Vr();E(0,"div",5),te("click",function(){return Ke(Ye(r).$implicit.click())}),Ae(1,"img",6),E(2,"p"),S(3),D()()}if(2&e){var t=n.$implicit;X("title",t.tooltip)("ngClass",kn(4,fj,t.isActivated())),P(),X("src","./assets/"+t.icon+".svg",tv),P(2),nn(t.title)}}function hj(e,n){if(1&e&&(E(0,"div",2)(1,"p",3),S(2),D(),Ln(3,vj,4,6,"div",4),D()),2&e){var r=n.$implicit;P(2),nn(r.name),P(),X("ngForOf",r.modes)}}var gj=function(){var e,n=function(){return m(function r(t){var i=this;y(this,r),h(this,"drawerService",void 0),h(this,"groups",[{name:"Bewegungen und Sichtbarkeiten",modes:[new Pn(function(){return i.drawerService},function(){return new Mr},"Bewegen","Bewege den Canvas und w\xe4hle Elemente aus","move"),new Pn(function(){return i.drawerService},function(){return new Kz},"Verschieben","Verschiebe Punkte","movePoints"),new Pn(function(){return i.drawerService},function(){return new oj},"Anzeigen","Mache Elemente (un-)sichtbar","changeVisibility"),new Pn(function(){return i.drawerService},function(){return new sj},"Label anzeigen","Mache Labels (un-)sichtbar","showLabelVisibility"),new Pn(function(){return i.drawerService},function(){return new uj},"Label bewegen","Verschiebe Labels","moveLabels")]},{name:"Einfache Konstruktionen",modes:[new Pn(function(){return i.drawerService},function(){return new Yz},"Punkte","Erstelle neue Punkte","points"),new Pn(function(){return i.drawerService},function(){return new $z},"Gerade","Erstelle eine neue Gerade mit zwei Punkten","line"),new Pn(function(){return i.drawerService},function(){return new Qz},"Strecke","Erstelle eine neue Strecke zwischen zwei Punkten","lineSegment"),new Pn(function(){return i.drawerService},function(){return new Xz},"Kreis","Erstelle einen neuen Kreis mit zwei Punkten","circle"),new Pn(function(){return i.drawerService},function(){return new dj},"Polygon","Erstelle ein neues Polygon mit mindestens drei Punkten","polygon")]},{name:"Weiter Konstruktionen",modes:[new Pn(function(){return i.drawerService},function(){return new tj},"Schnittpunkt","Mache den Schnittpunkt zwischen Geraden, Strecken und Kreisen","intersection"),new Pn(function(){return i.drawerService},function(){return new rj},"Mittelpunkt","Mache den Mittelpunkt einer Strecke oder zwischen zwei Punkten","middlePoint"),new Pn(function(){return i.drawerService},function(){return new Jz},"Mittelsenk.","Mache die Mittelsenkrechte einer Strecke oder zwischen zwei Punkten","bisection"),new Pn(function(){return i.drawerService},function(){return new lj},"Winkel","Lege einen Winkel durch drei Punkte","angle"),new Pn(function(){return i.drawerService},function(){return new ij},"Winkelhalb.","Mache die Winkelhalbierende von drei Punkten","angleBisector"),new Pn(function(){return i.drawerService},function(){return new ej},"Parallel","Mache die Parallele zu einer Geraden durch einen Punkt","parallel"),new Pn(function(){return i.drawerService},function(){return new nj},"Lot","Mache den Lot zu eine Geraden durch einen Punkt","orthogonal"),new Pn(function(){return i.drawerService},function(){return new aj},"Tangente","Mache die Tangente an einen Kreis durch einen Punkt","tangens")]}]),this.drawerService=t},[{key:"ngOnInit",value:function(){}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-geometry-tab"]],decls:2,vars:1,consts:[[1,"wrapper"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"groupName"],["class","tabHeader","tabindex","0",3,"title","ngClass","click",4,"ngFor","ngForOf"],["tabindex","0",1,"tabHeader",3,"click","title","ngClass"],[1,"icon",3,"src"]],template:function(t,i){1&t&&(E(0,"div",0),Ln(1,hj,4,2,"div",1),D()),2&t&&(P(),X("ngForOf",i.groups))},dependencies:[Qt,lo],styles:['.wrapper[_ngcontent-%COMP%]{--size: 70px;--margin: 9px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;display:inline-block}.tabHeader[_ngcontent-%COMP%], .groupName[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.groupName[_ngcontent-%COMP%]{font-weight:700;font-size:large;margin-top:50px;margin-bottom:0}.group[_ngcontent-%COMP%]:first-child   .groupName[_ngcontent-%COMP%]{margin-top:0}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:-20px;text-align:center;line-height:2.5;font-size:smaller}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.wrapper[_ngcontent-%COMP%]{margin:16px}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;user-select:none;pointer-events:none}']})),n}(),Pn=function(){return m(function e(n,r,t,i,a){y(this,e),h(this,"drawerServiceProvider",void 0),h(this,"getInstance",void 0),h(this,"title",void 0),h(this,"tooltip",void 0),h(this,"icon",void 0),this.drawerServiceProvider=n,this.getInstance=r,this.title=t,this.tooltip=i,this.icon=a},[{key:"click",value:function(){this.drawerServiceProvider().mode=this.getInstance(!0)}},{key:"isActivated",value:function(){var r=this.drawerServiceProvider().mode;return void 0!==r&&r.constructor===this.getInstance(!1).constructor}}])}(),pj=function(){var e=function(){function n(r,t){var i=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y(this,n),h(this,"element",void 0),h(this,"pointerControllerEvents",void 0),h(this,"preventDefault",void 0),h(this,"_active",!1),h(this,"pointerCache",new rp),h(this,"pointerMoveCountCache",new rp),h(this,"startEvent",function(o){if(o instanceof PointerEvent){var s=Fc(o,i.element);i.pointerCache.setItem(o.pointerId,s),i.pointerMoveCountCache.setItem(o.pointerId,0),i.pointerControllerEvents.pointerStart&&i.pointerControllerEvents.pointerStart(s,i.getPointerContext(o))}}),h(this,"moveEvent",function(o){if(o instanceof PointerEvent){var s=Fc(o,i.element);i.pointerMoveCountCache.hasKey(o.pointerId)&&i.pointerMoveCountCache.setItem(o.pointerId,i.pointerMoveCountCache.getItem(o.pointerId)+1),i.pointerCache.hasKey(o.pointerId)&&(i.pointerControllerEvents.pointerMove&&i.pointerControllerEvents.pointerMove(i.pointerCache.getItem(o.pointerId),s,i.getPointerContext(o)),i.pointerCache.setItem(o.pointerId,s))}}),h(this,"endEvent",function(o){if(o instanceof PointerEvent){var s=Fc(o,i.element),u=i.getPointerContext(o);i.pointerControllerEvents.pointerEnd&&i.pointerCache.hasKey(o.pointerId)&&i.pointerControllerEvents.pointerEnd(s,u),i.pointerControllerEvents.click&&0===i.pointerMoveCountCache.getItem(o.pointerId)&&i.pointerControllerEvents.click(s,u),i.pointerCache.delItem(o.pointerId),i.pointerMoveCountCache.delItem(o.pointerId)}}),h(this,"mouseWheelHandler",function(o){if(o instanceof WheelEvent){o.preventDefault();var s=Fc(o,i.element),u=Math.sqrt(Math.pow(o.deltaY,2)+Math.pow(o.deltaX,2)+Math.pow(o.deltaZ,2))*Math.sign((o.deltaX?o.deltaX:1)*(o.deltaY?o.deltaY:1)*(o.deltaZ?o.deltaZ:1));i.pointerControllerEvents.scroll&&i.pointerControllerEvents.scroll(s,u)}}),h(this,"preventDefaultEvent",function(o){o.preventDefault()}),h(this,"mainTouchEventId",void 0),h(this,"evCache",[]),h(this,"prevDiff",-1),h(this,"startPinchZoomEvent",function(o){o instanceof PointerEvent&&"touch"==o.pointerType&&(i.evCache.push(o),null==i.mainTouchEventId&&(i.mainTouchEventId=o.pointerId))}),h(this,"movePinchZoomEvent",function(o){if(o instanceof PointerEvent&&"touch"==o.pointerType){for(var s=0;s<i.evCache.length;s++)if(o.pointerId==i.evCache[s].pointerId){i.evCache[s]=o;break}if(2==i.evCache.length){var u={x:i.evCache[0].clientX,y:i.evCache[0].clientY},l={x:i.evCache[1].clientX,y:i.evCache[1].clientY},c=Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2)),d=i.element.getBoundingClientRect();i.prevDiff>0&&c>0&&i.pointerControllerEvents.pinchZoom&&i.pointerControllerEvents.pinchZoom({x:(u.x+l.x)/2-d.left,y:(u.y+l.y)/2-d.top},c/i.prevDiff),i.prevDiff=c}else i.evCache.length<2&&(i.prevDiff=-1)}}),h(this,"endPinchZoomEvent",function(o){o instanceof PointerEvent&&"touch"==o.pointerType&&(i.removeEventPinchZoom(o),i.evCache.length<2&&(i.prevDiff=-1),i.mainTouchEventId==o.pointerId&&(i.mainTouchEventId=void 0))}),h(this,"removeEventPinchZoom",function(o){for(var s=0;s<i.evCache.length;s++)if(i.evCache[s].pointerId==o.pointerId){i.evCache.splice(s,1);break}}),this.element=r,this.pointerControllerEvents=t,this.preventDefault=a,this.start()}return m(n,[{key:"active",get:function(){return this._active}},{key:"getPointerContext",value:function(t){return{id:t.pointerId,pointerCount:this.pointerCache.size,ctrlKey:t.ctrlKey,moveEventsFired:this.pointerMoveCountCache.getItem(t.pointerId)}}},{key:"start",value:function(){if(!this.active){var i,t=A(n.starts);try{for(t.s();!(i=t.n()).done;){var a=i.value;this.element.addEventListener(a,this.startEvent),this.element.addEventListener(a,this.startPinchZoomEvent)}}catch(_){t.e(_)}finally{t.f()}var s,o=A(n.moves);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.element.addEventListener(u,this.moveEvent),this.element.addEventListener(u,this.movePinchZoomEvent)}}catch(_){o.e(_)}finally{o.f()}var c,l=A(n.ends);try{for(l.s();!(c=l.n()).done;){var d=c.value;this.element.addEventListener(d,this.endEvent),this.element.addEventListener(d,this.endPinchZoomEvent)}}catch(_){l.e(_)}finally{l.f()}var v,f=A(n.scrolls);try{for(f.s();!(v=f.n()).done;)this.element.addEventListener(v.value,this.mouseWheelHandler)}catch(_){f.e(_)}finally{f.f()}if(this.preventDefault){var C,p=A(n.prevents);try{for(p.s();!(C=p.n()).done;)this.element.addEventListener(C.value,this.preventDefaultEvent)}catch(_){p.e(_)}finally{p.f()}}this._active=!0,this.pointerCache.empty()}}},{key:"end",value:function(){if(this.active){var i,t=A(n.starts);try{for(t.s();!(i=t.n()).done;){var a=i.value;try{this.element.removeEventListener(a,this.startEvent)}catch{}try{this.element.removeEventListener(a,this.startPinchZoomEvent)}catch{}}}catch(_){t.e(_)}finally{t.f()}var s,o=A(n.moves);try{for(o.s();!(s=o.n()).done;){var u=s.value;try{this.element.removeEventListener(u,this.moveEvent)}catch{}try{this.element.removeEventListener(u,this.movePinchZoomEvent)}catch{}}}catch(_){o.e(_)}finally{o.f()}var c,l=A(n.ends);try{for(l.s();!(c=l.n()).done;){var d=c.value;try{this.element.removeEventListener(d,this.endEvent)}catch{}try{this.element.removeEventListener(d,this.endPinchZoomEvent)}catch{}}}catch(_){l.e(_)}finally{l.f()}var v,f=A(n.scrolls);try{for(f.s();!(v=f.n()).done;){var g=v.value;try{this.element.removeEventListener(g,this.mouseWheelHandler)}catch{}}}catch(_){f.e(_)}finally{f.f()}if(this.preventDefault){var C,p=A(n.prevents);try{for(p.s();!(C=p.n()).done;){var b=C.value;try{this.element.removeEventListener(b,this.preventDefaultEvent)}catch{}}}catch(_){p.e(_)}finally{p.f()}}this._active=!1,this.pointerCache.empty()}}}])}();return h(e,"starts",["pointerdown"]),h(e,"moves",["pointermove"]),h(e,"ends",["pointerup","pointerleave","pointercancel","pointerout"]),h(e,"scrolls",["wheel"]),h(e,"prevents",["pointerdown","pointermove","pointerup","pointerleave","pointercancel","pointerout","pointerover","pointerenter","contextmenu"]),e}(),mj=["canvas"],yj=["wrapper"],_j=function(){var e,n=function(){return m(function r(t){y(this,r),h(this,"drawerService",void 0),h(this,"canvas",void 0),h(this,"canvasEl",void 0),h(this,"ctx",void 0),h(this,"wrapper",void 0),h(this,"wrapperEl",void 0),this.drawerService=t,this.drawerService.canvas=this},[{key:"ngAfterViewInit",value:function(){var i,a=this;this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.ctx=null===(i=this.canvasEl)||void 0===i?void 0:i.getContext("2d"),window.onresize=function(){a.drawerService.redraw()},new pj(this.canvasEl,{pointerMove:function(s,u,l){var c,d=a.drawerService.renderingContext,f=d.transformPointFromCanvasToField(s),v=d.transformPointFromCanvasToField(u);null===(c=a.drawerService.mode)||void 0===c||c.pointerMove(a.drawerService,d,f,v,l)},click:function(s,u){var l,c=a.drawerService.renderingContext,d=c.transformPointFromCanvasToField(s);null===(l=a.drawerService.mode)||void 0===l||l.click(a.drawerService,c,d,u)},scroll:function(s,u){0!=u&&(u*=-.008333333333333333,u+=Math.sign(u),a.drawerService.zoomToBy(s,u>0?u:1/-u))},pinchZoom:function(s,u){a.drawerService.zoomToBy(s,u)}});try{this.drawerService.loadFrom(JSON.parse(localStorage[xk]))}catch{}this.drawerService.redraw()}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(nr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-canvas"]],viewQuery:function(t,i){var a;1&t&&(bt(mj,5),bt(yj,5)),2&t&&(Et(a=Dt())&&(i.canvas=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:4,vars:0,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],["id","canvas",1,"canvas"]],template:function(t,i){1&t&&(E(0,"div",2,0),Ae(2,"canvas",3,1),D())},styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0;touch-action:none}.wrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}"]})),n}(),Cj=["tabPage"],bj=function(n){return{empty:n}},Ej=function(n){return{active:n}};function Dj(e,n){if(1&e&&(E(0,"p"),S(1),D()),2&e){var r=en().$implicit;P(),nn(r.title)}}function Mj(e,n){if(1&e&&(E(0,"span",10),S(1),D()),2&e){var r=en().$implicit;P(),nn(r.icon)}}function wj(e,n){if(1&e){var r=Vr();E(0,"div",7),te("click",function(){var o=Ye(r).$implicit;return Ke(en().onTabClick(o))})("keydown",function(o){var s=Ye(r).$implicit;return Ke(en().onTabKeyboard(o,s))}),Ln(1,Dj,2,1,"p",8)(2,Mj,2,1,"span",9),D()}if(2&e){var t=n.$implicit,i=en();X("title",t.title)("ngClass",kn(4,Ej,i.currentTab==t)),P(),X("ngIf",!t.icon),P(),X("ngIf",t.icon)}}var kj=function(){var e,n=function(){return m(function r(){y(this,r),h(this,"currentComponent",void 0),h(this,"_currentTab",void 0),h(this,"tabs",[]),h(this,"tabPage",void 0)},[{key:"currentTab",get:function(){return this._currentTab},set:function(i){i!=this.currentTab&&(this.currentComponent&&this.currentComponent.destroy(),i&&(this.currentComponent=this.tabPage.createComponent(i.componentType)),this._currentTab=i)}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var i=this;setTimeout(function(){i.currentTab=i.tabs[0]},0)}},{key:"onTabClick",value:function(i){this.currentTab=this.currentTab==i?void 0:i}},{key:"onTabKeyboard",value:function(i,a){("Enter"==i.key||" "==i.key)&&this.onTabClick(a)}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-tab-group"]],viewQuery:function(t,i){var a;1&t&&bt(Cj,5,Rn),2&t&&Et(a=Dt())&&(i.tabPage=a.first)},inputs:{tabs:"tabs"},decls:7,vars:4,consts:[["tabPage",""],[1,"wrapper",3,"ngClass"],[1,"table"],[1,"tabHeaders"],["class","tabHeader","tabindex","0",3,"title","ngClass","click","keydown",4,"ngFor","ngForOf"],[1,"tabContainer"],[1,"tabPage"],["tabindex","0",1,"tabHeader",3,"click","keydown","title","ngClass"],[4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(E(0,"div",1)(1,"div",2)(2,"div",3),Ln(3,wj,3,6,"div",4),D(),E(4,"div",5),Ae(5,"div",6,0),D()()()),2&t&&(X("ngClass",kn(2,bj,null==i.currentTab)),P(3),X("ngForOf",i.tabs))},dependencies:[Qt,lo,co],styles:['.wrapper[_ngcontent-%COMP%]{--size: 60px;--margin: 3px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeaders[_ngcontent-%COMP%]{left:0;top:0;bottom:0;width:var(--width);padding:var(--padding);position:absolute;float:left;border-right:var(--border) solid var(--borderColor);border-bottom-right-radius:var(--borderRadius);border-top-right-radius:var(--borderRadius);background:#fff;box-shadow:0 0 7px #555;user-select:none;overflow:auto;scrollbar-width:none}.tabHeaders[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;font-family:Segoe UI,Calibri,"sans-serif"}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.tabContainer[_ngcontent-%COMP%]{inset:0;float:right;height:100%;width:calc(100% - var(--width) - 2 * var(--padding));background:var(--background);overflow:auto;border-right:1px solid #ccc}.empty[_ngcontent-%COMP%]   .tabContainer[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--background)}.empty.wrapper[_ngcontent-%COMP%]{width:calc(var(--width) + 2 * var(--padding))}.table[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;clear:both;box-sizing:border-box;background-color:transparent;overflow:hidden}.material-symbols-outlined[_ngcontent-%COMP%]{transform:scale(1.5) translateY(4px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.tabPage[_ngcontent-%COMP%]{display:none}']})),n}(),Sj=function(){var e,n=function(){return m(function r(t,i,a){y(this,r),h(this,"dialogService",void 0),h(this,"snackbarService",void 0),h(this,"viewContainerRef",void 0),h(this,"tabs",[{title:"Formeln",icon:"functions",componentType:zz},{title:"Geometrie",icon:"radio_button_unchecked",componentType:gj},{title:"Einstellungen",icon:"settings",componentType:Zz}]),this.dialogService=t,this.snackbarService=i,this.viewContainerRef=a,this.dialogService.rootViewContainerRef=this.viewContainerRef,this.snackbarService.rootViewContainerRef=this.viewContainerRef},[{key:"renderMathToSvg",value:function(i){var a=this;MathJax.Hub.Queue(["Typeset",MathJax.Hub,function(){var o=MathJax.Hub.getAllJax()[0];MathJax.Hub.Queue(["Text",o,i]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,function(){var s=o.root.toSVG();a.displaySvg(s)}])}])}},{key:"displaySvg",value:function(i){console.log(i);var a=document.getElementById("svg-container");a&&(a.innerHTML=i)}}])}();return e=n,h(n,"\u0275fac",function(t){return new(t||e)(x(iu),x(vp),x(Rn))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"barWrapper"],[3,"tabs"],[1,"canvas"]],template:function(t,i){1&t&&(E(0,"div",0),Ae(1,"app-tab-group",1),D(),Ae(2,"app-canvas",2)),2&t&&(P(),X("tabs",i.tabs))},dependencies:[_j,kj],styles:[".canvas[_ngcontent-%COMP%]{padding:0;margin:0}.barWrapper[_ngcontent-%COMP%]{width:30%;min-width:min(100%,500px);position:absolute;height:100%;pointer-events:none;overflow:hidden}.barWrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}"]})),n}();function Wk(e){return new cn(function(n){Cr(e()).subscribe(n)})}function ld(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Se(n)?ld(function(t,i){return Lt(function(a,o){return n(t,a,i,o)})(Cr(e(t,i)))},r):("number"==typeof n&&(r=n),Rt(function(t,i){return function Tj(e,n,r,t,i,a,o,s){var u=[],l=0,c=0,d=!1,f=function(){d&&!u.length&&!l&&n.complete()},v=function(C){return l<t?g(C):u.push(C)},g=function p(C){a&&n.next(C),l++;var b=!1;Cr(r(C,c++)).subscribe(new ht(n,function(_){i?.(_),a?v(_):n.next(_)},function(){b=!0},void 0,function(){if(b)try{l--;for(var _=function(){var I=u.shift();o?li(n,o,function(){return p(I)}):p(I)};u.length&&l<t;)_();f()}catch(M){n.error(M)}}))};return e.subscribe(new ht(n,v,function(){d=!0,f()})),function(){s?.()}}(t,i,e,r)}))}var Pj=["addListener","removeListener"],Oj=["addEventListener","removeEventListener"],Aj=["on","off"];function cd(e,n,r,t){if(Se(r)&&(t=r,r=void 0),t)return cd(e,n,r).pipe(lw(t));var a=it(function Fj(e){return Se(e.addEventListener)&&Se(e.removeEventListener)}(e)?Oj.map(function(u){return function(l){return e[u](n,l,r)}}):function xj(e){return Se(e.addListener)&&Se(e.removeListener)}(e)?Pj.map(qk(e,n)):function Nj(e){return Se(e.on)&&Se(e.off)}(e)?Aj.map(qk(e,n)):[],2),o=a[0],s=a[1];if(!o&&Pg(e))return ld(function(u){return cd(u,n,r)})(Cr(e));if(!o)throw new TypeError("Invalid event target");return new cn(function(u){var l=function(){for(var d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return u.next(1<f.length?f:f[0])};return o(l),function(){return s(l)}})}function qk(e,n){return function(r){return function(t){return e[r](n,t)}}}function hp(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Js(n,Ag(n))}function Zk(){return ld(Pd,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0)}function Yk(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function Rj(){return Zk(1)}()(Js(n,Ag(n)))}var wo=new cn(ra),gp=new cn(function(e){return e.complete()});function Kk(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var t=Ag(n),i=function PH(e,n){return"number"==typeof Og(e)?e.pop():n}(n,1/0),a=n;return a.length?1===a.length?Cr(a[0]):Zk(i)(Js(a,t)):gp}function gu(e,n){return Rt(function(r,t){var i=0;r.subscribe(new ht(t,function(a){return e.call(n,a,i++)&&t.next(a)}))})}function dd(e,n){return Rt(function(r,t){var i=null,a=0,o=!1,s=function(){return o&&!i&&t.complete()};r.subscribe(new ht(t,function(u){i?.unsubscribe();var l=0,c=a++;Cr(e(u,c)).subscribe(i=new ht(t,function(d){return t.next(n?n(u,d,c,l++):d)},function(){i=null,s()}))},function(){o=!0,s()}))})}var Bj=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n)).source=r,i.subjectFactory=t,i._subject=null,i._refCount=0,i._connection=null,Yp(r)&&(i.lift=r.lift),i}return k(n,e),m(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t?.unsubscribe()}},{key:"connect",value:function(){var t=this,i=this._connection;if(!i){i=this._connection=new It;var a=this.getSubject();i.add(this.source.subscribe(new ht(a,void 0,function(){t._teardown(),a.complete()},function(o){t._teardown(),a.error(o)},function(){return t._teardown()}))),i.closed&&(this._connection=null,i=It.EMPTY)}return i}},{key:"refCount",value:function(){return function Vj(){return Rt(function(e,n){var r=null;e._refCount++;var t=new ht(n,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)r=null;else{var i=e._connection,a=r;r=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()}});e.subscribe(t),t.closed||(r=e.connect())})}()(this)}}])}(cn),Uj={connector:function(){return new kr}};function $k(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uj).connector;return Rt(function(t,i){var a=r();Js(e(function Hj(e){return new cn(function(n){return e.subscribe(n)})}(a))).subscribe(i),i.add(t.subscribe(a))})}function mi(e){return e<=0?function(){return gp}:Rt(function(n,r){var t=0;n.subscribe(new ht(r,function(i){++t<=e&&(r.next(i),e<=t&&r.complete())}))})}var Wj=function(e){function n(r,t){return y(this,n),w(this,n)}return k(n,e),m(n,[{key:"schedule",value:function(t){return this}}])}(It),fd={setInterval:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var e=fd.delegate;return(e?.setInterval||setInterval).apply(void 0,arguments)}),clearInterval:function(e){function n(r){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=fd.delegate;return(n?.clearInterval||clearInterval)(e)}),delegate:void 0},qj=function(e){function n(r,t){var i;return y(this,n),(i=w(this,n,[r,t])).scheduler=r,i.work=t,i.pending=!1,i}return k(n,e),m(n,[{key:"schedule",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var a=this.id,o=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(o,a,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(o,this.id,i),this}},{key:"requestAsyncId",value:function(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fd.setInterval(t.flush.bind(t,this),a)}},{key:"recycleAsyncId",value:function(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=a&&this.delay===a&&!1===this.pending)return i;fd.clearInterval(i)}},{key:"execute",value:function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(t,i);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,i){var o,a=!1;try{this.work(t)}catch(s){a=!0,o=s||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),o}},{key:"unsubscribe",value:function(){if(!this.closed){var t=this.id,i=this.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,wu(a,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,We(Oe(n.prototype),"unsubscribe",this).call(this)}}}])}(Wj),Qk={now:function(){return(Qk.delegate||Date).now()},delegate:void 0},pp=function(){return m(function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;y(this,e),this.schedulerActionCtor=n,this.now=r},[{key:"schedule",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,r).schedule(i,t)}}])}();pp.now=Qk.now;var Zj=function(e){function n(r){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pp.now;return y(this,n),(t=w(this,n,[r,i])).actions=[],t._active=!1,t._scheduled=void 0,t}return k(n,e),m(n,[{key:"flush",value:function(t){var i=this.actions;if(this._active)i.push(t);else{var a;this._active=!0;do{if(a=t.execute(t.state,t.delay))break}while(t=i.shift());if(this._active=!1,a){for(;t=i.shift();)t.unsubscribe();throw a}}}}])}(pp),Xk=new Zj(qj),Yj=Xk;function Jk(e,n){return n?function(r){return Yk(n.pipe(mi(1),function Kj(){return Rt(function(e,n){e.subscribe(new ht(n,ra))})}()),r.pipe(Jk(e)))}:ld(function(r,t){return e(r,t).pipe(mi(1),function $j(e){return Lt(function(){return e})}(r))})}var pu="Service workers are disabled or not supported by this browser";var vd=function(){return m(function e(n){if(y(this,e),this.serviceWorker=n,n){var t=cd(n,"controllerchange").pipe(Lt(function(){return n.controller})),a=Yk(Wk(function(){return hp(n.controller)}),t);this.worker=a.pipe(gu(function(c){return!!c})),this.registration=this.worker.pipe(dd(function(){return n.getRegistration()}));var l=cd(n,"message").pipe(Lt(function(c){return c.data})).pipe(gu(function(c){return c&&c.type})).pipe(function jj(e){return e?function(n){return $k(e)(n)}:function(n){return function zj(e,n){var r=Se(e)?e:function(){return e};return Se(n)?$k(n,{connector:r}):function(t){return new Bj(t,r)}}(new kr)(n)}}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function e4(e){return Wk(function(){return function Ij(e,n){var r=Se(e)?e:function(){return e},t=function(a){return a.error(r())};return new cn(n?function(i){return n.schedule(t,0,i)}:t)}(new Error(e))})}(pu)},[{key:"postMessage",value:function(r,t){return this.worker.pipe(mi(1),function Gj(e,n,r){var t=Se(e)||n||r?{next:e,error:n,complete:r}:e;return t?Rt(function(i,a){var o;null===(o=t.subscribe)||void 0===o||o.call(t);var s=!0;i.subscribe(new ht(a,function(u){var l;null===(l=t.next)||void 0===l||l.call(t,u),a.next(u)},function(){var u;s=!1,null===(u=t.complete)||void 0===u||u.call(t),a.complete()},function(u){var l;s=!1,null===(l=t.error)||void 0===l||l.call(t,u),a.error(u)},function(){var u,l;s&&(null===(u=t.unsubscribe)||void 0===u||u.call(t)),null===(l=t.finalize)||void 0===l||l.call(t)}))}):Pd}(function(i){i.postMessage(re({action:r},t))})).toPromise().then(function(){})}},{key:"postMessageWithOperation",value:function(r,t,i){var a=this.waitForOperationCompleted(i),o=this.postMessage(r,t);return Promise.all([o,a]).then(function(s){return it(s,2)[1]})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(r){return this.events.pipe(gu("string"==typeof r?function(a){return a.type===r}:function(a){return r.includes(a.type)}))}},{key:"nextEventOfType",value:function(r){return this.eventsOfType(r).pipe(mi(1))}},{key:"waitForOperationCompleted",value:function(r){return this.eventsOfType("OPERATION_COMPLETED").pipe(gu(function(t){return t.nonce===r}),mi(1),Lt(function(t){if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}])}(),eS=function(){var e,n=function(){return m(function r(t){if(y(this,r),this.sw=t,this.pushManager=null,this.subscriptionChanges=new kr,!t.isEnabled)return this.messages=wo,this.notificationClicks=wo,void(this.subscription=wo);this.messages=this.sw.eventsOfType("PUSH").pipe(Lt(function(a){return a.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Lt(function(a){return a.data})),this.pushManager=this.sw.registration.pipe(Lt(function(a){return a.pushManager}));var i=this.pushManager.pipe(dd(function(a){return a.getSubscription()}));this.subscription=Kk(i,this.subscriptionChanges)},[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(i){var a=this;if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(pu));for(var o={userVisibleOnly:!0},s=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),u=new Uint8Array(new ArrayBuffer(s.length)),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return o.applicationServerKey=u,this.pushManager.pipe(dd(function(c){return c.subscribe(o)}),mi(1)).toPromise().then(function(c){return a.subscriptionChanges.next(c),c})}},{key:"unsubscribe",value:function(){var i=this;return this.sw.isEnabled?this.subscription.pipe(mi(1),dd(function(s){if(null===s)throw new Error("Not subscribed to push notifications.");return s.unsubscribe().then(function(u){if(!u)throw new Error("Unsubscribe failed!");i.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(pu))}},{key:"decodeBase64",value:function(i){return atob(i)}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(Ee(vd))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),nS=function(){var e,n=function(){return m(function r(t){if(y(this,r),this.sw=t,!t.isEnabled)return this.versionUpdates=wo,void(this.unrecoverable=wo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")},[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(pu));var i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(pu));var i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}}])}();return(e=n).\u0275fac=function(t){return new(t||e)(Ee(vd))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),tS=new q("");function n4(e,n,r,t){return function(){if(dM(t)&&"serviceWorker"in navigator&&!1!==r.enabled){var o,i=e.get(Ge),a=e.get(Kt);if(i.runOutsideAngular(function(){var d=navigator.serviceWorker,f=function(){var g;return null===(g=d.controller)||void 0===g?void 0:g.postMessage({action:"INITIALIZE"})};d.addEventListener("controllerchange",f),a.onDestroy(function(){d.removeEventListener("controllerchange",f)})}),"function"==typeof r.registrationStrategy)o=r.registrationStrategy();else{var u=function Mp(e){return bp(e)||Dp(e)||mu(e)||Ep()}((r.registrationStrategy||"registerWhenStable:30000").split(":")),l=u[0],c=u.slice(1);switch(l){case"registerImmediately":o=hp(null);break;case"registerWithDelay":o=rS(+c[0]||0);break;case"registerWhenStable":o=c[0]?Kk(iS(e),rS(+c[0])):iS(e);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(r.registrationStrategy))}}i.runOutsideAngular(function(){return o.pipe(mi(1)).subscribe(function(){return navigator.serviceWorker.register(n,{scope:r.scope}).catch(function(d){return console.error("Service worker registration failed with:",d)})})})}}}function rS(e){return hp(null).pipe(function Jj(e){var r=function Xj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yj,t=-1;return null!=n&&(uw(n)?r=n:t=n),new cn(function(i){var a=function Qj(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;a<0&&(a=0);var o=0;return r.schedule(function(){i.closed||(i.next(o++),0<=t?this.schedule(void 0,t):i.complete())},a)})}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xk);return Jk(function(){return r})}(e))}function iS(e){return e.get(Kt).isStable.pipe(gu(function(r){return r}))}function t4(e,n){return new vd(dM(n)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var mp=m(function e(){y(this,e)});function r4(e){return function No(e){return{\u0275providers:e}}([eS,nS,{provide:tS,useValue:e},{provide:mp,useValue:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},{provide:vd,useFactory:t4,deps:[mp,Jr]},{provide:n0,useFactory:n4,deps:[Mn,tS,mp,Jr],multi:!0}])}var i4=function(){var e,n=function(){function r(){y(this,r)}return m(r,null,[{key:"register",value:function(i){return{ngModule:r,providers:[r4(i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})]}}}])}();return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({providers:[eS,nS]}),n}(),a4=function(){var e,n=m(function r(){y(this,r)});return e=n,h(n,"\u0275fac",function(t){return new(t||e)}),h(n,"\u0275mod",Kr({type:e,bootstrap:[Sj]})),h(n,"\u0275inj",Ir({imports:[L5,Xw,i4.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})),n}();F5().bootstrapModule(a4).catch(function(e){return console.error(e)})}},Oe=>{Oe(Oe.s=321)}]);