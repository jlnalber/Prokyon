"use strict";(self.webpackChunkgraph=self.webpackChunkgraph||[]).push([[179],{129:()=>{function fe(n){return"function"==typeof n}function Wo(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const qo=Wo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Li(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof qo?o.errors:[o]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const o of i)try{zd(o)}catch(s){e=null!=e?e:[],s instanceof qo?e=[...e,...s.errors]:e.push(s)}}if(e)throw new qo(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zd(e);else{if(e instanceof ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Li(t,e)}remove(e){const{_teardowns:t}=this;t&&Li(t,e),e instanceof ln&&e._removeParent(this)}}ln.EMPTY=(()=>{const n=new ln;return n.closed=!0,n})();const Hd=ln.EMPTY;function jd(n){return n instanceof ln||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function zd(n){fe(n)?n():n.unsubscribe()}const fr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yo={setTimeout(...n){const{delegate:e}=Yo;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Yo;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Ud(n){Yo.setTimeout(()=>{const{onUnhandledError:e}=fr;if(!e)throw n;e(n)})}function Qo(){}const MC=Ua("C",void 0,void 0);function Ua(n,e,t){return{kind:n,value:e,error:t}}let hr=null;function Zo(n){if(fr.useDeprecatedSynchronousErrorHandling){const e=!hr;if(e&&(hr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=hr;if(hr=null,t)throw r}}else n()}class Ga extends ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jd(e)&&e.add(this)):this.destination=PC}static create(e,t,r){return new $a(e,t,r)}next(e){this.isStopped?qa(function xC(n){return Ua("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?qa(function EC(n){return Ua("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qa(MC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class $a extends Ga{constructor(e,t,r){let i;if(super(),fe(e))i=e;else if(e){let o;({next:i,error:t,complete:r}=e),this&&fr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe()):o=e,i=null==i?void 0:i.bind(o),t=null==t?void 0:t.bind(o),r=null==r?void 0:r.bind(o)}this.destination={next:i?Wa(i):Qo,error:Wa(null!=t?t:Gd),complete:r?Wa(r):Qo}}}function Wa(n,e){return(...t)=>{try{n(...t)}catch(r){fr.useDeprecatedSynchronousErrorHandling?function TC(n){fr.useDeprecatedSynchronousErrorHandling&&hr&&(hr.errorThrown=!0,hr.error=n)}(r):Ud(r)}}}function Gd(n){throw n}function qa(n,e){const{onStoppedNotification:t}=fr;t&&Yo.setTimeout(()=>t(n,e))}const PC={closed:!0,next:Qo,error:Gd,complete:Qo},Ya="function"==typeof Symbol&&Symbol.observable||"@@observable";function $d(n){return n}let tt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function IC(n){return n&&n instanceof Ga||function SC(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}(n)&&jd(n)}(t)?t:new $a(t,r,i);return Zo(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=qd(r))((i,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(l){o(l),null==s||s.unsubscribe()}},o,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ya](){return this}pipe(...t){return function Wd(n){return 0===n.length?$d:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=qd(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function qd(n){var e;return null!==(e=null!=n?n:fr.Promise)&&void 0!==e?e:Promise}const OC=Wo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qa=(()=>{class n extends tt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Yd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new OC}next(t){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Hd:(o.push(t),new ln(()=>Li(o,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new tt;return t.source=this,t}}return n.create=(e,t)=>new Yd(e,t),n})();class Yd extends Qa{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Hd}}function Ar(n){return e=>{if(function AC(n){return fe(null==n?void 0:n.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Fr extends Ga{constructor(e,t,r,i,o){super(e),this.onFinalize=o,this._next=t?function(s){try{t(s)}catch(a){e.error(a)}}:super._next,this._error=i?function(s){try{i(s)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Za(n,e){return Ar((t,r)=>{let i=0;t.subscribe(new Fr(r,o=>{r.next(n.call(e,o,i++))}))})}function pr(n){return this instanceof pr?(this.v=n,this):new pr(n)}function NC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(g){return new Promise(function(m,_){o.push([f,g,m,_])>1||a(f,g)})})}function a(f,g){try{!function l(f){f.value instanceof pr?Promise.resolve(f.value.v).then(u,c):d(o[0][2],f)}(r[f](g))}catch(m){d(o[0][3],m)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,g){f(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function RC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Kd(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Xd=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Jd(n){return fe(null==n?void 0:n.then)}function ef(n){return fe(n[Ya])}function tf(n){return Symbol.asyncIterator&&fe(null==n?void 0:n[Symbol.asyncIterator])}function nf(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rf=function VC(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function of(n){return fe(null==n?void 0:n[rf])}function sf(n){return NC(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield pr(t.read());if(i)return yield pr(void 0);yield yield pr(r)}}finally{t.releaseLock()}})}function af(n){return fe(null==n?void 0:n.getReader)}function gr(n){if(n instanceof tt)return n;if(null!=n){if(ef(n))return function BC(n){return new tt(e=>{const t=n[Ya]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xd(n))return function HC(n){return new tt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Jd(n))return function jC(n){return new tt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ud)})}(n);if(tf(n))return lf(n);if(of(n))return function zC(n){return new tt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(af(n))return function UC(n){return lf(sf(n))}(n)}throw nf(n)}function lf(n){return new tt(e=>{(function GC(n,e){var t,r,i,o;return function FC(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=RC(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function zn(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function uf(n,e,t=1/0){return fe(e)?uf((r,i)=>Za((o,s)=>e(r,o,i,s))(gr(n(r,i))),t):("number"==typeof e&&(t=e),Ar((r,i)=>function $C(n,e,t,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&e.complete()},g=_=>u<r?m(_):l.push(_),m=_=>{o&&e.next(_),u++;let y=!1;gr(t(_,c++)).subscribe(new Fr(e,b=>{null==i||i(b),o?g(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;l.length&&u<r;){const b=l.shift();s?zn(e,s,()=>m(b)):m(b)}f()}catch(b){e.error(b)}}))};return n.subscribe(new Fr(e,g,()=>{d=!0,f()})),()=>{null==a||a()}}(r,i,n,t)))}const Xa=new tt(n=>n.complete());function Ja(n){return n[n.length-1]}function cf(n,e=0){return Ar((t,r)=>{t.subscribe(new Fr(r,i=>zn(r,n,()=>r.next(i),e),()=>zn(r,n,()=>r.complete(),e),i=>zn(r,n,()=>r.error(i),e)))})}function df(n,e=0){return Ar((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ff(n,e){if(!n)throw new Error("Iterable cannot be null");return new tt(t=>{zn(t,e,()=>{const r=n[Symbol.asyncIterator]();zn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function el(n,e){return e?function rb(n,e){if(null!=n){if(ef(n))return function XC(n,e){return gr(n).pipe(df(e),cf(e))}(n,e);if(Xd(n))return function eb(n,e){return new tt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Jd(n))return function JC(n,e){return gr(n).pipe(df(e),cf(e))}(n,e);if(tf(n))return ff(n,e);if(of(n))return function tb(n,e){return new tt(t=>{let r;return zn(t,e,()=>{r=n[rf](),zn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>fe(null==r?void 0:r.return)&&r.return()})}(n,e);if(af(n))return function nb(n,e){return ff(sf(n),e)}(n,e)}throw nf(n)}(n,e):gr(n)}function ib(...n){const e=function ZC(n){return function YC(n){return n&&fe(n.schedule)}(Ja(n))?n.pop():void 0}(n),t=function KC(n,e){return"number"==typeof Ja(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?gr(r[0]):function WC(n=1/0){return uf($d,n)}(t)(el(r,e)):Xa}function tl(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(function ob(n){return n<=0?()=>Xa:Ar((e,t)=>{let r=0;e.subscribe(new Fr(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}(1)).subscribe(()=>n())}function ne(n){for(let e in n)if(n[e]===ne)return e;throw Error("Could not find renamed property on target object.")}function nl(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function X(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(X).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function rl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ab=ne({__forward_ref__:ne});function ie(n){return n.__forward_ref__=ie,n.toString=function(){return X(this())},n}function H(n){return hf(n)?n():n}function hf(n){return"function"==typeof n&&n.hasOwnProperty(ab)&&n.__forward_ref__===ie}class q extends Error{constructor(e,t){super(function il(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function R(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():R(n)}function Ko(n,e){const t=e?` in ${e}`:"";throw new q(-201,`No provider for ${nt(n)} found${t}`)}function Ct(n,e){null==n&&function ue(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ol(n){return pf(n,Xo)||pf(n,mf)}function pf(n,e){return n.hasOwnProperty(e)?n[e]:null}function gf(n){return n&&(n.hasOwnProperty(sl)||n.hasOwnProperty(pb))?n[sl]:null}const Xo=ne({\u0275prov:ne}),sl=ne({\u0275inj:ne}),mf=ne({ngInjectableDef:ne}),pb=ne({ngInjectorDef:ne});var j=(()=>((j=j||{})[j.Default=0]="Default",j[j.Host=1]="Host",j[j.Self=2]="Self",j[j.SkipSelf=4]="SkipSelf",j[j.Optional=8]="Optional",j))();let al;function Un(n){const e=al;return al=n,e}function _f(n,e,t){const r=ol(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&j.Optional?null:void 0!==e?e:void Ko(X(n),"Injector")}function Gn(n){return{toString:n}.toString()}var zt=(()=>((zt=zt||{})[zt.OnPush=0]="OnPush",zt[zt.Default=1]="Default",zt))(),un=(()=>{return(n=un||(un={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",un;var n})();const mb="undefined"!=typeof globalThis&&globalThis,_b="undefined"!=typeof window&&window,vb="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,te=mb||"undefined"!=typeof global&&global||_b||vb,kr={},re=[],Jo=ne({\u0275cmp:ne}),ll=ne({\u0275dir:ne}),ul=ne({\u0275pipe:ne}),vf=ne({\u0275mod:ne}),In=ne({\u0275fac:ne}),Vi=ne({__NG_ELEMENT_ID__:ne});let yb=0;function Z(n){return Gn(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===zt.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||re,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||un.Emulated,id:"c",styles:n.styles||re,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,o=n.features,s=n.pipes;return r.id+=yb++,r.inputs=Df(n.inputs,t),r.outputs=Df(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(yf):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Cf):null,r})}function yf(n){return We(n)||function Wn(n){return n[ll]||null}(n)}function Cf(n){return function mr(n){return n[ul]||null}(n)}const bf={};function $n(n){return Gn(()=>{const e={type:n.type,bootstrap:n.bootstrap||re,declarations:n.declarations||re,imports:n.imports||re,exports:n.exports||re,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(bf[n.id]=n.type),e})}function Df(n,e){if(null==n)return kr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const k=Z;function We(n){return n[Jo]||null}function At(n,e){const t=n[vf]||null;if(!t&&!0===e)throw new Error(`Type ${X(n)} does not have '\u0275mod' property.`);return t}const z=11;function cn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Gt(n){return Array.isArray(n)&&!0===n[1]}function fl(n){return 0!=(8&n.flags)}function rs(n){return 2==(2&n.flags)}function is(n){return 1==(1&n.flags)}function $t(n){return null!==n.template}function Eb(n){return 0!=(512&n[2])}function Cr(n,e){return n.hasOwnProperty(In)?n[In]:null}class Pb{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function dn(){return Mf}function Mf(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ib),Sb}function Sb(){const n=xf(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===kr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Ib(n,e,t,r){const i=xf(n)||function Ob(n,e){return n[Ef]=e}(n,{previous:kr,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new Pb(l&&l.currentValue,e,s===kr),n[r]=e}dn.ngInherit=!0;const Ef="__ngSimpleChanges__";function xf(n){return n[Ef]||null}let gl;function pe(n){return!!n.listen}const Sf={createRenderer:(n,e)=>function ml(){return void 0!==gl?gl:"undefined"!=typeof document?document:void 0}()};function we(n){for(;Array.isArray(n);)n=n[0];return n}function os(n,e){return we(e[n])}function Nt(n,e){return we(e[n.index])}function _l(n,e){return n.data[e]}function Dt(n,e){const t=e[n];return cn(t)?t:t[0]}function If(n){return 4==(4&n[2])}function vl(n){return 128==(128&n[2])}function qn(n,e){return null==e?null:n[e]}function Of(n){n[18]=0}function yl(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const N={lFrame:Bf(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Af(){return N.bindingsEnabled}function D(){return N.lFrame.lView}function Y(){return N.lFrame.tView}function Rt(n){return N.lFrame.contextLView=n,n[8]}function Ie(){let n=Ff();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ff(){return N.lFrame.currentTNode}function fn(n,e){const t=N.lFrame;t.currentTNode=n,t.isParent=e}function Cl(){return N.lFrame.isParent}function ss(){return N.isInCheckNoChangesMode}function as(n){N.isInCheckNoChangesMode=n}function rt(){const n=N.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Hr(){return N.lFrame.bindingIndex++}function An(n){const e=N.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function $b(n,e){const t=N.lFrame;t.bindingIndex=t.bindingRootIndex=n,Dl(e)}function Dl(n){N.lFrame.currentDirectiveIndex=n}function Rf(){return N.lFrame.currentQueryIndex}function Ml(n){N.lFrame.currentQueryIndex=n}function qb(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Lf(n,e,t){if(t&j.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&j.Host||(i=qb(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=N.lFrame=Vf();return r.currentTNode=e,r.lView=n,!0}function ls(n){const e=Vf(),t=n[1];N.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Vf(){const n=N.lFrame,e=null===n?null:n.child;return null===e?Bf(n):e}function Bf(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Hf(){const n=N.lFrame;return N.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const jf=Hf;function us(){const n=Hf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function it(){return N.lFrame.selectedIndex}function Yn(n){N.lFrame.selectedIndex=n}function ge(){const n=N.lFrame;return _l(n.tView,n.selectedIndex)}function cs(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function ds(n,e,t){zf(n,e,3,t)}function fs(n,e,t,r){(3&n[2])===t&&zf(n,e,t,r)}function El(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function zf(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(nD(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function nD(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Ui{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function hs(n,e,t){const r=pe(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const s=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=t[++i];Tl(s)?r&&n.setProperty(e,s,a):r?n.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Uf(n){return 3===n||4===n||6===n}function Tl(n){return 64===n.charCodeAt(0)}function ps(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Gf(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Gf(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function $f(n){return-1!==n}function jr(n){return 32767&n}function zr(n,e){let t=function aD(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Pl=!0;function gs(n){const e=Pl;return Pl=n,e}let lD=0;function $i(n,e){const t=Il(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Sl(r.data,n),Sl(e,null),Sl(r.blueprint,null));const i=ms(n,e),o=n.injectorIndex;if($f(i)){const s=jr(i),a=zr(i,e),l=a[1].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Sl(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Il(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ms(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function _s(n,e,t){!function uD(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vi)&&(r=t[Vi]),null==r&&(r=t[Vi]=lD++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Yf(n,e,t){if(t&j.Optional)return n;Ko(e,"NodeInjector")}function Qf(n,e,t,r){if(t&j.Optional&&void 0===r&&(r=null),0==(t&(j.Self|j.Host))){const i=n[9],o=Un(void 0);try{return i?i.get(e,r,t&j.Optional):_f(e,r,t&j.Optional)}finally{Un(o)}}return Yf(r,e,t)}function Zf(n,e,t,r=j.Default,i){if(null!==n){const o=function hD(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Vi)?n[Vi]:void 0;return"number"==typeof e?e>=0?255&e:dD:e}(t);if("function"==typeof o){if(!Lf(e,n,r))return r&j.Host?Yf(i,t,r):Qf(e,t,r,i);try{const s=o(r);if(null!=s||r&j.Optional)return s;Ko(t)}finally{jf()}}else if("number"==typeof o){let s=null,a=Il(n,e),l=-1,u=r&j.Host?e[16][6]:null;for((-1===a||r&j.SkipSelf)&&(l=-1===a?ms(n,e):e[a+8],-1!==l&&Jf(r,!1)?(s=e[1],a=jr(l),e=zr(l,e)):a=-1);-1!==a;){const c=e[1];if(Xf(o,a,c.data)){const d=fD(a,e,t,s,r,u);if(d!==Kf)return d}l=e[a+8],-1!==l&&Jf(r,e[1].data[a+8]===u)&&Xf(o,a,e)?(s=c,a=jr(l),e=zr(l,e)):a=-1}}}return Qf(e,t,r,i)}const Kf={};function dD(){return new Ur(Ie(),D())}function fD(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],c=vs(a,s,t,null==r?rs(a)&&Pl:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==c?Wi(e,s,c,a):Kf}function vs(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,c=o>>20,f=i?a+c:n.directiveEnd;for(let g=r?a:a+c;g<f;g++){const m=s[g];if(g<l&&t===m||g>=l&&m.type===t)return g}if(i){const g=s[l];if(g&&$t(g)&&g.type===t)return l}return null}function Wi(n,e,t,r){let i=n[t];const o=e.data;if(function rD(n){return n instanceof Ui}(i)){const s=i;s.resolving&&function lb(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new q(-200,`Circular dependency in DI detected for ${n}${t}`)}(nt(o[t]));const a=gs(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Un(s.injectImpl):null;Lf(n,r,j.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function tD(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Mf(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&Un(l),gs(a),s.resolving=!1,jf()}}return i}function Xf(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Jf(n,e){return!(n&j.Self||n&j.Host&&e)}class Ur{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Zf(this._tNode,this._lView,e,r,t)}}function ot(n){return Gn(()=>{const e=n.prototype.constructor,t=e[In]||Ol(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[In]||Ol(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ol(n){return hf(n)?()=>{const e=Ol(H(n));return e&&e()}:Cr(n)}const $r="__parameters__";function qr(n,e,t){return Gn(()=>{const r=function Fl(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty($r)?l[$r]:Object.defineProperty(l,$r,{value:[]})[$r];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Q{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=oe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Lt(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Lt(r,e)):e!==n&&e.push(r)}return e}function hn(n,e){n.forEach(t=>Array.isArray(t)?hn(t,e):e(t))}function th(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ys(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wt(n,e,t){let r=Yr(n,e);return r>=0?n[1|r]=t:(r=~r,function _D(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Nl(n,e){const t=Yr(n,e);if(t>=0)return n[1|t]}function Yr(n,e){return function ih(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Zi={},Ll="__NG_DI_FLAG__",bs="ngTempTokenPath",MD=/\n/gm,sh="__source",xD=ne({provide:String,useValue:ne});let Ki;function ah(n){const e=Ki;return Ki=n,e}function TD(n,e=j.Default){if(void 0===Ki)throw new q(203,"");return null===Ki?_f(n,void 0,e):Ki.get(n,e&j.Optional?null:void 0,e)}function ae(n,e=j.Default){return(function gb(){return al}()||TD)(H(n),e)}function Vl(n){const e=[];for(let t=0;t<n.length;t++){const r=H(n[t]);if(Array.isArray(r)){if(0===r.length)throw new q(900,"");let i,o=j.Default;for(let s=0;s<r.length;s++){const a=r[s],l=PD(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(ae(i,o))}else e.push(ae(r))}return e}function Xi(n,e){return n[Ll]=e,n.prototype[Ll]=e,n}function PD(n){return n[Ll]}const Ds=Xi(qr("Inject",n=>({token:n})),-1),Qr=Xi(qr("Optional"),8),Ji=Xi(qr("SkipSelf"),4);class mh{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Zn(n){return n instanceof mh?n.changingThisBreaksApplicationSecurity:n}const ZD=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,KD=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Me=(()=>((Me=Me||{})[Me.NONE=0]="NONE",Me[Me.HTML=1]="HTML",Me[Me.STYLE=2]="STYLE",Me[Me.SCRIPT=3]="SCRIPT",Me[Me.URL=4]="URL",Me[Me.RESOURCE_URL=5]="RESOURCE_URL",Me))();function Wl(n){const e=function ro(){const n=D();return n&&n[12]}();return e?e.sanitize(Me.URL,n)||"":function to(n,e){const t=function WD(n){return n instanceof mh&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?Zn(n):function xs(n){return(n=String(n)).match(ZD)||n.match(KD)?n:"unsafe:"+n}(R(n))}const xh="__ngContext__";function Ye(n,e){n[xh]=e}function Yl(n){const e=function io(n){return n[xh]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Zl(n){return n.ngOriginalError}function Cw(n,...e){n.error(...e)}class Xr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function yw(n){return n&&n.ngErrorLogger||Cw}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Zl(e);for(;t&&Zl(t);)t=Zl(t);return t||null}}const Oh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(te))();function gn(n){return n instanceof Function?n():n}var Mt=(()=>((Mt=Mt||{})[Mt.Important=1]="Important",Mt[Mt.DashCase=2]="DashCase",Mt))();function Xl(n,e){return undefined(n,e)}function oo(n){const e=n[3];return Gt(e)?e[3]:e}function Jl(n){return Rh(n[13])}function eu(n){return Rh(n[4])}function Rh(n){for(;null!==n&&!Gt(n);)n=n[4];return n}function ei(n,e,t,r,i){if(null!=r){let o,s=!1;Gt(r)?o=r:cn(r)&&(s=!0,r=r[0]);const a=we(r);0===n&&null!==t?null==i?zh(e,t,a):br(e,t,a,i||null,!0):1===n&&null!==t?br(e,t,a,i||null,!0):2===n?function Qh(n,e,t){const r=Ps(n,e);r&&function Uw(n,e,t,r){pe(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function Ww(n,e,t,r,i){const o=t[7];o!==we(t)&&ei(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];so(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function nu(n,e,t){return pe(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function Vh(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,yl(i,-1)),t.splice(r,1)}function ru(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Vh(i,r),e>0&&(n[t-1][4]=r[4]);const o=ys(n,10+e);!function Nw(n,e){so(n,e,e[z],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Bh(n,e){if(!(256&e[2])){const t=e[z];pe(t)&&t.destroyNode&&so(n,e,t,3,null,null),function Vw(n){let e=n[13];if(!e)return iu(n[1],n);for(;e;){let t=null;if(cn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)cn(e)&&iu(e[1],e),e=e[3];null===e&&(e=n),cn(e)&&iu(e[1],e),t=e&&e[4]}e=t}}(e)}}function iu(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function zw(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ui)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function jw(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):we(e[s]),l=r[i=t[o+2]],u=t[o+3];"boolean"==typeof u?a.removeEventListener(t[o],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(n,e),1===e[1].type&&pe(e[z])&&e[z].destroy();const t=e[17];if(null!==t&&Gt(e[3])){t!==e[3]&&Vh(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function Hh(n,e,t){return function jh(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===un.None||i===un.Emulated)return null}return Nt(r,t)}(n,e.parent,t)}function br(n,e,t,r,i){pe(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function zh(n,e,t){pe(n)?n.appendChild(e,t):e.appendChild(t)}function Uh(n,e,t,r,i){null!==r?br(n,e,t,r,i):zh(n,e,t)}function Ps(n,e){return pe(n)?n.parentNode(e):e.parentNode}let Wh=function $h(n,e,t){return 40&n.type?Nt(n,t):null};function Ss(n,e,t,r){const i=Hh(n,r,e),o=e[z],a=function Gh(n,e,t){return Wh(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Uh(o,i,t[l],a,!1);else Uh(o,i,t,a,!1)}function Is(n,e){if(null!==e){const t=e.type;if(3&t)return Nt(e,n);if(4&t)return su(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Is(n,r);{const i=n[e.index];return Gt(i)?su(-1,i):we(i)}}if(32&t)return Xl(e,n)()||we(n[e.index]);{const r=Yh(n,e);return null!==r?Array.isArray(r)?r[0]:Is(oo(n[16]),r):Is(n,e.next)}}return null}function Yh(n,e){return null!==e?n[16][6].projection[e.projection]:null}function su(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Is(r,i)}return e[7]}function au(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&Ye(we(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)au(n,e,t.child,r,i,o,!1),ei(e,n,i,a,o);else if(32&l){const u=Xl(t,r);let c;for(;c=u();)ei(e,n,i,c,o);ei(e,n,i,a,o)}else 16&l?Zh(n,e,r,t,i,o):ei(e,n,i,a,o);t=s?t.projectionNext:t.next}}function so(n,e,t,r,i,o){au(t,r,n.firstChild,e,i,o,!1)}function Zh(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)ei(e,n,i,l[u],o);else au(n,e,l,s[3],i,o,!0)}function Kh(n,e,t){pe(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function lu(n,e,t){pe(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function Xh(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const Jh="ng-template";function Yw(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==Xh(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ep(n){return 4===n.type&&n.value!==Jh}function Qw(n,e,t){return e===(4!==n.type||t?n.value:Jh)}function Zw(n,e,t){let r=4;const i=n.attrs||[],o=function Jw(n){for(let e=0;e<n.length;e++)if(Uf(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Qw(n,l,t)||""===l&&1===e.length){if(Wt(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!Yw(n.attrs,u,t)){if(Wt(r))return!1;s=!0}continue}const d=Kw(8&r?"class":l,i,ep(n),t);if(-1===d){if(Wt(r))return!1;s=!0;continue}if(""!==u){let f;f=d>o?"":i[d+1].toLowerCase();const g=8&r?f:null;if(g&&-1!==Xh(g,u,0)||2&r&&u!==f){if(Wt(r))return!1;s=!0}}}}else{if(!s&&!Wt(r)&&!Wt(l))return!1;if(s&&Wt(l))continue;s=!1,r=l|1&r}}return Wt(r)||s}function Wt(n){return 0==(1&n)}function Kw(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function eM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function tp(n,e,t=!1){for(let r=0;r<e.length;r++)if(Zw(n,e[r],t))return!0;return!1}function np(n,e){return n?":not("+e.trim()+")":e}function nM(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Wt(s)&&(e+=np(o,i),i=""),r=s,o=o||!Wt(r);t++}return""!==i&&(e+=np(o,i)),e}const L={};function w(n){rp(Y(),D(),it()+n,ss())}function rp(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&ds(e,o,t)}else{const o=n.preOrderHooks;null!==o&&fs(e,o,0,t)}Yn(t)}function Os(n,e){return n<<17|e<<2}function qt(n){return n>>17&32767}function uu(n){return 2|n}function Fn(n){return(131068&n)>>2}function cu(n,e){return-131069&n|e<<2}function du(n){return 1|n}function pp(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];Ml(i),s.contentQueries(2,e[o],o)}}}function ao(n,e,t,r,i,o,s,a,l,u){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Of(c),c[3]=c[15]=n,c[8]=t,c[10]=s||n&&n[10],c[z]=a||n&&n[z],c[12]=l||n&&n[12]||null,c[9]=u||n&&n[9]||null,c[6]=o,c[16]=2==e.type?n[16]:c,c}function ti(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Cu(n,e,t,r,i){const o=Ff(),s=Cl(),l=n.data[e]=function CM(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),function Gb(){return N.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function zi(){const n=N.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return fn(o,!0),o}function ni(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function lo(n,e,t){ls(e);try{const r=n.viewQuery;null!==r&&Su(1,r,t);const i=n.template;null!==i&&gp(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&pp(n,e),n.staticViewQueries&&Su(2,n.viewQuery,t);const o=n.components;null!==o&&function _M(n,e){for(let t=0;t<e.length;t++)VM(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,us()}}function ri(n,e,t,r){const i=e[2];if(256==(256&i))return;ls(e);const o=ss();try{Of(e),function kf(n){return N.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&gp(n,e,t,2,r);const s=3==(3&i);if(!o)if(s){const u=n.preOrderCheckHooks;null!==u&&ds(e,u,null)}else{const u=n.preOrderHooks;null!==u&&fs(e,u,0,null),El(e,0)}if(function RM(n){for(let e=Jl(n);null!==e;e=eu(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(1024&i[2])&&yl(o,1),i[2]|=1024}}}(e),function NM(n){for(let e=Jl(n);null!==e;e=eu(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];vl(r)&&ri(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&pp(n,e),!o)if(s){const u=n.contentCheckHooks;null!==u&&ds(e,u)}else{const u=n.contentHooks;null!==u&&fs(e,u,1),El(e,1)}!function gM(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Yn(~i);else{const o=i,s=t[++r],a=t[++r];$b(s,o),a(2,e[o])}}}finally{Yn(-1)}}(n,e);const a=n.components;null!==a&&function mM(n,e){for(let t=0;t<e.length;t++)LM(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Su(2,l,r),!o)if(s){const u=n.viewCheckHooks;null!==u&&ds(e,u)}else{const u=n.viewHooks;null!==u&&fs(e,u,2),El(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,yl(e[3],-1))}finally{us()}}function vM(n,e,t,r){const i=e[10],o=!ss(),s=If(e);try{o&&!s&&i.begin&&i.begin(),s&&lo(n,e,r),ri(n,e,t,r)}finally{o&&!s&&i.end&&i.end()}}function gp(n,e,t,r,i){const o=it(),s=2&r;try{Yn(-1),s&&e.length>20&&rp(n,e,20,ss()),t(r,i)}finally{Yn(o)}}function bu(n,e,t){!Af()||(function TM(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||$i(t,e),Ye(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],u=$t(l);u&&AM(e,t,l);const c=Wi(e,n,a,t);Ye(c,e),null!==s&&FM(0,a-i,c,l,0,s),u&&(Dt(t.index,e)[8]=c)}}(n,e,t,Nt(t,e)),128==(128&t.flags)&&function PM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function Wb(){return N.lFrame.currentDirectiveIndex}();try{Yn(s);for(let l=r;l<i;l++){const u=n.data[l],c=e[l];Dl(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Mp(u,c)}}finally{Yn(-1),Dl(a)}}(n,e,t))}function Du(n,e,t=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function _p(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ks(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ks(n,e,t,r,i,o,s,a,l,u){const c=20+r,d=c+i,f=function yM(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:L);return t}(c,d),g="function"==typeof u?u():u;return f[1]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1}}function Cp(n,e,t,r){const i=Ip(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Op(n).push(r,i.length-1))}function bp(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function wu(n,e,t,r){let i=!1;if(Af()){const o=function SM(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];tp(t,s.selectors,!1)&&(i||(i=[]),_s($i(t,e),n,s.type),$t(s)?(Ep(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,xp(t,n.data.length,o.length);for(let c=0;c<o.length;c++){const d=o[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=ni(n,e,o.length,null);for(let c=0;c<o.length;c++){const d=o[c];t.mergedAttrs=ps(t.mergedAttrs,d.hostAttrs),Tp(n,t,e,u,d),OM(u,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),u++}!function bM(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,f=null===o||ep(e)?null:kM(d,o);s.push(f),a=bp(d,u,a),l=bp(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(n,t)}s&&function IM(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new q(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=ps(t.mergedAttrs,t.attrs),i}function wp(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function xM(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function Mp(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Ep(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function OM(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$t(e)&&(t[""]=n)}}function xp(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Tp(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Cr(i.type)),s=new Ui(o,$t(i),null);n.blueprint[r]=s,t[r]=s,wp(n,e,0,r,ni(n,t,i.hostVars,L),i)}function AM(n,e,t){const r=Nt(e,n),i=_p(t),o=n[10],s=Ns(n,ao(n,i,null,t.onPush?64:16,r,e,o,o.createRenderer(r,t),null,null));n[e.index]=s}function mn(n,e,t,r,i,o){const s=Nt(n,e);!function Mu(n,e,t,r,i,o,s){if(null==o)pe(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==s?R(o):s(o,r||"",i);pe(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[z],s,o,n.value,t,r,i)}function FM(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],d=s[l++];null!==a?r.setInput(t,d,u,c):t[c]=d}}}function kM(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Pp(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function LM(n,e){const t=Dt(e,n);if(vl(t)){const r=t[1];80&t[2]?ri(r,t,r.template,t[8]):t[5]>0&&Eu(t)}}function Eu(n){for(let r=Jl(n);null!==r;r=eu(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];ri(s,o,s.template,o[8])}else o[5]>0&&Eu(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Dt(t[r],n);vl(i)&&i[5]>0&&Eu(i)}}function VM(n,e){const t=Dt(e,n),r=t[1];(function BM(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),lo(r,t,t[8])}function Ns(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function xu(n){for(;n;){n[2]|=64;const e=oo(n);if(Eb(n)&&!e)return n;n=e}return null}function Pu(n,e,t){const r=e[10];r.begin&&r.begin();try{ri(n,e,n.template,t)}catch(i){throw Fp(e,i),i}finally{r.end&&r.end()}}function Sp(n){!function Tu(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Yl(t),i=r[1];vM(i,r,i.template,t)}}(n[8])}function Su(n,e,t){Ml(0),e(n,t)}const UM=(()=>Promise.resolve(null))();function Ip(n){return n[7]||(n[7]=[])}function Op(n){return n.cleanup||(n.cleanup=[])}function Fp(n,e){const t=n[9],r=t?t.get(Xr,null):null;r&&r.handleError(e)}function kp(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],u=n.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function kn(n,e,t){const r=os(e,n);!function Lh(n,e,t){pe(n)?n.setValue(e,t):e.textContent=t}(n[z],r,t)}function Rs(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=rl(i,a):2==o&&(r=rl(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Iu=new Q("INJECTOR",-1);class Np{get(e,t=Zi){if(t===Zi){const r=new Error(`NullInjectorError: No provider for ${X(e)}!`);throw r.name="NullInjectorError",r}return t}}const Ou=new Q("Set Injector scope."),uo={},WM={};let Au;function Rp(){return void 0===Au&&(Au=new Np),Au}function Lp(n,e=null,t=null,r){const i=Vp(n,e,t,r);return i._resolveInjectorDefTypes(),i}function Vp(n,e=null,t=null,r){return new qM(n,t,e||Rp(),r)}class qM{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&hn(t,a=>this.processProvider(a,e,t)),hn([e],a=>this.processInjectorType(a,[],o)),this.records.set(Iu,ii(void 0,this));const s=this.records.get(Ou);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:X(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Zi,r=j.Default){this.assertNotDestroyed();const i=ah(this),o=Un(void 0);try{if(!(r&j.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function t0(n){return"function"==typeof n||"object"==typeof n&&n instanceof Q}(e)&&ol(e);a=l&&this.injectableDefInScope(l)?ii(Fu(e),uo):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&j.Self?Rp():this.parent).get(e,t=r&j.Optional&&t===Zi?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[bs]=s[bs]||[]).unshift(X(e)),i)throw s;return function SD(n,e,t,r){const i=n[bs];throw e[sh]&&i.unshift(e[sh]),n.message=function ID(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=X(e);if(Array.isArray(e))i=e.map(X).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):X(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(MD,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[bs]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Un(o),ah(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(X(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,"")}processInjectorType(e,t,r){if(!(e=H(e)))return!1;let i=gf(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=gf(o)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(s);try{hn(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:f,providers:g}=c[d];hn(g,m=>this.processProvider(m,f,g||re))}}this.injectorDefTypes.add(s);const l=Cr(s)||(()=>new s);this.records.set(s,ii(l,uo));const u=i.providers;if(null!=u&&!a){const c=e;hn(u,d=>this.processProvider(d,c,u))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,r){let i=oi(e=H(e))?e:H(e&&e.provide);const o=function QM(n,e,t){return Hp(n)?ii(void 0,n.useValue):ii(Bp(n),uo)}(e);if(oi(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=ii(void 0,uo,!0),s.factory=()=>Vl(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,t){return t.value===uo&&(t.value=WM,t.value=t.factory()),"object"==typeof t.value&&t.value&&function e0(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=H(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Fu(n){const e=ol(n),t=null!==e?e.factory:Cr(n);if(null!==t)return t;if(n instanceof Q)throw new q(204,"");if(n instanceof Function)return function YM(n){const e=n.length;if(e>0)throw function Qi(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new q(204,"");const t=function fb(n){const e=n&&(n[Xo]||n[mf]);if(e){const t=function hb(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new q(204,"")}function Bp(n,e,t){let r;if(oi(n)){const i=H(n);return Cr(i)||Fu(i)}if(Hp(n))r=()=>H(n.useValue);else if(function KM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Vl(n.deps||[]));else if(function ZM(n){return!(!n||!n.useExisting)}(n))r=()=>ae(H(n.useExisting));else{const i=H(n&&(n.useClass||n.provide));if(!function JM(n){return!!n.deps}(n))return Cr(i)||Fu(i);r=()=>new i(...Vl(n.deps))}return r}function ii(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Hp(n){return null!==n&&"object"==typeof n&&xD in n}function oi(n){return"function"==typeof n}let xt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return Lp({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return Lp({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=Zi,n.NULL=new Np,n.\u0275prov=oe({token:n,providedIn:"any",factory:()=>ae(Iu)}),n.__NG_ELEMENT_ID__=-1,n})();function c0(n,e){cs(Yl(n)[1],Ie())}function U(n){let e=function Xp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if($t(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Ru(n.inputs),s.declaredInputs=Ru(n.declaredInputs),s.outputs=Ru(n.outputs);const a=i.hostBindings;a&&p0(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&f0(n,l),u&&h0(n,u),nl(n.inputs,i.inputs),nl(n.declaredInputs,i.declaredInputs),nl(n.outputs,i.outputs),$t(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===U&&(t=!1)}}e=Object.getPrototypeOf(e)}!function d0(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ps(i.hostAttrs,t=ps(t,i.hostAttrs))}}(r)}function Ru(n){return n===kr?{}:n===re?[]:n}function f0(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function h0(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function p0(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Ls=null;function si(){if(!Ls){const n=te.Symbol;if(n&&n.iterator)Ls=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ls=r)}}}return Ls}function co(n){return!!Lu(n)&&(Array.isArray(n)||!(n instanceof Map)&&si()in n)}function Lu(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function _n(n,e,t){return n[e]=t}function Qe(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Dr(n,e,t,r){const i=Qe(n,e,t);return Qe(n,e+1,r)||i}function Nn(n,e,t,r){const i=D();return Qe(i,Hr(),e)&&(Y(),mn(ge(),i,n,e,t,r)),Nn}function ui(n,e,t,r,i,o){const a=Dr(n,function On(){return N.lFrame.bindingIndex}(),t,i);return An(2),a?e+R(t)+r+R(i)+o:L}function Ee(n,e,t,r,i,o,s,a){const l=D(),u=Y(),c=n+20,d=u.firstCreatePass?function b0(n,e,t,r,i,o,s,a,l){const u=e.consts,c=ti(e,n,4,s||null,qn(u,a));wu(e,t,c,qn(u,l)),cs(e,c);const d=c.tViews=ks(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,t,r,i,o,s):u.data[c];fn(d,!1);const f=l[z].createComment("");Ss(u,l,f,d),Ye(f,l),Ns(l,l[c]=Pp(f,l,f,d)),is(d)&&bu(u,l,d),null!=s&&Du(l,d,a)}function M(n,e=j.Default){const t=D();return null===t?ae(n,e):Zf(Ie(),t,H(n),e)}function x(n,e,t){const r=D();return Qe(r,Hr(),e)&&function Et(n,e,t,r,i,o,s,a){const l=Nt(e,t);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(kp(n,t,c,r,i),rs(e)&&function wM(n,e){const t=Dt(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function DM(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,pe(o)?o.setProperty(l,r,i):Tl(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}(Y(),ge(),r,n,e,r[z],t,!1),x}function zu(n,e,t,r,i){const s=i?"class":"style";kp(n,t,e.inputs[s],s,r)}function h(n,e,t,r){const i=D(),o=Y(),s=20+n,a=i[z],l=i[s]=nu(a,e,function eD(){return N.lFrame.currentNamespace}()),u=o.firstCreatePass?function U0(n,e,t,r,i,o,s){const a=e.consts,u=ti(e,n,2,i,qn(a,o));return wu(e,t,u,qn(a,s)),null!==u.attrs&&Rs(u,u.attrs,!1),null!==u.mergedAttrs&&Rs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,t,r):o.data[s];fn(u,!0);const c=u.mergedAttrs;null!==c&&hs(a,l,c);const d=u.classes;null!==d&&lu(a,l,d);const f=u.styles;null!==f&&Kh(a,l,f),64!=(64&u.flags)&&Ss(o,i,l,u),0===function Vb(){return N.lFrame.elementDepthCount}()&&Ye(l,i),function Bb(){N.lFrame.elementDepthCount++}(),is(u)&&(bu(o,i,u),function mp(n,e,t){if(fl(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}(o,u,i)),null!==r&&Du(i,u)}function p(){let n=Ie();Cl()?function bl(){N.lFrame.isParent=!1}():(n=n.parent,fn(n,!1));const e=n;!function Hb(){N.lFrame.elementDepthCount--}();const t=Y();t.firstCreatePass&&(cs(t,n),fl(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function oD(n){return 0!=(16&n.flags)}(e)&&zu(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function sD(n){return 0!=(32&n.flags)}(e)&&zu(t,e,D(),e.stylesWithoutHost,!1)}function me(n,e,t,r){h(n,e,t,r),p()}function wr(){return D()}function Hs(n){return!!n&&"function"==typeof n.then}const Dg=function bg(n){return!!n&&"function"==typeof n.subscribe};function E(n,e,t,r){const i=D(),o=Y(),s=Ie();return function Mg(n,e,t,r,i,o,s,a){const l=is(r),c=n.firstCreatePass&&Op(n),d=e[8],f=Ip(e);let g=!0;if(3&r.type||a){const y=Nt(r,e),b=a?a(y):y,v=f.length,T=a?O=>a(we(O[r.index])):r.index;if(pe(t)){let O=null;if(!a&&l&&(O=function W0(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,g=!1;else{o=Uu(r,e,d,o,!1);const I=t.listen(b,i,o);f.push(o,I),c&&c.push(i,T,v,v+1)}}else o=Uu(r,e,d,o,!0),b.addEventListener(i,o,s),f.push(o),c&&c.push(i,T,v,s)}else o=Uu(r,e,d,o,!1);const m=r.outputs;let _;if(g&&null!==m&&(_=m[i])){const y=_.length;if(y)for(let b=0;b<y;b+=2){const De=e[_[b]][_[b+1]].subscribe(o),Ve=f.length;f.push(o,De),c&&c.push(i,r.index,Ve,-(Ve+1))}}}(o,i,i[z],s,n,e,!!t,r),E}function Eg(n,e,t,r){try{return!1!==t(r)}catch(i){return Fp(n,i),!1}}function Uu(n,e,t,r,i){return function o(s){if(s===Function)return r;const a=2&n.flags?Dt(n.index,e):e;0==(32&e[2])&&xu(a);let l=Eg(e,0,r,s),u=o.__ngNextListenerFn__;for(;u;)l=Eg(e,0,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function _e(n=1){return function Yb(n){return(N.lFrame.contextLView=function Qb(n,e){for(;n>0;)e=e[15],n--;return e}(n,N.lFrame.contextLView))[8]}(n)}function Ng(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?qt(o):Fn(o),l=!1;for(;0!==a&&(!1===l||s);){const c=n[a+1];X0(n[a],e)&&(l=!0,n[a+1]=r?du(c):uu(c)),a=r?qt(c):Fn(c)}l&&(n[t+1]=r?uu(o):du(o))}function X0(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Yr(n,e)>=0}function js(n,e){return function Qt(n,e,t,r){const i=D(),o=Y(),s=An(2);o.firstUpdatePass&&function Gg(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[it()],s=function Ug(n,e){return e>=n.expandoStartIndex}(n,t);(function Yg(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function aE(n,e,t,r){const i=function wl(n){const e=N.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ho(t=$u(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=$u(i,n,e,t,r),null===o){let l=function lE(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Fn(r))return n[qt(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=$u(null,n,e,l[1],r),l=ho(l,e.attrs,r),function uE(n,e,t,r){n[qt(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function cE(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ho(r,n[o].hostAttrs,t);return ho(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function Z0(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=qt(s),l=Fn(s);n[r]=t;let c,u=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||Yr(d,c)>0)&&(u=!0)}else c=t;if(i)if(0!==l){const f=qt(n[a+1]);n[r+1]=Os(f,a),0!==f&&(n[f+1]=cu(n[f+1],r)),n[a+1]=function oM(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Os(a,0),0!==a&&(n[a+1]=cu(n[a+1],r)),a=r;else n[r+1]=Os(l,0),0===a?a=r:n[l+1]=cu(n[l+1],r),l=r;u&&(n[r+1]=uu(n[r+1])),Ng(n,c,r,!0),Ng(n,c,r,!1),function K0(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Yr(o,e)>=0&&(t[r+1]=du(t[r+1]))}(e,c,n,r,o),s=Os(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==L&&Qe(i,s,e)&&function Wg(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,u=l[a+1];zs(function sp(n){return 1==(1&n)}(u)?qg(l,e,t,i,Fn(u),s):void 0)||(zs(o)||function op(n){return 2==(2&n)}(u)&&(o=qg(l,null,t,i,a,s)),function qw(n,e,t,r,i){const o=pe(n);if(e)i?o?n.addClass(t,r):t.classList.add(r):o?n.removeClass(t,r):t.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Mt.DashCase;if(null==i)o?n.removeStyle(t,r,s):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=Mt.Important),o?n.setStyle(t,r,i,s):t.style.setProperty(r,i,a?"important":"")}}}(r,s,os(it(),t),i,o))}(o,o.data[it()],i,i[z],n,i[s+1]=function hE(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=X(Zn(n)))),n}(e,t),r,s)}(n,e,null,!0),js}function $u(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=ho(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ho(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),wt(n,s,!!t||e[++o]))}return void 0===n?null:n}function qg(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=t[i+1];f===L&&(f=d?re:void 0);let g=d?Nl(f,r):c===r?f:void 0;if(u&&!zs(g)&&(g=Nl(l,r)),zs(g)&&(a=g,s))return a;const m=n[i+1];i=s?qt(m):Fn(m)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Nl(l,r))}return a}function zs(n){return void 0!==n}function C(n,e=""){const t=D(),r=Y(),i=n+20,o=r.firstCreatePass?ti(r,i,1,e,null):r.data[i],s=t[i]=function tu(n,e){return pe(n)?n.createText(e):n.createTextNode(e)}(t[z],e);Ss(r,t,s,o),fn(o,!1)}function ve(n){return Cn("",n,""),ve}function Cn(n,e,t){const r=D(),i=function li(n,e,t,r){return Qe(n,Hr(),t)?e+R(t)+r:L}(r,n,e,t);return i!==L&&kn(r,it(),i),Cn}function po(n,e,t,r,i){const o=D(),s=ui(o,n,e,t,r,i);return s!==L&&kn(o,it(),s),po}const Mr=void 0;var FE=["en",[["a","p"],["AM","PM"],Mr],[["AM","PM"],Mr,Mr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mr,"{1} 'at' {0}",Mr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AE(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let vi={};function pm(n){return n in vi||(vi[n]=te.ng&&te.ng.common&&te.ng.common.locales&&te.ng.common.locales[n]),vi[n]}var S=(()=>((S=S||{})[S.LocaleId=0]="LocaleId",S[S.DayPeriodsFormat=1]="DayPeriodsFormat",S[S.DayPeriodsStandalone=2]="DayPeriodsStandalone",S[S.DaysFormat=3]="DaysFormat",S[S.DaysStandalone=4]="DaysStandalone",S[S.MonthsFormat=5]="MonthsFormat",S[S.MonthsStandalone=6]="MonthsStandalone",S[S.Eras=7]="Eras",S[S.FirstDayOfWeek=8]="FirstDayOfWeek",S[S.WeekendRange=9]="WeekendRange",S[S.DateFormat=10]="DateFormat",S[S.TimeFormat=11]="TimeFormat",S[S.DateTimeFormat=12]="DateTimeFormat",S[S.NumberSymbols=13]="NumberSymbols",S[S.NumberFormats=14]="NumberFormats",S[S.CurrencyCode=15]="CurrencyCode",S[S.CurrencySymbol=16]="CurrencySymbol",S[S.CurrencyName=17]="CurrencyName",S[S.Currencies=18]="Currencies",S[S.Directionality=19]="Directionality",S[S.PluralCase=20]="PluralCase",S[S.ExtraData=21]="ExtraData",S))();const Us="en-US";let gm=Us;function Yu(n,e,t,r,i){if(n=H(n),Array.isArray(n))for(let o=0;o<n.length;o++)Yu(n[o],e,t,r,i);else{const o=Y(),s=D();let a=oi(n)?n:H(n.provide),l=Bp(n);const u=Ie(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(oi(n)||!n.multi){const g=new Ui(l,i,M),m=Zu(a,e,i?c:c+f,d);-1===m?(_s($i(u,s),o,a),Qu(o,n,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(g),s.push(g)):(t[m]=g,s[m]=g)}else{const g=Zu(a,e,c+f,d),m=Zu(a,e,c,c+f),_=g>=0&&t[g],y=m>=0&&t[m];if(i&&!y||!i&&!_){_s($i(u,s),o,a);const b=function A1(n,e,t,r,i){const o=new Ui(n,t,M);return o.multi=[],o.index=e,o.componentProviders=0,Bm(o,i,r&&!t),o}(i?O1:I1,t.length,i,r,l);!i&&y&&(t[m].providerFactory=b),Qu(o,n,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(b),s.push(b)}else Qu(o,n,g>-1?g:m,Bm(t[i?m:g],l,!i&&r));!i&&r&&y&&t[m].componentProviders++}}}function Qu(n,e,t,r){const i=oi(e),o=function XM(n){return!!n.useClass}(e);if(i||o){const l=(o?H(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function Bm(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Zu(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function I1(n,e,t,r){return Ku(this.multi,[])}function O1(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Wi(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),Ku(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ku(i,o);return o}function Ku(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function de(n,e=[]){return t=>{t.providersResolver=(r,i)=>function S1(n,e,t){const r=Y();if(r.firstCreatePass){const i=$t(n);Yu(t,r.data,r.blueprint,i,!0),Yu(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Hm{}class N1{resolveComponentFactory(e){throw function k1(n){const e=Error(`No component factory found for ${X(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let yo=(()=>{class n{}return n.NULL=new N1,n})();function R1(){return Ci(Ie(),D())}function Ci(n,e){return new Kt(Nt(n,e))}let Kt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=R1,n})();function L1(n){return n instanceof Kt?n.nativeElement:n}class zm{}let Er=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function B1(){const n=D(),t=Dt(Ie().index,n);return function V1(n){return n[z]}(cn(t)?t:n)}(),n})(),H1=(()=>{class n{}return n.\u0275prov=oe({token:n,providedIn:"root",factory:()=>null}),n})();class Ys{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const j1=new Ys("13.1.3"),Xu={};function Qs(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(we(o)),Gt(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&Qs(l[1],l,u,r)}const s=t.type;if(8&s)Qs(n,e,t.child,r);else if(32&s){const a=Xl(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Yh(e,t);if(Array.isArray(a))r.push(...a);else{const l=oo(e[16]);Qs(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Co{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Qs(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Gt(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(ru(e,r),ys(t,r))}this._attachedToViewContainer=!1}Bh(this._lView[1],this._lView)}onDestroy(e){Cp(this._lView[1],this._lView,null,e)}markForCheck(){xu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function jM(n,e,t){as(!0);try{Pu(n,e,t)}finally{as(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new q(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lw(n,e){so(n,e,e[z],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,"");this._appRef=e}}class z1 extends Co{constructor(e){super(e),this._view=e}detectChanges(){Sp(this._view)}checkNoChanges(){!function zM(n){as(!0);try{Sp(n)}finally{as(!1)}}(this._view)}get context(){return null}}class Um extends yo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=We(e);return new Ju(t,this.ngModule)}}function Gm(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const G1=new Q("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Oh});class Ju extends Hm{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function rM(n){return n.map(nM).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Gm(this.componentDef.inputs)}get outputs(){return Gm(this.componentDef.outputs)}create(e,t,r,i){const o=(i=i||this.ngModule)?function $1(n,e){return{get:(t,r,i)=>{const o=n.get(t,Xu,i);return o!==Xu||r===Xu?o:e.get(t,r,i)}}}(e,i.injector):e,s=o.get(zm,Sf),a=o.get(H1,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=r?function yp(n,e,t){if(pe(n))return n.selectRootElement(e,t===un.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):nu(s.createRenderer(null,this.componentDef),u,function U1(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,f=function Kp(n,e){return{components:[],scheduler:n||Oh,clean:UM,playerHandler:e||null,flags:0}}(),g=ks(0,null,null,1,0,null,null,null,null,null),m=ao(null,g,f,d,null,null,s,l,a,o);let _,y;ls(m);try{const b=function Qp(n,e,t,r,i,o){const s=t[1];t[20]=n;const l=ti(s,20,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(Rs(l,u,!0),null!==n&&(hs(i,n,u),null!==l.classes&&lu(i,n,l.classes),null!==l.styles&&Kh(i,n,l.styles)));const c=r.createRenderer(n,e),d=ao(t,_p(e),null,e.onPush?64:16,t[20],l,r,c,o||null,null);return s.firstCreatePass&&(_s($i(l,t),s,e.type),Ep(s,l),xp(l,t.length,1)),Ns(t,d),t[20]=d}(c,this.componentDef,m,s,l);if(c)if(r)hs(l,c,["ng-version",j1.full]);else{const{attrs:v,classes:T}=function iM(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Wt(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&hs(l,c,v),T&&T.length>0&&lu(l,c,T.join(" "))}if(y=_l(g,20),void 0!==t){const v=y.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const O=t[T];v.push(null!=O?Array.from(O):null)}}_=function Zp(n,e,t,r,i){const o=t[1],s=function EM(n,e,t){const r=Ie();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Tp(n,r,e,ni(n,e,1,null),t));const i=Wi(e,n,r.directiveStart,r);Ye(i,e);const o=Nt(r,e);return o&&Ye(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,i&&i.forEach(l=>l(s,e)),e.contentQueries){const l=Ie();e.contentQueries(1,s,l.directiveStart)}const a=Ie();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Yn(a.index),wp(t[1],a,0,a.directiveStart,a.directiveEnd,e),Mp(e,s)),s}(b,this.componentDef,m,f,[c0]),lo(g,m,null)}finally{us()}return new q1(this.componentType,_,Ci(y,m),m,y)}}class q1 extends class F1{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new z1(i),this.componentType=e}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class bi{}const Di=new Map;class qm extends bi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Um(this);const r=At(e);this._bootstrapComponents=gn(r.bootstrap),this._r3Injector=Vp(e,t,[{provide:bi,useValue:this},{provide:yo,useValue:this.componentFactoryResolver}],X(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=xt.THROW_IF_NOT_FOUND,r=j.Default){return e===xt||e===bi||e===Iu?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ec extends class Q1{}{constructor(e){super(),this.moduleType=e,null!==At(e)&&function Z1(n){const e=new Set;!function t(r){const i=At(r,!0),o=i.id;null!==o&&(function $m(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${X(e)} vs ${X(e.name)}`)}(o,Di.get(o),r),Di.set(o,r));const s=gn(i.imports);for(const a of s)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new qm(this.moduleType,e)}}function Fe(n,e,t,r){return function Ym(n,e,t,r,i,o){const s=e+t;return Qe(n,s,i)?_n(n,s+1,o?r.call(o,i):r(i)):bo(n,s+1)}(D(),rt(),n,e,t,r)}function tc(n,e,t,r,i){return function Qm(n,e,t,r,i,o,s){const a=e+t;return Dr(n,a,i,o)?_n(n,a+2,s?r.call(s,i,o):r(i,o)):bo(n,a+2)}(D(),rt(),n,e,t,r,i)}function bo(n,e){const t=n[e];return t===L?void 0:t}function nc(n){return e=>{setTimeout(n,void 0,e)}}const xe=class fx extends Qa{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,l=t||(()=>null),u=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),u=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=nc(l),a&&(a=nc(a)),u&&(u=nc(u)));const c=super.subscribe({next:a,error:l,complete:u});return e instanceof ln&&e.add(c),c}};function hx(){return this._results[si()]()}class rc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=si(),r=rc.prototype;r[t]||(r[t]=hx)}get changes(){return this._changes||(this._changes=new xe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Lt(e);(this._changesDetected=!function gD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Rn=(()=>{class n{}return n.__NG_ELEMENT_ID__=mx,n})();const px=Rn,gx=class extends px{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=ao(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(t)),lo(t,r,e),new Co(r)}};function mx(){return Zs(Ie(),D())}function Zs(n,e){return 4&n.type?new gx(e,n,Ci(n,e)):null}let ze=(()=>{class n{}return n.__NG_ELEMENT_ID__=_x,n})();function _x(){return t_(Ie(),D())}const vx=ze,Jm=class extends vx{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ci(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){const e=ms(this._hostTNode,this._hostLView);if($f(e)){const t=zr(e,this._hostLView),r=jr(e);return new Ur(t[1].data[r+8],t)}return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=e_(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,o){const s=e&&!function Yi(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.ngModuleRef}const l=s?e:new Ju(We(e)),u=r||this.parentInjector;if(!o&&null==l.ngModule&&u){const d=u.get(bi,null);d&&(o=d)}const c=l.create(u,i,void 0,o);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function Lb(n){return Gt(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],f=new Jm(d,d[6],d[3]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function Bw(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],th(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function Hw(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,s,o);const a=su(o,s),l=r[z],u=Ps(l,s[7]);return null!==u&&function Rw(n,e,t,r,i,o){r[0]=i,r[6]=e,so(n,r,t,1,i,o)}(i,s[6],l,r,u,a),e.attachToViewContainerRef(),th(ic(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=e_(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=ru(this._lContainer,t);r&&(ys(ic(this._lContainer),t),Bh(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=ru(this._lContainer,t);return r&&null!=ys(ic(this._lContainer),t)?new Co(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function e_(n){return n[8]}function ic(n){return n[8]||(n[8]=[])}function t_(n,e){let t;const r=e[n.index];if(Gt(r))t=r;else{let i;if(8&n.type)i=we(r);else{const o=e[z];i=o.createComment("");const s=Nt(n,e);br(o,Ps(o,s),i,function Gw(n,e){return pe(n)?n.nextSibling(e):e.nextSibling}(o,s),!1)}e[n.index]=t=Pp(r,e,i,n),Ns(e,t)}return new Jm(t,n,e)}class oc{constructor(e){this.queryList=e,this.matches=null}clone(){return new oc(this.queryList)}setDirty(){this.queryList.setDirty()}}class sc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new sc(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==s_(e,t).matches&&this.queries[t].setDirty()}}class n_{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class ac{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new ac(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class lc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new lc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,bx(t,o)),this.matchTNodeWithReadOption(e,t,vs(t,e,o,!1,!1))}else r===Rn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,vs(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Kt||i===ze||i===Rn&&4&t.type)this.addMatch(t.index,-2);else{const o=vs(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function bx(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function wx(n,e,t,r){return-1===t?function Dx(n,e){return 11&n.type?Ci(n,e):4&n.type?Zs(n,e):null}(e,n):-2===t?function Mx(n,e,t){return t===Kt?Ci(e,n):t===Rn?Zs(e,n):t===ze?t_(e,n):void 0}(n,e,r):Wi(n,n[1],t,e)}function r_(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:wx(e,o[u],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function uc(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=r_(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],c=e[-l];for(let d=10;d<c.length;d++){const f=c[d];f[17]===f[3]&&uc(f[1],f,u,r)}if(null!==c[9]){const d=c[9];for(let f=0;f<d.length;f++){const g=d[f];uc(g[1],g,u,r)}}}}}return r}function Tt(n){const e=D(),t=Y(),r=Rf();Ml(r+1);const i=s_(t,r);if(n.dirty&&If(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?uc(t,e,r,[]):r_(t,e,i,r);n.reset(o,L1),n.notifyOnChanges()}return!0}return!1}function Pt(n,e,t){const r=Y();r.firstCreatePass&&(function o_(n,e,t){null===n.queries&&(n.queries=new ac),n.queries.track(new lc(e,t))}(r,new n_(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function i_(n,e,t){const r=new rc(4==(4&t));Cp(n,e,r,r.destroy),null===e[19]&&(e[19]=new sc),e[19].queries.push(new oc(r))}(r,D(),e)}function St(){return function xx(n,e){return n[19].queries[e].queryList}(D(),Rf())}function s_(n,e){return n.queries.getByIndex(e)}function Js(...n){}const gc=new Q("Application Initializer");let Mi=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Js,this.reject=Js,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Hs(o))t.push(o);else if(Dg(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ae(gc,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Mo=new Q("AppId"),Wx={provide:Mo,useFactory:function $x(){return`${mc()}${mc()}${mc()}`},deps:[]};function mc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const w_=new Q("Platform Initializer"),_c=new Q("Platform ID"),qx=new Q("appBootstrapListener");let Yx=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Jn=new Q("LocaleId"),M_=new Q("DefaultCurrencyCode");class Qx{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let E_=(()=>{class n{compileModuleSync(t){return new ec(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=gn(At(t).declarations).reduce((s,a)=>{const l=We(a);return l&&s.push(new Ju(l)),s},[]);return new Qx(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Kx=(()=>Promise.resolve(0))();function vc(n){"undefined"==typeof Zone?Kx.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Xx(){let n=te.requestAnimationFrame,e=te.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function tT(n){const e=()=>{!function eT(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(te,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Cc(n),n.isCheckStableRunning=!0,yc(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Cc(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return x_(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),T_(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return x_(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),T_(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Cc(n),yc(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Jx,Js,Js);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Jx={};function yc(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Cc(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function x_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function T_(n){n._nesting--,yc(n)}class nT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let bc=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),vc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(ae(Ze))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),P_=(()=>{class n{constructor(){this._applications=new Map,Dc.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Dc.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class rT{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Xt,Dc=new rT;const S_=new Q("AllowMultipleToken");function I_(n,e,t=[]){const r=`Platform: ${e}`,i=new Q(r);return(o=[])=>{let s=O_();if(!s||s.injector.get(S_,!1))if(n)n(t.concat(o).concat({provide:i,useValue:!0}));else{const a=t.concat(o).concat({provide:i,useValue:!0},{provide:Ou,useValue:"platform"});!function aT(n){if(Xt&&!Xt.destroyed&&!Xt.injector.get(S_,!1))throw new q(400,"");Xt=n.get(A_);const e=n.get(w_,null);e&&e.forEach(t=>t())}(xt.create({providers:a,name:r}))}return function lT(n){const e=O_();if(!e)throw new q(401,"");return e}()}}function O_(){return Xt&&!Xt.destroyed?Xt:null}let A_=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function uT(n,e){let t;return t="noop"===n?new nT:("zone.js"===n?void 0:n)||new Ze({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Ze,useValue:a}];return a.run(()=>{const u=xt.create({providers:l,parent:this.injector,name:t.moduleType.name}),c=t.create(u),d=c.injector.get(Xr,null);if(!d)throw new q(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:g=>{d.handleError(g)}});c.onDestroy(()=>{wc(this._modules,c),f.unsubscribe()})}),function cT(n,e,t){try{const r=t();return Hs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const f=c.injector.get(Mi);return f.runInitializers(),f.donePromise.then(()=>(function VE(n){Ct(n,"Expected localeId to be defined"),"string"==typeof n&&(gm=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Jn,Us)||Us),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=F_({},r);return function oT(n,e,t){const r=new ec(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(ea);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new q(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ae(xt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function F_(n,e){return Array.isArray(e)?e.reduce(F_,n):Object.assign(Object.assign({},n),e)}let ea=(()=>{class n{constructor(t,r,i,o,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new tt(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new tt(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),vc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=ib(a,l.pipe(function sb(n={}){const{connector:e=(()=>new Qa),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s=null,a=null,l=null,u=0,c=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=null},g=()=>{f(),s=l=null,c=d=!1},m=()=>{const _=s;g(),null==_||_.unsubscribe()};return Ar((_,y)=>{u++,!d&&!c&&f();const b=l=null!=l?l:e();y.add(()=>{u--,0===u&&!d&&!c&&(a=tl(m,i))}),b.subscribe(y),s||(s=new $a({next:v=>b.next(v),error:v=>{d=!0,f(),a=tl(g,t,v),b.error(v)},complete:()=>{c=!0,f(),a=tl(g,r),b.complete()}}),el(_).subscribe(s))})(o)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new q(405,"");let i;i=t instanceof Hm?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const o=function sT(n){return n.isBoundToModule}(i)?void 0:this._injector.get(bi),a=i.create(xt.NULL,[],r||i.selector,o),l=a.location.nativeElement,u=a.injector.get(bc,null),c=u&&a.injector.get(P_);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),wc(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new q(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;wc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(qx,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(ae(Ze),ae(xt),ae(Xr),ae(yo),ae(Mi))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function wc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let N_=!0,V_=(()=>{class n{}return n.__NG_ELEMENT_ID__=hT,n})();function hT(n){return function pT(n,e,t){if(rs(n)&&!t){const r=Dt(n.index,e);return new Co(r,r)}return 47&n.type?new Co(e[16],e):null}(Ie(),D(),16==(16&n))}class U_{constructor(){}supports(e){return co(e)}create(e){return new CT(e)}}const yT=(n,e)=>e;class CT{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yT}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<$_(r,i,o)?t:r,a=$_(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){const g=f<o.length?o[f]:o[f]=0,m=g+f;c<=m&&m<u&&(o[f]=g+1)}o[s.previousIndex]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!co(e))throw new q(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function C0(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[si()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new bT(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new G_),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class bT{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DT{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class G_{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new DT,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $_(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class W_{constructor(){}supports(e){return e instanceof Map||Lu(e)}create(){return new wT}}class wT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Lu(e)))throw new q(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new MT(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class MT{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function q_(){return new Eo([new U_])}let Eo=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||q_()),deps:[[n,new Ji,new Qr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new q(901,"")}}return n.\u0275prov=oe({token:n,providedIn:"root",factory:q_}),n})();function Y_(){return new Ei([new W_])}let Ei=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Y_()),deps:[[n,new Ji,new Qr]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(r)return r;throw new q(901,"")}}return n.\u0275prov=oe({token:n,providedIn:"root",factory:Y_}),n})();const ET=[new W_],TT=new Eo([new U_]),PT=new Ei(ET),ST=I_(null,"core",[{provide:_c,useValue:"unknown"},{provide:A_,deps:[xt]},{provide:P_,deps:[]},{provide:Yx,deps:[]}]),kT=[{provide:ea,useClass:ea,deps:[Ze,xt,Xr,yo,Mi]},{provide:G1,deps:[Ze],useFactory:function NT(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Mi,useClass:Mi,deps:[[new Qr,gc]]},{provide:E_,useClass:E_,deps:[]},Wx,{provide:Eo,useFactory:function IT(){return TT},deps:[]},{provide:Ei,useFactory:function OT(){return PT},deps:[]},{provide:Jn,useFactory:function AT(n){return n||function FT(){return"undefined"!=typeof $localize&&$localize.locale||Us}()},deps:[[new Ds(Jn),new Qr,new Ji]]},{provide:M_,useValue:"USD"}];let RT=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ae(ea))},n.\u0275mod=$n({type:n}),n.\u0275inj=Sn({providers:kT}),n})(),na=null;function Tr(){return na}const bn=new Q("DocumentToken");var Te=(()=>((Te=Te||{})[Te.Zero=0]="Zero",Te[Te.One=1]="One",Te[Te.Two=2]="Two",Te[Te.Few=3]="Few",Te[Te.Many=4]="Many",Te[Te.Other=5]="Other",Te))();const QT=function hm(n){return function at(n){const e=function kE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=pm(e);if(t)return t;const r=e.split("-")[0];if(t=pm(r),t)return t;if("en"===r)return FE;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[S.PluralCase]};class fa{}let MP=(()=>{class n extends fa{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(QT(r||this.locale)(t)){case Te.Zero:return"zero";case Te.One:return"one";case Te.Two:return"two";case Te.Few:return"few";case Te.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(ae(Jn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),en=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(co(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${X(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(M(Eo),M(Ei),M(Kt),M(Er))},n.\u0275dir=k({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class TP{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new TP(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),ov(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ov(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(M(ze),M(Rn),M(Eo))},n.\u0275dir=k({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ov(n,e){n.context.$implicit=e.item}let Ti=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new PP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sv("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sv("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(M(ze),M(Rn))},n.\u0275dir=k({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class PP{constructor(){this.$implicit=null,this.ngIf=null}}function sv(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${X(e)}'.`)}let Pi=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split(".");null!=(r=null!=r&&o?`${r}${o}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(M(Kt),M(Ei),M(Er))},n.\u0275dir=k({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),eS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=Sn({providers:[{provide:fa,useClass:MP}]}),n})();class Hc extends class sS extends class BT{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function VT(n){na||(na=n)}(new Hc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function aS(){return Po=Po||document.querySelector("base"),Po?Po.getAttribute("href"):null}();return null==t?null:function lS(n){ha=ha||document.createElement("a"),ha.setAttribute("href",n);const e=ha.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Po=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function EP(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let ha,Po=null;const dv=new Q("TRANSITION_ID"),cS=[{provide:gc,useFactory:function uS(n,e,t){return()=>{t.get(Mi).donePromise.then(()=>{const r=Tr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[dv,bn,xt],multi:!0}];class jc{static init(){!function iT(n){Dc=n}(new jc)}addToWindow(e){te.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},te.getAllAngularTestabilities=()=>e.getAllTestabilities(),te.getAllAngularRootElements=()=>e.getAllRootElements(),te.frameworkStabilizers||(te.frameworkStabilizers=[]),te.frameworkStabilizers.push(r=>{const i=te.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Tr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let dS=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const pa=new Q("EventManagerPlugins");let ga=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ae(pa),ae(Ze))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class fv{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Tr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let hv=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),So=(()=>{class n extends hv{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(pv),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pv))}}return n.\u0275fac=function(t){return new(t||n)(ae(bn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function pv(n){Tr().remove(n)}const zc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Uc=/%COMP%/g;function ma(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ma(n,i,t):(i=i.replace(Uc,n),t.push(i))}return t}function _v(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gc=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $c(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case un.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new _S(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case un.ShadowDom:return new vS(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ma(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ae(ga),ae(So),ae(Mo))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class $c{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(zc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=zc[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=zc[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mt.DashCase|Mt.Important)?e.style.setProperty(t,r,i&Mt.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,_v(r)):this.eventManager.addEventListener(e,t,_v(r))}}class _S extends $c{constructor(e,t,r,i){super(e),this.component=r;const o=ma(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function pS(n){return"_ngcontent-%COMP%".replace(Uc,n)}(i+"-"+r.id),this.hostAttr=function gS(n){return"_nghost-%COMP%".replace(Uc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class vS extends $c{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ma(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yS=(()=>{class n extends fv{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(ae(bn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const yv=["alt","control","meta","shift"],bS={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cv={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},DS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wS=(()=>{class n extends fv{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(yv.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function MS(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Cv.hasOwnProperty(e)&&(e=Cv[e]))}return bS[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yv.forEach(o=>{o!=i&&DS[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ae(bn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const PS=I_(ST,"browser",[{provide:_c,useValue:"browser"},{provide:w_,useValue:function ES(){Hc.makeCurrent(),jc.init()},multi:!0},{provide:bn,useFactory:function TS(){return function Fb(n){gl=n}(document),document},deps:[]}]),SS=[{provide:Ou,useValue:"root"},{provide:Xr,useFactory:function xS(){return new Xr},deps:[]},{provide:pa,useClass:yS,multi:!0,deps:[bn,Ze,_c]},{provide:pa,useClass:wS,multi:!0,deps:[bn]},{provide:Gc,useClass:Gc,deps:[ga,So,Mo]},{provide:zm,useExisting:Gc},{provide:hv,useExisting:So},{provide:So,useClass:So,deps:[bn]},{provide:bc,useClass:bc,deps:[Ze]},{provide:ga,useClass:ga,deps:[pa,Ze]},{provide:class oS{},useClass:dS,deps:[]}];let IS=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Mo,useValue:t.appId},{provide:dv,useExisting:Mo},cS]}}}return n.\u0275fac=function(t){return new(t||n)(ae(n,12))},n.\u0275mod=$n({type:n}),n.\u0275inj=Sn({providers:SS,imports:[eS,RT]}),n})();"undefined"!=typeof window&&window;class jt{constructor(){this.listeners=[]}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);return t>=0&&(this.listeners.splice(t,1),!0)}emit(e){for(let t of this.listeners)t(e)}get empty(){return 0==this.listeners.length}}class wv{}function gt(n){return void 0!==n.a?`rgba(${n.r}, ${n.g}, ${n.b}, ${n.a})`:`rgba(${n.r}, ${n.g}, ${n.b})`}function nn(n,e=.5){return{r:n.r,g:n.g,b:n.b,a:void 0===n.a?e:n.a*e}}const mt={r:0,g:0,b:0},jS={r:255,g:255,b:255},Dn={r:0,g:0,b:0,a:0},Ue={r:127,g:127,b:127},Mv=[];class Pr extends wv{constructor(){super(),this.onChange=new jt,this.onRemove=new jt,this.configuration={},this._color=mt,this._visible=!0,this._labelTranslate={x:0,y:0},this.id=function zS(){for(let n=0;;n++)if(-1===Mv.indexOf(n))return Mv.push(n),n;return Number.NaN}()}getDistance(e,t){}get color(){return this._color}set color(e){this._color=e,this.onChange.emit(e)}get visible(){return this._visible}set visible(e){this._visible=e,this.onChange.emit(e)}get labelTranslateX(){return this._labelTranslate.x}set labelTranslateX(e){this._labelTranslate.x=e,this.onChange.emit(e)}get labelTranslateY(){return this._labelTranslate.y}set labelTranslateY(e){this._labelTranslate.y=e,this.onChange.emit(e)}get labelTranslate(){return{x:this._labelTranslate.x,y:this._labelTranslate.y}}set labelTranslate(e){this._labelTranslate={x:e.x,y:e.y},this.onChange.emit(e)}getPositionForLabel(e){}}class rn{constructor(e,t,r="x"){this.operation=e,this.name=t,this.variable=r,this.stopEvaluation=!1}evaluate(e,t){if(this.stopEvaluation)throw"evaluation stopped";return(t=null!=t?t:{})[this.variable]=e,this.operation.evaluate(t)}derive(){let e;return this.name&&(e=this.name+"'"),new rn(this.operation.derive(this.variable),e,this.variable).simplify()}simplify(){return new rn(this.operation.simplify(),this.name,this.variable)}get operationAsString(){var e;return this.name?`${this.name}(${null!==(e=this.variable)&&void 0!==e?e:"x"}) = ${this.operation.toString()}`:this.operation.toString()}}function Io(n,e,t=0){const r=e=on(e),i_y=e.y+e.height;return Se(n.x,r.x-t,e.x+e.width+t)&&Se(n.y,r.y-t,i_y+t)}function Se(n,e,t){return t<e?Se(n,t,e):n>=e&&n<=t}function on(n){return n.width<0?on({x:n.x+n.width,y:n.y,width:-n.width,height:n.height}):n.height<0?on({x:n.x,y:n.y+n.height,width:n.width,height:-n.height}):n}function GS(n,e){if(!function US(n,e){return n=on(n),e=on(e),!(n.x+n.width<e.x||e.x+e.width<n.x||n.y+n.height<e.y||e.y+e.height<n.y)}(n=on(n),e=on(e)))return;const t=Math.max(n.x,e.x),r=Math.min(n.x+n.width,e.x+e.width),i=Math.max(n.y,e.y);return{x:t,y:i,width:r-t,height:Math.min(n.y+n.height,e.y+e.height)-i}}function Ev(n,e){if(Io(n,e))return 0;const t=Math.min(Math.abs(n.x-e.x),Math.abs(n.x-e.x-e.width)),r=Math.min(Math.abs(n.y-e.y),Math.abs(n.y-e.y-e.height));return Se(n.x,e.x,e.x+e.width)?r:Se(n.y,e.y,e.y+e.height)?t:Math.sqrt(r**2+t**2)}function tr(n,e){return Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2)}function WS(...n){let e;for(let t of n)(null==e||isNaN(e)||null!=t&&!isNaN(t)&&t<e)&&(e=t);return e}function xv(n,e){return n.x===e.x&&n.y===e.y}function _a(n,e){const t=e.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}function Tv(n){let e;if(null!==n){for(;-1!==n.indexOf(",");)n=n.replace(",",".");n.length>0&&isFinite(n)&&(e=parseFloat(n))}return e}function Oo(n){return void 0!==Tv(n)}function qS(n,e,t){let r=n;for(;-1!=r.indexOf(e);)r=r.replace(e,t);return r}function qc(n,...e){for(let t=0;t<n.length;t++)if(-1!=e.indexOf(n[t]))return t;return-1}function Pv(n,...e){let t=e.map(i=>n.indexOf(i)).filter(i=>-1!==i);if(0===t.length)return-1;let r=t[0];for(let i=1;i<t.length;i++)t[i]<r&&(r=t[i]);return r}function Ke(n,...e){return-1!=qc(n,...e)}function QS(n,e){for(let t=n.length-2;t>=0;t--)if(e(n[t],n[t+1]))return t;return-1}function ZS(n,e){return-1!==function YS(n,e){for(let t=0;t<n.length-1;t++)if(e(n[t],n[t+1]))return t;return-1}(n,e)}function va(n,...e){return-1!==Pv(n,...e)}function Sv(n,e,t){return n>e?n:t<e?t:e}function Iv(n,e){for(let t of n)if(e(t))return!0;return!1}function KS(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t;return-1}function XS(n,e,t,r,i,o=1){let s=0;for(let a=null!=r?r:0;a>=0&&a<n.length;a+=o){let l=n[a];if(Ke(e,l)&&s++,Ke(t,l)&&s--,0==s)return a}if(0==s)return null!=r?r:0;throw i}function Ov(n){return[...new Set(n)]}function Av(n,e){for(let t of e)if(t[0]===n)return t[1];return n}class ya{constructor(...e){this._ts=[],this._ts=e}getItem(e){return this._ts[e]}setItem(e,t){this._ts[e]=t}push(...e){this._ts.push(...e)}remove(e){const t=this._ts.indexOf(e);return t>=0&&(this._ts.splice(t,1),!0)}pop(){return this._ts.pop()}forEach(e){for(let t=0;t<this._ts.length;t++)e(this._ts[t],t)}filter(e){let t=[];for(let r=0;r<this._ts.length;r++){const i=this._ts[r];e(i,r)&&t.push(i)}return new ya(...t)}map(e){let t=[];for(let r=0;r<this._ts.length;r++)t.push(e(this._ts[r],r));return new ya(...t)}find(e){for(let t=0;t<this._ts.length;t++){const r=this._ts[t];if(e(r,t))return r}}}class Xe{constructor(){this.childOperations=new ya}simplify(){return this}}class V extends Xe{constructor(e){super(),this.constant=e}evaluate(){return this.constant}derive(){return new V(0)}toString(){return this.constant==Math.PI?"pi":this.constant==Math.E?"e":this.constant>=0?this.constant.toString():`(${this.constant.toString()})`}}class It extends Xe{constructor(...e){super(),this._summands=e,this.childOperations.push(...e)}evaluate(e){let t=0;for(let r of this._summands)t+=r.evaluate(e);return t}derive(e){return new It(...this._summands.map(t=>t.derive(e)))}get summands(){return this._summands.slice()}toString(){if(0==this._summands.length)return"0";{let e=`(${this._summands[0].toString()}`;for(let t=1;t<this._summands.length;t++)e+=` + ${this._summands[t].toString()}`;return e+=")",e}}simplify(){let e=0,t=this._summands.map(i=>i.simplify()).filter(i=>!(i instanceof V&&(e+=i.constant,1)));if(0!=e&&(t=[new V(e),...t]),0==t.length)return new V(0);if(1==t.length)return t[0];let r=[];for(let i of t)i instanceof It?r.push(...i._summands):r.push(i);return r.length!=t.length?new It(...r).simplify():new It(...t)}}class sn extends Xe{constructor(e){super(),this.key=e}evaluate(e){let t=e[this.key];if("number"==typeof t)return t;throw"no number found"}derive(e){return new V(e===this.key?1:0)}toString(){return this.key}}class He extends Xe{constructor(e,t){super(),this.str=t,this.operation=e}get operation(){return this.childOperations.getItem(0)}set operation(e){this.childOperations.setItem(0,e)}simplify(){return this.operation=this.operation.simplify(),this}toString(){return`${this.str}(${this.operation.toString()})`}}class Ca extends He{evaluate(e){return Math.log(this.operation.evaluate(e))}derive(e){return new _t(this.operation.derive(e),this.operation)}constructor(e){super(e,"ln")}toString(){return`ln (${this.operation.toString()})`}simplify(){let e=this.operation.simplify();if(e instanceof V){if(1==e.constant)return new V(0);if(e.constant==Math.E)return new V(1)}return new Ca(e)}}class ut extends Xe{constructor(e,t){super(),this.base=e,this.exponent=t,this.childOperations.push(this.base,this.exponent)}evaluate(e){return this.base.evaluate(e)**this.exponent.evaluate(e)}derive(e){return new J(new ut(this.base,this.exponent),new It(new J(this.exponent.derive(e),new Ca(this.base)),new J(this.exponent,new _t(this.base.derive(e),this.base))))}toString(){return`((${this.base.toString()}) ^ (${this.exponent.toString()}))`}simplify(){let e=this.base.simplify(),t=this.exponent.simplify();if(t instanceof V){if(1==t.constant)return e;if(0==t.constant)return new V(1)}return e instanceof V&&1==e.constant?new V(1):e instanceof ut?new ut(e.base,new J(e.exponent,t)).simplify():new ut(e,t)}}class _t extends Xe{constructor(e,t){super(),this.dividend=e,this.divisor=t,this.childOperations.push(this.dividend,this.divisor)}evaluate(e){return this.dividend.evaluate(e)/this.divisor.evaluate(e)}derive(e){return new _t(new Vn(new J(this.dividend.derive(e),this.divisor),new J(this.dividend,this.divisor.derive(e))),new ut(this.divisor,new V(2)))}toString(){return`(${this.dividend.toString()} / ${this.divisor.toString()})`}simplify(){const e=this.dividend.simplify(),t=this.divisor.simplify();if(t instanceof V&&1==t.constant)return e;if(e instanceof V&&0==e.constant)return new V(0);if(e instanceof _t)return new _t(e.dividend,new J(e.divisor,t)).simplify();if(t instanceof _t)return new _t(new J(e,t.divisor),t.dividend).simplify();if(t instanceof sn&&e instanceof J){const r=e.factors;for(let i=0;i<r.length;i++){const o=r[i];if(o instanceof sn&&o.key===t.key)return r.splice(i,1),new J(...r).simplify();if(o instanceof ut&&o.base instanceof sn&&o.base.key===t.key)return r.splice(i,1,new ut(o.base,new Vn(o.exponent,new V(1)))),new J(...r).simplify()}}if(t instanceof ut&&t.base instanceof sn&&e instanceof J){const r=e.factors;for(let i=0;i<r.length;i++){const o=r[i];if(o instanceof sn&&o.key===t.base.key)return r.splice(i,1,new ut(t.base,new Vn(new V(1),t.exponent))),new J(...r).simplify();if(o instanceof ut&&o.base instanceof sn&&o.base.key===t.base.key)return r.splice(i,1,new ut(o.base,new Vn(o.exponent,t.exponent))),new J(...r).simplify()}}return new _t(e,t)}}class J extends Xe{constructor(...e){super(),this._factors=e,this.childOperations.push(...e)}evaluate(e){let t=1;for(let r of this._factors)t*=r.evaluate(e);return t}derive(e){let t=[];for(let r=0;r<this._factors.length;r++){let i=this._factors.map((o,s)=>s==r?o.derive(e):o);t.push(new J(...i))}return new It(...t)}get factors(){return this._factors.slice()}toString(){if(0==this._factors.length)return"1";{let e=`(${this._factors[0].toString()}`;for(let t=1;t<this._factors.length;t++)e+=` * ${this._factors[t].toString()}`;return e+=")",e}}simplify(){let e=1,t=this._factors.map(i=>i.simplify()).filter(i=>!(i instanceof V&&(e*=i.constant,1)));if(1!==e&&(t=[new V(e),...t]),Iv(t,i=>i instanceof V&&0==i.constant))return new V(0);if(0===t.length)return new V(1);if(1===t.length)return t[0];for(let i=0;i<t.length;i++){const o=t[i];if(o instanceof _t)return t.splice(i,1,o.dividend),new _t(new J(...t),o.divisor).simplify()}let r=[];for(let i of t)i instanceof J?r.push(...i._factors):r.push(i);return r.length!==t.length?new J(...r).simplify():new J(...t)}}class Vn extends Xe{constructor(e,t){super(),this.minuend=e,this.subtrahend=t,this.childOperations.push(this.minuend,this.subtrahend)}evaluate(e){return this.minuend.evaluate(e)-this.subtrahend.evaluate(e)}derive(e){return new Vn(this.minuend.derive(e),this.subtrahend.derive(e))}toString(){return`(${this.minuend.toString()} - ${this.subtrahend.toString()})`}simplify(){let e=this.minuend.simplify(),t=this.subtrahend.simplify();if(t instanceof V){if(0==t.constant)return e;if(e instanceof V)return new V(e.constant-t.constant).simplify()}return e instanceof V&&0==e.constant?new J(new V(-1),t).simplify():e instanceof It?new It(...e.summands,new J(new V(-1),t)).simplify():t instanceof It?new It(e,new It(...t.summands.map(r=>new J(new V(-1),r)))).simplify():new Vn(e,t)}}class Yc extends Xe{constructor(e,t){super(),this.value=e,this.modulo=t,this.childOperations.push(this.value,this.modulo)}evaluate(e){return this.value.evaluate(e)%this.modulo.evaluate(e)}derive(){throw"not implemented yet"}toString(){return`(${this.value.toString()} % ${this.modulo.toString()})`}simplify(){return new Yc(this.value.simplify(),this.modulo.simplify())}}class Qc extends He{evaluate(e){return Math.cos(this.operation.evaluate(e))}derive(e){return new J(new V(-1),this.operation.derive(e),new Fv(this.operation))}constructor(e){super(e,"cos")}toString(){return`cos(${this.operation.toString()})`}}class Fv extends He{evaluate(e){return Math.sin(this.operation.evaluate(e))}derive(e){return new J(this.operation.derive(e),new Qc(this.operation))}constructor(e){super(e,"sin")}}class nI extends He{evaluate(e){return Math.tan(this.operation.evaluate(e))}derive(e){return new _t(this.operation.derive(e),new ut(new Qc(this.operation),new V(2)))}constructor(e){super(e,"tan")}}class rI extends He{evaluate(e){return 1/Math.cos(this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"sec")}}class iI extends He{evaluate(e){return 1/Math.sin(this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"csc")}}class oI extends He{evaluate(e){return 1/Math.tan(this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"cot")}}class sI extends He{evaluate(e){return Math.asin(this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"asin")}}class aI extends He{evaluate(e){return Math.acos(this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"acos")}}class lI extends He{evaluate(e){return Math.atan(this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"atan")}}class uI extends He{evaluate(e){return Math.acos(1/this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"asec")}}class cI extends He{evaluate(e){return Math.asin(1/this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"acsc")}}class dI extends He{evaluate(e){return Math.PI/2-Math.atan(this.operation.evaluate(e))}derive(){throw"not implemented yet"}constructor(e){super(e,"acot")}}class Zc extends Xe{constructor(e,t){super(),this.base=e,this.exponent=t,this.childOperations.push(this.base,this.exponent)}evaluate(e){return this.base.evaluate(e)**(1/this.exponent.evaluate(e))}derive(e){return new ut(this.base,new _t(new V(1),this.exponent)).derive(e)}toString(){return`((${this.base.toString()}) ^ (1 / (${this.exponent.toString()})))`}simplify(){let e=this.base.simplify(),t=this.exponent.simplify();return t instanceof V&&1==t.constant?e:e instanceof V&&1==e.constant?new V(1):new Zc(e,t)}}class fI extends V{constructor(){super(Math.PI)}toString(){return"pi"}}class hI extends V{constructor(){super(Math.E)}toString(){return"e"}}class Bn extends He{constructor(e,t,r){super(r,e),this.funcKey=e,this.funcProvider=t}derive(e){return new J(this.operation.derive(e),new Bn(function pI(n){return n+"'"}(this.funcKey),this.funcProvider,this.operation))}evaluate(e){return this.func.evaluate(this.operation.evaluate(e),function tI(n){return JSON.parse(JSON.stringify(n))}(e))}get func(){let e=this.funcProvider(this.funcKey);if(!e)throw"Func doesn't exist!";return e}}class gI extends He{constructor(e){super(e,"abs")}derive(){throw"not implemented yet"}evaluate(e){return Math.abs(this.operation.evaluate(e))}}class mI extends He{constructor(e){super(e,"sgn")}derive(){throw"not implemented yet"}evaluate(e){return Math.sign(this.operation.evaluate(e))}}class kv extends He{evaluate(e){return Math.cosh(this.operation.evaluate(e))}derive(e){return new J(this.operation.derive(e),new Nv(this.operation))}constructor(e){super(e,"cosh")}}class Nv extends He{evaluate(e){return Math.sinh(this.operation.evaluate(e))}derive(e){return new J(this.operation.derive(e),new kv(this.operation))}constructor(e){super(e,"sinh")}}const Rv=[["^",(n,e)=>new ut(n,e)]],Lv=[["*",(n,e)=>new J(n,e)],["/",(n,e)=>new _t(n,e)],["%",(n,e)=>new Yc(n,e)]],Vv=[["+",(n,e)=>new It(n,e)],["-",(n,e)=>new Vn(n,e)]],Bv=[...Rv,...Lv,...Vv],_I=Rv.map(n=>n[0]),vI=Lv.map(n=>n[0]),yI=Vv.map(n=>n[0]),Si=Bv.map(n=>n[0]),CI=[["sin",n=>new Fv(n)],["asin",n=>new sI(n)],["csc",n=>new iI(n)],["acsc",n=>new cI(n)],["cos",n=>new Qc(n)],["acos",n=>new aI(n)],["sec",n=>new rI(n)],["asec",n=>new uI(n)],["tan",n=>new nI(n)],["atan",n=>new lI(n)],["cot",n=>new oI(n)],["acot",n=>new dI(n)],["ln",n=>new Ca(n)],["sqrt",n=>new Zc(n,new V(2))],["abs",n=>new gI(n)],["sgn",n=>new mI(n)],["sinh",n=>new Nv(n)],["cosh",n=>new kv(n)]],bI=[["pi",()=>new fI],["e",()=>new hI]],Ao=[" ","\t","\r","\n"],nr=["(","["],ba=[")","]"],Da=[...nr,...ba],Hv=[...Ao,...Si,...Da],DI=[["**","^"],["\xb2","^2"],["\xb3","^3"]],wI=[["arcsin","asin"],["arccos","acos"],["arctan","atan"],["arcsec","asec"],["arccsc","acsc"],["arccot","acot"],["sign","sgn"]],MI=[["\u03c0","pi"]],Hn="syntax error";class jv{constructor(e,t){this.str=e,this.funcProvider=t}formatString(){if(!this.formattedString){this.formattedString=this.str.trim();for(let e of DI)this.formattedString=qS(this.formattedString,e[0],e[1])}return this.formattedString}splitString(){if(!this.stringSplit){if(!this.formattedString)throw"string not formatted yet";{this.stringSplit=[];let e="";for(let t=0;t<this.formattedString.length;t++){let r=!1,i=this.formattedString.charAt(t);(-1!==[...Si,...Ao,...Da].indexOf(i)||-1!==[...Si,...Da].indexOf(e)||Oo(e)&&!Oo(e+i))&&(r=!0),r&&""!==e&&(this.stringSplit.push(e),e=""),-1===Ao.indexOf(i)&&(e+=i)}""!=e&&this.stringSplit.push(e);for(let t=0;t<this.stringSplit.length-1;t++)t+1==this.stringSplit.length||Ke(nr,this.stringSplit[t])||Ke(ba,this.stringSplit[t+1])||Ke(nr,this.stringSplit[t+1])&&!Ke(ba,this.stringSplit[t])&&!Oo(this.stringSplit[t])||Ke(Si,this.stringSplit[t])||Ke(Si,this.stringSplit[t+1])||Oo(this.stringSplit[t+1])?"+"!=this.stringSplit[t]||0!=t&&!Ke(nr,this.stringSplit[t-1])?"-"==this.stringSplit[t]&&(0==t||Ke(nr,this.stringSplit[t-1]))&&this.stringSplit.splice(t,1,"-1","*"):(this.stringSplit.splice(t,1),t--):this.stringSplit.splice(t+1,0,"*")}}return this.stringSplit}parseToTree(){if(!this.parseTree){if(!this.stringSplit)throw"string not split yet";{let e=t=>{if(0==t.length)throw Hn;if(1==t.length){const r=t[0];if("string"==typeof r){if(!Ke(Hv,r))return{value:Av(r,MI)};throw Hn}return r}{let r=[...t];for(;Ke(r,...nr);){let o=qc(r,...nr),s=XS(r,nr,ba,o,Hn)+1,a=r.splice(o,s-o);r.splice(o,0,e(a.splice(1,s-o-2)))}let i=(o,s)=>"string"==typeof o&&"string"!=typeof s&&!Ke(Hv,o);for(;ZS(r,i);){let o=QS(r,i);if(o==r.length-1)throw Hn;let s=Av(r[o],wI),a=r[o+1];if(Ke(Da,a)||Ke(Si,a))throw Hn;r.splice(o,2,{value:s,first:e([a])})}for(let o of[_I,vI,yI])for(;Ke(r,...o);){let s=qc(r,...o);if(-1==s||0==s||s==r.length-1)throw Hn;{let a=r.splice(s-1,3),l={value:a[1],first:e([a[0]]),second:e([a[2]])};r.splice(s-1,0,l)}}if(1==r.length){let o=r[0];if("string"!=typeof o)return o}throw Hn}};this.parseTree=e(this.stringSplit)}}return this.parseTree}createOperation(){if(!this.operation){if(!this.parseTree)throw"tree not created yet";{let e=t=>{if(void 0!==t.first&&void 0!==t.second){for(let r of Bv)if(t.value===r[0])return r[1](e(t.first),e(t.second))}else{if(void 0!==t.first&&void 0===t.second){for(let r of CI)if(t.value===r[0])return r[1](e(t.first));return new Bn(t.value,this.funcProvider,e(t.first))}if(void 0===t.first&&void 0===t.second){if(Oo(t.value))return new V(Tv(t.value));for(let r of bI)if(t.value===r[0])return r[1]();return new sn(t.value)}}throw Hn};this.operation=e(this.parseTree)}}return this.operation}parse(){return this.formatString(),this.splitString(),this.parseToTree(),this.createOperation()}}const zv="couldn't split the function",Kc=["="];class Uv{constructor(e,t){this.str=e,this.funcProvider=t}splitString(){if(!this.funcOperation||!this.funcMetaData)if(va(this.str,...Kc)){const e=Pv(this.str,...Kc);let t=this.str.slice(0,e).trim(),r=this.str.slice(e+1,this.str.length);if(va(r,...Kc)||0===t.length)throw zv;if(this.funcOperation=r,"y"==t)this.funcMetaData={variable:"x"};else{let i=t.split(/(\(|\))/).map(o=>o.trim()).filter(o=>""!==o);if(4!==i.length||va(i[0],...Ao)||va(i[2],...Ao)||"("!=i[1]||")"!=i[3]||0===i[0].length||-1==="abcdefghijklmnopqrstuvwxyz_".indexOf(i[0].charAt(0).toLowerCase()))throw zv;this.funcMetaData={name:i[0],variable:i[2]}}}else this.funcOperation=this.str,this.funcMetaData={};return[this.funcMetaData,this.funcOperation]}parseOperation(){if(this.funcOperation&&this.funcMetaData){if(!this.func){let t=new jv(this.funcOperation,this.funcProvider).parse();this.func=new rn(t,this.funcMetaData.name,this.funcMetaData.variable)}return this.func}throw"func not split yet!"}parse(){return this.splitString(),this.parseOperation()}}class rr{constructor(){this.threePointsClickedEvent=new jt}get contextMenu(){return{elements:()=>[],additionalEvent:this.threePointsClickedEvent}}threePointsClicked(e){let t=e.target;t instanceof HTMLSpanElement&&(t=t.parentElement);let r=t.getBoundingClientRect();this.threePointsClickedEvent.emit([{x:r.x+r.width/2,y:r.y+r.height/2},e])}}function wa(n,e,t){n.openSnackbar(function EI(n,e){return 1!==e&&(n+="e"),0===e?`Keine ${n} gefunden.`:1===e?`Ein ${n} gefunden.`:`${e} ${n} gefunden.`}(e,t))}function Ma(n,e="Ein unerwarteter Fehler ist aufgetreten!"){n.openSnackbar(e,{color:"white",background:"#c44"})}function Gv(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(u){return void t(u)}a.done?e(l):Promise.resolve(l).then(r,i)}const{isArray:SI}=Array,{getPrototypeOf:II,prototype:OI,keys:AI}=Object;const{isArray:NI}=Array;function VI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function BI(...n){const e=function QC(n){return fe(Ja(n))?n.pop():void 0}(n),{args:t,keys:r}=function FI(n){if(1===n.length){const e=n[0];if(SI(e))return{args:e,keys:null};if(function kI(n){return n&&"object"==typeof n&&II(n)===OI}(e)){const t=AI(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n),i=new tt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;gr(t[c]).subscribe(new Fr(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?VI(r,a):a),o.complete())}))}});return e?i.pipe(function LI(n){return Za(e=>function RI(n,e){return NI(e)?n(...e):n(e)}(n,e))}(e)):i}let $v=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(M(Er),M(Kt))},n.\u0275dir=k({type:n}),n})(),Sr=(()=>{class n extends $v{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ot(n)))(r||n)}}(),n.\u0275dir=k({type:n,features:[U]}),n})();const wn=new Q("NgValueAccessor"),HI={provide:wn,useExisting:ie(()=>Ii),multi:!0};let Ii=(()=>{class n extends Sr{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ot(n)))(r||n)}}(),n.\u0275dir=k({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&E("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[de([HI]),U]}),n})();const jI={provide:wn,useExisting:ie(()=>Ne),multi:!0},UI=new Q("CompositionEventMode");let Ne=(()=>{class n extends $v{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zI(){const n=Tr()?Tr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(M(Er),M(Kt),M(UI,8))},n.\u0275dir=k({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&E("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[de([jI]),U]}),n})();function ir(n){return null==n||0===n.length}const Je=new Q("NgValidators"),or=new Q("NgAsyncValidators");function Fo(n){return null}function ty(n){return null!=n}function ny(n){const e=Hs(n)?el(n):n;return Dg(e),e}function ry(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function iy(n,e){return e.map(t=>t(n))}function oy(n){return n.map(e=>function $I(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xc(n){return null!=n?function sy(n){if(!n)return null;const e=n.filter(ty);return 0==e.length?null:function(t){return ry(iy(t,e))}}(oy(n)):null}function Jc(n){return null!=n?function ay(n){if(!n)return null;const e=n.filter(ty);return 0==e.length?null:function(t){return BI(iy(t,e).map(ny)).pipe(Za(ry))}}(oy(n)):null}function ly(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ed(n){return n?Array.isArray(n)?n:[n]:[]}function Ea(n,e){return Array.isArray(n)?n.includes(e):n===e}function dy(n,e){const t=ed(e);return ed(n).forEach(i=>{Ea(t,i)||t.push(i)}),t}function fy(n,e){return ed(e).filter(t=>!Ea(n,t))}class hy{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class sr extends hy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ct extends hy{get formDirective(){return null}get path(){return null}}let je=(()=>{class n extends class py{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(M(sr,2))},n.\u0275dir=k({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&js("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[U]}),n})();function ko(n,e){(function rd(n,e){const t=function uy(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ly(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function cy(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ly(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Sa(e._rawValidators,i),Sa(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function eO(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&my(n,e)})}(n,e),function nO(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tO(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&my(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JI(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Sa(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function my(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Oa(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const No="VALID",Aa="INVALID",Oi="PENDING",Ro="DISABLED";function ad(n){return(ud(n)?n.validators:n)||null}function yy(n){return Array.isArray(n)?Xc(n):n||null}function ld(n,e){return(ud(e)?e.asyncValidators:n)||null}function Cy(n){return Array.isArray(n)?Jc(n):n||null}function ud(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const cd=n=>n instanceof fd;function Dy(n){return(n=>n instanceof Ey)(n)?n.value:n.getRawValue()}function wy(n,e){const t=cd(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new q(1e3,"");if(!r[e])throw new q(1001,"")}function My(n,e){cd(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new q(1002,"")})}class dd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=yy(this._rawValidators),this._composedAsyncValidatorFn=Cy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===No}get invalid(){return this.status===Aa}get pending(){return this.status==Oi}get disabled(){return this.status===Ro}get enabled(){return this.status!==Ro}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=yy(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Cy(e)}addValidators(e){this.setValidators(dy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fy(e,this._rawAsyncValidators))}hasValidator(e){return Ea(this._rawValidators,e)}hasAsyncValidator(e){return Ea(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ro,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=No,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===No||this.status===Oi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ro:No}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oi,this._hasOwnPendingAsyncValidator=!0;const t=ny(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function sO(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=cd(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof lO)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Ro:this.errors?Aa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oi)?Oi:this._anyControlsHaveStatus(Aa)?Aa:No}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ud(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ey extends dd{constructor(e=null,t,r){super(ad(t),ld(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Oa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Oa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class fd extends dd{constructor(e,t,r){super(ad(t),ld(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){My(this,e),Object.keys(e).forEach(r=>{wy(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Dy(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class lO extends dd{constructor(e,t,r){super(ad(t),ld(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){My(this,e),e.forEach((r,i)=>{wy(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Dy(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const dO={provide:sr,useExisting:ie(()=>Re)},Py=(()=>Promise.resolve(null))();let Re=(()=>{class n extends sr{constructor(t,r,i,o){super(),this.control=new Ey,this._registered=!1,this.update=new xe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function od(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ne?t=o:function oO(n){return Object.getPrototypeOf(n.constructor)===Sr}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function id(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function Ta(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ko(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Py.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Py.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(M(ct,9),M(Je,10),M(or,10),M(wn,10))},n.\u0275dir=k({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[de([dO]),U,dn]}),n})();const hO={provide:wn,useExisting:ie(()=>Ot),multi:!0};let Ot=(()=>{class n extends Sr{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ot(n)))(r||n)}}(),n.\u0275dir=k({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&E("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[de([hO]),U]}),n})(),Sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=Sn({}),n})();const mO={provide:wn,useExisting:ie(()=>Fa),multi:!0};let Fa=(()=>{class n extends Sr{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ot(n)))(r||n)}}(),n.\u0275dir=k({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,r){1&t&&E("change",function(o){return r.onChange(o.target.value)})("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[de([mO]),U]}),n})();function Vy(n){return"number"==typeof n?n:parseFloat(n)}let Vo=(()=>{class n{constructor(){this._validator=Fo}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Fo,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=k({type:n,features:[dn]}),n})();const PO={provide:Je,useExisting:ie(()=>yd),multi:!0};let yd=(()=>{class n extends Vo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Vy(t),this.createValidator=t=>function Yv(n){return e=>{if(ir(e.value)||ir(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ot(n)))(r||n)}}(),n.\u0275dir=k({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Nn("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[de([PO]),U]}),n})();const SO={provide:Je,useExisting:ie(()=>ka),multi:!0};let ka=(()=>{class n extends Vo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Vy(t),this.createValidator=t=>function qv(n){return e=>{if(ir(e.value)||ir(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ot(n)))(r||n)}}(),n.\u0275dir=k({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Nn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[de([SO]),U]}),n})(),RO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=Sn({imports:[[Sy]]}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n}),n.\u0275inj=Sn({imports:[RO]}),n})();const VO=function(n){return{background:n}};let BO=(()=>{class n{constructor(t){this.ref=t,this.r=0,this.g=0,this.b=0}get data(){return this._data}set data(t){var r;this._data=t;let i=null===(r=this.data)||void 0===r?void 0:r.getter();i&&(this.r=i.r,this.g=i.g,this.b=i.b),this.ref.detectChanges()}get colorStr(){return this.data?gt(this.data.getter()):""}input(){var t,r;null===(t=this.data)||void 0===t||t.setter({r:this.r<0?0:this.r>255?255:this.r,g:this.g<0?0:this.g>255?255:this.g,b:this.b<0?0:this.b>255?255:this.b,a:null===(r=this.data)||void 0===r?void 0:r.getter().a})}}return n.\u0275fac=function(t){return new(t||n)(M(V_))},n.\u0275cmp=Z({type:n,selectors:[["app-color-picker"]],decls:5,vars:6,consts:[[1,"wrapper"],[1,"preview",3,"ngStyle"],["type","number","title","Rot","min","0","max","255",1,"inp","r",3,"ngModel","ngModelChange","input"],["type","number","title","Gr\xfcn","min","0","max","255",1,"inp","g",3,"ngModel","ngModelChange","input"],["type","number","title","Blau","min","0","max","255",1,"inp","b",3,"ngModel","ngModelChange","input"]],template:function(t,r){1&t&&(h(0,"div",0),me(1,"div",1),h(2,"input",2),E("ngModelChange",function(o){return r.r=o})("input",function(){return r.input()}),p(),h(3,"input",3),E("ngModelChange",function(o){return r.g=o})("input",function(){return r.input()}),p(),h(4,"input",4),E("ngModelChange",function(o){return r.b=o})("input",function(){return r.input()}),p(),p()),2&t&&(w(1),x("ngStyle",Fe(4,VO,r.colorStr)),w(1),x("ngModel",r.r),w(1),x("ngModel",r.g),w(1),x("ngModel",r.b))},directives:[Pi,ka,yd,Ot,Ne,je,Re],styles:['.wrapper[_ngcontent-%COMP%]{--width: 100px;width:var(--width)}.preview[_ngcontent-%COMP%]{--size: 40px;width:var(--width);height:var(--size);border-radius:5px}.inp[_ngcontent-%COMP%]{--padding: 5px;--border: 1px;width:calc(var(--width) - 2 * (var(--padding) + var(--border)));padding:var(--padding);margin-top:7px;border-radius:5px;border:var(--border) solid #ddd;transition:all .1s ease-in-out;outline:none;font-size:10pt;font-family:Segoe UI,Calibri,"sans-serif"}.inp[_ngcontent-%COMP%]:hover{border:var(--border) solid #999}.inp[_ngcontent-%COMP%]:active, .inp[_ngcontent-%COMP%]:focus{border:var(--border) solid #555}']}),n})();const HO=["content"],jO=["wrapper"],zO=function(n,e){return{"top.px":n,"left.px":e}};let UO=(()=>{class n{constructor(){this.position={x:0,y:0}}ngOnInit(){}ngAfterViewInit(){this.content.createComponent(this.component).instance.data=this.data}getBoundingClientRect(){return this.wrapper.nativeElement.getBoundingClientRect()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-hover-menu"]],viewQuery:function(t,r){if(1&t&&(Pt(HO,5,ze),Pt(jO,5)),2&t){let i;Tt(i=St())&&(r.content=i.first),Tt(i=St())&&(r.wrapper=i.first)}},decls:4,vars:4,consts:[[1,"wrapper",3,"ngStyle"],["wrapper",""],["content",""]],template:function(t,r){1&t&&(h(0,"div",0,1),me(2,"div",null,2),p()),2&t&&x("ngStyle",tc(1,zO,r.position.y,r.position.x))},directives:[Pi],styles:["@keyframes start{0%{transform:scale(0)}to{transform:scale(1)}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:white;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;animation:.1s start ease-in-out;z-index:1}"]}),n})(),GO=(()=>{class n{constructor(t){this.vc=t,this.hoverTimeMs=750,this.version=0,this.eventListenerStart=()=>{if(!this.hoverMenu){const r=++this.version;setTimeout(()=>{this.version===r&&this.openHoverMenu()},this.hoverTimeMs)}},this.eventListenerEnd=r=>{if(this.hoverMenu&&r instanceof MouseEvent){let i={x:r.clientX,y:r.clientY};(!Io(i,this.element.getBoundingClientRect())||r.target==this.element)&&(!Io(i,this.hoverMenu.instance.getBoundingClientRect())||r.target==this.hoverMenu.location.nativeElement)&&(this.hoverMenu.destroy(),this.hoverMenu=void 0)}this.version=0},this.element=t.element.nativeElement,this.element.addEventListener("mouseover",this.eventListenerStart),this.element.addEventListener("mousemove",this.eventListenerStart),this.element.addEventListener("mouseleave",this.eventListenerEnd),this.element.addEventListener("click",()=>{this.version=0})}openHoverMenu(){if(!this.hoverMenu){this.hoverMenu=this.vc.createComponent(UO),this.hoverMenu.instance.component=this.appHoverMenu.component,this.hoverMenu.instance.data=this.appHoverMenu.data;let t=this.element.getBoundingClientRect();this.hoverMenu.instance.position={x:t.x+t.width/2,y:t.y+t.height/2},this.hoverMenu.location.nativeElement.addEventListener("mouseleave",this.eventListenerEnd)}}}return n.\u0275fac=function(t){return new(t||n)(M(ze))},n.\u0275dir=k({type:n,selectors:[["","appHoverMenu",""]],inputs:{appHoverMenu:"appHoverMenu"}}),n})();const $O=function(n,e){return{"border-color":n,background:e}},WO=function(n){return{notVisible:n}};let Ir=(()=>{class n{constructor(){this.color=mt,this.colorChange=new xe,this.visible=!0,this.visibleChange=new xe}ngOnInit(){}changeVisibility(){this.visible=!this.visible,this.visibleChange.emit(this.visible)}get colorStr(){return gt(this.color)}get hoverMenu(){return{component:BO,data:{getter:()=>this.color,setter:t=>{this.color=t,this.colorChange.emit(t)}}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-color-circle"]],inputs:{color:"color",visible:"visible"},outputs:{colorChange:"colorChange",visibleChange:"visibleChange"},decls:1,vars:8,consts:[[1,"colorPicker",3,"appHoverMenu","ngStyle","ngClass","click"]],template:function(t,r){1&t&&(h(0,"div",0),E("click",function(){return r.changeVisibility()}),p()),2&t&&x("appHoverMenu",r.hoverMenu)("ngStyle",tc(3,$O,r.colorStr,r.colorStr))("ngClass",Fe(6,WO,!r.visible))},directives:[GO,Pi,en],styles:[".colorPicker[_ngcontent-%COMP%]{--buttonSize: 46px;--borderThickness: 2px;float:left;width:calc(var(--buttonSize) - 2 * var(--borderThickness));height:calc(var(--buttonSize) - 2 * var(--borderThickness));border:var(--borderThickness) solid;border-radius:100%}.colorPicker.notVisible[_ngcontent-%COMP%]{background:transparent!important}"]}),n})(),qO=(()=>{class n extends rr{constructor(){super(),this.canvasElement=new B({x:0,y:0})}get name(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-point-formula"]],features:[U],decls:15,vars:7,consts:[[1,"wrapper"],[3,"color","visible","colorChange","visibleChange"],[1,"paragraph"],["type","number","step","any",1,"input",3,"disabled","ngModel","ngModelChange"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"app-color-circle",1),E("colorChange",function(o){return r.canvasElement.color=o})("visibleChange",function(o){return r.canvasElement.visible=o}),p(),h(2,"div"),h(3,"p",2),me(4,"span"),C(5),h(6,"span"),h(7,"input",3),E("ngModelChange",function(o){return r.canvasElement.x=o}),p(),p(),C(8," | "),h(9,"span"),h(10,"input",3),E("ngModelChange",function(o){return r.canvasElement.y=o}),p(),p(),C(11," ) "),p(),p(),h(12,"button",4),E("click",function(o){return r.threePointsClicked(o)}),h(13,"span",5),C(14,"more_vert"),p(),p(),p()),2&t&&(w(1),x("color",r.canvasElement.color)("visible",r.canvasElement.visible),w(4),Cn(" ",r.name,"( "),w(2),x("disabled",r.canvasElement.dependent)("ngModel",r.canvasElement.x),w(3),x("disabled",r.canvasElement.dependent)("ngModel",r.canvasElement.y))},directives:[Ir,Ot,Ne,je,Re],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}']}),n})();class bd extends Pr{constructor(e){super(),this.removeListener=t=>{void 0!==t&&t.removeCanvasElements(this)},this.addDependency(...e)}addDependency(...e){for(let t of e)t.onRemove.addListener(this.removeListener)}}class Ai{}let YO=(()=>{class n extends Ai{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(t){this.dialogData.configuration.name=t,this.dialogData.configuration.label=t,this.dialogData.onChange.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-view-point-element"]],features:[U],decls:15,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths"],["title","Name","type","text",1,"input",3,"ngModel","ngModelChange"],["type","number","step","any",1,"input",3,"disabled","ngModel","ngModelChange"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"p",1),C(2,"Punkt bearbeiten"),p(),h(3,"p",2),me(4,"span"),h(5,"input",3),E("ngModelChange",function(o){return r.name=o}),p(),C(6," ( "),h(7,"span"),h(8,"input",4),E("ngModelChange",function(o){return r.dialogData.x=o}),p(),p(),C(9," | "),h(10,"span"),h(11,"input",4),E("ngModelChange",function(o){return r.dialogData.y=o}),p(),p(),C(12," ) "),p(),h(13,"button",5),E("click",function(){return r.dialog.close()}),C(14,"Schlie\xdfen"),p(),p()),2&t&&(w(5),x("ngModel",r.name),w(3),x("disabled",r.dialogData.dependent)("ngModel",r.dialogData.x),w(3),x("disabled",r.dialogData.dependent)("ngModel",r.dialogData.y))},directives:[Ne,je,Re,Ot],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}']}),n})();class B extends bd{constructor(e,t=mt,r=!1,i=[],o=!0,s=!0){super(i),this.dependent=r,this.componentType=qO,this.formulaDialogType=YO,this._stroke={r:100,g:100,b:100},this._strokeWidth=3,this._radius=5,this.selected=!1,this._x=null==e?void 0:e.x,this._y=null==e?void 0:e.y,this._color=t,this._visible=o,this.configuration.showLabel=s}get stroke(){return this._stroke}set stroke(e){this._stroke=e,this.onChange.emit(e)}get strokeWidth(){return this._strokeWidth}set strokeWidth(e){this._strokeWidth=e,this.onChange.emit(e)}get radius(){return this._radius}set radius(e){this._radius=e,this.onChange.emit(e)}get x(){return this._x}set x(e){this.dependent||(this._x=e,this.onChange.emit(e))}get y(){return this._y}set y(e){this.dependent||(this._y=e,this.onChange.emit(e))}set point(e){this.dependent||this.forceSetPoint(e)}forceSetPoint(e){this._x=null==e?void 0:e.x,this._y=null==e?void 0:e.y,this.onChange.emit(e)}get point(){if(void 0!==this.x&&void 0!==this.y)return{x:this.x,y:this.y}}draw(e){const r=this.point;void 0!==r&&Io(r,e.range,1.75*this.radius/e.zoom)&&((this.selected||-1!==e.selection.indexOf(this))&&e.drawCircle(r,1.75*this.radius/e.zoom,nn(this.color,.3)),e.drawCircle(r,this.radius/e.zoom,this.color,this.stroke,this.strokeWidth))}getDistance(e,t){const r=this.point;if(void 0!==r)return Math.sqrt((r.x-e.x)**2+(r.y-e.y)**2)-this.radius/t.zoom}getPositionForLabel(e){const r=this.x,i=this.y;if(void 0!==r&&void 0!==i)return{x:r+15/e.zoom,y:i+15/e.zoom}}static getDefaultInstance(){return new B(void 0)}serialize(){return{data:{x:this.x,y:this.y,dependent:this.dependent},style:{color:this.color,stroke:this.stroke,size:this.radius,strokeWidth:this.strokeWidth,visible:this.visible}}}loadFrom(e,t,r){const i=t.data;this.forceSetPoint(void 0===i.x||void 0===i.y?void 0:{x:i.x,y:i.y}),this.dependent=i.dependent,this.loadStyle(t.style)}loadStyle(e){var t,r,i;this.color=e.color,this.visible=e.visible,this.radius=null!==(t=e.size)&&void 0!==t?t:this.radius,this.stroke=null!==(r=e.stroke)&&void 0!==r?r:this.stroke,this.strokeWidth=null!==(i=e.strokeWidth)&&void 0!==i?i:this.strokeWidth}}const QO=["componentNeighbor"],ZO=["filler"],KO=function(n){return{display:n}};let XO=(()=>{class n{constructor(){this.opened=!1}open(t,r){this.dialog=r,setTimeout(()=>{this.componentType&&this.componentNeighbor&&(this.component=this.componentNeighbor.createComponent(this.componentType),this.component.instance.dialogData=t,this.component.instance.dialog=r,this.opened=!0)})}close(){var t;if(this.component){const r=this.component.instance.dialogData;return null===(t=this.dialog)||void 0===t||t.destroy(),this.opened=!1,r}return null}onFillerClicked(t){this.filler&&this.filler.nativeElement===t.target&&this.close()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-dialog"]],viewQuery:function(t,r){if(1&t&&(Pt(QO,5,ze),Pt(ZO,5)),2&t){let i;Tt(i=St())&&(r.componentNeighbor=i.first),Tt(i=St())&&(r.filler=i.first)}},decls:5,vars:3,consts:[[1,"filler",3,"ngStyle","click"],["filler",""],[1,"wrapper"],[1,"componentNeighbor"],["componentNeighbor",""]],template:function(t,r){1&t&&(h(0,"div",0,1),E("click",function(o){return r.onFillerClicked(o)}),h(2,"div",2),me(3,"div",3,4),p(),p()),2&t&&x("ngStyle",Fe(1,KO,r.opened?"flex":"none"))},directives:[Pi],styles:["@keyframes animateFillerDialog{0%{background-color:#0000}to{background-color:#0007}}@keyframes animateWrapperDialog{0%{transform:scale(0)}to{transform:scale(1)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;background-color:#0007;align-items:center;justify-content:center;animation:animateFillerDialog .1s ease-in-out;overflow:auto}.wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border-radius:7px;animation:animateWrapperDialog .1s ease-in-out}.componentNeighbor[_ngcontent-%COMP%]{display:none}"]}),n})();class JO{constructor(e,t){this.dialogComponentRef=e,this.componentType=t,this.dialogComponent=this.dialogComponentRef.instance,this.dialogComponent.componentType=t}open(e){this.dialogComponent.open(e,this)}close(){return this.dialogComponent.close()}destroy(){this.dialogComponentRef.destroy()}}let Bo=(()=>{class n{constructor(){}createDialog(t){if(!this.rootViewContainerRef)return null;const r=this.rootViewContainerRef.createComponent(XO);return new JO(r,t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eA(n,e){if(1&n&&(h(0,"span"),C(1," von "),h(2,"span",7),C(3),p(),p()),2&n){const t=_e();w(3),ve(t.canvasElement.description[1]())}}let tA=(()=>{class n extends rr{constructor(t){super(),this.dialogService=t}get elementCountStr(){const t=this.canvasElement.size;return 0===t?"Keine Elemente":1===t?"Ein Element":`${t} Elemente`}}return n.\u0275fac=function(t){return new(t||n)(M(Bo))},n.\u0275cmp=Z({type:n,selectors:[["app-dependency-point-element-formula"]],features:[U],decls:10,vars:5,consts:[[1,"wrapper"],[3,"color","visible","colorChange","visibleChange"],[1,"paragraph"],[4,"ngIf"],[1,"elementCount"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"maths"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"app-color-circle",1),E("colorChange",function(o){return r.canvasElement.color=o})("visibleChange",function(o){return r.canvasElement.visible=o}),p(),h(2,"p",2),C(3),Ee(4,eA,4,1,"span",3),h(5,"span",4),C(6),p(),p(),h(7,"button",5),E("click",function(o){return r.threePointsClicked(o)}),h(8,"span",6),C(9,"more_vert"),p(),p(),p()),2&t&&(w(1),x("color",r.canvasElement.color)("visible",r.canvasElement.visible),w(2),Cn(" ",r.canvasElement.description[0],""),w(1),x("ngIf",void 0!==r.canvasElement.description[1]()),w(2),ve(r.elementCountStr))},directives:[Ir,Ti],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.elementCount[_ngcontent-%COMP%]{font-size:10pt;color:gray;margin-left:7px}']}),n})();function Dd(n){let e=[],t=[];return n instanceof sn&&e.push(n.key),n instanceof Bn&&t.push(n.func.name),n.childOperations.forEach(r=>{let i=Dd(r);e.push(...i.variableNames),t.push(...i.externalFuncNames)}),e=Ov(e),t=Ov(t),{variableNames:e,externalFuncNames:t}}function $y(n,e=!0){return Na(n,n,e)}function Na(n,e,t=!1){if(n instanceof rn)return Na(n.operation,e);{if(n instanceof Bn&&(n.funcKey===e.name||t&&Ra(n.funcKey)===Ra(e.name)))return!0;let r=!1;return n.childOperations.forEach(i=>{r=r||Na(i,e)}),n instanceof Bn&&(r=r||Na(n.func,e)),r}}function Mn(n,e){if(void 0===n)return!1;if(n instanceof rn)return Mn(n.operation,e);{if(n instanceof sn&&n.key===e)return!0;let t=!1;return n.childOperations.forEach(r=>{t=t||Mn(r,e)}),n instanceof Bn&&(t=t||Mn(n.func,e)),t}}function Ra(n){if(!n)return;let e=n;for(;e.endsWith("'");)e=e.substring(0,e.length-1);return e}function La(n){let e=0,t=n;for(;t.endsWith("'");)t=t.substring(0,t.length-1),e++;return e}function Ho(n,e,t,r,i,o=!1,s=!0,a=!1){const l=(t+r)/2,u=(r-t)/2;if(i<=0)try{const c=[],d=n.evaluate(t,e),f=n.evaluate(r,e);if(!a&&0===d&&(!o||n.evaluate(t-u,e)*n.evaluate(t+u,e)<0)&&c.push(t),0===f&&(!o||n.evaluate(r-u,e)*n.evaluate(r+u,e)<0)&&c.push(r),d*f<0&&isFinite(d)&&isFinite(f))if(s){const g=function rA(n){try{const e=n.derive();return $y(e),e}catch(e){return}}(n);(!g||d*g.evaluate(t,e)<=0&&f*g.evaluate(r,e)>=0)&&c.push(l)}else c.push(l);return c}catch(c){return[]}return[...Ho(n,e,t,l,i-1,o,s,a),...Ho(n,e,l,r,i-1,o,s,!0)]}function qy(n,e,t,r,i){return Ho(n.derive(),e,t,r,i,!0)}const jo=[10,10];class lA{constructor(e,t,r,i,o){this.ctx=e,this.transformations=t,this._variables=r,this.selection=i,this.config=o}transformPointFromCanvasToField(e){return{x:e.x/this.transformations.zoom-this.transformations.translateX,y:-e.y/this.transformations.zoom-this.transformations.translateY}}transformPointFromFieldToCanvas(e){return{x:(e.x+this.transformations.translateX)*this.transformations.zoom,y:-(e.y+this.transformations.translateY)*this.transformations.zoom}}transformRectFromCanvasToField(e){let t=this.transformPointFromCanvasToField(e);return{x:t.x,y:t.y,width:e.width/this.transformations.zoom,height:-e.height/this.transformations.zoom}}transformRectFromFieldToCanvas(e){let t=this.transformPointFromFieldToCanvas(e);return{x:t.x,y:t.y,width:e.width*this.transformations.zoom,height:-e.height*this.transformations.zoom}}get zoom(){return this.transformations.zoom}get step(){return 1/this.transformations.zoom}get range(){return this.transformRectFromCanvasToField({x:0,y:0,width:this.ctx.canvas.width,height:this.ctx.canvas.height})}get variables(){return Object.assign({},this._variables)}getRightColor(e){var t;return void 0===(null===(t=this.config)||void 0===t?void 0:t.transformColor)?e:this.config.transformColor(e)}drawPath(e,t,r,i,o){let s=e.map(a=>this.transformPointFromFieldToCanvas(a));if(this.ctx.beginPath(),this.ctx.lineWidth=t,this.ctx.strokeStyle=gt(this.getRightColor(r)),this.ctx.setLineDash(o?jo:[]),0!=s.length){let a=s[0];this.ctx.moveTo(a.x,a.y);for(let l=1;l<s.length;l++){let u=s[l];this.ctx.lineTo(u.x,u.y)}this.ctx.stroke(),i&&(this.ctx.fillStyle=gt(this.getRightColor(i)),this.ctx.fill()),this.ctx.closePath()}}drawLine(e,t,r,i,o){this.drawPath([e,t],r,i,void 0,o)}drawText(e,t,r=10,i="sans-serif",o="start",s="alphabetic",a="inherit",l={r:0,g:0,b:0},u=Dn,c=3,d,f){let g=this.transformPointFromFieldToCanvas(t),m=this.ctx;this.ctx.setLineDash(d?jo:[]);let _=[],y="";for(let T=0;T<e.length;T++)"_"===e.charAt(T)&&T+1<e.length&&!f?(_.push(y),y="",_.push(e.charAt(T+1)),T++):y+=e.charAt(T);""!==y&&_.push(y),m.textAlign=o,m.textBaseline=s,m.direction=a,m.fillStyle=gt(this.getRightColor(l)),m.strokeStyle=gt(this.getRightColor(u)),m.lineWidth=c;let v=g.x;for(let T=0;T<_.length;T++){const O=_[T];let I=g.y;T%2==0?m.font=`${r}px ${i}`:(m.font=`${3*r/4}px ${i}`,I+=r/3),m.strokeText(O,v,I),m.fillText(O,v,I),v+=m.measureText(O).width+1}}measureText(e,t=10,r="sans-serif",i="start",o="alphabetic",s="inherit",a=3){let l=this.ctx;return l.font=`${t}px ${r}`,l.textAlign=i,l.textBaseline=o,l.direction=s,l.lineWidth=a,l.measureText(e)}drawEllipse(e,t,r,i,o=mt,s=Dn,a=0,l){this.ctx.setLineDash(l?jo:[]),this.ctx.lineWidth=a,this.ctx.strokeStyle=gt(this.getRightColor(s)),this.ctx.fillStyle=gt(this.getRightColor(o));const u=this.transformPointFromFieldToCanvas(e),c=t*this.zoom,d=r*this.zoom;this.ctx.beginPath(),this.ctx.ellipse(u.x,u.y,c,d,i,0,2*Math.PI),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}drawCircle(e,t,r=mt,i=Dn,o=0,s){this.drawEllipse(e,t,t,0,r,i,o,s)}drawCircleSector(e,t,r=mt,i=Dn,o=0,s,a,l){this.ctx.lineWidth=o,this.ctx.strokeStyle=gt(this.getRightColor(i)),this.ctx.fillStyle=gt(this.getRightColor(r));const u=this.transformPointFromFieldToCanvas(e),c=t*this.zoom;this.ctx.setLineDash(l?jo:[]),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(u.x,u.y),this.ctx.arc(u.x,u.y,c,s,a),this.ctx.lineTo(u.x,u.y),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}drawRect(e,t=mt,r=Dn,i=0,o){this.ctx.setLineDash(o?jo:[]),this.ctx.lineWidth=i,this.ctx.strokeStyle=gt(this.getRightColor(r)),this.ctx.fillStyle=gt(this.getRightColor(t));const s=this.transformRectFromFieldToCanvas(e);this.ctx.fillRect(s.x,s.y,s.width,s.height)}}class uA extends wv{draw(e){var t,r,i,o,s;if(void 0===(null===(t=e.config)||void 0===t?void 0:t.showGrid)||e.config.showGrid){const a=on(e.range),l=99/e.zoom,u=2,c=Math.round(Math.log(l)/Math.log(u)+.5);let d=Math.round(l/u**c+.5)*u**c;if(0==d)return;const f=null===(i=null===(r=e.config)||void 0===r?void 0:r.showNumbers)||void 0===i||i,g=15/e.zoom,m=Sv(a.y+g,-g,a.y+a.height-g),_=m==a.y+g,y=Sv(a.x+g,-g,a.x+a.width-g),b=y==a.x+g,v=15,T="sans-serif",O=null!==(s=null===(o=e.config)||void 0===o?void 0:o.gridColor)&&void 0!==s?s:{r:100,g:100,b:100};for(let I=a.x-a.x%(d/u);I<a.x+a.width;I+=d/u){let De=I%d==0;if(e.drawLine({x:I,y:a.y},{x:I,y:a.y+a.height},0===I?3:De?1:.5,O),0===I){const Ve=15/e.zoom,vt=.5/e.zoom;e.drawPath([{x:I+vt,y:a.y+a.height+3/e.zoom},{x:I-Ve/4+vt,y:a.y+a.height-Ve},{x:I+Ve/4+vt,y:a.y+a.height-Ve}],0,O,O)}else De&&f&&e.drawText(I.toLocaleString(),{x:I,y:m},v,T,"center",_?"bottom":"top")}for(let I=a.y-a.y%(d/u);I<a.y+a.height;I+=d/u){let De=I%d==0;if(e.drawLine({x:a.x,y:I},{x:a.x+a.width,y:I},0===I?3:De?1:.5,O),0===I){const Ve=15/e.zoom,vt=.5/e.zoom;e.drawPath([{x:a.x+a.width+3/e.zoom,y:I+vt},{x:a.x+a.width-Ve,y:I-Ve/4+vt},{x:a.x+a.width-Ve,y:I+Ve/4+vt}],0,O,O)}else De&&f&&e.drawText(I.toLocaleString(),{x:y,y:I},v,T,b?"left":"right","middle")}a.y<=-g&&a.y+a.height>=-g&&a.x<=-g&&a.x+a.width>=-g&&f&&e.drawText("0",{x:-g,y:-g},v,T,"right","top")}}}class wd{constructor(...e){this.dict=e}getItem(e){for(let t of this.dict)if(t[0]===e)return t[1]}setItem(e,t){for(let r=0;r<this.dict.length;r++)if(this.dict[r][0]===e)return void(this.dict[r][1]=t);this.dict.push([e,t])}delItem(e){const t=this.indexOfKey(e);return t>=0&&(this.dict.splice(t,1),!0)}hasKey(e){for(let t of this.dict)if(t[0]===e)return!0;return!1}indexOfKey(e){for(let t=0;t<this.dict.length;t++)if(this.dict[t][0]===e)return t;return-1}get keys(){return this.dict.map(e=>e[0])}get values(){return this.dict.map(e=>e[1])}empty(){this.dict=[]}get size(){return this.dict.length}}let cA=(()=>{class n extends rr{constructor(){super(),this.min=-5,this.max=5,this._canvasElement=new ar("",0)}ngOnInit(){}set canvasElement(t){this._canvasElement=t,t.onChange.addListener(()=>{this.setMinMax(this.canvasElement.value)})}get canvasElement(){return this._canvasElement}setMinMax(t){this.min=Math.min(t,this.min),this.max=Math.max(t,this.max)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-variable-formula"]],features:[U],decls:8,vars:5,consts:[[1,"text"],[1,"span"],["type","number","step","any",1,"input",3,"ngModel","ngModelChange"],[1,"iconButton","floatRight",3,"click"],[1,"material-symbols-outlined"],["type","range","step","any",1,"slider",3,"ngModel","min","max","ngModelChange"]],template:function(t,r){1&t&&(h(0,"span",0),C(1),p(),h(2,"span",1),h(3,"input",2),E("ngModelChange",function(o){return r.canvasElement.value=o}),p(),p(),h(4,"button",3),E("click",function(o){return r.threePointsClicked(o)}),h(5,"span",4),C(6,"more_vert"),p(),p(),h(7,"input",5),E("ngModelChange",function(o){return r.canvasElement.value=o}),p()),2&t&&(w(1),Cn("",r.canvasElement.key," = "),w(2),x("ngModel",r.canvasElement.value),w(4),x("ngModel",r.canvasElement.value)("min",r.min)("max",r.max))},directives:[Ot,Ne,je,Re,Fa],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.text[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{height:30px;font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.text[_ngcontent-%COMP%]{user-select:none}.span[_ngcontent-%COMP%]{--padding: 7px;--border: 1px;display:inline-flex;overflow:hidden;right:0;margin-right:0;padding-right:calc(2 * (var(--padding) + var(--border)))}.input[_ngcontent-%COMP%]{width:200px}.slider[_ngcontent-%COMP%]{width:100%;margin-top:16px}']}),n})();class ar extends Pr{constructor(e,t){super(),this.componentType=cA,this.formulaDialogType=void 0,this._key=e,this._value=t,this.visible=!1}draw(){}get value(){return this._value}set value(e){this._value=e,this.onChange.emit(e)}get key(){return this._key}set key(e){this._key=e,this.onChange.emit(e)}static getDefaultInstance(){return new ar("",0)}serialize(){return{data:{value:this.value,key:this.key},style:{color:this.color,visible:this.visible}}}loadFrom(e,t){const r=t.data;this.color=t.style.color,this.visible=t.style.visible,this.key=r.key,this.value=r.value}}class dA{constructor(){this._ts=[],this.onSelectionChanged=new jt}empty(){const e=this._ts;this._ts=[],this.onSelectionChanged.emit(e)}set(e){this._ts=void 0!==e?[e]:[],this.onSelectionChanged.emit(e)}add(e){return void 0!==e&&!this.contains(e)&&(this._ts.push(e),this.onSelectionChanged.emit(e),!0)}remove(e){if(void 0===e)return!1;const t=this._ts.indexOf(e);return t>=0&&(this._ts.splice(t,1),this.onSelectionChanged.emit(e),!0)}contains(e){return void 0===e||-1!==this._ts.indexOf(e)}alternate(e){return void 0!==e&&(this.contains(e)?(this.remove(e),!1):(this.add(e),!0))}toArray(){return this._ts.slice()}get size(){return this._ts.length}}const fA=[{r:18,g:128,b:234},{r:214,g:78,b:78},{r:78,g:194,b:98},{r:88,g:88,b:224},{r:255,g:148,b:148},{r:255,g:234,b:38},{r:224,g:48,b:224},{r:48,g:224,b:224},{r:227,g:131,b:30},{r:180,g:180,b:30},{r:113,g:35,b:103}];class jn extends class hA{}{pointerMove(e,t,r,i,o){e.translateX+=(i.x-r.x)/o.pointerCount,e.translateY+=(i.y-r.y)/o.pointerCount}click(e,t,r,i){e.setSelection(r,!i.ctrlKey)}}function Va(n,e){if(void 0!==n&&void 0!==e){const t=e.y-n.y,r=n.x-e.x;return{a:t,b:r,c:t*n.x+r*n.y}}}function Md(n){if(void 0!==n&&(0!==n.a||0!==n.b))return 0===n.a?[{x:0,y:n.c/n.b},{x:1,y:n.c/n.b}]:[{x:n.c/n.a,y:0},{x:(n.c-n.b)/n.a,y:1}]}function Ed(n,e){const t=n.b,r=-n.a;return{a:t,b:r,c:t*e.x+r*e.y}}function zo(n,e){if(void 0!==n&&void 0!==e)return{x:(n.x+e.x)/2,y:(n.y+e.y)/2}}function xd(n,e){var t;const r=Va(n,e);return void 0===r||void 0===n||void 0===e?[void 0,void 0]:null!==(t=Md(Ed(r,zo(n,e))))&&void 0!==t?t:[void 0,void 0]}function Yy(n,e,t){if(void 0===n||void 0===e||void 0===t)return[[void 0,void 0],[void 0,void 0]];const i=zo(n,e),o=Td(e,t,i,tr(i,n));return[[n,o[0]],[n,o[1]]]}function Fi(n,e){const t=n.b*e.a-n.a*e.b;if(0===t)return;const i=(n.c*e.a-n.a*e.c)/t;return{y:i,x:0!==n.a?(n.c-n.b*i)/n.a:(e.c-e.b*i)/e.a}}function Ba(n,e,t){if(0===n.a){if(0===n.b)return[void 0,void 0];const u=Ba({a:n.b,b:n.a,c:n.c},{x:e.y,y:e.x},t);return[void 0===u[0]?void 0:{x:u[0].y,y:u[0].x},void 0===u[1]?void 0:{x:u[1].y,y:u[1].x}]}const r=(n.b/n.a)**2+1,i=-2*n.c*n.b/n.a**2-2*e.y+2*n.b*e.x/n.a,s=i**2-4*r*(n.c**2/n.a**2+e.x**2+e.y**2-t**2-2*n.c*e.x/n.a);if(s<0)return[void 0,void 0];if(0===s){const a=-i/(2*r);return[{x:(n.c-n.b*a)/n.a,y:a},void 0]}{const a=(-i-Math.sqrt(s))/(2*r),l=(-i+Math.sqrt(s))/(2*r);return[{x:(n.c-n.b*a)/n.a,y:a},{x:(n.c-n.b*l)/n.a,y:l}]}}function Td(n,e,t,r){const i=_=>{const y=e**2-_**2;return y<0?[void 0,void 0]:0===y?[{x:0,y:_},void 0]:[{x:Math.sqrt(y),y:_},{x:-Math.sqrt(y),y:_}]},o=_=>void 0===_?Number.MAX_VALUE:Math.abs((_.x-t.x)**2+(_.y-t.y)**2-r*r);if(0!==n.x||0!==n.y)return Td({x:0,y:0},e,{x:t.x-n.x,y:t.y-n.y},r).map(y=>{if(void 0!==y)return{x:y.x+n.x,y:y.y+n.y}});const s=t.x,a=t.y,l=r*r-e*e-s*s-a*a,u=s*s*4+a*a*4,c=4*l*a,f=c**2-4*u*(s*s*-4*(e*e)+l*l);if(0===u||f<0)return[void 0,void 0];if(0===f)return[i(-c/(2*u)).sort((b,v)=>o(b)-o(v))[0],void 0];const m=[...i((-c+Math.sqrt(f))/(2*u)),...i((-c-Math.sqrt(f))/(2*u))].sort((_,y)=>o(_)-o(y));return[m[0],m[1]]}function lr(n,e){return Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2)}let vA=(()=>{class n extends Ai{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(t){this.dialogData.configuration.name=t,this.dialogData.configuration.label=t,this.dialogData.onChange.emit(t)}get abcForm(){const t=this.dialogData.getABCFormLine();if(void 0===t)return"kann nicht konstruiert werden";const r=100,i=Math.round(t.a*r)/r,o=Math.round(t.b*r)/r,s=Math.round(t.c*r)/r;return`${i.toLocaleString()} \xb7 x + ${o.toLocaleString()} \xb7 y = ${s.toLocaleString()}`}get dashed(){return!0===this.dialogData.configuration.dashed}set dashed(t){this.dialogData.configuration.dashed=t,this.dialogData.onChange.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-view-abstract-line-element"]],features:[U],decls:16,vars:3,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModel","ngModelChange"],[1,"paragraph","maths","centered"],[1,"dashedDiv"],["type","checkbox","id","dash",3,"ngModel","ngModelChange"],["for","dash"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"p",1),C(2,"Allgemeine Geradenform:"),p(),h(3,"p",2),me(4,"span"),h(5,"input",3),E("ngModelChange",function(o){return r.name=o}),p(),C(6," : "),p(),h(7,"p",4),h(8,"span"),C(9),p(),p(),h(10,"div",5),h(11,"input",6),E("ngModelChange",function(o){return r.dashed=o}),p(),h(12,"label",7),C(13,"Gestrichelt anzeigen"),p(),p(),h(14,"button",8),E("click",function(){return r.dialog.close()}),C(15,"Schlie\xdfen"),p(),p()),2&t&&(w(5),x("ngModel",r.name),w(4),ve(r.abcForm),w(2),x("ngModel",r.dashed))},directives:[Ne,je,Re,Ii],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.dashedDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.dashedDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}']}),n})();class En extends bd{constructor(e,t,r={r:0,g:0,b:0},i,o=!0,s=3,a=!0){super(t),this.lineWidth=s,this.formulaDialogType=vA,this.configuration.formula=i,this.configuration.showLabel=a,this._color=r,this._visible=o,this._pointsProvider=e}get point1(){return this._pointsProvider()[0]}get point2(){return this._pointsProvider()[1]}get pointsProvider(){return this._pointsProvider}set pointsProvider(e){this._pointsProvider=e,this.onChange.emit(e)}getDistance(e,t){const r=this.getClosestPointOnLineToPoint(e);if(void 0!==r)return tr(e,r)}getABCFormLine(){return Va(this.point1,this.point2)}getClosestPointOnLineToPoint(e){const t=this.getABCFormLine();if(void 0!==t)return Fi(t,Ed(t,e))}}let Ha=(()=>{class n extends rr{constructor(){super(),this.canvasElement=new K(()=>[void 0,void 0],[],()=>({subType:"",els:[]}))}ngOnInit(){}get labelString(){const t=this.canvasElement.configuration.formula,r=this.canvasElement.configuration.label;return void 0!==r&&void 0!==t?t+" "+r:void 0!==r?r:void 0!==t?t:" "}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-geometric-formula"]],features:[U],decls:8,vars:3,consts:[[1,"wrapper"],[3,"color","visible","colorChange","visibleChange"],[1,"paragraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"app-color-circle",1),E("colorChange",function(o){return r.canvasElement.color=o})("visibleChange",function(o){return r.canvasElement.visible=o}),p(),h(2,"p",2),h(3,"span"),C(4),p(),p(),h(5,"button",3),E("click",function(o){return r.threePointsClicked(o)}),h(6,"span",4),C(7,"more_vert"),p(),p(),p()),2&t&&(w(1),x("color",r.canvasElement.color)("visible",r.canvasElement.visible),w(3),ve(r.labelString))},directives:[Ir],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;user-select:none;height:var(--buttonSize);line-height:var(--buttonSize)}']}),n})();class et extends En{constructor(e,t,r,i={r:0,g:0,b:0},o,s=!0,a=3,l=!0){super(e,t,i,o,s,a,l),this.dataProvider=r,this.componentType=Ha}draw(e){const t=this.pointsProvider(),r=t[0],i=t[1];void 0!==r&&void 0!==i&&!xv(r,i)&&(-1!==e.selection.indexOf(this)&&e.drawPath([r,i],this.lineWidth*$o,nn(this._color,Go),void 0,this.configuration.dashed),e.drawPath([r,i],this.lineWidth,this.color,void 0,this.configuration.dashed))}getDistance(e,t){const r=this.getClosestPointOnLineToPoint(e),i=this.point1,o=this.point2;if(void 0!==r&&void 0!==i&&void 0!==o)return Se(r.x,i.x,o.x)&&Se(r.y,i.y,o.y)?tr(e,r):Math.min(tr(i,r),tr(o,r))}getPositionForLabel(e){const t=e.zoom,i=zo(this.point1,this.point2);if(void 0!==i)return{x:i.x+15/t,y:i.y+15/t}}static getDefaultInstance(){return new et(()=>[void 0,void 0],[],()=>({p1:-1,p2:-1}))}serialize(){return{data:this.dataProvider(),style:{color:this.color,visible:this.visible,size:this.lineWidth}}}loadFrom(e,t){var r;this.color=t.style.color,this.visible=t.style.visible,this.lineWidth=null!==(r=t.style.size)&&void 0!==r?r:this.lineWidth;const i=t.data,o=e[i.p1],s=e[i.p2];o instanceof B&&s instanceof B&&(this.pointsProvider=()=>[o.point,s.point],this.dataProvider=()=>({p1:o.id,p2:s.id}),this.addDependency(o,s))}}function yA(n,e){if(1&n&&(h(0,"table"),h(1,"tr"),h(2,"td"),h(3,"p",6),C(4,"Radius:"),p(),p(),h(5,"td"),h(6,"p",7),h(7,"span"),C(8),p(),p(),p(),p(),h(9,"tr"),h(10,"td"),h(11,"p",6),C(12,"Mittelpunkt:"),p(),p(),h(13,"td"),h(14,"p",7),C(15),p(),p(),p(),p()),2&n){const t=_e();w(8),ve(t.radius),w(7),po("( ",t.pointX," | ",t.pointY," )")}}function CA(n,e){1&n&&(h(0,"div"),h(1,"p",7),C(2,"Kreis konnte nicht konstruiert werden."),p(),p())}let bA=(()=>{class n extends Ai{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(t){this.dialogData.configuration.name=t,this.dialogData.configuration.label=t,this.dialogData.onChange.emit(t)}isDefined(){return void 0!==this.dialogData.point&&void 0!==this.dialogData.radius}get radius(){return(Math.round(100*this.dialogData.radius)/100).toLocaleString()}get pointX(){return(Math.round(100*this.dialogData.point.x)/100).toLocaleString()}get pointY(){return(Math.round(100*this.dialogData.point.y)/100).toLocaleString()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-view-circle-element"]],features:[U],decls:11,vars:3,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModel","ngModelChange"],[4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"paragraph"],[1,"paragraph","maths","centered"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"p",1),C(2,"Kreis:"),p(),h(3,"p",2),me(4,"span"),h(5,"input",3),E("ngModelChange",function(o){return r.name=o}),p(),C(6," : "),p(),Ee(7,yA,16,3,"table",4),Ee(8,CA,3,0,"div",4),h(9,"button",5),E("click",function(){return r.dialog.close()}),C(10,"Schlie\xdfen"),p(),p()),2&t&&(w(5),x("ngModel",r.name),w(2),x("ngIf",r.isDefined()),w(1),x("ngIf",!r.isDefined()))},directives:[Ne,je,Re,Ti],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}td[_ngcontent-%COMP%]{padding-left:16px;padding-top:7px}']}),n})();class dt extends bd{constructor(e,t,r,i,o={r:0,g:0,b:0},s,a=!0,l=3,u=!0){super(r),this.dataProvider=i,this.lineWidth=l,this.componentType=Ha,this.formulaDialogType=bA,this.configuration.formula=s,this.configuration.showLabel=u,this._color=o,this._visible=a,this._pointProvider=e,this._radiusProvider=t}get point(){return this._pointProvider()}get pointProvider(){return this._pointProvider}set pointProvider(e){this._pointProvider=e,this.onChange.emit(e)}get radius(){return this._radiusProvider()}get radiusProvider(){return this._radiusProvider}set radiusProvider(e){this._radiusProvider=e,this.onChange.emit(e)}draw(e){const t=this.point,r=this.radius;void 0!==t&&void 0!==r&&(-1!==e.selection.indexOf(this)&&e.drawCircle(t,r,Dn,nn(this._color,Go),this.lineWidth*$o,this.configuration.dashed),e.drawCircle(t,r,Dn,this.color,this.lineWidth,this.configuration.dashed))}getPositionForLabel(e){const t=15/e.zoom,r=this.point,i=this.radius;if(void 0!==r&&void 0!==i)return{x:r.x+i/Math.SQRT2+t,y:r.y+i/Math.SQRT2+t}}getDistance(e,t){const r=this.point,i=this.radius;if(void 0!==r&&void 0!==i)return Math.abs(tr(r,e)-i)}static getDefaultInstance(){return new dt(()=>{},()=>{},[],()=>({center:-1,scdPoint:-1}))}serialize(){return{style:{color:this.color,size:this.lineWidth,visible:this.visible},data:this.dataProvider()}}loadFrom(e,t){var r;if(void 0!==t.data.center&&void 0!==t.data.scdPoint){const i=e[t.data.center],o=e[t.data.scdPoint];i instanceof B&&o instanceof B&&(this.pointProvider=()=>i.point,this.radiusProvider=()=>function $S(n,e){if(void 0!==n&&void 0!==e)return tr(n,e)}(i.point,o.point),this.dataProvider=()=>({center:i.id,scdPoint:o.id}),this.addDependency(i,o)),this.color=t.style.color,this.lineWidth=null!==(r=t.style.size)&&void 0!==r?r:this.lineWidth,this.visible=t.style.visible}}}const Qy="angle_bisector",Pd="bisection",Zy="connection",Ky="orthogonal",Xy="parallel",Sd="tangens";class K extends En{constructor(e,t,r,i={r:0,g:0,b:0},o,s=!0,a=3,l=!0){super(e,t,i,o,s,a,l),this.subTypeAndDataProvider=r,this.componentType=Ha}draw(e){const t=this.pointsProvider(),r=t[0],i=t[1];if(void 0!==r&&void 0!==i&&!xv(r,i)){const o=e.range,s=this.getABCFormLine();let a,l;0===s.a?(a={x:o.x,y:s.c/s.b},l={x:o.x+o.width,y:s.c/s.b}):s.a>s.b||0===s.b?(a={x:(s.c-s.b*o.y)/s.a,y:o.y},l={x:(s.c-s.b*(o.y+o.height))/s.a,y:o.y+o.height}):(a={x:o.x,y:(s.c-s.a*o.x)/s.b},l={x:o.x+o.width,y:(s.c-s.a*(o.x+o.width))/s.b}),-1!==e.selection.indexOf(this)&&e.drawPath([a,l],this.lineWidth*$o,nn(this._color,Go),void 0,this.configuration.dashed),e.drawPath([a,l],this.lineWidth,this.color,void 0,this.configuration.dashed)}}getPositionForLabel(e){const t=on(e.range),r=50/e.zoom,i=this.getABCFormLine();if(void 0===i)return;const o={x:t.x+r,y:t.y+r,width:t.width-2*r,height:t.height-2*r},s=Fi(i,{a:0,b:1,c:o.y}),a=Fi(i,{a:0,b:1,c:o.y+o.height}),l=void 0!==a&&Se(a.x,o.x,o.x+o.width),u=Fi(i,{a:1,b:0,c:o.x+o.width}),c=void 0!==s&&Se(s.x,o.x,o.x+o.width);return void 0!==u&&Se(u.y,o.y,o.y+o.height)?u:l&&c?a.x>s.x?a:s:l?a:c?s:void 0}static createAngleBisector(e,t,r){return new K(()=>function _A(n,e,t){const r=Va(e,n),i=Va(t,n);if(void 0===r||void 0===n||void 0===e||void 0===t||void 0===i)return[void 0,void 0];const o=e.y-n.y,s=t.y-n.y;let a=Math.sign(o*s);a=0===a?Math.sign(o+s):a;const l=a>0?0:1;return xd(Ba(r,n,1)[0],Ba(i,n,1)[l])}(e.point,t.point,r.point),[e,t,r],()=>({subType:Qy,els:[e.id,t.id,r.id]}),Ue,"Winkelhalbierende")}static createBisectionByPoints(e,t){return new K(()=>xd(e.point,t.point),[e,t],()=>({subType:Pd,els:[e.id,t.id]}),Ue,"Mittelsenkrechte")}static createBisectionByLineSegment(e){return new K(()=>function mA(n){return xd(n.point1,n.point2)}(e),[e],()=>({subType:Pd,els:[e.id]}),Ue,"Mittelsenkrechte")}static createConnection(e,t){return new K(()=>[e.point,t.point],[e,t],()=>({subType:Zy,els:[e.id,t.id]}),Ue,"Verbindungsgerade")}static createOrthogonal(e,t){return new K(()=>{var r;const i=t.getABCFormLine(),o=e.point;if(void 0===i||void 0===o)return[void 0,void 0];const s=Ed(i,o);if(t instanceof et){const a=Fi(i,s),l=t.point1,u=t.point2;if(void 0===a||void 0===l||void 0===u)return[void 0,void 0];if(!Se(a.x,l.x,u.x)||!Se(a.y,l.y,u.y))return[void 0,void 0]}return null!==(r=Md(s))&&void 0!==r?r:[void 0,void 0]},[e,t],()=>({subType:Ky,els:[e.id,t.id]}),Ue,"Lot")}static createParallel(e,t){return new K(()=>function pA(n,e){var t;return void 0===n||void 0===e?[void 0,void 0]:null!==(t=Md({a:n.a,b:n.b,c:n.a*e.x+n.b*e.y}))&&void 0!==t?t:[void 0,void 0]}(t.getABCFormLine(),e.point),[e,t],()=>({subType:Xy,els:[e.id,t.id]}),Ue,"Parallele")}static createTangens(e,t){return[new K(()=>Yy(e.point,t.point,t.radius)[0],[e,t],()=>({subType:Sd,els:[e.id,t.id],index:0}),Ue,"Tangente"),new K(()=>Yy(e.point,t.point,t.radius)[1],[e,t],()=>({subType:Sd,els:[e.id,t.id],index:1}),Ue,"Tangente")]}static getDefaultInstance(){return new K(()=>[void 0,void 0],[],()=>({subType:"",els:[]}))}serialize(){const e=this.subTypeAndDataProvider();return{data:{els:e.els,index:e.index},subType:e.subType,style:{color:this.color,size:this.lineWidth,visible:this.visible}}}loadFrom(e,t,r){var i,o;const s=t.data,a=[];for(let u of s.els){const c=e[u];void 0!==c&&this.addDependency(c),a.push(c)}let l;if(this.color=t.style.color,this.visible=t.style.visible,this.lineWidth=null!==(i=t.style.size)&&void 0!==i?i:this.lineWidth,t.subType===Qy&&3===a.length&&a[0]instanceof B&&a[1]instanceof B&&a[2]instanceof B)l=K.createAngleBisector(a[0],a[1],a[2]);else if(t.subType===Pd)if(1===a.length&&a[0]instanceof et)l=K.createBisectionByLineSegment(a[0]);else{if(!(2===a.length&&a[0]instanceof B&&a[1]instanceof B))return;l=K.createBisectionByPoints(a[0],a[1])}else if(t.subType===Zy&&2===a.length&&a[0]instanceof B&&a[1]instanceof B)l=K.createConnection(a[0],a[1]);else if(t.subType===Ky&&2===a.length&&a[0]instanceof B&&a[1]instanceof En)l=K.createOrthogonal(a[0],a[1]);else if(t.subType===Xy&&2===a.length&&a[0]instanceof B&&a[1]instanceof En)l=K.createParallel(a[0],a[1]);else{if(!(t.subType===Sd&&2===a.length&&a[0]instanceof B&&a[1]instanceof dt))return;l=K.createTangens(a[0],a[1])[null!==(o=s.index)&&void 0!==o?o:0]}this.pointsProvider=l.pointsProvider,this.subTypeAndDataProvider=l.subTypeAndDataProvider}}const DA=function(n){return{noMargin:n}};let ja=(()=>{class n{constructor(){this._from=0,this.fromChange=new xe,this._to=0,this.toChange=new xe,this.noMargin=!1}get fromForTemplate(){return this._from}set fromForTemplate(t){this._from=t,this.fromChange.emit(t)}set from(t){this._from=t}get toForTemplate(){return this._to}set toForTemplate(t){this._to=t,this.toChange.emit(t)}set to(t){this._to=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-interval"]],inputs:{from:"from",to:"to",noMargin:"noMargin"},outputs:{fromChange:"fromChange",toChange:"toChange"},decls:6,vars:5,consts:[[1,"maths",3,"ngClass"],["step","any","type","number","title","Von (einschlie\xdflich)",1,"input",3,"ngModel","ngModelChange"],["step","any","type","number","title","Bis (einschlie\xdflich)",1,"input",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(h(0,"p",0),C(1," ["),h(2,"input",1),E("ngModelChange",function(o){return r.fromForTemplate=o}),p(),C(3,"; "),h(4,"input",2),E("ngModelChange",function(o){return r.toForTemplate=o}),p(),C(5,"]\n"),p()),2&t&&(x("ngClass",Fe(3,DA,r.noMargin)),w(2),x("ngModel",r.fromForTemplate),w(2),x("ngModel",r.toForTemplate))},directives:[en,Ot,Ne,je,Re],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.noMargin[_ngcontent-%COMP%]{margin:0}']}),n})();function wA(n,e){if(1&n&&(h(0,"span"),C(1," von "),h(2,"span",12),C(3),p(),p()),2&n){const t=_e(2);w(3),ve(t.canvasElement.graph.func.name)}}function MA(n,e){if(1&n&&(h(0,"p",10),C(1,"Bestimmtes Integral "),Ee(2,wA,4,1,"span",11),p()),2&n){const t=_e();w(2),x("ngIf",t.canvasElement.graph.func.name)}}function EA(n,e){if(1&n&&(h(0,"span"),C(1," von "),h(2,"span",12),C(3),p(),p()),2&n){const t=_e(2);w(3),po("",t.canvasElement.graph.func.name,", ",t.canvasElement.secondGraph.func.name,"")}}function xA(n,e){if(1&n&&(h(0,"p",10),C(1,"Fl\xe4che zwischen Graphen "),Ee(2,EA,4,2,"span",11),p()),2&n){const t=_e();w(2),x("ngIf",t.canvasElement.graph.func.name&&t.canvasElement.secondGraph.func.name)}}let TA=(()=>{class n extends rr{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ot(n)))(r||n)}}(),n.\u0275cmp=Z({type:n,selectors:[["app-definite-integral-formula"]],features:[U],decls:17,vars:9,consts:[[1,"wrapper"],[3,"color","visible","colorChange","visibleChange"],["class","paragraph description",4,"ngIf"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","intervalParagraph"],[1,"interval",3,"noMargin","from","to","fromChange","toChange"],[1,"paragraph"],["min","0","step","any","type","number","title","Schrittweite der Integralbestimmung",1,"input",3,"ngModel","ngModelChange"],["title","N\xe4herungsweise bestimmter Wert",1,"maths"],[1,"paragraph","description"],[4,"ngIf"],[1,"maths"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"app-color-circle",1),E("colorChange",function(o){return r.canvasElement.color=o})("visibleChange",function(o){return r.canvasElement.visible=o}),p(),Ee(2,MA,3,1,"p",2),Ee(3,xA,3,1,"p",2),h(4,"button",3),E("click",function(o){return r.threePointsClicked(o)}),h(5,"span",4),C(6,"more_vert"),p(),p(),h(7,"p",5),C(8,"Intervall: "),h(9,"app-interval",6),E("fromChange",function(o){return r.canvasElement.from=o})("toChange",function(o){return r.canvasElement.to=o}),p(),p(),h(10,"p",7),C(11,"Schrittweite: "),h(12,"input",8),E("ngModelChange",function(o){return r.canvasElement.h=o}),p(),p(),h(13,"p",7),C(14,"\u2192 "),h(15,"span",9),C(16),p(),p(),p()),2&t&&(w(1),x("color",r.canvasElement.color)("visible",r.canvasElement.visible),w(1),x("ngIf",void 0===r.canvasElement.secondGraph),w(1),x("ngIf",void 0!==r.canvasElement.secondGraph),w(6),x("noMargin",!0)("from",r.canvasElement.from)("to",r.canvasElement.to),w(3),x("ngModel",r.canvasElement.h),w(4),ve(r.canvasElement.value.toLocaleString()))},directives:[Ir,Ti,ja,ka,Ot,Ne,je,Re],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.interval[_ngcontent-%COMP%]{display:inline-block}.intervalParagraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}.input[_ngcontent-%COMP%]{width:75px;display:unset}']}),n})();class Ni extends Pr{constructor(e,t,r,i,o=1,s=mt,a=Dn,l=0,u=!0){super(),this.componentType=TA,this.formulaDialogType=void 0,this._value=0,this.rects=[],this._h=1,this._graph=e,this._secondGraph=t,this._color=s,this._stroke=a,this._strokeWidth=l,this._visible=u,this._h=o,this._from=r,this._to=i}get value(){return this._value}set value(e){this._value=e}get graph(){return this._graph}set graph(e){this._graph=e,this.onChange.emit(e)}get secondGraph(){return this._secondGraph}set secondGraph(e){this._secondGraph=e,this.onChange.emit(e)}get stroke(){return this._stroke}set stroke(e){this._stroke=e,this.onChange.emit(e)}get strokeWidth(){return this._strokeWidth}set strokeWidth(e){this._strokeWidth=e,this.onChange.emit(e)}get h(){return this._h}set h(e){this._h=this.correctH(e),this.onChange.emit(this._h)}correctH(e){return e<0?e=-e:e||(e=1),e}get from(){return this._from}set from(e){this._from=Math.min(e,this.to),this.onChange.emit(this._from)}get to(){return this._to}set to(e){this._to=Math.max(e,this.from),this.onChange.emit(this._to)}reload(e){let t=[],r=0;const i=(a,l)=>{var u,c;if(0!==l)try{const d=this.graph.func.evaluate(a,e),f=null!==(c=null===(u=this.secondGraph)||void 0===u?void 0:u.func.evaluate(a,e))&&void 0!==c?c:0;isFinite(d)&&isFinite(f)&&(r+=l*(d-f),t.push({x:a,y:f,width:l,height:d-f}))}catch(d){}};let o=this.from;for(;o<=this.to-this.h;o+=this.h)i(o,this.h);const s=this.to-o;i(this.to-s,s),t=t.map(a=>on(a)),this.rects=t,this.value=r}draw(e){this.reload(e.variables);const t=-1!==e.selection.indexOf(this),r=e.range,i=nn(this.color,t?.5:.3);for(let o of this.rects){const s=GS(o,r);s&&e.drawRect(s,i,this.stroke)}}getDistance(e,t){return Math.min(...this.rects.map(r=>Ev(e,r)))}static getDefaultInstance(){return new Ni(void 0,void 0,0,0)}serialize(){return{data:{graph:this.graph.id,secondGraph:void 0===this.secondGraph?void 0:this.secondGraph.id,h:this.h,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}loadFrom(e,t){var r,i;if(void 0!==t.data.graph&&void 0!==t.data.h&&void 0!==t.data.from&&void 0!==t.data.to){const o=e[t.data.graph],s=e[t.data.secondGraph];o instanceof Le&&(this.graph=o),(s instanceof Le||void 0===s)&&(this.secondGraph=s),"number"==typeof t.data.h&&(this.h=t.data.h),"number"==typeof t.data.from&&(this.from=t.data.from),"number"==typeof t.data.to&&(this.to=t.data.to)}this.stroke=null!==(r=t.style.stroke)&&void 0!==r?r:Dn,this.strokeWidth=null!==(i=t.style.strokeWidth)&&void 0!==i?i:0,this.color=t.style.color,this.visible=t.style.visible}}const Ri="intersection_point",Id="middle_point";class ee extends B{constructor(e,t,r,i=mt,o,s=!0){super({x:0,y:0},i,!0,t,s),this.subTypeAndDataProvider=r,this._pointProvider=e}get x(){var e;return null===(e=this._pointProvider())||void 0===e?void 0:e.x}get y(){var e;return null===(e=this._pointProvider())||void 0===e?void 0:e.y}get pointProvider(){return this._pointProvider}set pointProvider(e){this._pointProvider=e,this.onChange.emit(e)}static createMiddlePointByPoints(e,t){return new ee(()=>zo(e.point,t.point),[e,t],()=>({subType:Id,el1:e.id,el2:t.id}),Ue)}static createMiddlePointByLineSegment(e){return new ee(()=>function gA(n){return zo(n.point1,n.point2)}(e),[e],()=>({subType:Id,el1:e.id}),Ue)}static createIntersectionPoints(e,t){if(e instanceof En&&t instanceof En)return[new ee(()=>{const r=e.getABCFormLine(),i=t.getABCFormLine();if(void 0===r||void 0===i)return;const o=Fi(r,i);if(void 0!==o){if(e instanceof et){const s=e.point1,a=e.point2;if(void 0===s||void 0===a||!Se(o.x,s.x,a.x)||!Se(o.y,s.y,a.y))return}if(t instanceof et){const s=t.point1,a=t.point2;if(void 0===s||void 0===a||!Se(o.x,s.x,a.x)||!Se(o.y,s.y,a.y))return}return o}},[e,t],()=>({subType:Ri,el1:e.id,el2:t.id}),Ue)];if(e instanceof dt&&t instanceof En){const r=e;e=t,t=r}if(e instanceof En&&t instanceof dt){const r=i=>()=>{const o=e.getABCFormLine(),s=t.point,a=t.radius;if(void 0===o||void 0===s||void 0===a)return;const l=Ba(o,s,a)[i];if(void 0!==l){if(e instanceof et){const u=e.point1,c=e.point2;return void 0===u||void 0===c?void 0:Se(l.x,u.x,c.x)&&Se(l.y,u.y,c.y)?l:void 0}return l}};return[new ee(r(0),[e,t],()=>({subType:Ri,el1:e.id,el2:t.id,index:0}),Ue),new ee(r(1),[e,t],()=>({subType:Ri,el1:e.id,el2:t.id,index:1}),Ue)]}if(e instanceof dt&&t instanceof dt){const r=i=>()=>{const o=e.point,s=e.radius,a=t.point,l=t.radius;if(void 0!==o&&void 0!==s&&void 0!==a&&void 0!==l)return Td(o,s,a,l)[i]};return[new ee(r(0),[e,t],()=>({subType:Ri,el1:e.id,el2:t.id,index:0}),Ue),new ee(r(1),[e,t],()=>({subType:Ri,el1:e.id,el2:t.id,index:1}),Ue)]}return[]}static getDefaultInstance(){return new ee(()=>{},[],()=>({subType:"",el1:-1}))}serialize(){const e=this.subTypeAndDataProvider();return{data:{el1:e.el1,el2:e.el2,index:e.index},subType:e.subType,style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}loadFrom(e,t,r){var i;const o=t.data,s=e[o.el1],a=void 0===o.el2?void 0:e[o.el2];if(void 0!==s&&this.addDependency(s),void 0!==a&&this.addDependency(a),this.loadStyle(t.style),t.subType===Id){if(s instanceof B&&a instanceof B){const l=ee.createMiddlePointByPoints(s,a);this.pointProvider=l.pointProvider,this.subTypeAndDataProvider=l.subTypeAndDataProvider}else if(s instanceof et){const l=ee.createMiddlePointByLineSegment(s);this.pointProvider=l.pointProvider,this.subTypeAndDataProvider=l.subTypeAndDataProvider}}else if(t.subType===Ri&&(s instanceof En||s instanceof dt)&&(a instanceof En||a instanceof dt)){const l=ee.createIntersectionPoints(s,a)[null!==(i=o.index)&&void 0!==i?i:0];this.pointProvider=l.pointProvider,this.subTypeAndDataProvider=l.subTypeAndDataProvider}}}let PA=(()=>{class n extends Ai{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(t){this.dialogData.configuration.name=t,this.dialogData.configuration.label=t,this.dialogData.onChange.emit(t)}get angle(){return(Math.floor(1e3*this.dialogData.angle)/1e3).toLocaleString()}get dashed(){return!0===this.dialogData.configuration.dashed}set dashed(t){this.dialogData.configuration.dashed=t,this.dialogData.onChange.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-view-angle-element"]],features:[U],decls:21,vars:4,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModel","ngModelChange"],[1,"paragraph","maths","centered"],[1,"dashedDiv"],["type","checkbox","id","dash",3,"ngModel","ngModelChange"],["for","dash"],[1,"sizeDiv"],["for","si"],["id","si","type","range",3,"ngModel","ngModelChange"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"p",1),C(2,"Winkel:"),p(),h(3,"p",2),me(4,"span"),h(5,"input",3),E("ngModelChange",function(o){return r.name=o}),p(),C(6," : "),p(),h(7,"p",4),h(8,"span"),C(9),p(),p(),h(10,"div",5),h(11,"input",6),E("ngModelChange",function(o){return r.dashed=o}),p(),h(12,"label",7),C(13,"Gestrichelt anzeigen"),p(),p(),h(14,"div",8),h(15,"label",9),C(16,"Darstellungsgr\xf6\xdfe:"),p(),me(17,"br"),h(18,"input",10),E("ngModelChange",function(o){return r.dialogData.size=o}),p(),p(),h(19,"button",11),E("click",function(){return r.dialog.close()}),C(20,"Schlie\xdfen"),p(),p()),2&t&&(w(5),x("ngModel",r.name),w(4),Cn("",r.angle,"\xb0"),w(2),x("ngModel",r.dashed),w(7),x("ngModel",r.dialogData.size))},directives:[Ne,je,Re,Ii,Fa],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.dashedDiv[_ngcontent-%COMP%], .sizeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.dashedDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .sizeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#si[_ngcontent-%COMP%]{margin-top:6px}#si[_ngcontent-%COMP%]{width:100%}']}),n})();class Or extends Pr{constructor(e,t=mt,r=!0,i=50,o=3,s=!0){super(),this._size=i,this.lineWidth=o,this.componentType=Ha,this.formulaDialogType=PA,this._color=t,this._visible=r,this._points=e,this.configuration.formula="Winkel",this.configuration.showLabel=s}get points(){return this._points.slice()}set points(e){this._points=e.slice(),this.onChange.emit()}get size(){return this._size}set size(e){this._size=e,this.onChange.emit(e)}get angle(){if(3!==this.points.length)return Number.NaN;const e=this.points[0].point,t=this.points[1].point,r=this.points[2].point;if(e&&t&&r){const i={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y},s={x:0,y:0},a=(i.x*o.x+i.y*o.y)/(lr(s,i)*lr(s,o));return Math.acos(a)/Math.PI*180}return Number.NaN}get angles(){if(3===this._points.length){const e=this._points[0].point,t=this._points[1].point,r=this._points[2].point;if(void 0!==e&&void 0!==t&&void 0!==r){const i={x:1,y:0},o={x:0,y:0},s=(f,g)=>f.x*g.x+f.y*g.y,a=(f,g)=>Math.acos(s(f,g)/lr(o,f)/lr(o,g)),u={x:r.x-t.x,y:r.y-t.y};let c=a(i,{x:e.x-t.x,y:e.y-t.y}),d=a(i,u);return e.y>t.y&&(c=-c),r.y>t.y&&(d=-d),[c,d]}}}serialize(){return{data:{points:this.points.map(e=>e.id)},style:{color:this.color,visible:this.visible,size:this.size,strokeWidth:this.lineWidth}}}loadFrom(e,t,r){var i,o;this.points=t.data.points.map(a=>e[a]).filter(a=>a instanceof B),this.color=t.style.color,this.visible=t.style.visible,this.lineWidth=null!==(i=t.style.strokeWidth)&&void 0!==i?i:this.lineWidth,this.size=null!==(o=t.style.size)&&void 0!==o?o:this.size}draw(e){const t=this.angles,r=this._points;if(t&&3===r.length){const i=r[1].point;void 0!==i&&(e.drawCircleSector(i,this.size/e.zoom,nn(this.color,.3),this.color,this.lineWidth,t[1],t[0],this.configuration.dashed),-1!==e.selection.indexOf(this)&&e.drawCircleSector(i,this.size/e.zoom,Dn,nn(this.color,.3),2.5*this.lineWidth,t[1],t[0],this.configuration.dashed))}}static getDefaultInstance(){return new Or([])}getPositionForLabel(e){if(3===this._points.length){const r=this._points[0].point,i=this._points[1].point,o=this._points[2].point;if(void 0!==r&&void 0!==i&&void 0!==o){const s={x:r.x-i.x,y:r.y-i.y},a={x:o.x-i.x,y:o.y-i.y},l={x:s.x+a.x,y:s.y+a.y},u=this.size/e.zoom/2/lr({x:0,y:0},l),c={x:l.x*u,y:l.y*u};return{x:c.x+i.x,y:c.y+i.y}}}}getDistance(e,t){const r=this.size/t.zoom;if(3===this._points.length){const i=this._points[0].point,o=this._points[1].point,s=this._points[2].point;if(void 0!==i&&void 0!==o&&void 0!==s){const a={x:1,y:0},l={x:0,y:0},u=(b,v)=>b.x*v.x+b.y*v.y,c=(b,v)=>Math.acos(u(b,v)/lr(l,b)/lr(l,v)),f={x:s.x-o.x,y:s.y-o.y};let g=c(a,{x:i.x-o.x,y:i.y-o.y}),m=c(a,f);const _={x:e.x-o.x,y:e.y-o.y};let y=c(a,_);if(i.y>o.y&&(g=-g+2*Math.PI),s.y>o.y&&(m=-m+2*Math.PI),e.y>o.y&&(y=-y+2*Math.PI),lr(l,_)<=r&&(m<y&&g>y||m>y&&g>y&&m>g||g<y&&m<y&&m>g))return 0}}return Number.MAX_VALUE}}const Jy=function(n){return{error:n}};let IA=(()=>{class n extends rr{constructor(){super(),this.canvasElement=ur.getDefaultInstance()}get name(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}get errorMessageX(){return this.canvasElement.xErrorText}get errorMessageY(){return this.canvasElement.yErrorText}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-compiled-point-formula"]],features:[U],decls:15,vars:13,consts:[[1,"wrapper"],[3,"color","visible","colorChange","visibleChange"],[1,"paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngClass","title","ngModel","ngModelChange"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(t,r){if(1&t&&(h(0,"div",0),h(1,"app-color-circle",1),E("colorChange",function(o){return r.canvasElement.color=o})("visibleChange",function(o){return r.canvasElement.visible=o}),p(),h(2,"div"),h(3,"p",2),me(4,"span"),C(5),h(6,"span"),h(7,"input",3),E("ngModelChange",function(o){return r.canvasElement.xText=o}),p(),p(),C(8," | "),h(9,"span"),h(10,"input",3),E("ngModelChange",function(o){return r.canvasElement.yText=o}),p(),p(),C(11," ) "),p(),p(),h(12,"button",4),E("click",function(o){return r.threePointsClicked(o)}),h(13,"span",5),C(14,"more_vert"),p(),p(),p()),2&t){let i,o;w(1),x("color",r.canvasElement.color)("visible",r.canvasElement.visible),w(4),Cn(" ",r.name,"( "),w(2),x("ngClass",Fe(9,Jy,void 0!==r.errorMessageX))("title",null!==(i=r.errorMessageX)&&void 0!==i?i:"")("ngModel",r.canvasElement.xText),w(3),x("ngClass",Fe(11,Jy,void 0!==r.errorMessageY))("title",null!==(o=r.errorMessageY)&&void 0!==o?o:"")("ngModel",r.canvasElement.yText)}},directives:[Ir,Ne,en,je,Re],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.input[_ngcontent-%COMP%]{width:100px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}input.error[_ngcontent-%COMP%]{background:#ffcccc!important}']}),n})();class ur extends ee{constructor(e,t=mt,r,i=!0){super(null,[],null,t,r,i),this.parseAndValidateProvider=e,this.componentType=IA,this._xText="0",this._yText="0",this.evaluate=()=>{if((this.error||void 0===this._xOperation||void 0===this._yOperation)&&this.reparse(),!this.error&&void 0!==this._xOperation&&void 0!==this._yOperation)try{return{x:this._xOperation.evaluate(this._tempVariables),y:this._yOperation.evaluate(this._tempVariables)}}catch(o){return}},this._pointProvider=this.evaluate}get xText(){return this._xText}set xText(e){this._xText=e,this.reparseX(),this.onChange.emit(e)}get yText(){return this._yText}set yText(e){this._yText=e,this.reparseY(),this.onChange.emit(e)}get xErrorText(){return this._xErrorText}get xError(){return void 0!==this._xErrorText}get yErrorText(){return this._yErrorText}get yError(){return void 0!==this._yErrorText}get error(){return this.yError||this.xError}get xOperation(){return this._xOperation}get yOperation(){return this._yOperation}reparseX(){const e=this.parseAndValidateProvider(this._xText);return e instanceof Xe?(this._xOperation=e,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=e,!1)}reparseY(){const e=this.parseAndValidateProvider(this._yText);return e instanceof Xe?(this._yOperation=e,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=e,!1)}reparse(){const e=this.reparseX(),t=this.reparseY();return e&&t}serialize(){return{data:{xText:this.xText,yText:this.yText},style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}loadFrom(e,t,r){const i=t.data;this.loadStyle(t.style),this._xText=i.xText,this._yText=i.yText}static getDefaultInstance(){return new ur(()=>{})}static getDefaultInstanceWithDrawerService(e){return new ur(t=>e.parseAndValidateOperation(t))}draw(e){var t;this._tempVariables=null!==(t=e.variables)&&void 0!==t?t:{},super.draw(e)}}const za=function(n){return{error:n}};let OA=(()=>{class n extends rr{constructor(t){super(),this.drawerService=t,this.canvasElement=cr.getDefaultInstance(t)}get name(){return this.canvasElement.configuration.name?" "+this.canvasElement.configuration.name:""}get contextMenu(){return{elements:()=>[{header:"Duplizieren",icon:"content_copy",disabled:this.canvasElement.error,click:()=>{this.duplicate()},title:"Diese Funktion duplizieren."}],additionalEvent:this.threePointsClickedEvent}}duplicate(){const t=this.canvasElement.clone();this.drawerService.addCanvasElements(t)}get errorMessageX(){return this.canvasElement.xErrorText}get errorMessageY(){return this.canvasElement.yErrorText}get errorMessageBottom(){return this.canvasElement.bottomErrorText}get errorMessageTop(){return this.canvasElement.topErrorText}}return n.\u0275fac=function(t){return new(t||n)(M(an))},n.\u0275cmp=Z({type:n,selectors:[["app-curve-formula"]],features:[U],decls:52,vars:25,consts:[[1,"wrapper"],[3,"color","visible","colorChange","visibleChange"],[1,"paragraph","description"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"alignEnd","paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngClass","title","ngModel","ngModelChange"],["autocomplete","off","type","text","step","any",1,"input","parameter",3,"ngModel","ngModelChange"],["autocomplete","off","type","number","step","any",1,"input","steps",3,"ngModel","ngModelChange"]],template:function(t,r){if(1&t&&(h(0,"div",0),h(1,"app-color-circle",1),E("colorChange",function(o){return r.canvasElement.color=o})("visibleChange",function(o){return r.canvasElement.visible=o}),p(),h(2,"div"),h(3,"p",2),me(4,"span"),C(5),p(),h(6,"button",3),E("click",function(o){return r.threePointsClicked(o)}),h(7,"span",4),C(8,"more_vert"),p(),p(),h(9,"table"),h(10,"tr"),h(11,"td"),h(12,"p",5),C(13,"x = "),p(),p(),h(14,"td"),h(15,"span"),h(16,"input",6),E("ngModelChange",function(o){return r.canvasElement.xText=o}),p(),p(),p(),p(),h(17,"tr"),h(18,"td"),h(19,"p",5),C(20,"y = "),p(),p(),h(21,"td"),h(22,"span"),h(23,"input",6),E("ngModelChange",function(o){return r.canvasElement.yText=o}),p(),p(),p(),p(),h(24,"tr"),h(25,"td"),h(26,"p",5),C(27,"Parameter: "),p(),p(),h(28,"td"),h(29,"span"),h(30,"input",7),E("ngModelChange",function(o){return r.canvasElement.parameter=o}),p(),p(),p(),p(),h(31,"tr"),h(32,"td"),h(33,"p",5),C(34,"Schritte: "),p(),p(),h(35,"td"),h(36,"span"),h(37,"input",8),E("ngModelChange",function(o){return r.canvasElement.steps=o}),p(),p(),p(),p(),h(38,"tr"),h(39,"td"),h(40,"p",5),C(41,"Untere Grenze: "),p(),p(),h(42,"td"),h(43,"span"),h(44,"input",6),E("ngModelChange",function(o){return r.canvasElement.bottomText=o}),p(),p(),p(),p(),h(45,"tr"),h(46,"td"),h(47,"p",5),C(48,"Obere Grenze: "),p(),p(),h(49,"td"),h(50,"span"),h(51,"input",6),E("ngModelChange",function(o){return r.canvasElement.topText=o}),p(),p(),p(),p(),p(),p(),p()),2&t){let i,o,s,a;w(1),x("color",r.canvasElement.color)("visible",r.canvasElement.visible),w(4),Cn(" Kurve",r.name,": "),w(11),x("ngClass",Fe(17,za,void 0!==r.errorMessageX))("title",null!==(i=r.errorMessageX)&&void 0!==i?i:"")("ngModel",r.canvasElement.xText),w(7),x("ngClass",Fe(19,za,void 0!==r.errorMessageY))("title",null!==(o=r.errorMessageY)&&void 0!==o?o:"")("ngModel",r.canvasElement.yText),w(7),x("ngModel",r.canvasElement.parameter),w(7),x("ngModel",r.canvasElement.steps),w(7),x("ngClass",Fe(21,za,void 0!==r.errorMessageBottom))("title",null!==(s=r.errorMessageBottom)&&void 0!==s?s:"")("ngModel",r.canvasElement.bottomText),w(7),x("ngClass",Fe(23,za,void 0!==r.errorMessageTop))("title",null!==(a=r.errorMessageTop)&&void 0!==a?a:"")("ngModel",r.canvasElement.topText)}},directives:[Ir,Ne,en,je,Re,Ot],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.input[_ngcontent-%COMP%]{width:150px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none;margin-bottom:0}.alignEnd[_ngcontent-%COMP%]{text-align:end}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}input.error[_ngcontent-%COMP%]{background:#ffcccc!important}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}']}),n})(),AA=(()=>{class n extends Ai{constructor(){super()}get name(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""}set name(t){this.dialogData.configuration.name=t,this.dialogData.configuration.label=t,this.dialogData.onChange.emit(t)}get dashed(){return!0===this.dialogData.configuration.dashed}set dashed(t){this.dialogData.configuration.dashed=t,this.dialogData.onChange.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-view-curve-element"]],features:[U],decls:13,vars:2,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModel","ngModelChange"],[1,"dashedDiv"],["type","checkbox","id","dash",3,"ngModel","ngModelChange"],["for","dash"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"p",1),C(2,"Kurve:"),p(),h(3,"p",2),me(4,"span"),h(5,"input",3),E("ngModelChange",function(o){return r.name=o}),p(),C(6," : "),p(),h(7,"div",4),h(8,"input",5),E("ngModelChange",function(o){return r.dashed=o}),p(),h(9,"label",6),C(10,"Gestrichelt anzeigen"),p(),p(),h(11,"button",7),E("click",function(){return r.dialog.close()}),C(12,"Schlie\xdfen"),p(),p()),2&t&&(w(5),x("ngModel",r.name),w(3),x("ngModel",r.dashed))},directives:[Ne,je,Re,Ii],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.dashedDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.dashedDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}']}),n})();class cr extends Pr{constructor(e,t=mt,r=3,i,o=!0){super(),this.parseAndValidateProvider=e,this.componentType=OA,this.formulaDialogType=AA,this._parameter="t",this._steps=1e3,this._xText="0",this._yText="0",this._bottomText="0",this._topText="1",this._color=t,this._lineWidth=r,this.configuration.name=i,this._visible=o}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this.onChange.emit(e)}get dashed(){return 1==this.configuration.dashed}set dashed(e){this.configuration.dashed=e,this.onChange.emit(e)}get parameter(){return this._parameter}set parameter(e){this._parameter=e,this.onChange.emit(e)}get steps(){return this._steps}set steps(e){this._steps=Math.floor(Math.abs(e)),this.onChange.emit(e)}get xText(){return this._xText}set xText(e){this._xText=e,this.reparseX(),this.onChange.emit(e)}get xError(){return void 0!==this._xErrorText}get xErrorText(){return this._xErrorText}get xOperation(){return this._xOperation}get yText(){return this._yText}set yText(e){this._yText=e,this.reparseY(),this.onChange.emit(e)}get yError(){return void 0!==this._yErrorText}get yErrorText(){return this._yErrorText}get yOperation(){return this._yOperation}get bottomText(){return this._bottomText}set bottomText(e){this._bottomText=e,this.reparseBottom(),this.onChange.emit(e)}get bottomError(){return void 0!==this._bottomErrorText}get bottomErrorText(){return this._bottomErrorText}get bottomOperation(){return this._bottomOperation}get topText(){return this._topText}set topText(e){this._topText=e,this.reparseTop(),this.onChange.emit(e)}get topError(){return void 0!==this._topErrorText}get topErrorText(){return this._topErrorText}get topOperation(){return this._topOperation}get error(){return this.topError||this.bottomError||this.yError||this.xError}reparseX(){const e=this.parseAndValidateProvider(this._xText,[this.parameter]);return e instanceof Xe?(this._xOperation=e,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=e,!1)}reparseY(){const e=this.parseAndValidateProvider(this._yText,[this.parameter]);return e instanceof Xe?(this._yOperation=e,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=e,!1)}reparseBottom(){const e=this.parseAndValidateProvider(this._bottomText,[]);return e instanceof Xe?(this._bottomOperation=e,this._bottomErrorText=void 0,!0):(this._bottomOperation=void 0,this._bottomErrorText=e,!1)}reparseTop(){const e=this.parseAndValidateProvider(this._topText,[]);return e instanceof Xe?(this._topOperation=e,this._topErrorText=void 0,!0):(this._topOperation=void 0,this._topErrorText=e,!1)}reparse(){const e=this.reparseX(),t=this.reparseY(),r=this.reparseBottom(),i=this.reparseTop();return e&&t&&r&&i}parseIfNecessary(){void 0===this.bottomOperation&&this.reparseBottom(),void 0===this.topOperation&&this.reparseTop(),void 0===this.xOperation&&this.reparseX(),void 0===this.yOperation&&this.reparseY()}draw(e){const t=this.getPoints(e);if(void 0!==t){const r=nn(this._color,Go),i=this.lineWidth*$o;e.drawPath(t,this.lineWidth,this.color,void 0,this.dashed),-1!==e.selection.indexOf(this)&&e.drawPath(t,i,r,void 0,this.dashed)}}getPoints(e){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){const t=e.variables;let r=this.bottomOperation.evaluate(t),i=this.topOperation.evaluate(t);if(i<r){const l=r;r=i,i=l}const o=[],s=this.steps,a=(i-r)/s;for(let l=0;l<=s;l++){const u=r+a*l;try{t[this.parameter]=u;const c=this.xOperation.evaluate(t),d=this.yOperation.evaluate(t);o.push({x:c,y:d})}catch(c){}}return o}}loadFrom(e,t,r){var i;const o=t.data;this._xText=o.xText,this._yText=o.yText,this._bottomText=o.bottomText,this._topText=o.topText,this._parameter=o.parameter,this._steps=o.steps,this._color=t.style.color,this._lineWidth=null!==(i=t.style.size)&&void 0!==i?i:3,this._visible=t.style.visible,this.onChange.emit()}serialize(){return{data:{xText:this.xText,yText:this.yText,parameter:this.parameter,bottomText:this.bottomText,topText:this.topText,steps:this.steps},style:{color:this.color,size:this.lineWidth,visible:this.visible}}}static getDefaultInstance(e){return new cr((t,r)=>e.parseAndValidateOperation(t,!0,r))}getDistance(e,t){const r=this.getPoints(t);if(void 0===r)return;const i=r.map(s=>tr(s,e));if(0===i.length)return;let o=i[0];for(let s=1;s<i.length;s++)i[s]<o&&(o=i[s]);return o}getPositionForLabel(e){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){const r=e.variables;let i=this.bottomOperation.evaluate(r),o=this.topOperation.evaluate(r);r[this.parameter]=(i+o)/2;try{const s=this.xOperation.evaluate(r),a=this.yOperation.evaluate(r);return{x:s+15/e.zoom,y:a+15/e.zoom}}catch(s){}}}clone(){const e=new cr(this.parseAndValidateProvider,this.color,this.lineWidth,void 0,this.visible);return e._steps=this._steps,e._parameter=this._parameter,e._xText=this._xText,e._yText=this._yText,e._bottomText=this._bottomText,e._topText=this._topText,e.configuration=Object.assign({},this.configuration),e}}const tC="definite_integral",nC="dependency_points",rC="linesegment",oC="dynamic_point",sC="compiled_point",uC="variable";function NA(n){return n instanceof Le?"graph":n instanceof K?"line":n instanceof dt?"circle":n instanceof Ni?tC:n instanceof ur?sC:n instanceof Ge?nC:n instanceof et?rC:n instanceof ee?oC:n instanceof B?"point":n instanceof ar?uC:n instanceof Or?"angle":n instanceof cr?"curve":"undefined"}const fC="serialized",hC='"Cambria Math", Cambria, "CMU Serif", serif',pC="Ung\xfcltige Eingabe.",gC="Referenz einer unbekannten Funktion.";let an=(()=>{class n{constructor(){this._mode=new jn,this._backgroundColor={r:255,g:255,b:255},this._canvasElements=[],this._metaDrawers=[],this._transformations={translateX:7,translateY:-5,zoom:100},this._showGrid=!0,this._showGridNumbers=!0,this._drawPointsEqually=!1,this.selection=new dA,this.onBackgroundColorChanged=new jt,this.onCanvasElementChanged=new jt,this.onMetaDrawersChanged=new jt,this.onTransformationsChanged=new jt,this.onCanvasConfigChanged=new jt,this.onBeforeRedraw=new jt,this.onAfterRedraw=new jt,this.onModeChanged=new jt,this.redrawListener=()=>{this.redraw()},this.canvasElementOnChangeListener=t=>{this.onCanvasElementChanged.emit(t)},this.emptyCacheListener=()=>{this.funcCache.empty()},this.saveListener=()=>{localStorage[fC]=JSON.stringify(this.serialize())},this.funcCache=new wd,this.funcProvider=t=>{let r=this.funcCache.getItem(t);if(r)return r;for(let i of this.graphs)if(Ra(t)===Ra(i.func.name)){let o=i.func,s=La(o.name),a=La(t);if(s>a)continue;for(let l=0;l<a-s;l++)o=o.derive();return this.funcCache.setItem(t,o),o}},this.addMetaDrawer(new uA),this.onBackgroundColorChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.redrawListener),this.onTransformationsChanged.addListener(this.redrawListener),this.onMetaDrawersChanged.addListener(this.redrawListener),this.onCanvasConfigChanged.addListener(this.redrawListener),this.onModeChanged.addListener(this.redrawListener),this.selection.onSelectionChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onAfterRedraw.addListener(this.saveListener)}get mode(){return this._mode}set mode(t){this._mode=t,this.onModeChanged.emit(t)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this.onBackgroundColorChanged.emit(t)}addCanvasElements(...t){for(let r of t)this._canvasElements.push(r),r.onChange.addListener(this.canvasElementOnChangeListener);this.onCanvasElementChanged.emit(t)}removeCanvasElements(...t){let r=!0;for(let i of t){const o=this._canvasElements.indexOf(i);o>=0?(this._canvasElements.splice(o,1),i.onChange.removeListener(this.canvasElementOnChangeListener),i.onRemove.emit(this)):r=!1}return this.onCanvasElementChanged.emit(t),r}emptyCanvasElements(){for(let t of this._canvasElements)t.onChange.removeListener(this.canvasElementOnChangeListener),t.onRemove.emit(this);this._canvasElements=[],this.onCanvasElementChanged.emit()}get canvasElements(){return this._canvasElements.slice()}addMetaDrawer(t){this._metaDrawers.push(t),this.onMetaDrawersChanged.emit(t)}removeMetaDrawer(t){const r=this._metaDrawers.indexOf(t);return r>=0&&(this._metaDrawers.splice(r,1),this.onMetaDrawersChanged.emit(t),!0)}emptyMetaDrawers(){this._metaDrawers=[],this.onMetaDrawersChanged.emit()}get metaDrawers(){return this._metaDrawers.slice()}set translateX(t){this._transformations.translateX=t,this.onTransformationsChanged.emit(t)}get translateX(){return this._transformations.translateX}set translateY(t){this._transformations.translateY=t,this.onTransformationsChanged.emit(t)}get translateY(){return this._transformations.translateY}set zoom(t){this._transformations.zoom=t,this.onTransformationsChanged.emit(t)}get zoom(){return this._transformations.zoom}get transformations(){return{translateX:this.translateX,translateY:this.translateY,zoom:this.zoom}}set transformations(t){this._transformations.zoom=t.zoom,this._transformations.translateX=t.translateX,this._transformations.translateY=t.translateY,this.onTransformationsChanged.emit(t)}get showGrid(){return this._showGrid}set showGrid(t){this._showGrid=t,this.onCanvasConfigChanged.emit(this.canvasConfig)}get showGridNumbers(){return this._showGridNumbers}set showGridNumbers(t){this._showGridNumbers=t,this.onCanvasConfigChanged.emit(this.canvasConfig)}get drawPointsEqually(){return this._drawPointsEqually}set drawPointsEqually(t){this._drawPointsEqually=!0===t,this.onCanvasConfigChanged.emit(this.canvasConfig)}get canvasConfig(){return{showNumbers:this.showGridNumbers,showGrid:this.showGrid,drawPointsEqually:this.drawPointsEqually}}get renderingContext(){var t;return this.getRenderingContextFor(null===(t=this.canvas)||void 0===t?void 0:t.ctx,this._transformations)}getRenderingContextFor(t,r){return new lA(t,r,this.getVariables(),this.selection.toArray(),this.canvasConfig)}redraw(){this.canvas&&this.canvas.canvasEl&&this.canvas.wrapperEl&&this.canvas.ctx&&(this.onBeforeRedraw.emit(),this.drawToCanvas(this.canvas.canvasEl,this.canvas.wrapperEl.getBoundingClientRect(),this._transformations,!0),this.onAfterRedraw.emit())}drawToCanvas(t,r,i,o=!1){var s,a;const l=t.getContext("2d");l.canvas.width=r.width,l.canvas.height=r.height,l.fillStyle=gt(this.backgroundColor),l.fillRect(0,0,t.width,t.height);let u=this.getRenderingContextFor(l,i);for(let d of this._metaDrawers)d.draw(u);let c=[];if(this.drawPointsEqually)c=this._canvasElements;else{const d=this._canvasElements.filter(m=>m instanceof B),f=this._canvasElements.filter(m=>m instanceof Or),g=this._canvasElements.filter(m=>!(m instanceof B||m instanceof Or));c=f.concat(g).concat(d)}for(let d of c)if(u.config&&o&&(u.config.transformColor=d.visible||null===(s=this.mode)||void 0===s?void 0:s.transformInvisibleColor),d.visible||(null===(a=u.config)||void 0===a?void 0:a.transformColor)){d.draw(u);const f=this.getLabelPoint(d,u);void 0!==f&&void 0!==d.configuration.label&&u.drawText(d.configuration.label,f,18,hC,"start","alphabetic","inherit",d.color,this.selection.contains(d)?nn(d.color,.2):jS,3)}}zoomToBy(t,r){let i_y=-t.y/this.zoom*(1-1/r);this._transformations.translateX-=t.x/this.zoom*(1-1/r),this._transformations.translateY-=i_y,this.zoom*=r}get graphs(){return this.canvasElements.filter(t=>t instanceof Le)}get points(){return this.canvasElements.filter(t=>t instanceof B)}parseAndValidateOperation(t,r=!0,i=[]){try{let o=new jv(t,this.funcProvider).parse();try{let s=Dd(o);if(r)for(let a of s.variableNames)-1===i.indexOf(a)&&this.addVariable(a);return o}catch(s){return gC}}catch(o){return pC}}parseAndValidateFunc(t,r=!0){try{let i=new Uv(t,this.funcProvider).parse();try{if($y(i))return"Eine Funktion darf nicht auf sich selbst verweisen.";let o=function nA(n){return Dd(n.operation)}(i);if(r)for(let s of o.variableNames)s!==i.variable&&(void 0!==i.variable||"x"!==s)&&this.addVariable(s);return i}catch(o){return gC}}catch(i){return pC}}addVariable(t,r=!0){if(!this.hasVariable(t)){const i=new ar(t,0);let o=()=>{let s=!1;for(let a of this.canvasElements)if(a instanceof Le?s=s||a.func.variable!==i.key&&(void 0!==a.func.variable||"x"!==i.key)&&Mn(a.func,i.key):a instanceof ur?s=s||Mn(a.xOperation,i.key)||Mn(a.yOperation,i.key):a instanceof cr&&(s=s||Mn(a.topOperation,i.key)||Mn(a.bottomOperation,i.key),s=s||a.parameter!==i.key&&Mn(a.xOperation,i.key),s=s||a.parameter!==i.key&&Mn(a.yOperation,i.key)),s)return;s||(this.onCanvasElementChanged.removeListener(o),this.removeCanvasElements(i))};return this.addCanvasElements(i),this.onCanvasElementChanged.addListener(o),i}}getNewColor(){return function eI(n,e,t){let r=e.slice(),i=0,o=s=>t(n[i%n.length],s);for(;Iv(r,o);i++){const s=KS(r,o);r.splice(s,1)}return n[i%n.length]}(fA,this.canvasElements.map(t=>t.color),(t,r)=>function JS(n,e){return n.r==e.r&&n.g==e.g&&n.b==e.b&&(n.a==e.a||!n.a&&!e.a)}(t,r))}getVariables(){let t={};for(let r of this.canvasElements)r instanceof ar&&(t[r.key]=r.value);return t}hasVariable(t){for(let r of this.canvasElements)if(r instanceof ar&&r.key===t)return!0;return!1}getLabelPoint(t,r){const i=t.getPositionForLabel(r);if(void 0!==i&&void 0!==t.configuration.label&&t.configuration.showLabel){const o=r.range,s={x:Math.abs(o.width)*t.labelTranslate.x,y:Math.abs(o.height)*t.labelTranslate.y};return{x:i.x+s.x,y:i.y+s.y}}}getSelection(t,r=(()=>!0),i=!0){let s,a,o=this.renderingContext;const l=c=>{const d=this.getLabelPoint(c,o);if(void 0===c.configuration.label||void 0===d)return;const g=o.measureText(c.configuration.label,18,hC).width/o.zoom,m=18/o.zoom;return Ev(t,Object.assign(Object.assign({},d),{width:g,height:m}))};for(let c of this.canvasElements){const d=WS(c.getDistance(t,o),l(c));if(null!=d&&isFinite(d)&&r(c)&&(c.visible||!i)){let f=void 0===s;f=f||d<=s,f&&(s=d,a=c)}}return void 0!==s&&10<s*this.zoom&&(a=void 0,s=void 0),a}setSelection(t,r=!0,i=(()=>!0)){const o=this.getSelection(t,i);r?this.selection.set(o):this.selection.alternate(o)}serialize(){return function FA(n){const e=[];for(let t of n.canvasElements){const r=t.serialize(),i=Object.assign(Object.assign({},r),{id:t.id,configuration:t.configuration,type:NA(t),translateLabel:t.labelTranslate});e.push(i)}return{canvasElements:e,backgroundColor:n.backgroundColor,transformations:n.transformations,showGrid:n.showGrid,showGridNumbers:n.showGridNumbers,drawPointsEqually:n.drawPointsEqually}}(this)}loadFrom(t){!function RA(n,e){n.showGridNumbers=e.showGridNumbers,n.showGrid=e.showGrid,n.drawPointsEqually=e.drawPointsEqually,n.transformations=e.transformations,n.backgroundColor=e.backgroundColor,n.emptyCanvasElements();const t={};for(let r of e.canvasElements){let i;"circle"===r.type?i=dt.getDefaultInstance():r.type===tC?i=Ni.getDefaultInstance():r.type===sC?i=ur.getDefaultInstanceWithDrawerService(n):r.type===nC?i=Ge.getDefaultInstance(n):r.type===rC?i=et.getDefaultInstance():"graph"===r.type?i=Le.getDefaultInstance():r.type===oC?i=ee.getDefaultInstance():"point"===r.type?i=B.getDefaultInstance():"line"===r.type?i=K.getDefaultInstance():r.type===uC?i=ar.getDefaultInstance():"angle"===r.type?i=Or.getDefaultInstance():"curve"===r.type&&(i=cr.getDefaultInstance(n)),void 0!==i&&(i.configuration=r.configuration,i.labelTranslate=r.translateLabel,t[r.id]=i)}for(let r of e.canvasElements){const i=t[r.id];void 0!==i&&i.loadFrom(t,r,n)}n.addCanvasElements(...Object.values(t).filter(r=>void 0!==r))}(this,t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VA(n,e){if(1&n&&(h(0,"span"),C(1," von "),h(2,"span",12),C(3),p(),p()),2&n){const t=_e(2);w(3),ve(t.dialogData.description[1]())}}const BA=function(n){return{notLast:n}};function HA(n,e){if(1&n){const t=wr();h(0,"div",15),h(1,"p",16),C(2),p(),h(3,"button",17),E("click",function(){const o=Rt(t).$implicit;return _e(3).addPointToDrawerService(o)}),h(4,"span",18),C(5,"add"),p(),p(),p()}if(2&n){const t=e.$implicit;x("ngClass",Fe(3,BA,!e.last)),w(2),po("(",t.x.toLocaleString(),"|",t.y.toLocaleString(),")")}}function jA(n,e){if(1&n&&(h(0,"div",13),h(1,"p",4),C(2,"Ergebnisse:"),p(),Ee(3,HA,6,5,"div",14),p()),2&n){const t=_e(2);w(3),x("ngForOf",t.dialogData.points)}}function zA(n,e){1&n&&(h(0,"div",19),C(1,"Es wurden keine Elemente gefunden."),p())}function UA(n,e){if(1&n){const t=wr();h(0,"div",1),h(1,"p",2),C(2),Ee(3,VA,4,1,"span",3),p(),h(4,"p",4),C(5,"Im Intervall"),p(),h(6,"p",5),h(7,"app-interval",6),E("fromChange",function(i){return Rt(t),_e().dialogData.from=i})("toChange",function(i){return Rt(t),_e().dialogData.to=i}),p(),p(),h(8,"p",4),C(9,"mit der Suchtiefe:"),p(),h(10,"p",7),h(11,"input",8),E("ngModelChange",function(i){return Rt(t),_e().dialogData.depth=i}),p(),p(),Ee(12,jA,4,1,"div",9),Ee(13,zA,2,0,"div",10),h(14,"button",11),E("click",function(){return Rt(t),_e().dialog.close()}),C(15,"Schlie\xdfen"),p(),p()}if(2&n){const t=_e();w(2),Cn(" ",t.dialogData.description[0],""),w(1),x("ngIf",void 0!==t.dialogData.description[1]()),w(4),x("from",t.dialogData.from)("to",t.dialogData.to),w(4),x("ngModel",t.dialogData.depth),w(1),x("ngIf",0!==t.dialogData.size),w(1),x("ngIf",0===t.dialogData.size)}}let GA=(()=>{class n extends Ai{constructor(t){super(),this.drawerService=t}addPointToDrawerService(t){this.drawerService.addCanvasElements(new B(t,this.drawerService.getNewColor()))}}return n.\u0275fac=function(t){return new(t||n)(M(an))},n.\u0275cmp=Z({type:n,selectors:[["app-dependency-point-elements-dialog"]],features:[U],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"paragraph","heading"],[4,"ngIf"],[1,"paragraph"],[1,"centered"],[3,"from","to","fromChange","toChange"],[1,"centered","maths"],["type","number","title","Suchtiefe",1,"input",3,"ngModel","ngModelChange"],["class","pointWrappers",4,"ngIf"],["class","paragraph defaultMargin pointsNotFoundMessage",4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"maths"],[1,"pointWrappers"],["class","point",3,"ngClass",4,"ngFor","ngForOf"],[1,"point",3,"ngClass"],[1,"maths","paragraph","pointParagraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","defaultMargin","pointsNotFoundMessage"]],template:function(t,r){1&t&&Ee(0,UA,16,7,"div",0),2&t&&x("ngIf",void 0!==r.dialogData)},directives:[Ti,ja,Ot,Ne,je,Re,xi,en],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.defaultMargin[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.pointParagraph[_ngcontent-%COMP%]{line-height:46px;margin-top:0;margin-bottom:0}.maths[_ngcontent-%COMP%]{font-size:16pt!important}.point[_ngcontent-%COMP%]{width:290px;padding:7px}.notLast[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.pointWrappers[_ngcontent-%COMP%]{margin-bottom:16px;max-height:400px;overflow-y:auto}.iconButton[_ngcontent-%COMP%]{background-color:#fff}.input[_ngcontent-%COMP%]{width:50px;display:unset}.pointsNotFoundMessage[_ngcontent-%COMP%]{width:290px;padding:7px}']}),n})();const Uo="__dependencyPointElements__",mC="intersectionpoints",_C="zeropoints",vC="extremumpoints",yC="inflectionpoints";class Ge extends Pr{constructor(e,t,r,i,o,s,a,l,u=mt,c=!0,d,f=!0){super(),this.drawerService=e,this.pointsProvider=t,this.dependencyStillActive=s,this.description=a,this.subTypeAndGraphsProvider=l,this.firstInit=d,this.componentType=tA,this.formulaDialogType=GA,this.pointElements=[],this.initializedYet=!1,this.correctVersion=0,this.drawnVersion=0,this._stroke={r:100,g:100,b:100},this._strokeWidth=3,this._radius=5,this.reloadListener=g=>{g!==Uo&&g!==this&&this.reload().catch(m=>console.error(m))},this.removeListener=()=>{this.drawerService.onCanvasElementChanged.removeListener(this.reloadListener)},this._color=u,this._visible=c,this._from=r,this._to=i,this._depth=o,f&&(this.onRemove.addListener(this.removeListener),this.drawerService.onCanvasElementChanged.addListener(this.reloadListener))}get points(){return this.pointElements.map(e=>e.point)}get stroke(){return this._stroke}set stroke(e){this._stroke=e,this.onChange.emit(Uo)}get strokeWidth(){return this._strokeWidth}set strokeWidth(e){this._strokeWidth=e,this.onChange.emit(Uo)}get radius(){return this._radius}set radius(e){this._radius=e,this.onChange.emit(Uo)}get size(){return this.pointElements.length}get from(){return this._from}set from(e){this._from=e,this.onChange.emit(e)}get to(){return this._to}set to(e){this._to=e,this.onChange.emit(e)}get depth(){return this._depth}set depth(e){this._depth=e,this.onChange.emit(e)}reload(){var e=this;return function PI(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){Gv(o,r,i,s,a,"next",l)}function a(l){Gv(o,r,i,s,a,"throw",l)}s(void 0)})}}(function*(){if(e.dependencyStillActive())return e.correctVersion++,new Promise((t,r)=>{setTimeout(()=>{try{const i=e.pointsProvider(e.from,e.to,e.depth);if(!e.initializedYet&&e.firstInit&&e.firstInit(i),e.initializedYet=!0,e.pointElements.length<i.length){const o=i.length-e.pointElements.length;for(let s=0;s<o;s++)e.createPointElement()}else if(e.pointElements.length>i.length){const o=e.pointElements.length-i.length;for(let s=0;s<o;s++)e.pointElements.pop()}for(let o=0;o<i.length;o++)e.pointElements[o].forceSetPoint(i[o]);e.drawnVersion++,e.onChange.emit(Uo),t()}catch(i){e.drawnVersion++,r(i)}})});e.drawerService.removeCanvasElements(e)})()}createPointElement(e={x:0,y:0}){const t=new B(e,this.color,!0);return t.radius=this.radius,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,this.pointElements.push(t),t}draw(e){if(this.correctVersion===this.drawnVersion){const t=-1!==e.selection.indexOf(this);for(let r of this.pointElements)r.color=this.color,r.radius=this.radius,r.stroke=this.stroke,r.strokeWidth=this.strokeWidth,r.selected=t,r.draw(e)}}getDistance(e,t){return Math.min(...this.pointElements.map(r=>r.getDistance(e,t)).filter(r=>void 0!==r))}static createIntersectionPoints(e,t,r,i,o,s,a,l,u=!0){return a=null!=a?a:e.getNewColor(),new Ge(e,(d,f,g)=>{var m,_;const y=T=>O=>{let I=T.func;const vt=La(O)-(T.func.name?La(T.func.name):0);if(vt<0)throw"can't integrate";for(let Tn=0;Tn<vt;Tn++)I=I.derive();return I},b=new rn(new Vn(new Bn(null!==(m=t.func.name)&&void 0!==m?m:"",y(t),new sn("x")),new Bn(null!==(_=r.func.name)&&void 0!==_?_:"",y(r),new sn("x"))),void 0,"x"),v=e.getVariables();return Ho(b,v,d,f,g).map(T=>({x:T,y:t.func.evaluate(T,v)}))},i,o,s,()=>{let d=!1,f=!1;for(let g of e.canvasElements)g===t?d=!0:g===r&&(f=!0);return d&&f},["Schnittpunkte",()=>t.func.name&&r.func.name?`${t.func.name}, ${r.func.name}`:void 0],()=>({graph:t.id,secondGraph:r.id,subType:mC}),a,!0,l,u)}static createZeroPoints(e,t,r,i,o,s,a=!0){return Ge.createDependencyPointElements(e,t,(l,u,c)=>function iA(n,e,t,r,i){return Ho(n,e,t,r,i).map(o=>({x:o,y:n.evaluate(o,e)}))}(t.func,e.getVariables(),l,u,c),r,i,o,_C,"Nullpunkt",s,a)}static createExtremumPoints(e,t,r,i,o,s,a=!0){return t.func.derive(),Ge.createDependencyPointElements(e,t,(l,u,c)=>function oA(n,e,t,r,i){return qy(n,e,t,r,i).map(o=>({x:o,y:n.evaluate(o,e)}))}(t.func,e.getVariables(),l,u,c),r,i,o,vC,"Extrempunkt",s,a)}static createInflectionPoints(e,t,r,i,o,s,a=!0){return t.func.derive(),Ge.createDependencyPointElements(e,t,(l,u,c)=>function aA(n,e,t,r,i){return function sA(n,e,t,r,i){return qy(n.derive(),e,t,r,i)}(n,e,t,r,i).map(o=>({x:o,y:n.evaluate(o,e)}))}(t.func,e.getVariables(),l,u,c),r,i,o,yC,"Wendepunkt",s,a)}static createDependencyPointElements(e,t,r,i,o,s,a,l,u,c=!0){return new Ge(e,r,i,o,s,function xI(n,e){return()=>{for(let t of n.canvasElements)if(t===e)return!0;return!1}}(e,t),function TI(n,e){return[n,()=>e.func.name]}(`${l}e`,t),()=>({graph:t.id,subType:a}),t.color,!0,u,c)}static getDefaultInstance(e){return new Ge(e,()=>[],0,0,1,()=>!0,["",()=>{}],()=>({subType:"",graph:-1}),mt,!0,void 0,!1)}serialize(){const e=this.subTypeAndGraphsProvider();return{subType:e.subType,data:{graph:e.graph,secondGraph:e.secondGraph,depth:this.depth,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,size:this.radius,visible:this.visible}}}loadFrom(e,t){const r=t.data;this.color=t.style.color,this.stroke=t.style.stroke,this.radius=t.style.size,this.strokeWidth=t.style.strokeWidth,this.visible=t.style.visible,this.depth=r.depth,this.from=r.from,this.to=r.to;const i=e[r.graph],o=void 0===r.secondGraph?void 0:e[r.secondGraph];let s;if(t.subType===mC&&i instanceof Le&&o instanceof Le)s=Ge.createIntersectionPoints(this.drawerService,i,o,r.from,r.to,r.depth,void 0,void 0,!1);else if(t.subType===_C&&i instanceof Le)s=Ge.createZeroPoints(this.drawerService,i,r.from,r.to,r.depth,void 0,!1);else if(t.subType===vC&&i instanceof Le)s=Ge.createExtremumPoints(this.drawerService,i,r.from,r.to,r.depth,void 0,!1);else{if(!(t.subType===yC&&i instanceof Le))throw"not known subtype";s=Ge.createInflectionPoints(this.drawerService,i,r.from,r.to,r.depth,void 0,!1)}this.pointsProvider=s.pointsProvider,this.dependencyStillActive=s.dependencyStillActive,this.description=s.description,this.subTypeAndGraphsProvider=s.subTypeAndGraphsProvider}}const $A=["snackbar"];let WA=(()=>{class n{constructor(){}ngOnInit(){}ngAfterViewInit(){var t,r,i,o;const s=this.wrapper.nativeElement;s.textContent=this.message,s.style.background=null!==(r=null===(t=this.snackbarConfig)||void 0===t?void 0:t.background)&&void 0!==r?r:"#333",s.style.color=null!==(o=null===(i=this.snackbarConfig)||void 0===i?void 0:i.color)&&void 0!==o?o:"white"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-snackbar"]],viewQuery:function(t,r){if(1&t&&Pt($A,5),2&t){let i;Tt(i=St())&&(r.wrapper=i.first)}},decls:3,vars:0,consts:[[1,"filler"],[1,"snackbar"],["snackbar",""]],template:function(t,r){1&t&&(h(0,"div",0),me(1,"div",1,2),p())},styles:['@keyframes animateWrapperSnackbar{0%{transform:translateY(100px)}to{transform:translateY(0)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;pointer-events:none;align-items:flex-end;justify-content:center;display:flex}.snackbar[_ngcontent-%COMP%]{padding:10px;border-radius:7px;animation:animateWrapperSnackbar .2s ease-in-out;font-size:13pt;text-align:center;font-family:Segoe UI,Calibri,"sans-serif";user-select:none;pointer-events:all;margin-bottom:10px;box-shadow:0 0 10px #9997}']}),n})(),Ad=(()=>{class n{constructor(){}openSnackbar(t,r){return new Promise((i,o)=>{var s,a;if(!this.rootViewContainerRef)return void o();const l=null!==(s=null==r?void 0:r.duration)&&void 0!==s?s:4e3,u=null===(a=this.rootViewContainerRef)||void 0===a?void 0:a.createComponent(WA);u?(u.instance.message=t,u.instance.snackbarConfig=r,setTimeout(()=>{u.destroy(),i()},l)):o()})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qA=(()=>{class n{constructor(t,r){this.drawerService=t,this.snackbarService=r,this.from=-1,this.to=1,this._depth=10}get depth(){return this._depth}set depth(t){this._depth=Math.floor(t)}evaluateZeroPoints(){try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Ge.createZeroPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,t=>{wa(this.snackbarService,"Nullpunkt",t.length)}))}catch(t){Ma(this.snackbarService)}this.dialog.close()}evaluateExtremumPoints(){try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Ge.createExtremumPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,t=>{wa(this.snackbarService,"Extrempunkt",t.length)}))}catch(t){Ma(this.snackbarService)}this.dialog.close()}evaluateInflectionPoints(){try{if(this.dialogData&&this.dialogData.graph){const t=Ge.createInflectionPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,r=>{wa(this.snackbarService,"Wendepunkt",r.length)});this.drawerService.addCanvasElements(t)}}catch(t){Ma(this.snackbarService)}this.dialog.close()}}return n.\u0275fac=function(t){return new(t||n)(M(an),M(Ad))},n.\u0275cmp=Z({type:n,selectors:[["app-func-analyser-dialog"]],decls:24,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"maths","heading"],[1,"centered","maths"],[1,"paragraph"],[1,"centered"],[3,"from","to","fromChange","toChange"],["type","number","title","Suchtiefe",1,"input",3,"ngModel","ngModelChange"],["title","Extrempunkte berechnen",1,"button","floatRight",3,"click"],["title","Nullpunkte berechnen",1,"button","floatRight",3,"click"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Wendepunkte berechnen",1,"button","floatRight",3,"click"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"p",1),C(2,"Funktion "),h(3,"span",2),C(4),p(),C(5,"analysieren:"),p(),h(6,"p",3),C(7),p(),h(8,"p",4),C(9,"Im Intervall"),p(),h(10,"p",5),h(11,"app-interval",6),E("fromChange",function(o){return r.from=o})("toChange",function(o){return r.to=o}),p(),p(),h(12,"p",4),C(13,"mit der Suchtiefe:"),p(),h(14,"p",3),h(15,"input",7),E("ngModelChange",function(o){return r.depth=o}),p(),p(),h(16,"button",8),E("click",function(){return r.evaluateExtremumPoints()}),C(17,"Extrempunkte"),p(),h(18,"button",9),E("click",function(){return r.evaluateZeroPoints()}),C(19,"Nullpunkte"),p(),h(20,"button",10),E("click",function(){return r.dialog.close()}),C(21,"Schlie\xdfen"),p(),h(22,"button",11),E("click",function(){return r.evaluateInflectionPoints()}),C(23,"Wendepunkte"),p(),p()),2&t&&(w(4),ve(null!=r.dialogData&&null!=r.dialogData.graph&&null!=r.dialogData.graph.func&&r.dialogData.graph.func.name?(null==r.dialogData||null==r.dialogData.graph||null==r.dialogData.graph.func?null:r.dialogData.graph.func.name)+" ":""),w(3),ve(null==r.dialogData||null==r.dialogData.graph||null==r.dialogData.graph.func?null:r.dialogData.graph.func.operationAsString),w(4),x("from",r.from)("to",r.to),w(4),x("ngModel",r.depth))},directives:[ja,Ot,Ne,je,Re],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']}),n})(),YA=(()=>{class n{constructor(t,r){this.drawerService=t,this.snackbarService=r,this.from=-1,this.to=1,this._depth=10}get depth(){return this._depth}set depth(t){this._depth=Math.floor(t)}getFuncName(t){return t&&t.func.name?` ${t.func.name}`:""}evaluateIntersectionPoints(){let t=!1;try{this.dialogData&&this.dialogData.graph1&&this.dialogData.graph2?this.drawerService.addCanvasElements(Ge.createIntersectionPoints(this.drawerService,this.dialogData.graph1,this.dialogData.graph2,this.from,this.to,this.depth,this.dialogData.color,s=>{wa(this.snackbarService,"Schnittpunkt",s.length)})):t=!0}catch(r){t=!0}t&&Ma(this.snackbarService),this.dialog.close()}}return n.\u0275fac=function(t){return new(t||n)(M(an),M(Ad))},n.\u0275cmp=Z({type:n,selectors:[["app-intersection-dialog"]],decls:29,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"maths"],[1,"centered","maths"],[1,"centered"],[3,"from","to","fromChange","toChange"],["type","number","title","Suchtiefe",1,"input",3,"ngModel","ngModelChange"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Schnittpunkte berechnen",1,"button","floatRight",3,"click"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"p",1),C(2,"Schnittpunkte berechnen"),p(),h(3,"p",2),C(4,"Von"),h(5,"span",3),C(6),p(),C(7,":"),p(),h(8,"p",4),C(9),p(),h(10,"p",2),C(11,"Und"),h(12,"span",3),C(13),p(),C(14,":"),p(),h(15,"p",4),C(16),p(),h(17,"p",2),C(18,"Im Intervall"),p(),h(19,"p",5),h(20,"app-interval",6),E("fromChange",function(o){return r.from=o})("toChange",function(o){return r.to=o}),p(),p(),h(21,"p",2),C(22,"mit der Suchtiefe:"),p(),h(23,"p",4),h(24,"input",7),E("ngModelChange",function(o){return r.depth=o}),p(),p(),h(25,"button",8),E("click",function(){return r.dialog.close()}),C(26,"Schlie\xdfen"),p(),h(27,"button",9),E("click",function(){return r.evaluateIntersectionPoints()}),C(28,"Schnittpunkte"),p(),p()),2&t&&(w(6),ve(r.getFuncName(null==r.dialogData?null:r.dialogData.graph1)),w(3),ve(null==r.dialogData||null==r.dialogData.graph1||null==r.dialogData.graph1.func?null:r.dialogData.graph1.func.operationAsString),w(4),ve(r.getFuncName(null==r.dialogData?null:r.dialogData.graph2)),w(3),ve(null==r.dialogData||null==r.dialogData.graph2||null==r.dialogData.graph2.func?null:r.dialogData.graph2.func.operationAsString),w(4),x("from",r.from)("to",r.to),w(4),x("ngModel",r.depth))},directives:[ja,Ot,Ne,je,Re],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']}),n})();const QA=function(n){return{error:n}};let ZA=(()=>{class n extends rr{constructor(t,r){super(),this.drawerService=t,this.dialogService=r,this.errorMessage=void 0,this._canvasElement=new Le(new rn(new V(0))),this._canvasElement.configuration.formula="0"}set canvasElement(t){t.configuration.formula||(t.configuration.formula=""),this.errorMessage=void 0,this._canvasElement=t}get canvasElement(){return this._canvasElement}onChange(t){if(t!==this.canvasElement.configuration.formula||this.canvasElement.func.stopEvaluation){let r=this.drawerService.parseAndValidateFunc(t);r instanceof rn?(this.errorMessage=void 0,this.canvasElement.func=r,this.canvasElement.func.stopEvaluation=!1,this.canvasElement.configuration.formula=t):(this.errorMessage=r,this.canvasElement.func.stopEvaluation=!0,this.canvasElement.onChange.emit())}}derive(){try{let t=new Le(this.canvasElement.func.derive(),this.drawerService.getNewColor());t.configuration.editable=!0,t.configuration.formula=t.func.operationAsString,this.drawerService.addCanvasElements(t)}catch(t){}}duplicate(){var t;try{let r=this.canvasElement.configuration.formula;if(r){let i=new Uv(r,this.drawerService.funcProvider).parse(),o=new Le(i,this.canvasElement.color,this.canvasElement.visible,this.canvasElement.lineWidth);o.configuration={formula:r,editable:null!==(t=this.canvasElement.configuration.editable)&&void 0!==t&&t},this.drawerService.addCanvasElements(o)}}catch(r){}}canDerive(){try{return this.canvasElement.func.derive(),!0}catch(t){return!1}}get contextMenu(){return{elements:()=>{const t=this.drawerService.selection.toArray(),r=-1!==t.indexOf(this.canvasElement)&&2===t.length&&t[0]instanceof Le&&t[1]instanceof Le;return[{header:"Ableiten",click:()=>{this.derive()},disabled:!this.canDerive()||void 0!==this.errorMessage,icon:"south_east",title:"Diese Funktion ableiten."},{header:"Duplizieren",icon:"content_copy",disabled:void 0!==this.errorMessage,click:()=>{this.duplicate()},title:"Diese Funktion duplizieren."},{header:"Analysieren",icon:"query_stats",click:()=>{var o;null===(o=this.dialogService.createDialog(qA))||void 0===o||o.open({graph:this.canvasElement})},title:"Nullpunkte, Extrempunkte oder Wendepunkte dieser Funktion bestimmen."},{header:"Bestimmtes Integral",click:()=>{this.drawerService.addCanvasElements(new Ni(this.canvasElement,void 0,-1,1,.1,this.canvasElement.color))},icon:"monitoring"},{header:"Schnittpunkte bestimmen",disabled:!r,click:()=>{var o;r&&(null===(o=this.dialogService.createDialog(YA))||void 0===o||o.open({graph1:t[0],graph2:t[1]}))},title:r?"Schnittpunkte der beiden ausgew\xe4hlten Funktionen berechnen.":"Um Schnittpunkte zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"multiline_chart"},{header:"Fl\xe4che zwischen Graphen",disabled:!r,click:()=>{r&&this.drawerService.addCanvasElements(new Ni(t[0],t[1],-1,1,.1,this.drawerService.getNewColor()))},title:r?"Fl\xe4che zwischen den Graphen der beiden ausgew\xe4hlten Funktionen berechnen.":"Um die Fl\xe4che zwischen den Graphen zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"stacked_line_chart"}]},additionalEvent:this.threePointsClickedEvent}}get color(){return gt(this.canvasElement.color)}}return n.\u0275fac=function(t){return new(t||n)(M(an),M(Bo))},n.\u0275cmp=Z({type:n,selectors:[["app-graph-formula"]],inputs:{canvasElement:"canvasElement"},features:[U],decls:7,vars:8,consts:[[1,"wrapper",3,"ngClass"],[3,"color","visible","colorChange","visibleChange"],["autocomplete","off",1,"input",3,"title","value","disabled","keyup"],["inp",""],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(t,r){if(1&t){const i=wr();h(0,"div",0),h(1,"app-color-circle",1),E("colorChange",function(s){return r.canvasElement.color=s})("visibleChange",function(s){return r.canvasElement.visible=s}),p(),h(2,"input",2,3),E("keyup",function(){Rt(i);const s=function lg(n){return function Br(n,e){return n[e]}(function Ub(){return N.lFrame.contextLView}(),20+n)}(3);return r.onChange(s.value)}),p(),h(4,"button",4),E("click",function(s){return r.threePointsClicked(s)}),h(5,"span",5),C(6,"more_vert"),p(),p(),p()}if(2&t){let i;x("ngClass",Fe(6,QA,void 0!==r.errorMessage)),w(1),x("color",r.canvasElement.color)("visible",r.canvasElement.visible),w(1),x("title",null!==(i=r.errorMessage)&&void 0!==i?i:"")("value",r.canvasElement.configuration.formula)("disabled",!r.canvasElement.configuration.editable)}},directives:[en,Ir],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--margin: 16px}.wrapper.error[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:#ffcccc!important}.input[_ngcontent-%COMP%]{--padding: 7px;width:calc(100% - 2 * (var(--padding) + var(--buttonSize) + var(--margin)));margin-left:calc(var(--margin) + var(--buttonSize))}']}),n})();function CC(n,e,t){const r=(e.y-t.y)/(e.x-t.x),i=(n.y+n.x/r-e.y+r*e.x)/(r+1/r);return Math.sqrt((n.x-i)**2+(n.y-(r*i+e.y-r*e.x))**2)}const Go=.3,$o=2.5;class Le extends Pr{constructor(e,t={r:0,g:0,b:0},r=!0,i=3,o=!0){super(),this.lineWidth=i,this.componentType=ZA,this.formulaDialogType=void 0,this._func=e,this.configuration.label=null==e?void 0:e.name,this.configuration.showLabel=o,this._color=t,this._visible=r}get func(){return this._func}set func(e){this._func=e,this.configuration.label=e.name,this.onChange.emit(e)}draw(e){const t=[];let r=[];const i=e.range,o=e.step;let s=o;const a=-1!==e.selection.indexOf(this),l=nn(this._color,Go),u=this.lineWidth*$o,c=(_,y)=>{if(void 0!==y){const b=_/(0===y?1:y);if(Math.abs(_)>10){if(b<0)return!0;if(b>15)return!0}}return!1},d=_=>{try{const y=this._func.evaluate(_,e.variables);if(isFinite(y))return{x:_,y}}catch(y){}};let f,g,m;for(let _=i.x;_<i.x+i.width;_+=s){let y=!1;const b=d(_);if(b||(y=!0,m=void 0),b&&g){const v=(b.y-g.y)/(b.x-g.x);y=y||c(v,f),f=y?void 0:v,s=o/Math.min(Math.max(1,Math.abs(v/5)),15)}if(b&&!Io(b,i)){if(m||_===i.x){if(!y&&m&&Se(i.y,m.y,b.y)){const T=d((m.x+b.x)/2);T&&Se(T.y,m.y,b.y)&&r.push(m,T,b)}y=!0}m=b}else b&&(m&&void 0!==f&&!y&&(r.push(m),f=(b.y-m.y)/(b.x-m.x)),m=void 0);b&&!y&&r.push(b),g=b,y&&0!=r.length&&(t.push(r),r=[])}0!=r.length&&t.push(r);for(let _ of t)e.drawPath(_,this.lineWidth,this._color,void 0,this.configuration.dashed),a&&e.drawPath(_,u,l,void 0,this.configuration.dashed)}getDistance(e,t){try{const r=e.x-t.step,i=e.x,o=e.x+t.step,s={x:r,y:this.func.evaluate(r,t.variables)},a={x:i,y:this.func.evaluate(i,t.variables)},l={x:o,y:this.func.evaluate(o,t.variables)};let u=CC(e,s,a),c=CC(e,a,l);if(u=isFinite(u)?u:1/0,c=isFinite(c)?c:1/0,u!==1/0||c!==1/0)return Math.min(u,c)}catch(r){}try{return Math.abs(e.y-this.func.evaluate(e.x,t.variables))}catch(r){}}static getDefaultInstance(){return new Le(void 0)}serialize(){return{data:{formula:this.configuration.formula},style:{color:this.color,visible:this.visible,size:this.lineWidth}}}loadFrom(e,t,r){var i;this.color=t.style.color,this.visible=t.style.visible,this.lineWidth=null!==(i=t.style.size)&&void 0!==i?i:this.lineWidth;const o=t.data;if(void 0!==o.formula){const s=r.parseAndValidateFunc(o.formula,!1);s instanceof rn?(this.func=s,this.func.stopEvaluation=!1):this.func.stopEvaluation=!0}}getPositionForLabel(e){const t=on(e.range);try{const o=t.x+t.width-.1*t.width;return{x:o,y:this.func.evaluate(o)+.05*t.height}}catch(r){return}}}const KA=["wrapper"],XA=function(n){return{color:n}},JA=function(n){return{disabled:n}};function eF(n,e){if(1&n){const t=wr();h(0,"div",3),E("click",function(i){const s=Rt(t).$implicit;return _e().click(i,s)})("keydown",function(i){const s=Rt(t).$implicit;return _e().onTabKeyboard(i,s)}),h(1,"p"),C(2),p(),h(3,"span",4),C(4),p(),p()}if(2&n){const t=e.$implicit;let r,i;x("title",null!==(r=t.title)&&void 0!==r?r:"")("ngStyle",Fe(5,XA,null!==(i=t.color)&&void 0!==i?i:"black"))("ngClass",Fe(7,JA,t.disabled)),w(2),ve(t.header),w(2),ve(t.icon)}}let tF=(()=>{class n{constructor(){this.elements=[],this._contextMenu={elements:()=>[]},this._position={x:0,y:0}}get contextMenu(){return this._contextMenu}set contextMenu(t){this._contextMenu=t,this.elements=t.elements()}get position(){if(this.wrapperElement){const t={width:window.innerWidth,height:window.innerHeight},r=this.wrapperElement.getBoundingClientRect();return{x:Math.min(this._position.x,t.width-r.width),y:Math.min(this._position.y,t.height-r.height)}}return this._position}set position(t){this._position=t}ngAfterViewInit(){this.wrapperElement=this.wrapper.nativeElement,this.setPosition()}setPosition(){if(this.wrapperElement){const t=this.position;this.wrapperElement.style.left=`${t.x}px`,this.wrapperElement.style.top=`${t.y}px`}}click(t,r){!r.disabled&&r.click&&r.click(t)}onTabKeyboard(t,r){("Enter"==t.key||" "==t.key)&&this.click(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-context-menu"]],viewQuery:function(t,r){if(1&t&&Pt(KA,5),2&t){let i;Tt(i=St())&&(r.wrapper=i.first)}},decls:3,vars:1,consts:[[1,"wrapper"],["wrapper",""],["class","element","tabindex","0",3,"title","ngStyle","ngClass","click","keydown",4,"ngFor","ngForOf"],["tabindex","0",1,"element",3,"title","ngStyle","ngClass","click","keydown"],[1,"material-symbols-outlined"]],template:function(t,r){1&t&&(h(0,"div",0,1),Ee(2,eF,5,9,"div",2),p()),2&t&&(w(2),x("ngForOf",r.elements))},directives:[xi,Pi,en],styles:['.element[_ngcontent-%COMP%]{--height: 30px;--sizeIcon: 30px;--marginToIcon: 5px;height:var(--height);user-select:none;line-height:var(--height);padding:7px;font-size:12pt;font-family:Segoe UI,sans-serif;border-radius:var(--borderRadius);background:white;transition:.1s all ease-in-out}.element[_ngcontent-%COMP%]:hover{background:#eee}.element[_ngcontent-%COMP%]:active{background:#ccc}.element.disabled[_ngcontent-%COMP%]{color:gray!important}.element.disabled[_ngcontent-%COMP%]:hover, .element.disabled[_ngcontent-%COMP%]:active{background:white}.element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:calc(var(--sizeIcon) + var(--marginToIcon));margin-top:0;margin-bottom:0}@keyframes start{0%{opacity:0;transform:scale(1)}to{opacity:1}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:white;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;transform-origin:top left;animation:.1s start ease-in-out;z-index:1}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translateY(-27.5px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']}),n})(),bC=(()=>{class n{constructor(t){this.vc=t,this.contextmenuDocumentEventListener=r=>{(r instanceof PointerEvent||r instanceof MouseEvent)&&-1===r.composedPath().indexOf(this.element)&&this.destroyContextMenu()},this.keyboardDocumentEventListener=r=>{r instanceof KeyboardEvent&&"Escape"==r.key&&this.destroyContextMenu()},this.closeContextMenuEventListener=r=>{r!==this.skipEvent&&this.destroyContextMenu(),this.skipEvent=void 0},this.contextmenuEventListener=r=>{(r instanceof PointerEvent||r instanceof MouseEvent)&&(r.preventDefault(),this.showContextMenuAt({x:r.x,y:r.y}))},this.customContextMenuActivateListener=r=>{var i;let o=r?r[0]:void 0;this.skipEvent=r?r[1]:void 0,!o&&this._appContextMenu&&(o=this._appContextMenu.defaultPopUpPosition),o||(o=null!==(i=this.element.getBoundingClientRect())&&void 0!==i?i:{x:0,y:0}),this.showContextMenuAt(o)},this.element=t.element.nativeElement,this.element.addEventListener("contextmenu",this.contextmenuEventListener)}get appContextMenu(){return this._appContextMenu}set appContextMenu(t){this._appContextMenu&&this._appContextMenu.additionalEvent&&this._appContextMenu.additionalEvent.removeListener(this.customContextMenuActivateListener),t&&t.additionalEvent&&t.additionalEvent.addListener(this.customContextMenuActivateListener),this._appContextMenu=t}ngOnDestroy(){this.element.removeEventListener("contextmenu",this.contextmenuEventListener),this.destroyContextMenu()}showContextMenuAt(t){this.destroyContextMenu(),this._appContextMenu&&(this.contextMenu=this.vc.createComponent(tF),this.contextMenu.instance.position=t,this.contextMenu.instance.contextMenu=this._appContextMenu,document.addEventListener("click",this.closeContextMenuEventListener),document.addEventListener("wheel",this.closeContextMenuEventListener),document.addEventListener("contextmenu",this.contextmenuDocumentEventListener),document.addEventListener("keydown",this.keyboardDocumentEventListener))}destroyContextMenu(){this.contextMenu&&(this.contextMenu.destroy(),this.contextMenu=void 0,document.removeEventListener("click",this.closeContextMenuEventListener),document.removeEventListener("wheel",this.closeContextMenuEventListener),document.removeEventListener("contextmenu",this.contextmenuDocumentEventListener),document.removeEventListener("keydown",this.keyboardDocumentEventListener))}}return n.\u0275fac=function(t){return new(t||n)(M(ze))},n.\u0275dir=k({type:n,selectors:[["","appContextMenu",""]],inputs:{appContextMenu:"appContextMenu"}}),n})();const nF=["formula"],rF=function(n){return{selected:n}};let iF=(()=>{class n{constructor(t,r){this.drawerService=t,this.dialogService=r}ngAfterViewInit(){setTimeout(()=>{this.formulaElementComp=this.formula.createComponent(this.canvasElement.componentType).instance,this.formulaElementComp.canvasElement=this.canvasElement})}get selected(){return this.drawerService.selection.contains(this.canvasElement||void 0)}getContextMenuElementsFromFormulaElement(){return this.formulaElementComp?this.formulaElementComp.contextMenu.elements():[]}get completeContextMenu(){var t,r;return{elements:()=>{const o=this.selected,s=[...void 0!==this.canvasElement.formulaDialogType?[{header:"Anzeigen",click:()=>{var a;null===(a=this.dialogService.createDialog(this.canvasElement.formulaDialogType))||void 0===a||a.open(this.canvasElement)},icon:"visibility",title:"Element anzeigen und bearbeiten."}]:[],...this.getContextMenuElementsFromFormulaElement(),{header:o?"Auswahl entfernen":"Ausw\xe4hlen",click:()=>{this.drawerService.selection.alternate(this.canvasElement||void 0)},icon:o?"remove_done":"done",title:"Dieses Element ausw\xe4hlen."},{header:"L\xf6schen",color:"red",click:()=>{this.drawerService.removeCanvasElements(this.canvasElement)},icon:"delete",title:"Dieses Element l\xf6schen."}];return o&&s.push({header:"Auswahl l\xf6schen",click:()=>{this.drawerService.removeCanvasElements(...this.drawerService.selection.toArray())},color:"red",icon:"delete_sweep",title:"Alle ausgew\xe4hlten Elemente l\xf6schen."}),s},additionalEvent:null===(t=this.formulaElementComp)||void 0===t?void 0:t.contextMenu.additionalEvent,defaultPopUpPosition:null===(r=this.formulaElementComp)||void 0===r?void 0:r.contextMenu.defaultPopUpPosition}}}return n.\u0275fac=function(t){return new(t||n)(M(an),M(Bo))},n.\u0275cmp=Z({type:n,selectors:[["app-formula-element"]],viewQuery:function(t,r){if(1&t&&Pt(nF,5,ze),2&t){let i;Tt(i=St())&&(r.formula=i.first)}},inputs:{canvasElement:"canvasElement"},decls:3,vars:4,consts:[[1,"wrapper",3,"appContextMenu","ngClass"],[1,"formula"],["formula",""]],template:function(t,r){1&t&&(h(0,"div",0),me(1,"div",1,2),p()),2&t&&x("appContextMenu",r.completeContextMenu)("ngClass",Fe(2,rF,r.selected))},directives:[bC,en],styles:[".wrapper[_ngcontent-%COMP%]{padding:15px;background:#fcfcfc;border:1px solid transparent;border-bottom:1px solid #ccc}.selected[_ngcontent-%COMP%]{border:1px solid black;border-radius:7px}.formula[_ngcontent-%COMP%]{display:none}"]}),n})();function oF(n,e){1&n&&me(0,"app-formula-element",3),2&n&&x("canvasElement",e.$implicit)}let sF=(()=>{class n{constructor(t){this.drawerService=t,this.contextMenu={elements:()=>[{header:"Funktion hinzuf\xfcgen",click:()=>{this.addGraph()},icon:"show_chart",title:"Eine Funktion hinzuf\xfcgen."},{header:"Punkt hinzuf\xfcgen",click:()=>{this.addPoint()},icon:"radio_button_checked",title:"Einen Punkt hinzuf\xfcgen."},{header:"Kurve hinzuf\xfcgen",click:()=>{this.addCurve()},icon:"gesture",title:"Eine Kurve hinzuf\xfcgen."},{header:"Alle l\xf6schen",click:()=>{this.drawerService.emptyCanvasElements()},icon:"delete",color:"red",title:"Alle Elemente l\xf6schen."}]}}ngOnInit(){}addClick(){this.addGraph()}keyboardAdd(t){("Enter"==t.key||" "==t.key)&&this.addClick()}addGraph(){const t=new Le(new rn(new V(0)),this.drawerService.getNewColor());t.configuration.formula="0",t.configuration.editable=!0,this.drawerService.addCanvasElements(t)}addPoint(){const t=new ur(r=>this.drawerService.parseAndValidateOperation(r),this.drawerService.getNewColor());this.drawerService.addCanvasElements(t)}addCurve(){const t=new cr((r,i)=>this.drawerService.parseAndValidateOperation(r,!0,i),this.drawerService.getNewColor());this.drawerService.addCanvasElements(t)}}return n.\u0275fac=function(t){return new(t||n)(M(an))},n.\u0275cmp=Z({type:n,selectors:[["app-formula-tab"]],decls:6,vars:2,consts:[[3,"canvasElement",4,"ngFor","ngForOf"],["tabindex","0",1,"addDiv",3,"appContextMenu","click","keydown"],[1,"material-symbols-outlined"],[3,"canvasElement"]],template:function(t,r){1&t&&(Ee(0,oF,1,1,"app-formula-element",0),h(1,"div",1),E("click",function(){return r.addClick()})("keydown",function(o){return r.keyboardAdd(o)}),h(2,"p"),h(3,"span",2),C(4,"add"),p(),C(5," Hinzuf\xfcgen "),p(),p()),2&t&&(x("ngForOf",r.drawerService.canvasElements),w(1),x("appContextMenu",r.contextMenu))},directives:[xi,iF,bC],styles:['.addDiv[_ngcontent-%COMP%]{height:62px;background:#fcfcfc;transition:.1s all ease-in-out;line-height:62px}.addDiv[_ngcontent-%COMP%]:hover{background:#eee}.addDiv[_ngcontent-%COMP%]:active{background:#ddd}p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;user-select:none;margin:0;height:100%;width:100%;display:inline-block;font-family:Segoe UI,Calibri,"sans-serif";font-size:13pt}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translate(-5px,6px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']}),n})();const aF=["canvas"],lF=["wrapper"];let uF=(()=>{class n{constructor(t){this.drawerService=t,this._range=t.renderingContext.range,this._zoom=t.zoom}get x(){return this._range.x}set x(t){this._range.x=t,this.reload()}get y(){return this._range.y}set y(t){this._range.y=t,this.reload()}get width(){return Math.abs(this._range.width)}set width(t){this._range.width=Math.abs(t),this.reload()}get height(){return Math.abs(this._range.height)}set height(t){this._range.height=Math.abs(t),this.reload()}get zoom(){return this._zoom}set zoom(t){t>0&&(this._zoom=t,this.reload())}ngOnInit(){}ngAfterViewInit(){this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.reload()}download(){const t=document.createElement("canvas");this.drawToCanvas(t);const r=document.createElement("a");r.download="export.png",r.href=t.toDataURL(),r.click(),this.dialog.close()}drawToCanvas(t){this.drawerService.drawToCanvas(t,{x:0,y:0,width:this.width*this.zoom,height:this.height*this.zoom},{translateX:-this.x,translateY:-this.y,zoom:this.zoom})}reload(){this.canvasEl&&this.drawToCanvas(this.canvasEl)}}return n.\u0275fac=function(t){return new(t||n)(M(an))},n.\u0275cmp=Z({type:n,selectors:[["app-screenshot-dialog"]],viewQuery:function(t,r){if(1&t&&(Pt(aF,5),Pt(lF,5)),2&t){let i;Tt(i=St())&&(r.canvas=i.first),Tt(i=St())&&(r.wrapper=i.first)}},decls:28,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"centered","maths"],["type","number","title","x",1,"input",3,"ngModel","ngModelChange"],["type","number","title","y",1,"input",3,"ngModel","ngModelChange"],["type","number","title","Breite",1,"input",3,"ngModel","ngModelChange"],["type","number","title","H\xf6he",1,"input","leftMargin",3,"ngModel","ngModelChange"],["type","number","title","Zoom",1,"input",3,"ngModel","ngModelChange"],[1,"canvasWrapper"],["wrapper",""],["id","canvas",1,"canvas"],["canvas",""],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Download",1,"button","floatRight",3,"click"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"p",1),C(2,"Screenshot machen"),p(),h(3,"p",2),C(4,"Startpunkt:"),p(),h(5,"p",3),C(6," ("),h(7,"input",4),E("ngModelChange",function(o){return r.x=o}),p(),C(8,"| "),h(9,"input",5),E("ngModelChange",function(o){return r.y=o}),p(),C(10,") "),p(),h(11,"p",2),C(12,"Breite und H\xf6he:"),p(),h(13,"p",3),h(14,"input",6),E("ngModelChange",function(o){return r.width=o}),p(),h(15,"input",7),E("ngModelChange",function(o){return r.height=o}),p(),p(),h(16,"p",2),C(17,"Zoom:"),p(),h(18,"p",3),h(19,"input",8),E("ngModelChange",function(o){return r.zoom=o}),p(),p(),h(20,"div",9,10),me(22,"canvas",11,12),p(),h(24,"button",13),E("click",function(){return r.dialog.close()}),C(25,"Schlie\xdfen"),p(),h(26,"button",14),E("click",function(){return r.download()}),C(27,"Download"),p(),p()),2&t&&(w(7),x("ngModel",r.x),w(2),x("ngModel",r.y),w(5),x("ngModel",r.width),w(1),x("ngModel",r.height),w(4),x("ngModel",r.zoom))},directives:[Ot,Ne,je,Re],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:100px;display:unset}.leftMargin[_ngcontent-%COMP%]{margin-left:15px}.canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.canvasWrapper[_ngcontent-%COMP%]{padding:0;max-width:75vw}']}),n})(),dF=(()=>{class n{constructor(t,r){this.drawerService=t,this.dialogService=r}ngOnInit(){}screenshot(){var t;null===(t=this.dialogService.createDialog(uF))||void 0===t||t.open()}download(){const t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.drawerService.serialize())),r=document.createElement("a");r.href=t,r.download="download.json",r.click(),localStorage.setItem("serialized",JSON.stringify(this.drawerService.serialize()))}openFile(){var t;let r=document.getElementById("inp");if(r.files){const i=null===(t=r.files)||void 0===t?void 0:t.item(0);null==i||i.text().then(o=>{try{this.drawerService.loadFrom(JSON.parse(o))}catch(s){}})}}reset(){try{this.drawerService.loadFrom({canvasElements:[],backgroundColor:{r:255,g:255,b:255},transformations:{translateX:7,translateY:-5,zoom:100},showGrid:!0,showGridNumbers:!0})}catch(t){}}}return n.\u0275fac=function(t){return new(t||n)(M(an),M(Bo))},n.\u0275cmp=Z({type:n,selectors:[["app-settings-tab"]],decls:26,vars:4,consts:[[1,"wrapper"],[1,"showGrid","settingsContainer"],["type","checkbox","id","showGrid",3,"ngModel","ngModelChange"],["for","showGrid"],[1,"showGridNumbers","settingsContainer"],["type","checkbox","id","showGridNumbers",3,"ngModel","disabled","ngModelChange"],["for","showGridNumbers"],[1,"drawPointsEqually","settingsContainer"],["type","checkbox","id","drawPointsEqually",3,"ngModel","ngModelChange"],["for","drawPointsEqually"],[1,"screenshotDiv","settingsContainer"],["title","Mache ein Screenshot",1,"button",3,"click"],[1,"downloadDiv","settingsContainer"],["title","Speicher in einer Datei",1,"button",3,"click"],[1,"openDiv","settingsContainer"],[1,"button","inpButton"],["title","Lade aus einer Datei","id","inp","type","file","accept",".json",3,"change"],[1,"resetDiv","settingsContainer"],["title","Alles zur\xfccksetzen",1,"button",3,"click"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"div",1),h(2,"input",2),E("ngModelChange",function(o){return r.drawerService.showGrid=o}),p(),h(3,"label",3),C(4,"Koordinatengitter anzeigen"),p(),p(),h(5,"div",4),h(6,"input",5),E("ngModelChange",function(o){return r.drawerService.showGridNumbers=o}),p(),h(7,"label",6),C(8,"Achsenbeschriftung anzeigen"),p(),p(),h(9,"div",7),h(10,"input",8),E("ngModelChange",function(o){return r.drawerService.drawPointsEqually=o}),p(),h(11,"label",9),C(12,"Punkte auf gleicher Ebene zeichnen"),p(),p(),h(13,"div",10),h(14,"button",11),E("click",function(){return r.screenshot()}),C(15,"Screenshot"),p(),p(),h(16,"div",12),h(17,"button",13),E("click",function(){return r.download()}),C(18,"Herunterladen"),p(),p(),h(19,"div",14),h(20,"button",15),C(21," \xd6ffnen "),h(22,"input",16),E("change",function(){return r.openFile()}),p(),p(),p(),h(23,"div",17),h(24,"button",18),E("click",function(){return r.reset()}),C(25,"Zur\xfccksetzen"),p(),p(),p()),2&t&&(w(2),x("ngModel",r.drawerService.showGrid),w(4),x("ngModel",r.drawerService.showGridNumbers)("disabled",!r.drawerService.showGrid),w(4),x("ngModel",r.drawerService.drawPointsEqually))},directives:[Ii,je,Re],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eeeeee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#dddddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:white;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eeeeee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#dddddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{padding:16px;font-family:Segoe UI,Calibri,"sans-serif";font-size:11pt;user-select:none}.settingsContainer[_ngcontent-%COMP%]{margin-bottom:7px}.settingsContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:7px}.inpButton[_ngcontent-%COMP%]{position:relative}#inp[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}']}),n})();class fF extends jn{click(e,t,r,i){e.addCanvasElements(new B(r,e.getNewColor()))}}class hF extends jn{pointerMove(e,t,r,i,o){if(0===e.selection.size)super.pointerMove(e,t,r,i,o);else for(let s of e.selection.toArray())s instanceof B&&void 0!==s.x&&void 0!==s.y&&!s.dependent&&(s.x+=i.x-r.x,s.y+=i.y-r.y)}click(e,t,r,i){e.setSelection(r,!i.ctrlKey,o=>o instanceof B&&!o.dependent)}}class dr extends jn{constructor(e,t){super(),this.types1=e,this.types2=t}click(e,t,r,i){e.selection.empty();const o=e.getSelection(r,s=>void 0===this.selectedElement&&(xn(s,...this.types1)||xn(s,...this.types2))||xn(this.selectedElement,...this.types1)&&xn(s,...this.types2)||xn(this.selectedElement,...this.types2)&&xn(s,...this.types1));void 0!==o&&o!==this.selectedElement?void 0!==this.selectedElement?(xn(this.selectedElement,...this.types1)&&xn(o,...this.types2)?this.addCanvasElement(e,this.selectedElement,o):xn(this.selectedElement,...this.types2)&&xn(o,...this.types1)&&this.addCanvasElement(e,o,this.selectedElement),this.selectedElement=void 0):(this.selectedElement=o,e.selection.set(o)):this.selectedElement=void 0}}function xn(n,...e){for(let t of e)if(n instanceof t)return!0;return!1}class pF extends dr{constructor(){super([B,ee],[B,ee])}addCanvasElement(e,t,r){e.addCanvasElements(K.createConnection(t,r))}}class gF extends dr{constructor(){super([B,ee],[B,ee])}addCanvasElement(e,t,r){e.addCanvasElements(new et(()=>[t.point,r.point],[t,r],()=>({p1:t.id,p2:r.id}),Ue,"Verbindungsstrecke"))}}class mF extends dr{constructor(){super([B,ee],[B,ee])}addCanvasElement(e,t,r){e.addCanvasElements(new dt(()=>t.point,()=>void 0!==t.point&&void 0!==r.point?Math.sqrt((t.point.x-r.point.x)**2+(t.point.y-r.point.y)**2):void 0,[t,r],()=>({center:t.id,scdPoint:r.id}),Ue,"Verbindungskreis"))}}class DC extends dr{constructor(){super([B,ee],[B,ee])}click(e,t,r,i){const o=e.getSelection(r,s=>s instanceof et);void 0!==o?this.addCanvasElementFromLineSegment(e,o):super.click(e,t,r,i)}}class _F extends DC{addCanvasElement(e,t,r){e.addCanvasElements(K.createBisectionByPoints(t,r))}addCanvasElementFromLineSegment(e,t){e.addCanvasElements(K.createBisectionByLineSegment(t))}}class vF extends dr{constructor(){super([B,ee],[K,et])}addCanvasElement(e,t,r){e.addCanvasElements(K.createParallel(t,r))}}class yF extends dr{constructor(){super([B,ee],[K,et])}addCanvasElement(e,t,r){e.addCanvasElements(K.createOrthogonal(t,r))}}class CF extends dr{constructor(){super([K,et,dt],[K,et,dt])}addCanvasElement(e,t,r){const i=ee.createIntersectionPoints(t,r);e.addCanvasElements(...i)}}class bF extends DC{addCanvasElement(e,t,r){e.addCanvasElements(ee.createMiddlePointByPoints(t,r))}addCanvasElementFromLineSegment(e,t){e.addCanvasElements(ee.createMiddlePointByLineSegment(t))}}class wC extends jn{click(e,t,r,i){const o=e.getSelection(r,s=>s instanceof B);if(void 0!==o){if(o===this.clickedElement1)return this.clickedElement1=this.clickedElement2,this.clickedElement2=void 0,void e.selection.remove(o);if(o===this.clickedElement2)return this.clickedElement2=void 0,void e.selection.remove(o);if((void 0===this.clickedElement1&&void 0===this.clickedElement2||void 0!==this.clickedElement1&&void 0!==this.clickedElement2)&&e.selection.empty(),void 0===this.clickedElement1)return this.clickedElement1=o,void e.selection.set(o);if(void 0===this.clickedElement2)return this.clickedElement2=o,void e.selection.alternate(o);this.addCanvasElement(e,this.clickedElement1,this.clickedElement2,o)}else e.selection.empty(),this.clickedElement1=void 0,this.clickedElement2=void 0}}class DF extends wC{addCanvasElement(e,t,r,i){e.addCanvasElements(K.createAngleBisector(r,t,i))}}class wF extends dr{constructor(){super([B,ee],[dt])}addCanvasElement(e,t,r){e.addCanvasElements(...K.createTangens(t,r))}}class MF extends jn{constructor(){super(...arguments),this.transformInvisibleColor=e=>nn(e)}click(e,t,r,i){const o=e.getSelection(r,()=>!0,!1);void 0!==o&&(o.visible=!o.visible)}}class EF extends jn{click(e,t,r,i){const o=e.getSelection(r);void 0!==o&&(o.configuration.showLabel=!0!==o.configuration.showLabel,e.onCanvasElementChanged.emit(o))}}class xF extends jn{pointerMove(e,t,r,i,o){if(0===e.selection.size)super.pointerMove(e,t,r,i,o);else for(let s of e.selection.toArray())if(s.configuration.showLabel&&s.configuration.label){const a=t.range,l=(i.x-r.x)/Math.abs(a.width),u=(i.y-r.y)/Math.abs(a.height);s.labelTranslateX+=l,s.labelTranslateY+=u}}click(e,t,r,i){e.setSelection(r,!i.ctrlKey)}}class TF extends wC{addCanvasElement(e,t,r,i){e.addCanvasElements(new Or([t,r,i],e.getNewColor()))}}const PF=function(n){return{active:n}};function SF(n,e){if(1&n){const t=wr();h(0,"div",5),E("click",function(){return Rt(t).$implicit.click()}),me(1,"img",6),h(2,"p"),C(3),p(),p()}if(2&n){const t=e.$implicit;x("title",t.tooltip)("ngClass",Fe(4,PF,t.isActivated())),w(1),x("src","./assets/"+t.icon+".svg",Wl),w(2),ve(t.title)}}function IF(n,e){if(1&n&&(h(0,"div",2),h(1,"p",3),C(2),p(),Ee(3,SF,4,6,"div",4),p()),2&n){const t=e.$implicit;w(2),ve(t.name),w(1),x("ngForOf",t.modes)}}let OF=(()=>{class n{constructor(t){this.drawerService=t,this.groups=[{name:"Bewegungen und Sichtbarkeiten",modes:[new $e(this.drawerService,()=>new jn,"Bewegen","Bewege den Canvas und w\xe4hle Elemente aus","move"),new $e(this.drawerService,()=>new hF,"Verschieben","Verschiebe Punkte","movePoints"),new $e(this.drawerService,()=>new MF,"Anzeigen","Mache Elemente (un-)sichtbar","changeVisibility"),new $e(this.drawerService,()=>new EF,"Label anzeigen","Mache Labels (un-)sichtbar","showLabelVisibility"),new $e(this.drawerService,()=>new xF,"Label bewegen","Verschiebe Labels","moveLabels")]},{name:"Einfache Konstruktionen",modes:[new $e(this.drawerService,()=>new fF,"Punkte","Erstelle neue Punkte","points"),new $e(this.drawerService,()=>new pF,"Gerade","Erstelle eine neue Gerade mit zwei Punkten","line"),new $e(this.drawerService,()=>new gF,"Strecke","Erstelle eine neue Strecke zwischen zwei Punkten","lineSegment"),new $e(this.drawerService,()=>new mF,"Kreis","Erstelle einen neuen Kreis mit zwei Punkten","circle")]},{name:"Weiter Konstruktionen",modes:[new $e(this.drawerService,()=>new CF,"Schnittpunkt","Mache den Schnittpunkt zwischen Geraden, Strecken und Kreisen","intersection"),new $e(this.drawerService,()=>new bF,"Mittelpunkt","Mache den Mittelpunkt einer Strecke oder zwischen zwei Punkten","middlePoint"),new $e(this.drawerService,()=>new _F,"Mittelsenk.","Mache die Mittelsenkrechte einer Strecke oder zwischen zwei Punkten","bisection"),new $e(this.drawerService,()=>new TF,"Winkel","Lege einen Winkel durch drei Punkte","angle"),new $e(this.drawerService,()=>new DF,"Winkelhalb.","Mache die Winkelhalbierende von drei Punkten","angleBisector"),new $e(this.drawerService,()=>new vF,"Parallel","Mache die Parallele zu einer Geraden durch einen Punkt","parallel"),new $e(this.drawerService,()=>new yF,"Lot","Mache den Lot zu eine Geraden durch einen Punkt","orthogonal"),new $e(this.drawerService,()=>new wF,"Tangente","Mache die Tangente an einen Kreis durch einen Punkt","tangens")]}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(M(an))},n.\u0275cmp=Z({type:n,selectors:[["app-geometry-tab"]],decls:2,vars:1,consts:[[1,"wrapper"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"groupName"],["class","tabHeader","tabindex","0",3,"title","ngClass","click",4,"ngFor","ngForOf"],["tabindex","0",1,"tabHeader",3,"title","ngClass","click"],[1,"icon",3,"src"]],template:function(t,r){1&t&&(h(0,"div",0),Ee(1,IF,4,2,"div",1),p()),2&t&&(w(1),x("ngForOf",r.groups))},directives:[xi,en],styles:['.wrapper[_ngcontent-%COMP%]{--size: 70px;--margin: 9px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;display:inline-block}.tabHeader[_ngcontent-%COMP%], .groupName[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.groupName[_ngcontent-%COMP%]{font-weight:700;font-size:large;margin-top:50px;margin-bottom:0}.group[_ngcontent-%COMP%]:first-child   .groupName[_ngcontent-%COMP%]{margin-top:0}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:-20px;text-align:center;line-height:2.5;font-size:smaller}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.wrapper[_ngcontent-%COMP%]{margin:16px}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;user-select:none;pointer-events:none}']}),n})();class $e{constructor(e,t,r,i,o){this.drawerService=e,this.getInstance=t,this.title=r,this.tooltip=i,this.icon=o}click(){this.drawerService.mode=this.getInstance(!0)}isActivated(){var e;return(null===(e=this.drawerService.mode)||void 0===e?void 0:e.constructor)===this.getInstance(!1).constructor}}const AF=["tabPage"];function FF(n,e){if(1&n&&(h(0,"p"),C(1),p()),2&n){const t=_e().$implicit;w(1),ve(t.title)}}function kF(n,e){if(1&n&&(h(0,"span",10),C(1),p()),2&n){const t=_e().$implicit;w(1),ve(t.icon)}}const NF=function(n){return{active:n}};function RF(n,e){if(1&n){const t=wr();h(0,"div",7),E("click",function(){const o=Rt(t).$implicit;return _e().onTabClick(o)})("keydown",function(i){const s=Rt(t).$implicit;return _e().onTabKeyboard(i,s)}),Ee(1,FF,2,1,"p",8),Ee(2,kF,2,1,"span",9),p()}if(2&n){const t=e.$implicit,r=_e();x("title",t.title)("ngClass",Fe(4,NF,r.currentTab==t)),w(1),x("ngIf",!t.icon),w(1),x("ngIf",t.icon)}}const LF=function(n){return{empty:n}};let VF=(()=>{class n{constructor(){this.tabs=[]}get currentTab(){return this._currentTab}set currentTab(t){t!=this.currentTab&&(this.currentComponent&&this.currentComponent.destroy(),t&&(this.currentComponent=this.tabPage.createComponent(t.componentType)),this._currentTab=t)}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.currentTab=this.tabs[0]},0)}onTabClick(t){this.currentTab=this.currentTab==t?void 0:t}onTabKeyboard(t,r){("Enter"==t.key||" "==t.key)&&this.onTabClick(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Z({type:n,selectors:[["app-tab-group"]],viewQuery:function(t,r){if(1&t&&Pt(AF,5,ze),2&t){let i;Tt(i=St())&&(r.tabPage=i.first)}},inputs:{tabs:"tabs"},decls:7,vars:4,consts:[[1,"wrapper",3,"ngClass"],[1,"table"],[1,"tabHeaders"],["class","tabHeader","tabindex","0",3,"title","ngClass","click","keydown",4,"ngFor","ngForOf"],[1,"tabContainer"],[1,"tabPage"],["tabPage",""],["tabindex","0",1,"tabHeader",3,"title","ngClass","click","keydown"],[4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"]],template:function(t,r){1&t&&(h(0,"div",0),h(1,"div",1),h(2,"div",2),Ee(3,RF,3,6,"div",3),p(),h(4,"div",4),me(5,"div",5,6),p(),p(),p()),2&t&&(x("ngClass",Fe(2,LF,null==r.currentTab)),w(3),x("ngForOf",r.tabs))},directives:[en,xi,Ti],styles:['.wrapper[_ngcontent-%COMP%]{--size: 60px;--margin: 3px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeaders[_ngcontent-%COMP%]{left:0;top:0;bottom:0;width:var(--width);padding:var(--padding);position:absolute;float:left;border-right:var(--border) solid var(--borderColor);border-bottom-right-radius:var(--borderRadius);border-top-right-radius:var(--borderRadius);background:white;box-shadow:0 0 7px #555;user-select:none;overflow:auto;scrollbar-width:none}.tabHeaders[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;font-family:Segoe UI,Calibri,"sans-serif"}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.tabContainer[_ngcontent-%COMP%]{inset:0;float:right;height:100%;width:calc(100% - var(--width) - 2 * var(--padding));background:var(--background);overflow:auto;border-right:1px solid #ccc}.empty[_ngcontent-%COMP%]   .tabContainer[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--background)}.empty.wrapper[_ngcontent-%COMP%]{width:calc(var(--width) + 2 * var(--padding))}.table[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;clear:both;box-sizing:border-box;background-color:transparent;overflow:hidden}.material-symbols-outlined[_ngcontent-%COMP%]{transform:scale(1.5) translateY(4px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.tabPage[_ngcontent-%COMP%]{display:none}']}),n})(),BF=(()=>{class n{constructor(t,r,i=!0){this.element=t,this.pointerControllerEvents=r,this.preventDefault=i,this._active=!1,this.pointerCache=new wd,this.pointerMoveCountCache=new wd,this.startEvent=o=>{if(o instanceof PointerEvent){let s=_a(o,this.element);this.pointerCache.setItem(o.pointerId,s),this.pointerMoveCountCache.setItem(o.pointerId,0),this.pointerControllerEvents.pointerStart&&this.pointerControllerEvents.pointerStart(s,this.getPointerContext(o))}},this.moveEvent=o=>{if(o instanceof PointerEvent){let s=_a(o,this.element);this.pointerMoveCountCache.hasKey(o.pointerId)&&this.pointerMoveCountCache.setItem(o.pointerId,this.pointerMoveCountCache.getItem(o.pointerId)+1),this.pointerCache.hasKey(o.pointerId)&&(this.pointerControllerEvents.pointerMove&&this.pointerControllerEvents.pointerMove(this.pointerCache.getItem(o.pointerId),s,this.getPointerContext(o)),this.pointerCache.setItem(o.pointerId,s))}},this.endEvent=o=>{if(o instanceof PointerEvent){let s=_a(o,this.element),a=this.getPointerContext(o);this.pointerControllerEvents.pointerEnd&&this.pointerCache.hasKey(o.pointerId)&&this.pointerControllerEvents.pointerEnd(s,a),this.pointerControllerEvents.click&&0===this.pointerMoveCountCache.getItem(o.pointerId)&&this.pointerControllerEvents.click(s,a),this.pointerCache.delItem(o.pointerId),this.pointerMoveCountCache.delItem(o.pointerId)}},this.mouseWheelHandler=o=>{if(o instanceof WheelEvent){o.preventDefault();let s=_a(o,this.element),a=Math.sqrt(o.deltaY**2+o.deltaX**2+o.deltaZ**2)*Math.sign((o.deltaX?o.deltaX:1)*(o.deltaY?o.deltaY:1)*(o.deltaZ?o.deltaZ:1));this.pointerControllerEvents.scroll&&this.pointerControllerEvents.scroll(s,a)}},this.preventDefaultEvent=o=>{o.preventDefault()},this.evCache=[],this.prevDiff=-1,this.startPinchZoomEvent=o=>{o instanceof PointerEvent&&"touch"==o.pointerType&&(this.evCache.push(o),null==this.mainTouchEventId&&(this.mainTouchEventId=o.pointerId))},this.movePinchZoomEvent=o=>{if(o instanceof PointerEvent&&"touch"==o.pointerType){for(let s=0;s<this.evCache.length;s++)if(o.pointerId==this.evCache[s].pointerId){this.evCache[s]=o;break}if(2==this.evCache.length){let s={x:this.evCache[0].clientX,y:this.evCache[0].clientY},a={x:this.evCache[1].clientX,y:this.evCache[1].clientY},l=Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2));const u=this.element.getBoundingClientRect();let c={x:(s.x+a.x)/2-u.left,y:(s.y+a.y)/2-u.top};this.prevDiff>0&&l>0&&this.pointerControllerEvents.pinchZoom&&this.pointerControllerEvents.pinchZoom(c,l/this.prevDiff),this.prevDiff=l}else this.evCache.length<2&&(this.prevDiff=-1)}},this.endPinchZoomEvent=o=>{o instanceof PointerEvent&&"touch"==o.pointerType&&(this.removeEventPinchZoom(o),this.evCache.length<2&&(this.prevDiff=-1),this.mainTouchEventId==o.pointerId&&(this.mainTouchEventId=void 0))},this.removeEventPinchZoom=o=>{for(let s=0;s<this.evCache.length;s++)if(this.evCache[s].pointerId==o.pointerId){this.evCache.splice(s,1);break}},this.start()}get active(){return this._active}getPointerContext(t){return{id:t.pointerId,pointerCount:this.pointerCache.size,ctrlKey:t.ctrlKey,moveEventsFired:this.pointerMoveCountCache.getItem(t.pointerId)}}start(){if(!this.active){for(let t of n.starts)this.element.addEventListener(t,this.startEvent),this.element.addEventListener(t,this.startPinchZoomEvent);for(let t of n.moves)this.element.addEventListener(t,this.moveEvent),this.element.addEventListener(t,this.movePinchZoomEvent);for(let t of n.ends)this.element.addEventListener(t,this.endEvent),this.element.addEventListener(t,this.endPinchZoomEvent);for(let t of n.scrolls)this.element.addEventListener(t,this.mouseWheelHandler);if(this.preventDefault)for(let t of n.prevents)this.element.addEventListener(t,this.preventDefaultEvent);this._active=!0,this.pointerCache.empty()}}end(){if(this.active){for(let t of n.starts){try{this.element.removeEventListener(t,this.startEvent)}catch(r){}try{this.element.removeEventListener(t,this.startPinchZoomEvent)}catch(r){}}for(let t of n.moves){try{this.element.removeEventListener(t,this.moveEvent)}catch(r){}try{this.element.removeEventListener(t,this.movePinchZoomEvent)}catch(r){}}for(let t of n.ends){try{this.element.removeEventListener(t,this.endEvent)}catch(r){}try{this.element.removeEventListener(t,this.endPinchZoomEvent)}catch(r){}}for(let t of n.scrolls)try{this.element.removeEventListener(t,this.mouseWheelHandler)}catch(r){}if(this.preventDefault)for(let t of n.prevents)try{this.element.removeEventListener(t,this.preventDefaultEvent)}catch(r){}this._active=!1,this.pointerCache.empty()}}}return n.starts=["pointerdown"],n.moves=["pointermove"],n.ends=["pointerup","pointerleave","pointercancel","pointerout"],n.scrolls=["wheel"],n.prevents=["pointerdown","pointermove","pointerup","pointerleave","pointercancel","pointerout","pointerover","pointerenter","contextmenu"],n})();const HF=["canvas"],jF=["wrapper"];let zF=(()=>{class n{constructor(t){this.drawerService=t,this.drawerService.canvas=this}ngAfterViewInit(){var t;this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.ctx=null===(t=this.canvasEl)||void 0===t?void 0:t.getContext("2d"),window.onresize=()=>{this.drawerService.redraw()},new BF(this.canvasEl,{pointerMove:(r,i,o)=>{var s;const a=this.drawerService.renderingContext,l=a.transformPointFromCanvasToField(r),u=a.transformPointFromCanvasToField(i);null===(s=this.drawerService.mode)||void 0===s||s.pointerMove(this.drawerService,a,l,u,o)},click:(r,i)=>{var o;const s=this.drawerService.renderingContext,a=s.transformPointFromCanvasToField(r);null===(o=this.drawerService.mode)||void 0===o||o.click(this.drawerService,s,a,i)},scroll:(r,i)=>{0!=i&&(i*=-1/120,i+=Math.sign(i),this.drawerService.zoomToBy(r,i>0?i:1/-i))},pinchZoom:(r,i)=>{this.drawerService.zoomToBy(r,i)}});try{this.drawerService.loadFrom(JSON.parse(localStorage[fC]))}catch(r){}this.drawerService.redraw()}}return n.\u0275fac=function(t){return new(t||n)(M(an))},n.\u0275cmp=Z({type:n,selectors:[["app-canvas"]],viewQuery:function(t,r){if(1&t&&(Pt(HF,5),Pt(jF,5)),2&t){let i;Tt(i=St())&&(r.canvas=i.first),Tt(i=St())&&(r.wrapper=i.first)}},decls:4,vars:0,consts:[[1,"wrapper"],["wrapper",""],["id","canvas",1,"canvas"],["canvas",""]],template:function(t,r){1&t&&(h(0,"div",0,1),me(2,"canvas",2,3),p())},styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0;touch-action:none}.wrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}"]}),n})(),UF=(()=>{class n{constructor(t,r,i){this.dialogService=t,this.snackbarService=r,this.viewContainerRef=i,this.tabs=[{title:"Formeln",icon:"functions",componentType:sF},{title:"Geometrie",icon:"radio_button_unchecked",componentType:OF},{title:"Einstellungen",icon:"settings",componentType:dF}],this.dialogService.rootViewContainerRef=this.viewContainerRef,this.snackbarService.rootViewContainerRef=this.viewContainerRef}}return n.\u0275fac=function(t){return new(t||n)(M(Bo),M(Ad),M(ze))},n.\u0275cmp=Z({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"barWrapper"],[3,"tabs"],[1,"canvas"]],template:function(t,r){1&t&&(h(0,"div",0),me(1,"app-tab-group",1),p(),me(2,"app-canvas",2)),2&t&&(w(1),x("tabs",r.tabs))},directives:[VF,zF],styles:[".canvas[_ngcontent-%COMP%]{padding:0;margin:0}.barWrapper[_ngcontent-%COMP%]{width:30%;min-width:min(100%,500px);position:absolute;height:100%;pointer-events:none;overflow:hidden}.barWrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}"]}),n})(),GF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$n({type:n,bootstrap:[UF]}),n.\u0275inj=Sn({providers:[],imports:[[IS,LO]]}),n})();(function fT(){N_=!1})(),PS().bootstrapModule(GF).catch(n=>console.error(n))}},fe=>{fe(fe.s=129)}]);