"use strict";(self.webpackChunkgraph=self.webpackChunkgraph||[]).push([[792],{321:()=>{function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function Ye(){return Ye=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=function hd(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=Oe(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}},Ye.apply(null,arguments)}function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function yp(e){var n=function aS(e,n){if("object"!=ir(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==ir(n)?n:n+""}function h(e,n,t){return(n=yp(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_p(Object(t),!0).forEach(function(r){h(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_p(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function gd(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function pu(e,n){if(e){if("string"==typeof e)return gd(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gd(e,n):void 0}}function A(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=pu(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function Cp(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yp(r.key),r)}}function m(e,n,t){return n&&Cp(e.prototype,n),t&&Cp(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pd=function(){return!!e})()}function w(e,n,t){return n=Oe(n),function sS(e,n){if(n&&("object"==ir(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function oS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pd()?Reflect.construct(n,t||[],Oe(e).constructor):n.apply(e,t))}function ko(e,n){return(ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(e,n)}function k(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ko(e,n)}function bp(e){if(Array.isArray(e))return e}function Dp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function it(e,n){return bp(e)||function uS(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,n)||pu(e,n)||Dp()}function Ep(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function B(e){return function lS(e){if(Array.isArray(e))return gd(e)}(e)||Ep(e)||pu(e)||function cS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,n,t){if(pd())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,n);var i=new(e.bind.apply(e,r));return t&&ko(i,t.prototype),i}function md(e){var n="function"==typeof Map?new Map:void 0;return md=function(r){if(null===r||!function dS(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch{return"function"==typeof e}}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(r))return n.get(r);n.set(r,i)}function i(){return en(r,arguments,Oe(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ko(i,r)},md(e)}function wp(e,n){return Object.is(e,n)}var Cn=null,So=!1,mu=1,Rt=Symbol("SIGNAL");function pe(e){var n=Cn;return Cn=e,n}var yu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:function(){return!1},producerRecomputeValue:function(){},consumerMarkedDirty:function(){},consumerOnSignalRead:function(){}};function yd(e){if(So)throw new Error("");if(null!==Cn){Cn.consumerOnSignalRead(e);var n=Cn.nextProducerIndex++;bu(Cn),n<Cn.producerNode.length&&Cn.producerNode[n]!==e&&Io(Cn)&&Cu(Cn.producerNode[n],Cn.producerIndexOfThis[n]),Cn.producerNode[n]!==e&&(Cn.producerNode[n]=e,Cn.producerIndexOfThis[n]=Io(Cn)?Op(e,Cn,n):0),Cn.producerLastReadVersion[n]=e.version}}function Sp(e){if((!Io(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==mu)){if(!e.producerMustRecompute(e)&&!Cd(e))return e.dirty=!1,void(e.lastCleanEpoch=mu);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=mu}}function Ip(e){if(void 0!==e.liveConsumerNode){var n=So;So=!0;try{var r,t=A(e.liveConsumerNode);try{for(t.s();!(r=t.n()).done;){var i=r.value;i.dirty||Pp(i)}}catch(a){t.e(a)}finally{t.f()}}finally{So=n}}}function Tp(){var e;return!1!==(null===(e=Cn)||void 0===e?void 0:e.consumerAllowSignalWrites)}function Pp(e){var n;e.dirty=!0,Ip(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function _u(e){return e&&(e.nextProducerIndex=0),pe(e)}function _d(e,n){if(pe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Io(e))for(var t=e.nextProducerIndex;t<e.producerNode.length;t++)Cu(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Cd(e){bu(e);for(var n=0;n<e.producerNode.length;n++){var t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Sp(t),r!==t.version))return!0}return!1}function bd(e){if(bu(e),Io(e))for(var n=0;n<e.producerNode.length;n++)Cu(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Op(e,n,t){if(Ap(e),0===e.liveConsumerNode.length&&xp(e))for(var r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Op(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Cu(e,n){if(Ap(e),1===e.liveConsumerNode.length&&xp(e))for(var t=0;t<e.producerNode.length;t++)Cu(e.producerNode[t],e.producerIndexOfThis[t]);var r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){var i=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];bu(a),a.producerIndexOfThis[i]=n}}function Io(e){var n,t;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(t=e.liveConsumerNode)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0}function bu(e){var n,t,r;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(t=e.producerIndexOfThis)&&void 0!==t||(e.producerIndexOfThis=[]),null!==(r=e.producerLastReadVersion)&&void 0!==r||(e.producerLastReadVersion=[])}function Ap(e){var n,t;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(t=e.liveConsumerIndexOfThis)&&void 0!==t||(e.liveConsumerIndexOfThis=[])}function xp(e){return void 0!==e.producerNode}var Dd=Symbol("UNSET"),Ed=Symbol("COMPUTING"),Du=Symbol("ERRORED"),gS=function(){return re(re({},yu),{},{value:Dd,dirty:!0,error:null,equal:wp,producerMustRecompute:function(n){return n.value===Dd||n.value===Ed},producerRecomputeValue:function(n){if(n.value===Ed)throw new Error("Detected cycle in computations.");var t=n.value;n.value=Ed;var i,r=_u(n);try{i=n.computation()}catch(a){i=Du,n.error=a}finally{_d(n,r)}t!==Dd&&t!==Du&&i!==Du&&n.equal(t,i)?n.value=t:(n.value=i,n.version++)}})}(),Np=function pS(){throw new Error};function Fp(){Np()}var Eu=null;function Rp(e,n){Tp()||Fp(),e.equal(e.value,n)||(e.value=n,function bS(e){var n;e.version++,function vS(){mu++}(),Ip(e),null===(n=Eu)||void 0===n||n()}(e))}var CS=function(){return re(re({},yu),{},{equal:wp,value:void 0})}();function Se(e){return"function"==typeof e}function Vp(e){var t=e(function(i){Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Md=Vp(function(e){return function(t){e(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(r,i){return"".concat(i+1,") ").concat(r.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t}});function Mu(e,n){if(e){var t=e.indexOf(n);0<=t&&e.splice(t,1)}}var e,Tt=function(){function e(n){y(this,e),this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}return m(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r)){var a,i=A(r);try{for(i.s();!(a=i.n()).done;)a.value.remove(this)}catch(f){i.e(f)}finally{i.f()}}else r.remove(this);var s=this.initialTeardown;if(Se(s))try{s()}catch(f){t=f instanceof Md?f.errors:[f]}var u=this._teardowns;if(u){this._teardowns=null;var c,l=A(u);try{for(l.s();!(c=l.n()).done;){var d=c.value;try{Up(d)}catch(f){t=t??[],f instanceof Md?t=[].concat(B(t),B(f.errors)):t.push(f)}}}catch(f){l.e(f)}finally{l.f()}}if(t)throw new Md(t)}}},{key:"add",value:function(t){var r;if(t&&t!==this)if(this.closed)Up(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(t)}}},{key:"_hasParent",value:function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)}},{key:"_addParent",value:function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}},{key:"_removeParent",value:function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Mu(r,t)}},{key:"remove",value:function(t){var r=this._teardowns;r&&Mu(r,t),t instanceof e&&t._removeParent(this)}}])}();Tt.EMPTY=((e=new Tt).closed=!0,e);var Bp=Tt.EMPTY;function Hp(e){return e instanceof Tt||e&&"closed"in e&&Se(e.remove)&&Se(e.add)&&Se(e.unsubscribe)}function Up(e){Se(e)?e():e.unsubscribe()}var yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wu={setTimeout:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var e=wu.delegate;return(e?.setTimeout||setTimeout).apply(void 0,arguments)}),clearTimeout:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=wu.delegate;return(n?.clearTimeout||clearTimeout)(e)}),delegate:void 0};function zp(e){wu.setTimeout(function(){var n=yi.onUnhandledError;if(!n)throw e;n(e)})}function ra(){}var ES=wd("C",void 0,void 0);function wd(e,n,t){return{kind:e,value:n,error:t}}var _i=null;function ku(e){if(yi.useDeprecatedSynchronousErrorHandling){var n=!_i;if(n&&(_i={errorThrown:!1,error:null}),e(),n){var t=_i;if(_i=null,t.errorThrown)throw t.error}}else e()}var kd=function(e){function n(t){var r;return y(this,n),(r=w(this,n)).isStopped=!1,t?(r.destination=t,Hp(t)&&t.add(r)):r.destination=SS,r}return k(n,e),m(n,[{key:"next",value:function(r){this.isStopped?Id(function wS(e){return wd("N",e,void 0)}(r),this):this._next(r)}},{key:"error",value:function(r){this.isStopped?Id(function MS(e){return wd("E",void 0,e)}(r),this):(this.isStopped=!0,this._error(r))}},{key:"complete",value:function(){this.isStopped?Id(ES,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Ye(Oe(n.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(r){this.destination.next(r)}},{key:"_error",value:function(r){try{this.destination.error(r)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(r,i,a){return new jp(r,i,a)}}])}(Tt),jp=function(e){function n(t,r,i){var a,o;if(y(this,n),a=w(this,n),Se(t))o=t;else if(t){var s;o=t.next,r=t.error,i=t.complete,a&&yi.useDeprecatedNextContext?(s=Object.create(t)).unsubscribe=function(){return a.unsubscribe()}:s=t,o=o?.bind(s),r=r?.bind(s),i=i?.bind(s)}return a.destination={next:o?Sd(o):ra,error:Sd(r??Gp),complete:i?Sd(i):ra},a}return k(n,e),m(n)}(kd);function Sd(e,n){return function(){try{e.apply(void 0,arguments)}catch(t){yi.useDeprecatedSynchronousErrorHandling?function kS(e){yi.useDeprecatedSynchronousErrorHandling&&_i&&(_i.errorThrown=!0,_i.error=e)}(t):zp(t)}}}function Gp(e){throw e}function Id(e,n){var t=yi.onStoppedNotification;t&&wu.setTimeout(function(){return t(e,n)})}var SS={closed:!0,next:ra,error:Gp,complete:ra},Td="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pd(e){return e}var dn=function(){var e=function(){function n(t){y(this,n),t&&(this._subscribe=t)}return m(n,[{key:"lift",value:function(r){var i=new n;return i.source=this,i.operator=r,i}},{key:"subscribe",value:function(r,i,a){var o=this,s=function TS(e){return e&&e instanceof kd||function IS(e){return e&&Se(e.next)&&Se(e.error)&&Se(e.complete)}(e)&&Hp(e)}(r)?r:new jp(r,i,a);return ku(function(){var u=o.operator,l=o.source;s.add(u?u.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s}},{key:"_trySubscribe",value:function(r){try{return this._subscribe(r)}catch(i){r.error(i)}}},{key:"forEach",value:function(r,i){var a=this;return new(i=qp(i))(function(o,s){var u;u=a.subscribe(function(l){try{r(l)}catch(c){s(c),u?.unsubscribe()}},s,o)})}},{key:"_subscribe",value:function(r){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(r)}},{key:Td,value:function(){return this}},{key:"pipe",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return function Wp(e){return 0===e.length?Pd:1===e.length?e[0]:function(t){return e.reduce(function(r,i){return i(r)},t)}}(i)(this)}},{key:"toPromise",value:function(r){var i=this;return new(r=qp(r))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}])}();return e.create=function(n){return new e(n)},e}();function qp(e){var n;return null!==(n=e??yi.Promise)&&void 0!==n?n:Promise}var PS=Vp(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),kr=function(){var e=function(n){function t(){var r;return y(this,t),(r=w(this,t)).closed=!1,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return k(t,n),m(t,[{key:"lift",value:function(i){var a=new Zp(this,this);return a.operator=i,a}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new PS}},{key:"next",value:function(i){var a=this;ku(function(){if(a._throwIfClosed(),!a.isStopped){var u,s=A(a.observers.slice());try{for(s.s();!(u=s.n()).done;)u.value.next(i)}catch(c){s.e(c)}finally{s.f()}}})}},{key:"error",value:function(i){var a=this;ku(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=i;for(var o=a.observers;o.length;)o.shift().error(i)}})}},{key:"complete",value:function(){var i=this;ku(function(){if(i._throwIfClosed(),!i.isStopped){i.isStopped=!0;for(var a=i.observers;a.length;)a.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=null}},{key:"observed",get:function(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}},{key:"_trySubscribe",value:function(i){return this._throwIfClosed(),Ye(Oe(t.prototype),"_trySubscribe",this).call(this,i)}},{key:"_subscribe",value:function(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}},{key:"_innerSubscribe",value:function(i){var s=this.observers;return this.hasError||this.isStopped?Bp:(s.push(i),new Tt(function(){return Mu(s,i)}))}},{key:"_checkFinalizedStatuses",value:function(i){var s=this.isStopped;this.hasError?i.error(this.thrownError):s&&i.complete()}},{key:"asObservable",value:function(){var i=new dn;return i.source=this,i}}])}(dn);return e.create=function(n,t){return new Zp(n,t)},e}(),Zp=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).destination=t,i.source=r,i}return k(n,e),m(n,[{key:"next",value:function(r){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===a||a.call(i,r)}},{key:"error",value:function(r){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===a||a.call(i,r)}},{key:"complete",value:function(){var r,i;null===(i=null===(r=this.destination)||void 0===r?void 0:r.complete)||void 0===i||i.call(r)}},{key:"_subscribe",value:function(r){var i,a;return null!==(a=null===(i=this.source)||void 0===i?void 0:i.subscribe(r))&&void 0!==a?a:Bp}}])}(kr),OS=function(e){function n(t){var r;return y(this,n),(r=w(this,n))._value=t,r}return k(n,e),m(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(r){var i=Ye(Oe(n.prototype),"_subscribe",this).call(this,r);return!i.closed&&r.next(this._value),i}},{key:"getValue",value:function(){var a=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),a}},{key:"next",value:function(r){Ye(Oe(n.prototype),"next",this).call(this,this._value=r)}}])}(kr);function Yp(e){return Se(e?.lift)}function Lt(e){return function(n){if(Yp(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var ia,ht=function(e){function n(t,r,i,a,o){var s;return y(this,n),(s=w(this,n,[t])).onFinalize=o,s._next=r?function(u){try{r(u)}catch(l){t.error(l)}}:Ye(Oe(n.prototype),"_next",s),s._error=a?function(u){try{a(u)}catch(l){t.error(l)}finally{this.unsubscribe()}}:Ye(Oe(n.prototype),"_error",s),s._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:Ye(Oe(n.prototype),"_complete",s),s}return k(n,e),m(n,[{key:"unsubscribe",value:function(){var r,i=this.closed;Ye(Oe(n.prototype),"unsubscribe",this).call(this),!i&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}}])}(kd);function Vt(e,n){return Lt(function(t,r){var i=0;t.subscribe(new ht(r,function(a){r.next(e.call(n,a,i++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;var rm="https://g.co/ng/security#xss",R=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n,[aa(t,r)])).code=t,i}return k(n,e),m(n)}(md(Error));function aa(e,n){var t="NG0".concat(Math.abs(e));return"".concat(t).concat(n?": "+n:"")}function Sr(e){return{toString:e}.toString()}var sa="__parameters__";function la(e,n,t){return Sr(function(){var r=function Nd(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var r in t)this[r]=t[r]}}}(n);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return r.apply(this,o),this;var u=en(i,o);return l.annotation=u,l;function l(c,d,f){for(var v=c.hasOwnProperty(sa)?c[sa]:Object.defineProperty(c,sa,{value:[]})[sa];v.length<=f;)v.push(null);return(v[f]=v[f]||[]).push(u),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Re=globalThis;function xe(e){for(var n in e)if(e[n]===xe)return n;throw Error("Could not find renamed property on target object.")}function o1(e,n){for(var t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function bn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(bn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var n=e.toString();if(null==n)return""+n;var t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Fd(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}var s1=xe({__forward_ref__:xe});function He(e){return e.__forward_ref__=He,e.toString=function(){return bn(this())},e}function ne(e){return Tu(e)?e():e}function Tu(e){return"function"==typeof e&&e.hasOwnProperty(s1)&&e.__forward_ref__===He}function ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ir(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pu(e){return sm(e,Au)||sm(e,um)}function sm(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ou(e){return e&&(e.hasOwnProperty(Rd)||e.hasOwnProperty(f1))?e[Rd]:null}var Au=xe({\u0275prov:xe}),Rd=xe({\u0275inj:xe}),um=xe({ngInjectableDef:xe}),f1=xe({ngInjectorDef:xe}),Z=function(){return m(function e(n,t){y(this,e),this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ge({token:this,providedIn:t.providedIn||"root",factory:t.factory}))},[{key:"multi",get:function(){return this}},{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}])}();function Ud(e){return e&&!!e.\u0275providers}var To=xe({\u0275cmp:xe}),zd=xe({\u0275dir:xe}),jd=xe({\u0275pipe:xe}),cm=xe({\u0275mod:xe}),Tr=xe({\u0275fac:xe}),Po=xe({__NG_ELEMENT_ID__:xe}),dm=xe({__NG_ENV_ID__:xe});function ue(e){return"string"==typeof e?e:null==e?"":String(e)}function Gd(e,n){throw new R(-201,!1)}var Wd,Ee=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ee||{});function fm(){return Wd}function at(e){var n=Wd;return Wd=e,n}function vm(e,n,t){var r=Pu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ee.Optional?null:void 0!==n?n:void Gd()}var Oo={},qd="__NG_DI_FLAG__",xu="ngTempTokenPath",_1=/\n/gm,hm="__source",ca=void 0;function Zr(e){var n=ca;return ca=e,n}function D1(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.Default;if(void 0===ca)throw new R(-203,!1);return null===ca?vm(e,void 0,n):ca.get(e,n&Ee.Optional?null:void 0,n)}function De(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.Default;return(fm()||D1)(ne(e),n)}function K(e){return De(e,Nu(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.Default))}function Nu(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zd(e){for(var n=[],t=0;t<e.length;t++){var r=ne(e[t]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);for(var i=void 0,a=Ee.Default,o=0;o<r.length;o++){var s=r[o],u=E1(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}n.push(De(i,a))}else n.push(De(r))}return n}function Ao(e,n){return e[qd]=n,e.prototype[qd]=n,e}function E1(e){return e[qd]}var Yd=Ao(la("Optional"),8),Kd=Ao(la("SkipSelf"),4);function bi(e,n){return e.hasOwnProperty(Tr)?e[Tr]:null}function da(e,n){e.forEach(function(t){return Array.isArray(t)?da(t,n):n(t)})}function pm(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Fu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function mt(e,n,t){var r=fa(e,n);return r>=0?e[1|r]=t:function mm(e,n,t,r){var i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r=~r,n,t),r}function Qd(e,n){var t=fa(e,n);if(t>=0)return e[1|t]}function fa(e,n){return function ym(e,n,t){for(var r=0,i=e.length>>t;i!==r;){var a=r+(i-r>>1),o=e[a<<t];if(n===o)return a<<t;o>n?i=a:r=a+1}return~(i<<t)}(e,n,1)}var ar={},Me=[],or=new Z(""),_m=new Z("",-1),Xd=new Z(""),Lu=function(){return m(function e(){y(this,e)},[{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo;if(r===Oo){var i=new Error("NullInjectorError: No provider for ".concat(bn(t),"!"));throw i.name="NullInjectorError",i}return r}}])}(),Vu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Vu||{}),Bt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Bt||{}),Yr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Yr||{});function P1(e,n,t){for(var r=e.length;;){var i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=n.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}t=i+1}}function Jd(e,n,t){for(var r=0;r<t.length;){var i=t[r];if("number"==typeof i){if(0!==i)break;r++;var a=t[r++],o=t[r++],s=t[r++];e.setAttribute(n,o,s,a)}else{var u=i,l=t[++r];bm(u)?e.setProperty(n,u,l):e.setAttribute(n,u,l),r++}}return r}function Cm(e){return 3===e||4===e||6===e}function bm(e){return 64===e.charCodeAt(0)}function xo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else for(var t=-1,r=0;r<n.length;r++){var i=n[r];"number"==typeof i?t=i:0===t||Dm(e,t,i,null,-1===t||2===t?n[++r]:null)}return e}function Dm(e,n,t,r,i){var a=0,o=e.length;if(-1===n)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===n){o=-1;break}if(s>n){o=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===t){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,n),a=o+1),e.splice(a++,0,t),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}var Em="ng-template";function O1(e,n,t,r){var i=0;if(r){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==P1(n[i+1].toLowerCase(),t,0))return!0}else if(ef(e))return!1;if((i=n.indexOf(1,i))>-1)for(var a;++i<n.length&&"string"==typeof(a=n[i]);)if(a.toLowerCase()===t)return!0;return!1}function ef(e){return 4===e.type&&e.value!==Em}function A1(e,n,t){return n===(4!==e.type||t?e.value:Em)}function x1(e,n,t){for(var r=4,i=e.attrs,a=null!==i?function R1(e){for(var n=0;n<e.length;n++)if(Cm(e[n]))return n;return e.length}(i):0,o=!1,s=0;s<n.length;s++){var u=n[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!A1(e,u,t)||""===u&&1===n.length){if(Ht(r))return!1;o=!0}}else if(8&r){if(null===i||!O1(e,i,u,t)){if(Ht(r))return!1;o=!0}}else{var l=n[++s],c=N1(u,i,ef(e),t);if(-1===c){if(Ht(r))return!1;o=!0;continue}if(""!==l){var d;if(d=c>a?"":i[c+1].toLowerCase(),2&r&&l!==d){if(Ht(r))return!1;o=!0}}}}else{if(!o&&!Ht(r)&&!Ht(u))return!1;if(o&&Ht(u))continue;o=!1,r=u|1&r}}return Ht(r)||o}function Ht(e){return!(1&e)}function N1(e,n,t,r){if(null===n)return-1;var i=0;if(r||!t){for(var a=!1;i<n.length;){var o=n[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=n[++i];"string"==typeof s;)s=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function L1(e,n){var t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){var r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Mm(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<n.length;r++)if(x1(e,n[r],t))return!0;return!1}function wm(e,n){return e?":not("+n.trim()+")":n}function B1(e){for(var n=e[0],t=1,r=2,i="",a=!1;t<e.length;){var o=e[t];if("string"==typeof o)if(2&r){var s=e[++t];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ht(o)&&(n+=wm(a,i),i=""),r=o,a=a||!Ht(r);t++}return""!==i&&(n+=wm(a,i)),n}function we(e){return Sr(function(){var n,t=Sm(e),r=re(re({},t),{},{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Vu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Bt.Emulated,styles:e.styles||Me,_:null,schemas:e.schemas||null,tView:null,id:""});Im(r);var i=e.dependencies;return r.directiveDefs=Bu(i,!1),r.pipeDefs=Bu(i,!0),r.id=function W1(e){var i,n=0,r=A([e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|"));try{for(r.s();!(i=r.n()).done;){var a=i.value;n=Math.imul(31,n)+a.charCodeAt(0)|0}}catch(u){r.e(u)}finally{r.f()}return"c"+(n+=2147483648)}(r),r})}function z1(e){return _e(e)||Dn(e)}function j1(e){return null!==e}function Kr(e){return Sr(function(){return{type:e.type,bootstrap:e.bootstrap||Me,declarations:e.declarations||Me,imports:e.imports||Me,exports:e.exports||Me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}})}function km(e,n){if(null==e)return ar;var t={};for(var r in e)if(e.hasOwnProperty(r)){var u,i=e[r],a=void 0,o=void 0,s=Yr.None;Array.isArray(i)?(s=i[0],a=i[1],o=null!==(u=i[2])&&void 0!==u?u:a):(a=i,o=i),n?(t[a]=s!==Yr.None?[r,s]:r,n[a]=o):t[a]=r}return t}function se(e){return Sr(function(){var n=Sm(e);return Im(n),n})}function _e(e){return e[To]||null}function Dn(e){return e[zd]||null}function An(e){return e[jd]||null}function Sm(e){var n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ar,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Me,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:km(e.inputs,n),outputs:km(e.outputs),debugInfo:null}}function Im(e){var n;null===(n=e.features)||void 0===n||n.forEach(function(t){return t(e)})}function Bu(e,n){if(!e)return null;var t=n?An:z1;return function(){return("function"==typeof e?e():e).map(function(r){return t(r)}).filter(j1)}}function q1(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{\u0275providers:nf(!0,n),\u0275fromNgModule:!0}}function nf(e){for(var r,n=[],t=new Set,i=function(l){n.push(l)},a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return da(o,function(u){var c=u;Hu(c,i,[],t)&&(r||(r=[]),r.push(c))}),void 0!==r&&Tm(r,i),n}function Tm(e,n){for(var t=function(){var a=e[r],o=a.ngModule;tf(a.providers,function(u){n(u,o)})},r=0;r<e.length;r++)t()}function Hu(e,n,t,r){if(!(e=ne(e)))return!1;var i=null,a=Ou(e),o=!a&&_e(e);if(a||o){if(o&&!o.standalone)return!1;i=e}else{var s=e.ngModule;if(!(a=Ou(s)))return!1;i=s}var c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){var v,f=A("function"==typeof o.dependencies?o.dependencies():o.dependencies);try{for(f.s();!(v=f.n()).done;)Hu(v.value,n,t,r)}catch(M){f.e(M)}finally{f.f()}}}else{if(!a)return!1;if(null!=a.imports&&!c){var p;r.add(i);try{da(a.imports,function(M){Hu(M,n,t,r)&&(p||(p=[]),p.push(M))})}finally{}void 0!==p&&Tm(p,n)}if(!c){var _=bi(i)||function(){return new i};n({provide:i,useFactory:_,deps:Me},i),n({provide:Xd,useValue:i,multi:!0},i),n({provide:or,useValue:function(){return De(i)},multi:!0},i)}var D=a.providers;if(null!=D&&!c){var C=e;tf(D,function(M){n(M,C)})}}return i!==e&&void 0!==e.providers}function tf(e,n){var r,t=A(e);try{for(t.s();!(r=t.n()).done;){var i=r.value;Ud(i)&&(i=i.\u0275providers),Array.isArray(i)?tf(i,n):n(i)}}catch(a){t.e(a)}finally{t.f()}}var Z1=xe({provide:String,useValue:xe});function rf(e){return null!==e&&"object"==typeof e&&Z1 in e}function Ei(e){return"function"==typeof e}var af=new Z(""),Uu={},K1={},of=void 0;function zu(){return void 0===of&&(of=new Lu),of}var sr=m(function e(){y(this,e)}),va=function(e){function n(t,r,i,a){var o;y(this,n),(o=w(this,n)).parent=r,o.source=i,o.scopes=a,o.records=new Map,o._ngOnDestroyHooks=new Set,o._onDestroyHooks=[],o._destroyed=!1,uf(t,function(u){return o.processProvider(u)}),o.records.set(_m,ha(void 0,o)),a.has("environment")&&o.records.set(sr,ha(void 0,o));var s=o.records.get(af);return null!=s&&"string"==typeof s.value&&o.scopes.add(s.value),o.injectorDefTypes=new Set(o.get(Xd,Me,Ee.Self)),o}return k(n,e),m(n,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;var r=pe(null);try{var a,i=A(this._ngOnDestroyHooks);try{for(i.s();!(a=i.n()).done;)a.value.ngOnDestroy()}catch(d){i.e(d)}finally{i.f()}var s=this._onDestroyHooks;this._onDestroyHooks=[];var l,u=A(s);try{for(u.s();!(l=u.n()).done;)(0,l.value)()}catch(d){u.e(d)}finally{u.f()}}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(r)}}},{key:"onDestroy",value:function(r){var i=this;return this.assertNotDestroyed(),this._onDestroyHooks.push(r),function(){return i.removeOnDestroy(r)}}},{key:"runInContext",value:function(r){this.assertNotDestroyed();var i=Zr(this),a=at(void 0);try{return r()}finally{Zr(i),at(a)}}},{key:"get",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee.Default;if(this.assertNotDestroyed(),r.hasOwnProperty(dm))return r[dm](this);a=Nu(a);var s=Zr(this),u=at(void 0);try{if(!(a&Ee.SkipSelf)){var l=this.records.get(r);if(void 0===l){var c=function eI(e){return"function"==typeof e||"object"==typeof e&&e instanceof Z}(r)&&Pu(r);l=c&&this.injectableDefInScope(c)?ha(sf(r),Uu):null,this.records.set(r,l)}if(null!=l)return this.hydrate(r,l)}return(a&Ee.Self?zu():this.parent).get(r,i=a&Ee.Optional&&i===Oo?null:i)}catch(v){if("NullInjectorError"===v.name){if((v[xu]=v[xu]||[]).unshift(bn(r)),s)throw v;return function M1(e,n,t,r){var i=e[xu];throw n[hm]&&i.unshift(n[hm]),e.message=function w1(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;var i=bn(n);if(Array.isArray(n))i=n.map(bn).join(" -> ");else if("object"==typeof n){var a=[];for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):bn(s)))}i="{".concat(a.join(", "),"}")}return"".concat(t).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(_1,"\n  "))}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[xu]=null,e}(v,r,"R3InjectorError",this.source)}throw v}finally{at(u),Zr(s)}}},{key:"resolveInjectorInitializers",value:function(){var r=pe(null),i=Zr(this),a=at(void 0);try{var l,u=A(this.get(or,Me,Ee.Self));try{for(u.s();!(l=u.n()).done;)(0,l.value)()}catch(d){u.e(d)}finally{u.f()}}finally{Zr(i),at(a),pe(r)}}},{key:"toString",value:function(){var o,r=[],a=A(this.records.keys());try{for(a.s();!(o=a.n()).done;)r.push(bn(o.value))}catch(u){a.e(u)}finally{a.f()}return"R3Injector[".concat(r.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new R(205,!1)}},{key:"processProvider",value:function(r){var i=Ei(r=ne(r))?r:ne(r&&r.provide),a=function Q1(e){return rf(e)?ha(void 0,e.useValue):ha(Am(e),Uu)}(r);if(Ei(r)||!0!==r.multi);else{var o=this.records.get(i);o||((o=ha(void 0,Uu,!0)).factory=function(){return Zd(o.multi)},this.records.set(i,o)),i=r,o.multi.push(r)}this.records.set(i,a)}},{key:"hydrate",value:function(r,i){var a=pe(null);try{return i.value===Uu&&(i.value=K1,i.value=i.factory()),"object"==typeof i.value&&i.value&&function J1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{pe(a)}}},{key:"injectableDefInScope",value:function(r){if(!r.providedIn)return!1;var i=ne(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}},{key:"removeOnDestroy",value:function(r){var i=this._onDestroyHooks.indexOf(r);-1!==i&&this._onDestroyHooks.splice(i,1)}}])}(sr);function sf(e){var n=Pu(e),t=null!==n?n.factory:bi(e);if(null!==t)return t;if(e instanceof Z)throw new R(204,!1);if(e instanceof Function)return function $1(e){if(e.length>0)throw new R(204,!1);var t=function d1(e){return e&&(e[Au]||e[um])||null}(e);return null!==t?function(){return t.factory(e)}:function(){return new e}}(e);throw new R(204,!1)}function Am(e,n,t){var r=void 0;if(Ei(e)){var i=ne(e);return bi(i)||sf(i)}if(rf(e))r=function(){return ne(e.useValue)};else if(function Om(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,B(Zd(e.deps||[])))};else if(function Pm(e){return!(!e||!e.useExisting)}(e))r=function(){return De(ne(e.useExisting))};else{var a=ne(e&&(e.useClass||e.provide));if(!function X1(e){return!!e.deps}(e))return bi(a)||sf(a);r=function(){return en(a,B(Zd(e.deps)))}}return r}function ha(e,n){return{factory:e,value:n,multi:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:void 0}}function uf(e,n){var r,t=A(e);try{for(t.s();!(r=t.n()).done;){var i=r.value;Array.isArray(i)?uf(i,n):i&&Ud(i)?uf(i.\u0275providers,n):n(i)}}catch(a){t.e(a)}finally{t.f()}}var Ke=0,L=1,$=2,vn=3,Ut=4,xn=5,Yn=6,Mi=7,Ue=8,hn=9,ur=10,ae=11,Ro=12,Fm=13,pa=14,$e=15,wi=16,ma=17,lr=18,ya=19,Rm=20,$r=21,Lo=22,Pt=23,Y=25,cf=1,cr=7,_a=9,an=10,qu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(qu||{});function Tn(e){return Array.isArray(e)&&"object"==typeof e[cf]}function zn(e){return Array.isArray(e)&&!0===e[cf]}function df(e){return!!(4&e.flags)}function ki(e){return e.componentOffset>-1}function Zu(e){return!(1&~e.flags)}function zt(e){return!!e.template}function Bo(e){return!!(512&e[$])}var hI=function(){return m(function e(n,t,r){y(this,e),this.previousValue=n,this.currentValue=t,this.firstChange=r},[{key:"isFirstChange",value:function(){return this.firstChange}}])}();function Hm(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}function Pr(){return Um}function Um(e){return e.type.prototype.ngOnChanges&&(e.setInput=pI),gI}function gI(){var e=jm(this),n=e?.current;if(n){var t=e.previous;if(t===ar)e.previous=n;else for(var r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function pI(e,n,t,r,i){var a=this.declaredInputs[r],o=jm(e)||function mI(e,n){return e[zm]=n}(e,{previous:ar,current:null}),s=o.current||(o.current={}),u=o.previous,l=u[a];s[a]=new hI(l&&l.currentValue,t,u===ar),Hm(e,n,i,t)}Pr.ngInherit=!0;var zm="__ngSimpleChanges__";function jm(e){return e[zm]||null}var dr=function(n,t,r){};function ke(e){for(;Array.isArray(e);)e=e[Ke];return e}function Ho(e,n){return ke(n[e])}function Kn(e,n){return ke(n[e.index])}function Uo(e,n){return e.data[n]}function yt(e,n){var t=n[e];return Tn(t)?t:t[Ke]}function pf(e){return!(128&~e[$])}function Ot(e,n){return null==n?null:e[n]}function qm(e){e[ma]=0}function Zm(e){1024&e[$]||(e[$]|=1024,pf(e)&&Yu(e))}function zo(e){var n;return!!(9216&e[$]||null!==(n=e[Pt])&&void 0!==n&&n.dirty)}function mf(e){var n;null===(n=e[ur].changeDetectionScheduler)||void 0===n||n.notify(7),64&e[$]&&(e[$]|=1024),zo(e)&&Yu(e)}function Yu(e){var n;null===(n=e[ur].changeDetectionScheduler)||void 0===n||n.notify(0);for(var t=Or(e);null!==t&&!(8192&t[$])&&(t[$]|=8192,pf(t));)t=Or(t)}function Ku(e,n){if(!(256&~e[$]))throw new R(911,!1);null===e[$r]&&(e[$r]=[]),e[$r].push(n)}function Or(e){var n=e[vn];return zn(n)?n[vn]:n}var oe={lFrame:oy(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Km=!1;function $m(){return oe.bindingsEnabled}function T(){return oe.lFrame.lView}function me(){return oe.lFrame.tView}function We(e){return oe.lFrame.contextLView=e,e[Ue]}function qe(e){return oe.lFrame.contextLView=null,e}function Ne(){for(var e=Qm();null!==e&&64===e.type;)e=e.parent;return e}function Qm(){return oe.lFrame.currentTNode}function jt(e,n){var t=oe.lFrame;t.currentTNode=e,t.isParent=n}function Cf(){return oe.lFrame.isParent}function ey(){return Km}function ny(e){Km=e}function $n(){var e=oe.lFrame,n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Gt(){return oe.lFrame.bindingIndex++}function xr(e){var n=oe.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function OI(e,n){var t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=e,Df(n)}function Df(e){oe.lFrame.currentDirectiveIndex=e}function Mf(){return oe.lFrame.currentQueryIndex}function Qu(e){oe.lFrame.currentQueryIndex=e}function xI(e){var n=e[L];return 2===n.type?n.declTNode:1===n.type?e[xn]:null}function iy(e,n,t){if(t&Ee.SkipSelf){for(var r=n,i=e;!(null!==(r=r.parent)||t&Ee.Host||null===(r=xI(i))||(i=i[pa],10&r.type)););if(null===r)return!1;n=r,e=i}var a=oe.lFrame=ay();return a.currentTNode=n,a.lView=e,!0}function wf(e){var n=ay(),t=e[L];oe.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function ay(){var e=oe.lFrame,n=null===e?null:e.child;return null===n?oy(e):n}function oy(e){var n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function sy(){var e=oe.lFrame;return oe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var uy=sy;function kf(){var e=sy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Nn(){return oe.lFrame.selectedIndex}function Ti(e){oe.lFrame.selectedIndex=e}function ze(){var e=oe.lFrame;return Uo(e.tView,e.selectedIndex)}var cy=!0;function Go(){return cy}function fr(e){cy=e}function Xu(e,n){for(var t=n.directiveStart,r=n.directiveEnd;t<r;t++){var d,f,v,g,p,_,D,a=e.data[t].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(null!==(d=e.contentHooks)&&void 0!==d?d:e.contentHooks=[]).push(-t,o),s&&((null!==(f=e.contentHooks)&&void 0!==f?f:e.contentHooks=[]).push(t,s),(null!==(v=e.contentCheckHooks)&&void 0!==v?v:e.contentCheckHooks=[]).push(t,s)),u&&(null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push(-t,u),l&&((null!==(p=e.viewHooks)&&void 0!==p?p:e.viewHooks=[]).push(t,l),(null!==(_=e.viewCheckHooks)&&void 0!==_?_:e.viewCheckHooks=[]).push(t,l)),null!=c&&(null!==(D=e.destroyHooks)&&void 0!==D?D:e.destroyHooks=[]).push(t,c)}}function Ju(e,n,t){dy(e,n,3,t)}function el(e,n,t,r){(3&e[$])===t&&dy(e,n,t,r)}function Sf(e,n){var t=e[$];(3&t)===n&&(t&=16383,e[$]=t+=1)}function dy(e,n,t,r){for(var a=r??-1,o=n.length-1,s=0,u=void 0!==r?65535&e[ma]:0;u<o;u++)if("number"==typeof n[u+1]){if(s=n[u],null!=r&&s>=r)break}else n[u]<0&&(e[ma]+=65536),(s<a||-1==a)&&(HI(e,t,n,u),e[ma]=(4294901760&e[ma])+u+2),u++}function fy(e,n){dr(4,e,n);var t=pe(null);try{n.call(e)}finally{pe(t),dr(5,e,n)}}function HI(e,n,t,r){var i=t[r]<0,a=t[r+1],s=e[i?-t[r]:t[r]];i?e[$]>>14<e[ma]>>16&&(3&e[$])===n&&(e[$]+=16384,fy(s,a)):fy(s,a)}var Ca=-1,Wo=m(function e(n,t,r){y(this,e),this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}),Tf={},Pi=function(){return m(function e(n,t){y(this,e),this.injector=n,this.parentInjector=t},[{key:"get",value:function(t,r,i){i=Nu(i);var a=this.injector.get(t,Tf,i);return a!==Tf||r===Tf?a:this.parentInjector.get(t,r,i)}}])}();function Pf(e){return e!==Ca}function qo(e){return 32767&e}function Zo(e,n){for(var t=function GI(e){return e>>16}(e),r=n;t>0;)r=r[pa],t--;return r}var Of=!0;function nl(e){var n=Of;return Of=e,n}var hy=255,gy=5,ZI=0,vr={};function tl(e,n){var t=py(e,n);if(-1!==t)return t;var r=n[L];r.firstCreatePass&&(e.injectorIndex=n.length,Af(r.data,e),Af(n,null),Af(r.blueprint,null));var i=rl(e,n),a=e.injectorIndex;if(Pf(i))for(var o=qo(i),s=Zo(i,n),u=s[L].data,l=0;l<8;l++)n[a+l]=s[o+l]|u[o+l];return n[a+8]=i,a}function Af(e,n){e.push(0,0,0,0,0,0,0,0,n)}function py(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function rl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var t=0,r=null,i=n;null!==i;){if(null===(r=Ey(i)))return Ca;if(t++,i=i[pa],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ca}function xf(e,n,t){!function YI(e,n,t){var r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Po)&&(r=t[Po]),null==r&&(r=t[Po]=ZI++);var i=r&hy;n.data[e+(i>>gy)]|=1<<i}(e,n,t)}function my(e,n,t){if(t&Ee.Optional||void 0!==e)return e;Gd()}function yy(e,n,t,r){if(t&Ee.Optional&&void 0===r&&(r=null),!(t&(Ee.Self|Ee.Host))){var i=e[hn],a=at(void 0);try{return i?i.get(n,r,t&Ee.Optional):vm(n,r,t&Ee.Optional)}finally{at(a)}}return my(r,0,t)}function _y(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){if(2048&n[$]&&!(r&Ee.Self)){var a=function JI(e,n,t,r,i){for(var a=e,o=n;null!==a&&null!==o&&2048&o[$]&&!(512&o[$]);){var s=Cy(a,o,t,r|Ee.Self,vr);if(s!==vr)return s;var u=a.parent;if(!u){var l=o[Rm];if(l){var c=l.get(t,vr,r);if(c!==vr)return c}u=Ey(o),o=o[pa]}a=u}return i}(e,n,t,r,vr);if(a!==vr)return a}var o=Cy(e,n,t,r,vr);if(o!==vr)return o}return yy(n,t,r,i)}function Cy(e,n,t,r,i){var a=function QI(e){if("string"==typeof e)return e.charCodeAt(0)||0;var n=e.hasOwnProperty(Po)?e[Po]:void 0;return"number"==typeof n?n>=0?n&hy:XI:n}(t);if("function"==typeof a){if(!iy(n,e,r))return r&Ee.Host?my(i,0,r):yy(n,t,r,i);try{var o;if(null!=(o=a(r))||r&Ee.Optional)return o;Gd()}finally{uy()}}else if("number"==typeof a){var s=null,u=py(e,n),l=Ca,c=r&Ee.Host?n[$e][xn]:null;for((-1===u||r&Ee.SkipSelf)&&((l=-1===u?rl(e,n):n[u+8])!==Ca&&Dy(r,!1)?(s=n[L],u=qo(l),n=Zo(l,n)):u=-1);-1!==u;){var d=n[L];if(by(a,u,d.data)){var f=$I(u,n,t,s,r,c);if(f!==vr)return f}(l=n[u+8])!==Ca&&Dy(r,n[L].data[u+8]===c)&&by(a,u,n)?(s=d,u=qo(l),n=Zo(l,n)):u=-1}}return i}function $I(e,n,t,r,i,a){var o=n[L],s=o.data[e+8],c=il(s,o,t,null==r?ki(s)&&Of:r!=o&&!!(3&s.type),i&Ee.Host&&a===s);return null!==c?Oi(n,o,c,s):vr}function il(e,n,t,r,i){for(var a=e.providerIndexes,o=n.data,s=1048575&a,u=e.directiveStart,c=a>>20,f=i?s+c:e.directiveEnd,v=r?s:s+c;v<f;v++){var g=o[v];if(v<u&&t===g||v>=u&&g.type===t)return v}if(i){var p=o[u];if(p&&zt(p)&&p.type===t)return u}return null}function Oi(e,n,t,r){var i=e[t],a=n.data;if(function UI(e){return e instanceof Wo}(i)){var o=i;o.resolving&&function g1(e,n){throw n&&". Dependency path: ".concat(n.join(" > ")," > ").concat(e),new R(-200,e)}(function Ie(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ue(e)}(a[t]));var s=nl(o.canSeeViewProviders);o.resolving=!0;var d=o.injectImpl?at(o.injectImpl):null;iy(e,r,Ee.Default);try{i=e[t]=o.factory(void 0,a,e,r),n.firstCreatePass&&t>=r.directiveStart&&function BI(e,n,t){var c,d,f,r=n.type.prototype,a=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var s,u,l=Um(n);(null!==(s=t.preOrderHooks)&&void 0!==s?s:t.preOrderHooks=[]).push(e,l),(null!==(u=t.preOrderCheckHooks)&&void 0!==u?u:t.preOrderCheckHooks=[]).push(e,l)}a&&(null!==(c=t.preOrderHooks)&&void 0!==c?c:t.preOrderHooks=[]).push(0-e,a),o&&((null!==(d=t.preOrderHooks)&&void 0!==d?d:t.preOrderHooks=[]).push(e,o),(null!==(f=t.preOrderCheckHooks)&&void 0!==f?f:t.preOrderCheckHooks=[]).push(e,o))}(t,a[t],n)}finally{null!==d&&at(d),nl(s),o.resolving=!1,uy()}}return i}function by(e,n,t){return!!(t[n+(e>>gy)]&1<<e)}function Dy(e,n){return!(e&Ee.Self||e&Ee.Host&&n)}var Mn=function(){return m(function e(n,t){y(this,e),this._tNode=n,this._lView=t},[{key:"get",value:function(t,r,i){return _y(this._tNode,this._lView,t,Nu(i),r)}}])}();function XI(){return new Mn(Ne(),T())}function Fn(e){return Sr(function(){for(var n=e.prototype.constructor,t=n[Tr]||Nf(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var a=i[Tr]||Nf(i);if(a&&a!==t)return a;i=Object.getPrototypeOf(i)}return function(o){return new o}})}function Nf(e){return Tu(e)?function(){var n=Nf(ne(e));return n&&n()}:bi(e)}function Ey(e){var n=e[L],t=n.type;return 2===t?n.declTNode:1===t?e[xn]:null}function Iy(e){var i=Ty(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return i.resolveInjectorInitializers(),i}function Ty(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set,a=[t||Me,q1(e)];return r=r||("object"==typeof e?void 0:bn(e)),new va(a,n||zu(),r||null,i)}var wn=function(){return m(function e(){y(this,e)},null,[{key:"create",value:function(t,r){if(Array.isArray(t))return Iy({name:""},r,t,"");var i,a=null!==(i=t.name)&&void 0!==i?i:"";return Iy({name:a},t.parent,t.providers,a)}}])}();(ia=wn).THROW_IF_NOT_FOUND=Oo,ia.NULL=new Lu,ia.\u0275prov=ge({token:ia,providedIn:"any",factory:function(){return De(_m)}}),ia.__NG_ELEMENT_ID__=-1,new Z("").__NG_ELEMENT_ID__=function(e){var n=Ne();if(null===n)throw new R(204,!1);if(2&n.type)return n.value;if(e&Ee.Optional)return null;throw new R(204,!1)};function Lf(e){return e.ngOriginalError}var Qr=function(){return m(function e(){y(this,e),this._console=console},[{key:"handleError",value:function(t){var r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}},{key:"_findOriginalError",value:function(t){for(var r=t&&Lf(t);r&&Lf(r);)r=Lf(r);return r||null}}])}(),Oy=new Z("",{providedIn:"root",factory:function(){return K(Qr).handleError.bind(void 0)}}),ol=function(){var e,n=m(function t(){y(this,t)});return(e=n).__NG_ELEMENT_ID__=lT,e.__NG_ENV_ID__=function(t){return t},n}(),uT=function(e){function n(t){var r;return y(this,n),(r=w(this,n))._lView=t,r}return k(n,e),m(n,[{key:"onDestroy",value:function(r){var i=this;return Ku(this._lView,r),function(){return function yf(e,n){if(null!==e[$r]){var t=e[$r].indexOf(n);-1!==t&&e[$r].splice(t,1)}}(i._lView,r)}}}])}(ol);function lT(){return new uT(T())}function cT(){return Ea(Ne(),T())}function Ea(e,n){return new Wt(Kn(e,n))}var Wt=function(){var n=m(function t(r){y(this,t),this.nativeElement=r});return n.__NG_ELEMENT_ID__=cT,n}();function xy(e){return e instanceof Wt?e.nativeElement:e}var Ma=function(){var e,n=function(){return m(function t(){y(this,t),this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new OS(!1)},[{key:"_hasPendingTasks",get:function(){return this.hasPendingTasks.value}},{key:"add",value:function(){this._hasPendingTasks||this.hasPendingTasks.next(!0);var i=this.taskId++;return this.pendingTasks.add(i),i}},{key:"remove",value:function(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}},{key:"ngOnDestroy",value:function(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:function(){return new e}}),n}(),dT=function(e){function n(){var t,i,a,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y(this,n),(t=w(this,n)).destroyRef=void 0,t.pendingTasks=void 0,t.__isAsync=r,function xm(){return void 0!==fm()||null!=function b1(){return ca}()}()&&(t.destroyRef=null!==(i=K(ol,{optional:!0}))&&void 0!==i?i:void 0,t.pendingTasks=null!==(a=K(Ma,{optional:!0}))&&void 0!==a?a:void 0),t}return k(n,e),m(n,[{key:"emit",value:function(r){var i=pe(null);try{Ye(Oe(n.prototype),"next",this).call(this,r)}finally{pe(i)}}},{key:"subscribe",value:function(r,i,a){var o=r,s=i||function(){return null},u=a;if(r&&"object"==typeof r){var l,c,d,f=r;o=null===(l=f.next)||void 0===l?void 0:l.bind(f),s=null===(c=f.error)||void 0===c?void 0:c.bind(f),u=null===(d=f.complete)||void 0===d?void 0:d.bind(f)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),u&&(u=this.wrapInTimeout(u)));var v=Ye(Oe(n.prototype),"subscribe",this).call(this,{next:o,error:s,complete:u});return r instanceof Tt&&r.add(v),v}},{key:"wrapInTimeout",value:function(r){var i=this;return function(a){var o,s=null===(o=i.pendingTasks)||void 0===o?void 0:o.add();setTimeout(function(){var u;r(a),void 0!==s&&(null===(u=i.pendingTasks)||void 0===u||u.remove(s))})}}}])}(kr),gn=dT;function fT(){return this._results[Symbol.iterator]()}var vT=function(){return m(function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(this,e),this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;var t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=fT)},[{key:"changes",get:function(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new gn}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,r){return this._results.reduce(t,r)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,r){this.dirty=!1;var i=function ot(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function T1(e,n,t){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],a=n[r];if(t&&(i=t(i),a=t(a)),a!==i)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}},{key:"notifyOnChanges",value:function(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"onDirty",value:function(t){this._onDirty=t}},{key:"setDirty",value:function(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}},{key:"destroy",value:function(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}])}();function sl(e){return!(128&~e.flags)}var Vf=new Map,gT=0,ll="__ngContext__";function jn(e,n){Tn(n)?(e[ll]=n[ya],function mT(e){Vf.set(e[ya],e)}(n)):e[ll]=n}function jy(e){return Wy(e[Ro])}function Gy(e){return Wy(e[Ut])}function Wy(e){for(;null!==e&&!zn(e);)e=e[Ut];return e}var Hf=void 0;var ka=new Z("",{providedIn:"root",factory:function(){return LT}}),LT="ng",$y=new Z(""),Jr=new Z("",{providedIn:"platform",factory:function(){return"unknown"}}),Qy=new Z("",{providedIn:"root",factory:function(){var n;return(null===(n=function Xr(){if(void 0!==Hf)return Hf;if(typeof document<"u")return document;throw new R(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}}),Xy=function(){return null};function Wf(e,n){return Xy(e,n,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}var o_=new Z("",{providedIn:"root",factory:function(){return!1}}),f_=function(){return m(function e(n){y(this,e),this.changingThisBreaksApplicationSecurity=n},[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see ".concat(rm,")")}}])}();function ei(e){return e instanceof f_?e.changingThisBreaksApplicationSecurity:e}var oP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Aa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Aa||{});function tv(e){var n=function is(){var e=T();return e&&e[ur].sanitizer}();return n?n.sanitize(Aa.URL,e)||"":function ts(e,n){var t=function tP(e){return e instanceof f_&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error("Required a safe ".concat(n,", got a ").concat(t," (see ").concat(rm,")"))}return t===n}(e,"URL")?ei(e):function Xf(e){return(e=String(e)).match(oP)?e:"unsafe:"+e}(ue(e))}var av,ni=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ni||{});function ov(e,n){return av(e,n)}function Na(e,n,t,r,i){if(null!=r){var a,o=!1;zn(r)?a=r:Tn(r)&&(o=!0,r=r[Ke]);var s=ke(r);0===e&&null!==t?null==i?N_(n,t,s):Ai(n,t,s,i||null,!0):1===e&&null!==t?Ai(n,t,s,i||null,!0):2===e?function os(e,n,t){var r=El(e,n);r&&function YP(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,s,o):3===e&&n.destroyNode(s),null!=a&&function QP(e,n,t,r,i){var a=t[cr];a!==ke(t)&&Na(n,e,r,a,i);for(var s=an;s<t.length;s++){var u=t[s];wl(u[L],u,e,n,r,a)}}(n,e,a,t,i)}}function bl(e,n,t){return e.createElement(n,t)}function O_(e,n){var t;null===(t=n[ur].changeDetectionScheduler)||void 0===t||t.notify(8),wl(e,n,n[ae],2,null,null)}function A_(e,n){var t=e[_a],r=n[vn];(Tn(r)||n[$e]!==r[vn][$e])&&(e[$]|=qu.HasTransplantedViews),null===t?e[_a]=[n]:t.push(n)}function lv(e,n){var t=e[_a],r=t.indexOf(n);t.splice(r,1)}function as(e,n){if(!(e.length<=an)){var t=an+n,r=e[t];if(r){var i=r[wi];null!==i&&i!==e&&lv(i,r),n>0&&(e[t-1][Ut]=r[Ut]);var a=Fu(e,an+n);!function zP(e,n){O_(e,n),n[Ke]=null,n[xn]=null}(r[L],r);var o=a[lr];null!==o&&o.detachView(a[L]),r[vn]=null,r[Ut]=null,r[$]&=-129}return r}}function Dl(e,n){if(!(256&n[$])){var t=n[ae];t.destroyNode&&wl(e,n,t,3,null,null),function GP(e){var n=e[Ro];if(!n)return cv(e[L],e);for(;n;){var t=null;if(Tn(n))t=n[Ro];else{var r=n[an];r&&(t=r)}if(!t){for(;n&&!n[Ut]&&n!==e;)Tn(n)&&cv(n[L],n),n=n[vn];null===n&&(n=e),Tn(n)&&cv(n[L],n),t=n&&n[Ut]}n=t}}(n)}}function cv(e,n){if(!(256&n[$])){var t=pe(null);try{n[$]&=-129,n[$]|=256,n[Pt]&&bd(n[Pt]),function ZP(e,n){var t;if(null!=e&&null!=(t=e.destroyHooks))for(var r=0;r<t.length;r+=2){var i=n[t[r]];if(!(i instanceof Wo)){var a=t[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];dr(4,s,u);try{u.call(s)}finally{dr(5,s,u)}}else{dr(4,i,a);try{a.call(i)}finally{dr(5,i,a)}}}}}(e,n),function qP(e,n){var t=e.cleanup,r=n[Mi];if(null!==t)for(var i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){var a=t[i+3];a>=0?r[a]():r[-a].unsubscribe(),i+=2}else t[i].call(r[t[i+1]]);null!==r&&(n[Mi]=null);var s=n[$r];if(null!==s){n[$r]=null;for(var u=0;u<s.length;u++)(0,s[u])()}}(e,n),1===n[L].type&&n[ae].destroy();var r=n[wi];if(null!==r&&zn(n[vn])){r!==n[vn]&&lv(r,n);var i=n[lr];null!==i&&i.detachView(e)}!function yT(e){Vf.delete(e[ya])}(n)}finally{pe(t)}}}function dv(e,n,t){return function x_(e,n,t){for(var r=n;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return t[Ke];var a=r.componentOffset;if(a>-1){var o=e.data[r.directiveStart+a].encapsulation;if(o===Bt.None||o===Bt.Emulated)return null}return Kn(r,t)}(e,n.parent,t)}function Ai(e,n,t,r,i){e.insertBefore(n,t,r,i)}function N_(e,n,t){e.appendChild(n,t)}function F_(e,n,t,r,i){null!==r?Ai(e,n,t,r,i):N_(e,n,t)}function El(e,n){return e.parentNode(n)}var fv,V_=function L_(e,n,t){return 40&e.type?Kn(e,t):null};function Ml(e,n,t,r){var i=dv(e,r,n),a=n[ae],s=function R_(e,n,t){return V_(e,n,t)}(r.parent||n[xn],r,n);if(null!=i)if(Array.isArray(t))for(var u=0;u<t.length;u++)F_(a,i,t[u],s,!1);else F_(a,i,t,s,!1);void 0!==fv&&fv(a,r,n,t,i)}function Fa(e,n){if(null!==n){var t=n.type;if(3&t)return Kn(n,e);if(4&t)return vv(-1,e[n.index]);if(8&t){var r=n.child;if(null!==r)return Fa(e,r);var i=e[n.index];return zn(i)?vv(-1,i):ke(i)}if(32&t)return ov(n,e)()||ke(e[n.index]);var s=H_(e,n);return null!==s?Array.isArray(s)?s[0]:Fa(Or(e[$e]),s):Fa(e,n.next)}return null}function H_(e,n){return null!==n?e[$e][xn].projection[n.projection]:null}function vv(e,n){var t=an+e+1;if(t<n.length){var r=n[t],i=r[L].firstChild;if(null!==i)return Fa(r,i)}return n[cr]}function hv(e,n,t,r,i,a,o){for(;null!=t;)if(128!==t.type){var s=r[t.index],u=t.type;if(o&&0===n&&(s&&jn(ke(s),r),t.flags|=2),32&~t.flags)if(8&u)hv(e,n,t.child,r,i,a,!1),Na(n,e,i,s,a);else if(32&u){for(var l=ov(t,r),c=void 0;c=l();)Na(n,e,i,c,a);Na(n,e,i,s,a)}else 16&u?z_(e,n,r,t,i,a):Na(n,e,i,s,a);t=o?t.projectionNext:t.next}else t=t.next}function wl(e,n,t,r,i,a){hv(t,r,e.firstChild,n,i,a,!1)}function z_(e,n,t,r,i,a){var o=t[$e],u=o[xn].projection[r.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)Na(n,e,i,u[l],a);else{var d=u,f=o[vn];sl(r)&&(d.flags|=128),hv(e,n,d,f,i,a,!0)}}function j_(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function G_(e,n,t){var r=t.mergedAttrs,i=t.classes,a=t.styles;null!==r&&Jd(e,n,r),null!==i&&j_(e,n,i),null!==a&&function JP(e,n,t){e.setAttribute(n,"style",t)}(e,n,a)}var le={};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;W_(me(),T(),Nn()+e,!1)}function W_(e,n,t,r){if(!r)if(3&~n[$]){var o=e.preOrderHooks;null!==o&&el(n,o,0,t)}else{var a=e.preOrderCheckHooks;null!==a&&Ju(n,a,t)}Ti(t)}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.Default,t=T();return null===t?De(e,n):_y(Ne(),t,ne(e),n)}function q_(e,n,t,r,i,a){var o=pe(null);try{var s=null;i&Yr.SignalBased&&(s=n[r][Rt]),null!==s&&void 0!==s.transformFn&&(a=s.transformFn(a)),i&Yr.HasDecoratorInputTransform&&(a=e.inputTransforms[r].call(n,a)),null!==e.setInput?e.setInput(n,s,a,t,r):Hm(n,s,r,a)}finally{pe(o)}}function kl(e,n,t,r,i,a,o,s,u,l,c){var d=n.blueprint.slice();return d[Ke]=i,d[$]=204|r,(null!==l||e&&2048&e[$])&&(d[$]|=2048),qm(d),d[vn]=d[pa]=e,d[Ue]=t,d[ur]=o||e&&e[ur],d[ae]=s||e&&e[ae],d[hn]=u||e&&e[hn]||null,d[xn]=a,d[ya]=function pT(){return gT++}(),d[Yn]=c,d[Rm]=l,d[$e]=2==n.type?e[$e]:d,d}function xi(e,n,t,r,i){var a=e.data[n];if(null===a)a=function gv(e,n,t,r,i){var a=Qm(),o=Cf(),u=e.data[n]=function uO(e,n,t,r,i,a){var o=n?n.injectorIndex:-1,s=0;return function Ii(){return null!==oe.skipHydrationRootTNode}()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u,u.prev=a)),u}(e,n,t,r,i),function PI(){return oe.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=t,a.value=r,a.attrs=i;var o=function jo(){var e=oe.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return jt(a,!0),a}function ss(e,n,t,r){if(0===t)return-1;for(var i=n.length,a=0;a<t;a++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Z_(e,n,t,r,i){var a=Nn(),o=2&r;try{Ti(-1),o&&n.length>Y&&W_(e,n,Y,!1),dr(o?2:0,i),t(r,i)}finally{Ti(a),dr(o?3:1,i)}}function pv(e,n,t){if(df(n)){var r=pe(null);try{for(var a=n.directiveEnd,o=n.directiveStart;o<a;o++){var s=e.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}finally{pe(r)}}}function mv(e,n,t){$m()&&(function gO(e,n,t,r){var i=t.directiveStart,a=t.directiveEnd;ki(t)&&function DO(e,n,t){var r=Kn(n,e),i=Y_(t),o=16;t.signals?o=4096:t.onPush&&(o=64);var s=Sl(e,kl(e,i,null,o,r,n,null,e[ur].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=s}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||tl(t,n),jn(r,n);for(var o=t.initialInputs,s=i;s<a;s++){var u=e.data[s],l=Oi(n,e,s,t);jn(l,n),null!==o&&EO(0,s-i,l,u,0,o),zt(u)&&(yt(t.index,n)[Ue]=Oi(n,e,s,t))}}(e,n,t,Kn(t,n)),!(64&~t.flags)&&J_(e,n,t))}function yv(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kn,r=n.localNames;if(null!==r)for(var i=n.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?t(n,e):e[o];e[i++]=s}}function Y_(e){var n=e.tView;return null===n||n.incompleteFirstPass?e.tView=_v(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function _v(e,n,t,r,i,a,o,s,u,l,c){var d=Y+r,f=d+i,v=function tO(e,n){for(var t=[],r=0;r<n;r++)t.push(r<e?null:le);return t}(d,f),g="function"==typeof l?l():l;return v[L]={type:e,blueprint:v,template:t,queries:null,viewQuery:s,declTNode:n,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:c}}var K_=function(){return null};function $_(e,n,t,r,i){for(var a in n){var o;if(n.hasOwnProperty(a)){var s=n[a];if(void 0!==s){null!==(o=r)&&void 0!==o||(r={});var u=void 0,l=Yr.None;Array.isArray(s)?(u=s[0],l=s[1]):u=s;var c=a;if(null!==i){if(!i.hasOwnProperty(a))continue;c=i[a]}0===e?Q_(r,t,c,u,l):Q_(r,t,c,u)}}}return r}function Q_(e,n,t,r,i){var a;e.hasOwnProperty(t)?(a=e[t]).push(n,r):a=e[t]=[n,r],void 0!==i&&a.push(i)}function lt(e,n,t,r,i,a,o,s){var c,u=Kn(n,t),l=n.inputs;!s&&null!=l&&(c=l[r])?(Mv(e,t,c,r,i),ki(n)&&function dO(e,n){var t=yt(n,e);16&t[$]||(t[$]|=64)}(t,n.index)):3&n.type&&(r=function cO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,a.setProperty(u,r,i))}function Cv(e,n,t,r){if($m()){var o,s,i=null===r?null:{"":-1},a=function mO(e,n){var t=e.directiveRegistry,r=null,i=null;if(t)for(var a=0;a<t.length;a++){var o=t[a];if(Mm(n,o.selectors,!1))if(r||(r=[]),zt(o))if(null!==o.findHostDirectiveDefs){var s,u=[];o.findHostDirectiveDefs(o,u,i=i||new Map),(s=r).unshift.apply(s,u.concat([o])),bv(e,n,u.length)}else r.unshift(o),bv(e,n,0);else{var c;i=i||new Map,null===(c=o.findHostDirectiveDefs)||void 0===c||c.call(o,o,r,i),r.push(o)}}return null===r?null:[r,i]}(e,t);if(null===a)o=s=null;else{var u=it(a,2);o=u[0],s=u[1]}null!==o&&X_(e,n,t,o,i,s),i&&function yO(e,n,t){if(n)for(var r=e.localNames=[],i=0;i<n.length;i+=2){var a=t[n[i+1]];if(null==a)throw new R(-301,!1);r.push(n[i],a)}}(t,r,i)}t.mergedAttrs=xo(t.mergedAttrs,t.attrs)}function X_(e,n,t,r,i,a){for(var o=0;o<r.length;o++)xf(tl(t,n),e,r[o].type);!function CO(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(var s=0;s<r.length;s++){var u=r[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,d=ss(e,n,r.length,null),f=0;f<r.length;f++){var v=r[f];t.mergedAttrs=xo(t.mergedAttrs,v.hostAttrs),bO(e,t,n,d,v),_O(d,v,i),null!==v.contentQueries&&(t.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(t.flags|=64);var p,_,g=v.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((null!==(p=e.preOrderHooks)&&void 0!==p?p:e.preOrderHooks=[]).push(t.index),l=!0),c||!g.ngOnChanges&&!g.ngDoCheck||((null!==(_=e.preOrderCheckHooks)&&void 0!==_?_:e.preOrderCheckHooks=[]).push(t.index),c=!0),d++}!function lO(e,n,t){for(var i=n.directiveEnd,a=e.data,o=n.attrs,s=[],u=null,l=null,c=n.directiveStart;c<i;c++){var d=a[c],f=t?t.get(d):null,g=f?f.outputs:null;u=$_(0,d.inputs,c,u,f?f.inputs:null),l=$_(1,d.outputs,c,l,g);var p=null===u||null===o||ef(n)?null:MO(u,c,o);s.push(p)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=s,n.inputs=u,n.outputs=l}(e,t,a)}function J_(e,n,t){var r=t.directiveStart,i=t.directiveEnd,a=t.index,o=function AI(){return oe.lFrame.currentDirectiveIndex}();try{Ti(a);for(var s=r;s<i;s++){var u=e.data[s],l=n[s];Df(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&pO(u,l)}}finally{Ti(-1),Df(o)}}function pO(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function bv(e,n,t){var r;n.componentOffset=t,(null!==(r=e.components)&&void 0!==r?r:e.components=[]).push(n.index)}function _O(e,n,t){if(t){if(n.exportAs)for(var r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;zt(n)&&(t[""]=e)}}function bO(e,n,t,r,i){e.data[r]=i;var a=i.factory||(i.factory=bi(i.type)),o=new Wo(a,zt(i),x);e.blueprint[r]=o,t[r]=o,function vO(e,n,t,r,i){var a=i.hostBindings;if(a){var o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);var s=~n.index;(function hO(e){for(var n=e.length;n>0;){var t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=s&&o.push(s),o.push(t,r,a)}}(e,n,r,ss(e,t,i.hostVars,le),i)}function hr(e,n,t,r,i,a){var o=Kn(e,n);!function Dv(e,n,t,r,i,a,o){if(null==a)e.removeAttribute(n,i,t);else{var s=null==o?ue(a):o(a,r||"",i);e.setAttribute(n,i,s,t)}}(n[ae],o,a,e.value,t,r,i)}function EO(e,n,t,r,i,a){var o=a[n];if(null!==o)for(var s=0;s<o.length;)q_(r,t,o[s++],o[s++],o[s++],o[s++])}function MO(e,n,t){for(var r=null,i=0;i<t.length;){var a=t[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);for(var o=e[a],s=0;s<o.length;s+=3)if(o[s]===n){r.push(a,o[s+1],o[s+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function eC(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function nC(e,n){var t=e.contentQueries;if(null!==t){var r=pe(null);try{for(var i=0;i<t.length;i+=2){var o=t[i+1];if(-1!==o){var s=e.data[o];Qu(t[i]),s.contentQueries(2,n[o],o)}}}finally{pe(r)}}}function Sl(e,n){return e[Ro]?e[Fm][Ut]=n:e[Ro]=n,e[Fm]=n,n}function Ev(e,n,t){Qu(0);var r=pe(null);try{n(e,t)}finally{pe(r)}}function tC(e){var n;return null!==(n=e[Mi])&&void 0!==n?n:e[Mi]=[]}function rC(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function Il(e,n){var t=e[hn],r=t?t.get(Qr,null):null;r&&r.handleError(n)}function Mv(e,n,t,r,i){for(var a=0;a<t.length;){var o=t[a++],s=t[a++],u=t[a++];q_(e.data[o],n[o],r,s,u,i)}}function Fr(e,n,t){var r=Ho(n,e);!function P_(e,n,t){e.setValue(n,t)}(e[ae],r,t)}function wO(e,n){var t=yt(n,e),r=t[L];!function kO(e,n){for(var t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);var i=t[Ke];null!==i&&null===t[Yn]&&(t[Yn]=Wf(i,t[hn])),wv(r,t,t[Ue])}function wv(e,n,t){wf(n);try{var r,i=e.viewQuery;null!==i&&Ev(1,i,t);var a=e.template;null!==a&&Z_(e,n,a,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),null===(r=n[lr])||void 0===r||r.finishViewCreation(e),e.staticContentQueries&&nC(e,n),e.staticViewQueries&&Ev(2,e.viewQuery,t);var o=e.components;null!==o&&function SO(e,n){for(var t=0;t<n.length;t++)wO(e,n[t])}(n,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[$]&=-5,kf()}}function Ni(e,n){return!n||null===n.firstChild||sl(e)}function us(e,n,t,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==t;)if(128!==t.type){var a=n[t.index];null!==a&&r.push(ke(a)),zn(a)&&oC(a,r);var o=t.type;if(8&o)us(e,n,t.child,r);else if(32&o)for(var s=ov(t,n),u=void 0;u=s();)r.push(u);else if(16&o){var l=H_(n,t);if(Array.isArray(l))r.push.apply(r,B(l));else{var c=Or(n[$e]);us(c[L],c,l,r,!0)}}t=i?t.projectionNext:t.next}else t=i?t.projectionNext:t.next;return r}function oC(e,n){for(var t=an;t<e.length;t++){var r=e[t],i=r[L].firstChild;null!==i&&us(r[L],r,i,n)}e[cr]!==e[Ke]&&n.push(e[cr])}var sC=[];var OO=re(re({},yu),{},{consumerIsAlwaysLive:!0,consumerMarkedDirty:function(n){Yu(n.lView)},consumerOnSignalRead:function(){this.lView[Pt]=this}}),xO=re(re({},yu),{},{consumerIsAlwaysLive:!0,consumerMarkedDirty:function(n){for(var t=Or(n.lView);t&&!uC(t[L]);)t=Or(t);t&&Zm(t)},consumerOnSignalRead:function(){this.lView[Pt]=this}});function uC(e){return 2!==e.type}var NO=100;function Tl(e){var o,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e[ur],i=r.rendererFactory;null===(o=i.begin)||void 0===o||o.call(i);try{!function FO(e,n){var t=ey();try{ny(!0),Sv(e,n);for(var r=0;zo(e);){if(r===NO)throw new R(103,!1);r++,Sv(e,1)}}finally{ny(t)}}(e,t)}catch(l){throw n&&Il(e,l),l}finally{var s,u;null===(s=i.end)||void 0===s||s.call(i),null===(u=r.inlineEffectRunner)||void 0===u||u.flush()}}function LO(e,n,t,r){var i,a=n[$];if(256&~a){null===(i=n[ur].inlineEffectRunner)||void 0===i||i.flush(),wf(n);var u=!0,l=null,c=null;uC(e)?l=_u(c=function IO(e){var n;return null!==(n=e[Pt])&&void 0!==n?n:function TO(e){var n,t=null!==(n=sC.pop())&&void 0!==n?n:Object.create(OO);return t.lView=e,t}(e)}(n)):null===function kp(){return Cn}()?(u=!1,c=function AO(e){var n,t=null!==(n=e[Pt])&&void 0!==n?n:Object.create(xO);return t.lView=e,t}(n),l=_u(c)):n[Pt]&&(bd(n[Pt]),n[Pt]=null);try{qm(n),function ty(e){return oe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Z_(e,n,t,2,r);var d=!(3&~a);if(d){var f=e.preOrderCheckHooks;null!==f&&Ju(n,f,null)}else{var v=e.preOrderHooks;null!==v&&el(n,v,0,null),Sf(n,0)}if(function VO(e){for(var n=jy(e);null!==n;n=Gy(n))if(n[$]&qu.HasTransplantedViews)for(var t=n[_a],r=0;r<t.length;r++)Zm(t[r])}(n),lC(n,0),null!==e.contentQueries&&nC(e,n),d){var g=e.contentCheckHooks;null!==g&&Ju(n,g)}else{var p=e.contentHooks;null!==p&&el(n,p,1),Sf(n,1)}!function nO(e,n){var t=e.hostBindingOpCodes;if(null!==t)try{for(var r=0;r<t.length;r++){var i=t[r];if(i<0)Ti(~i);else{var a=i,o=t[++r],s=t[++r];OI(o,a),s(2,n[a])}}}finally{Ti(-1)}}(e,n);var _=e.components;null!==_&&dC(n,_,0);var D=e.viewQuery;if(null!==D&&Ev(2,D,r),d){var C=e.viewCheckHooks;null!==C&&Ju(n,C)}else{var M=e.viewHooks;null!==M&&el(n,M,2),Sf(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Lo]){var O,I=A(n[Lo]);try{for(I.s();!(O=I.n()).done;)(0,O.value)()}catch(F){I.e(F)}finally{I.f()}n[Lo]=null}n[$]&=-73}catch(F){throw Yu(n),F}finally{null!==c&&(_d(c,l),u&&function PO(e){e.lView[Pt]!==e&&(e.lView=null,sC.push(e))}(c)),kf()}}}function lC(e,n){for(var t=jy(e);null!==t;t=Gy(t))for(var r=an;r<t.length;r++)cC(t[r],n)}function BO(e,n,t){cC(yt(n,e),t)}function cC(e,n){pf(e)&&Sv(e,n)}function Sv(e,n){var r=e[L],i=e[$],a=e[Pt],o=!!(0===n&&16&i);if(o||(o=!!(64&i&&0===n)),o||(o=!!(1024&i)),o||(o=!(null==a||!a.dirty||!Cd(a))),o||(o=!1),a&&(a.dirty=!1),e[$]&=-9217,o)LO(r,e,r.template,e[Ue]);else if(8192&i){lC(e,1);var s=r.components;null!==s&&dC(e,s,1)}}function dC(e,n,t){for(var r=0;r<n.length;r++)BO(e,n[r],t)}function ls(e,n){var t,r=ey()?64:1088;for(null===(t=e[ur].changeDetectionScheduler)||void 0===t||t.notify(n);e;){e[$]|=r;var i=Or(e);if(Bo(e)&&!i)return e;e=i}return null}var cs=function(){return m(function e(n,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y(this,e),this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1},[{key:"rootNodes",get:function(){var t=this._lView,r=t[L];return us(r,t,r.firstChild,[])}},{key:"context",get:function(){return this._lView[Ue]},set:function(t){this._lView[Ue]=t}},{key:"destroyed",get:function(){return!(256&~this._lView[$])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[vn];if(zn(t)){var r=t[8],i=r?r.indexOf(this):-1;i>-1&&(as(t,i),Fu(r,i))}this._attachedToViewContainer=!1}Dl(this._lView[L],this._lView)}},{key:"onDestroy",value:function(t){Ku(this._lView,t)}},{key:"markForCheck",value:function(){ls(this._cdRefInjectingView||this._lView,4)}},{key:"detach",value:function(){this._lView[$]&=-129}},{key:"reattach",value:function(){mf(this._lView),this._lView[$]|=128}},{key:"detectChanges",value:function(){this._lView[$]|=1024,Tl(this._lView,this.notifyErrorHandler)}},{key:"checkNoChanges",value:function(){}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null;var t=Bo(this._lView),r=this._lView[wi];null!==r&&!t&&lv(r,this._lView),O_(this._lView[L],this._lView)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=t;var r=Bo(this._lView),i=this._lView[wi];null!==i&&!r&&A_(i,this._lView),mf(this._lView)}}])}(),Rr=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=zO,n}(),UO=function(e){function n(t,r,i){var a;return y(this,n),(a=w(this,n))._declarationLView=t,a._declarationTContainer=r,a.elementRef=i,a}return k(n,e),m(n,[{key:"ssrId",get:function(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}},{key:"createEmbeddedView",value:function(r,i){return this.createEmbeddedViewImpl(r,i)}},{key:"createEmbeddedViewImpl",value:function(r,i,a){var o=function Ra(e,n,t,r){var i=pe(null);try{var a,o,s,u=n.tView,d=kl(e,u,t,4096&e[$]?4096:16,null,n,null,null,null!==(a=r?.injector)&&void 0!==a?a:null,null!==(o=r?.embeddedViewInjector)&&void 0!==o?o:null,null!==(s=r?.dehydratedView)&&void 0!==s?s:null);d[wi]=e[n.index];var v=e[lr];return null!==v&&(d[lr]=v.createEmbeddedView(u)),wv(u,d,t),d}finally{pe(i)}}(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:i,dehydratedView:a});return new cs(o)}}])}(Rr);function zO(){return Pl(Ne(),T())}function Pl(e,n){return 4&e.type?new UO(n,e,Ea(e,n)):null}var ys=m(function e(){y(this,e)}),Rl=new Z("",{providedIn:"root",factory:function(){return!1}}),xC=new Z(""),NA=m(function e(){y(this,e)}),NC=m(function e(){y(this,e)}),RA=function(){return m(function e(){y(this,e)},[{key:"resolveComponentFactory",value:function(t){throw function FA(e){var n=Error("No component factory found for ".concat(bn(e),"."));return n.ngComponent=e,n}(t)}}])}(),_s=m(function e(){y(this,e)});_s.NULL=new RA;var Vv=m(function e(){y(this,e)}),Li=function(){var n=m(function t(){y(this,t),this.destroyNode=null});return n.__NG_ELEMENT_ID__=function(){return function LA(){var e=T(),t=yt(Ne().index,e);return(Tn(t)?t:e)[ae]}()},n}(),VA=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:function(){return null}}),n}(),RC=new Set;function Qn(e){var n,t;RC.has(e)||(RC.add(e),null===(n=performance)||void 0===n||null===(t=n.mark)||void 0===t||t.call(n,"mark_feature_usage",{detail:{feature:e}}))}function LC(e){var n=!0;return setTimeout(function(){n&&(n=!1,e())}),"function"==typeof Re.requestAnimationFrame&&Re.requestAnimationFrame(function(){n&&(n=!1,e())}),function(){n=!1}}function VC(e){var n=!0;return queueMicrotask(function(){n&&e()}),function(){n=!1}}function BC(){}var Ze=function(){function e(n){var t=n.enableLongStackTrace,r=void 0!==t&&t,i=n.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=n.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(y(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gn(!1),this.onMicrotaskEmpty=new gn(!1),this.onStable=new gn(!1),this.onError=new gn(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.callbackScheduled=!1,function UA(e){var n=function(){!function HA(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(function(){LC(function(){e.callbackScheduled=!1,Hv(e),e.isCheckStableRunning=!0,Bv(e),e.isCheckStableRunning=!1})}),Hv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(r,i,a,o,s,u){if(function zA(e){return zC(e,"__ignore_ng_zone__")}(u))return r.invokeTask(a,o,s,u);try{return HC(e),r.invokeTask(a,o,s,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),UC(e)}},onInvoke:function(r,i,a,o,s,u,l){try{return HC(e),r.invoke(a,o,s,u,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function jA(e){return zC(e,"__scheduler_tick__")}(u)&&n(),UC(e)}},onHasTask:function(r,i,a,o){r.hasTask(a,o),i===a&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Hv(e),Bv(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(r,i,a,o){return r.handleError(a,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}(u)}return m(e,[{key:"run",value:function(t,r,i){return this._inner.run(t,r,i)}},{key:"runTask",value:function(t,r,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,t,BA,BC,BC);try{return o.runTask(s,r,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(t,r,i){return this._inner.runGuarded(t,r,i)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new R(909,!1)}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new R(909,!1)}}])}(),BA={};function Bv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Hv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function HC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function UC(e){e._nesting--,Bv(e)}var Uv=function(){return m(function e(){y(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gn,this.onMicrotaskEmpty=new gn,this.onStable=new gn,this.onError=new gn},[{key:"run",value:function(t,r,i){return t.apply(r,i)}},{key:"runGuarded",value:function(t,r,i){return t.apply(r,i)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,r,i,a){return t.apply(r,i)}}])}();function zC(e,n){var t;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(t=e[0])||void 0===t||null===(t=t.data)||void 0===t?void 0:t[n])}var Ll=function(){var e,n=function(){return m(function t(){y(this,t),this.handler=null,this.internalCallbacks=[]},[{key:"execute",value:function(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}},{key:"executeInternalCallbacks",value:function(){var i=B(this.internalCallbacks);this.internalCallbacks.length=0;var o,a=A(i);try{for(a.s();!(o=a.n()).done;)(0,o.value)()}catch(u){a.e(u)}finally{a.f()}}},{key:"ngOnDestroy",value:function(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:function(){return new e}}),n}();function Bl(e,n,t){var r=t?e.styles:null,i=t?e.classes:null,a=0;if(null!==n)for(var o=0;o<n.length;o++){var s=n[o];"number"==typeof s?a=s:1==a?i=Fd(i,s):2==a&&(r=Fd(r,s+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var ZC=function(e){function n(t){var r;return y(this,n),(r=w(this,n)).ngModule=t,r}return k(n,e),m(n,[{key:"resolveComponentFactory",value:function(r){var i=_e(r);return new Ds(i,this.ngModule)}}])}(_s);function YC(e,n){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(void 0!==i){var a=Array.isArray(i),o=a?i[0]:i;t.push(n?{propName:o,templateName:r,isSignal:!!((a?i[1]:Yr.None)&Yr.SignalBased)}:{propName:o,templateName:r})}}return t}var Ds=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=function H1(e){return e.map(B1).join(",")}(t.selectors),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return k(n,e),m(n,[{key:"inputs",get:function(){var r=this.componentDef,i=r.inputTransforms,a=YC(r.inputs,!0);if(null!==i){var s,o=A(a);try{for(o.s();!(s=o.n()).done;){var u=s.value;i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName])}}catch(l){o.e(l)}finally{o.f()}}return a}},{key:"outputs",get:function(){return YC(this.componentDef.outputs,!1)}},{key:"create",value:function(r,i,a,o){var s=pe(null);try{var l,c=(o=o||this.ngModule)instanceof sr?o:null===(l=o)||void 0===l?void 0:l.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);var d=c?new Pi(r,c):r,f=d.get(Vv,null);if(null===f)throw new R(407,!1);var _={rendererFactory:f,sanitizer:d.get(VA,null),inlineEffectRunner:null,afterRenderEventManager:d.get(Ll,null),changeDetectionScheduler:d.get(ys,null)},D=f.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=a?function rO(e,n,t,r){var i=r.get(o_,!1),o=e.selectRootElement(n,i||t===Bt.ShadowDom);return function iO(e){K_(e)}(o),o}(D,a,this.componentDef.encapsulation,d):bl(D,C,function XA(e){var n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(C)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);var O=null;null!==M&&(O=Wf(M,d,!0));var W,q,V=_v(0,null,null,1,0,null,null,null,null,null,null),F=kl(null,V,null,I,null,null,_,D,d,null,O);wf(F);try{var ye,ce=this.componentDef,de=null;ce.findHostDirectiveDefs?(ce.findHostDirectiveDefs(ce,ye=[],de=new Map),ye.push(ce)):ye=[ce];var be=function ex(e,n){var t=e[L],r=Y;return e[r]=n,xi(t,r,2,"#host",null)}(F,M),Fe=function nx(e,n,t,r,i,a,o){var s=i[L];!function tx(e,n,t,r){var a,i=A(e);try{for(i.s();!(a=i.n()).done;)n.mergedAttrs=xo(n.mergedAttrs,a.value.hostAttrs)}catch(s){i.e(s)}finally{i.f()}null!==n.mergedAttrs&&(Bl(n,n.mergedAttrs,!0),null!==t&&G_(r,t,n))}(r,e,n,o);var u=null;null!==n&&(u=Wf(n,i[hn]));var l=a.rendererFactory.createRenderer(n,t),c=16;t.signals?c=4096:t.onPush&&(c=64);var d=kl(i,Y_(t),null,c,i[e.index],e,a,l,null,null,u);return s.firstCreatePass&&bv(s,e,r.length-1),Sl(i,d),i[e.index]=d}(be,M,ce,ye,F,_,D);q=Uo(V,Y),M&&function ix(e,n,t,r){if(r)Jd(e,t,["ng-version","18.1.1"]);else{var i=function U1(e){for(var n=[],t=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&n.push(a,e[++r]):8===i&&t.push(a);else{if(!Ht(i))break;i=a}r++}return{attrs:n,classes:t}}(n.selectors[0]),a=i.attrs,o=i.classes;a&&Jd(e,t,a),o&&o.length>0&&j_(e,t,o.join(" "))}}(D,ce,M,a),void 0!==i&&function ax(e,n,t){for(var r=e.projection=[],i=0;i<n.length;i++){var a=t[i];r.push(null!=a?Array.from(a):null)}}(q,this.ngContentSelectors,i),W=function rx(e,n,t,r,i,a){var o=Ne(),s=i[L],u=Kn(o,i);X_(s,i,o,t,null,r);for(var l=0;l<t.length;l++)jn(Oi(i,s,o.directiveStart+l,o),i);J_(s,i,o),u&&jn(u,i);var f=Oi(i,s,o.directiveStart+o.componentOffset,o);if(e[Ue]=i[Ue]=f,null!==a){var g,v=A(a);try{for(v.s();!(g=v.n()).done;)(0,g.value)(f,n)}catch(_){v.e(_)}finally{v.f()}}return pv(s,o,i),f}(Fe,ce,ye,de,F,[ox]),wv(V,F,null)}finally{kf()}return new JA(this.componentType,W,Ea(q,F),F,q)}finally{pe(s)}}}])}(NC),JA=function(e){function n(t,r,i,a,o){var s;return y(this,n),(s=w(this,n)).location=i,s._rootLView=a,s._tNode=o,s.previousInputValues=null,s.instance=r,s.hostView=s.changeDetectorRef=new cs(a,void 0,!1),s.componentType=t,s}return k(n,e),m(n,[{key:"setInput",value:function(r,i){var o,a=this._tNode.inputs;if(null!==a&&(o=a[r])){var s;if(null!==(s=this.previousInputValues)&&void 0!==s||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),i))return;var u=this._rootLView;Mv(u[L],u,o,r,i),this.previousInputValues.set(r,i),ls(yt(this._tNode.index,u),1)}}},{key:"injector",get:function(){return new Mn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(r){this.hostView.onDestroy(r)}}])}(NA);function ox(){var e=Ne();Xu(T()[L],e)}var Rn=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=sx,n}();function sx(){return QC(Ne(),T())}var KC=function(e){function n(t,r,i){var a;return y(this,n),(a=w(this,n))._lContainer=t,a._hostTNode=r,a._hostLView=i,a}return k(n,e),m(n,[{key:"element",get:function(){return Ea(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Mn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var r=rl(this._hostTNode,this._hostLView);if(Pf(r)){var i=Zo(r,this._hostLView),a=qo(r);return new Mn(i[L].data[a+8],i)}return new Mn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(r){var i=$C(this._lContainer);return null!==i&&i[r]||null}},{key:"length",get:function(){return this._lContainer.length-an}},{key:"createEmbeddedView",value:function(r,i,a){var o,s;"number"==typeof a?o=a:null!=a&&(o=a.index,s=a.injector);var l=r.createEmbeddedViewImpl(i||{},s,null);return this.insertImpl(l,o,Ni(this._hostTNode,null)),l}},{key:"createComponent",value:function(r,i,a,o,s){var u,c,f,d=r&&!function Fo(e){return"function"==typeof e}(r);if(d)f=i;else{var v=i||{};f=v.index,a=v.injector,o=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}var g=d?r:new Ds(_e(r)),p=a||this.parentInjector;if(!s&&null==g.ngModule){var D=(d?p:this.parentInjector).get(sr,null);D&&(s=D)}var C=_e(null!==(u=g.componentType)&&void 0!==u?u:{}),M=(C?.id,null),I=null!==(c=M?.firstChild)&&void 0!==c?c:null,O=g.create(p,o,I,s);return this.insertImpl(O.hostView,f,Ni(this._hostTNode,M)),O}},{key:"insert",value:function(r,i){return this.insertImpl(r,i,!0)}},{key:"insertImpl",value:function(r,i,a){var o=r._lView;if(function bI(e){return zn(e[vn])}(o)){var s=this.indexOf(r);if(-1!==s)this.detach(s);else{var u=o[vn],l=new KC(u,u[xn],u[vn]);l.detach(l.indexOf(r))}}var c=this._adjustIndex(i),d=this._lContainer;return function La(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=n[L];if(function WP(e,n,t,r){var i=an+r,a=t.length;r>0&&(t[i-1][Ut]=n),r<a-an?(n[Ut]=t[i],pm(t,an+r,n)):(t.push(n),n[Ut]=null),n[vn]=t;var o=n[wi];null!==o&&t!==o&&A_(o,n);var s=n[lr];null!==s&&s.insertView(e),mf(n),n[$]|=128}(i,n,e,t),r){var a=vv(t,e),o=n[ae],s=El(o,e[cr]);null!==s&&function jP(e,n,t,r,i,a){r[Ke]=i,r[xn]=n,wl(e,r,t,1,i,a)}(i,e[xn],o,n,s,a)}var u=n[Yn];null!==u&&null!==u.firstChild&&(u.firstChild=null)}(d,o,c,a),r.attachToViewContainerRef(),pm(Wv(d),c,r),r}},{key:"move",value:function(r,i){return this.insert(r,i)}},{key:"indexOf",value:function(r){var i=$C(this._lContainer);return null!==i?i.indexOf(r):-1}},{key:"remove",value:function(r){var i=this._adjustIndex(r,-1),a=as(this._lContainer,i);a&&(Fu(Wv(this._lContainer),i),Dl(a[L],a))}},{key:"detach",value:function(r){var i=this._adjustIndex(r,-1),a=as(this._lContainer,i);return a&&null!=Fu(Wv(this._lContainer),i)?new cs(a):null}},{key:"_adjustIndex",value:function(r){return r??this.length+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}}])}(Rn);function $C(e){return e[8]}function Wv(e){return e[8]||(e[8]=[])}function QC(e,n){var t,r=n[e.index];return zn(r)?t=r:(t=eC(r,n,null,e),n[e.index]=t,Sl(n,t)),XC(t,n,e,r),new KC(t,e,n)}var XC=function eb(e,n,t,r){var i;e[cr]||(i=8&t.type?ke(r):function lx(e,n){var t=e[ae],r=t.createComment(""),i=Kn(n,e);return Ai(t,El(t,i),r,function KP(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[cr]=i)},qv=function(){return!1};var vx=function(){function e(n){y(this,e),this.queryList=n,this.matches=null}return m(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}])}(),hx=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.queries=n}return m(e,[{key:"createEmbeddedView",value:function(t){var r=t.queries;if(null!==r){for(var i=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[],o=0;o<i;o++){var s=r.getByIndex(o);a.push(this.queries[s.indexInDeclarationView].clone())}return new e(a)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"finishViewCreation",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var r=0;r<this.queries.length;r++)null!==Kv(t,r).matches&&this.queries[r].setDirty()}}])}(),nb=m(function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;y(this,e),this.flags=t,this.read=r,this.predicate="string"==typeof n?function bx(e){return e.split(",").map(function(n){return n.trim()})}(n):n}),gx=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.queries=n}return m(e,[{key:"elementStart",value:function(t,r){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,r)}},{key:"elementEnd",value:function(t){for(var r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}},{key:"embeddedTView",value:function(t){for(var r=null,i=0;i<this.length;i++){var a=null!==r?r.length:0,o=this.getByIndex(i).embeddedTView(t,a);o&&(o.indexInDeclarationView=i,null!==r?r.push(o):r=[o])}return null!==r?new e(r):null}},{key:"template",value:function(t,r){for(var i=0;i<this.queries.length;i++)this.queries[i].template(t,r)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}])}(),px=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;y(this,e),this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}return m(e,[{key:"elementStart",value:function(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,r){this.elementStart(t,r)}},{key:"embeddedTView",value:function(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1&~this.metadata.flags){for(var r=this._declarationNodeIndex,i=t.parent;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,r){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var o=i[a];this.matchTNodeWithReadOption(t,r,mx(r,o)),this.matchTNodeWithReadOption(t,r,il(r,t,o,!1,!1))}else i===Rr?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,il(r,t,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,r,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===Wt||a===Rn||a===Rr&&4&r.type)this.addMatch(r.index,-2);else{var o=il(r,t,a,!1,!1);null!==o&&this.addMatch(r.index,o)}else this.addMatch(r.index,i)}}},{key:"addMatch",value:function(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}])}();function mx(e,n){var t=e.localNames;if(null!==t)for(var r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function _x(e,n,t,r){return-1===t?function yx(e,n){return 11&e.type?Ea(e,n):4&e.type?Pl(e,n):null}(n,e):-2===t?function Cx(e,n,t){return t===Wt?Ea(n,e):t===Rr?Pl(n,e):t===Rn?QC(n,e):void 0}(e,n,r):Oi(e,e[L],t,n)}function tb(e,n,t,r){var i=n[lr].queries[r];if(null===i.matches){for(var a=e.data,o=t.matches,s=[],u=0;null!==o&&u<o.length;u+=2){var l=o[u];s.push(l<0?null:_x(n,a[l],o[u+1],t.metadata.read))}i.matches=s}return i.matches}function Zv(e,n,t,r){var i=e.queries.getByIndex(t),a=i.matches;if(null!==a)for(var o=tb(e,n,i,t),s=0;s<a.length;s+=2){var u=a[s];if(u>0)r.push(o[s/2]);else{for(var l=a[s+1],c=n[-u],d=an;d<c.length;d++){var f=c[d];f[wi]===f[vn]&&Zv(f[L],f,l,r)}if(null!==c[_a])for(var v=c[_a],g=0;g<v.length;g++){var p=v[g];Zv(p[L],p,l,r)}}}return r}function ib(e,n,t){var r=me();return r.firstCreatePass&&(function ob(e,n,t){null===e.queries&&(e.queries=new gx),e.queries.track(new px(n,t))}(r,new nb(e,n,t),-1),!(2&~n)&&(r.staticViewQueries=!0)),function rb(e,n,t){var r,i=new vT(!(4&~t));return function sO(e,n,t,r){var i=tC(n);i.push(t),e.firstCreatePass&&rC(e).push(r,i.length-1)}(e,n,i,i.destroy),(null!==(r=n[lr])&&void 0!==r?r:n[lr]=new hx).queries.push(new vx(i))-1}(r,T(),n)}function Kv(e,n){return e.queries.getByIndex(n)}function sb(e,n){var t=e[L],r=Kv(t,n);return r.crossesNgTemplate?Zv(t,e,n,[]):tb(t,e,r,n)}function Ba(e,n){Qn("NgSignals");var t=function yS(e){var n=Object.create(CS);n.value=e;var t=function(){return yd(n),n.value};return t[Rt]=n,t}(e),r=t[Rt];return null!=n&&n.equal&&(r.equal=n.equal),t.set=function(i){return Rp(r,i)},t.update=function(i){return function _S(e,n){Tp()||Fp(),Rp(e,n(e.value))}(r,i)},t.asReadonly=lb.bind(t),t}function lb(){var e=this,n=this[Rt];if(void 0===n.readonlyFn){var t=function(){return e()};t[Rt]=n,n.readonlyFn=t}return n.readonlyFn}function cb(e){return function ub(e){return"function"==typeof e&&void 0!==e[Rt]}(e)&&"function"==typeof e.set}function ve(e){for(var n=function bb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0,r=[e];n;){var i=void 0;if(zt(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);var a=e;a.inputs=Ul(e.inputs),a.inputTransforms=Ul(e.inputTransforms),a.declaredInputs=Ul(e.declaredInputs),a.outputs=Ul(e.outputs);var o=i.hostBindings;o&&Rx(e,o);var s=i.viewQuery,u=i.contentQueries;if(s&&Nx(e,s),u&&Fx(e,u),Ax(e,i),o1(e.outputs,i.outputs),zt(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var d=0;d<c.length;d++){var f=c[d];f&&f.ngInherit&&f(e),f===ve&&(t=!1)}}n=Object.getPrototypeOf(n)}!function xx(e){for(var n=0,t=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=xo(i.hostAttrs,t=xo(t,i.hostAttrs))}}(r)}function Ax(e,n){for(var t in n.inputs)if(n.inputs.hasOwnProperty(t)&&!e.inputs.hasOwnProperty(t)){var r=n.inputs[t];if(void 0!==r&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],null!==n.inputTransforms)){var i,a=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(a))continue;null!==(i=e.inputTransforms)&&void 0!==i||(e.inputTransforms={}),e.inputTransforms[a]=n.inputTransforms[a]}}}function Ul(e){return e===ar?{}:e===Me?[]:e}function Nx(e,n){var t=e.viewQuery;e.viewQuery=t?function(r,i){n(r,i),t(r,i)}:n}function Fx(e,n){var t=e.contentQueries;e.contentQueries=t?function(r,i,a){n(r,i,a),t(r,i,a)}:n}function Rx(e,n){var t=e.hostBindings;e.hostBindings=t?function(r,i){n(r,i),t(r,i)}:n}var Bi=m(function e(){y(this,e)}),jx=m(function e(){y(this,e)}),Qv=function(e){function n(t,r,i){var a;y(this,n),(a=w(this,n))._parent=r,a._bootstrapComponents=[],a.destroyCbs=[],a.componentFactoryResolver=new ZC(a);var o=function Un(e,n){var t=e[cm]||null;if(!t&&!0===n)throw new Error("Type ".concat(bn(e)," does not have '\u0275mod' property."));return t}(t);return a._bootstrapComponents=function _t(e){return e instanceof Function?e():e}(o.bootstrap),a._r3Injector=Ty(t,r,[{provide:Bi,useValue:a},{provide:_s,useValue:a.componentFactoryResolver}].concat(B(i)),bn(t),new Set(["environment"])),a._r3Injector.resolveInjectorInitializers(),a.instance=a._r3Injector.get(t),a}return k(n,e),m(n,[{key:"injector",get:function(){return this._r3Injector}},{key:"destroy",value:function(){var r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(function(i){return i()}),this.destroyCbs=null}},{key:"onDestroy",value:function(r){this.destroyCbs.push(r)}}])}(Bi),Xv=function(e){function n(t){var r;return y(this,n),(r=w(this,n)).moduleType=t,r}return k(n,e),m(n,[{key:"create",value:function(r){return new Qv(this.moduleType,r,[])}}])}(jx),wb=function(e){function n(t){var r;y(this,n),(r=w(this,n)).componentFactoryResolver=new ZC(r),r.instance=null;var i=new va([].concat(B(t.providers),[{provide:Bi,useValue:r},{provide:_s,useValue:r.componentFactoryResolver}]),t.parent||zu(),t.debugName,new Set(["environment"]));return r.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers(),r}return k(n,e),m(n,[{key:"destroy",value:function(){this.injector.destroy()}},{key:"onDestroy",value:function(r){this.injector.onDestroy(r)}}])}(Bi);function zl(e){return!!Jv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Jv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function gr(e,n,t){return e[n]=t}function on(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Hi(e,n,t,r){var i=on(e,n,t);return on(e,n+1,r)||i}function ws(e,n,t,r,i,a,o,s,u,l){var c=t+Y,d=n.firstCreatePass?function $x(e,n,t,r,i,a,o,s,u){var l=n.consts,c=xi(n,e,4,o||null,s||null);Cv(n,t,c,Ot(l,u)),Xu(n,c);var d=c.tView=_v(2,c,r,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,n,e,r,i,a,o,s,u):n.data[c];jt(d,!1);var f=Sb(n,e,d,t);Go()&&Ml(n,e,f,d),jn(f,e);var v=eC(f,e,f,d);return e[c]=v,Sl(e,v),function JC(e,n,t){return qv(e,n,t)}(v,d,e),Zu(d)&&mv(n,e,d),null!=u&&yv(e,d,l),d}function Ln(e,n,t,r,i,a,o,s){var u=T(),l=me();return ws(u,l,e,n,t,r,i,Ot(l.consts,a),o,s),Ln}var Sb=function Ib(e,n,t,r){return fr(!0),n[ae].createComment("")};function Lr(e,n,t,r){var i=T();return on(i,Gt(),n)&&(me(),hr(ze(),i,e,n,t,r)),Lr}function $a(e,n,t,r,i,a){var s=Hi(e,function Ar(){return oe.lFrame.bindingIndex}(),t,i);return xr(2),s?n+ue(t)+r+ue(i)+a:le}function Kl(e,n){return e<<17|n<<2}function ii(e){return e>>17&32767}function ch(e){return 2|e}function zi(e){return(131068&e)>>2}function dh(e,n){return-131069&e|n<<2}function fh(e){return 1|e}function aD(e,n,t,r){for(var i=e[t+1],a=null===n,o=r?ii(i):zi(i),s=!1;0!==o&&(!1===s||a);){var l=e[o+1];FN(e[o],n)&&(s=!0,e[o+1]=r?fh(l):ch(l)),o=r?ii(l):zi(l)}s&&(e[t+1]=r?ch(i):fh(i))}function FN(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&fa(e,n)>=0}function Q(e,n,t){var r=T();return on(r,Gt(),n)&&lt(me(),ze(),r,e,n,r[ae],t,!1),Q}function vh(e,n,t,r,i){var o=i?"class":"style";Mv(e,t,n.inputs[o],o,r)}function $l(e,n){return function Yt(e,n,t,r){var i=T(),a=me(),o=xr(2);a.firstUpdatePass&&function hD(e,n,t,r){var i=e.data;if(null===i[t+1]){var a=i[Nn()],o=function vD(e,n){return n>=e.expandoStartIndex}(e,t);(function yD(e,n){return!!(e.flags&(n?8:16))})(a,r)&&null===n&&!o&&(n=!1),n=function GN(e,n,t,r){var i=function Ef(e){var n=oe.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e),a=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Ts(t=hh(null,e,n,t,r),n.attrs,r),a=null);else{var s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=hh(i,e,n,t,r),null===a){var l=function WN(e,n,t){var r=t?n.classBindings:n.styleBindings;if(0!==zi(r))return e[ii(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&function qN(e,n,t,r){e[ii(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l=Ts(l=hh(null,e,n,l[1],r),n.attrs,r))}else a=function ZN(e,n,t){for(var r=void 0,i=n.directiveEnd,a=1+n.directiveStylingLast;a<i;a++)r=Ts(r,e[a].hostAttrs,t);return Ts(r,n.attrs,t)}(e,n,r)}return void 0!==a&&(r?n.residualClasses=a:n.residualStyles=a),t}(i,a,n,r),function xN(e,n,t,r,i,a){var o=a?n.classBindings:n.styleBindings,s=ii(o),u=zi(o);e[r]=t;var c,l=!1;if(Array.isArray(t)?(null===(c=t[1])||fa(t,c)>0)&&(l=!0):c=t,i)if(0!==u){var v=ii(e[s+1]);e[r+1]=Kl(v,s),0!==v&&(e[v+1]=dh(e[v+1],r)),e[s+1]=function ON(e,n){return 131071&e|n<<17}(e[s+1],r)}else e[r+1]=Kl(s,0),0!==s&&(e[s+1]=dh(e[s+1],r)),s=r;else e[r+1]=Kl(u,0),0===s?s=r:e[u+1]=dh(e[u+1],r),u=r;l&&(e[r+1]=ch(e[r+1])),aD(e,c,r,!0),aD(e,c,r,!1),function NN(e,n,t,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof n&&fa(a,n)>=0&&(t[r+1]=fh(t[r+1]))}(n,c,e,r,a),o=Kl(s,u),a?n.classBindings=o:n.styleBindings=o}(i,a,n,t,o,r)}}(a,e,o,r),n!==le&&on(i,o,n)&&function pD(e,n,t,r,i,a,o,s){if(3&n.type){var u=e.data,l=u[s+1],c=function AN(e){return!(1&~e)}(l)?mD(u,n,t,i,zi(l),o):void 0;Ql(c)||(Ql(a)||function PN(e){return!(2&~e)}(l)&&(a=mD(u,null,t,i,s,o)),function XP(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{var a=-1===r.indexOf("-")?void 0:ni.DashCase;null==i?e.removeStyle(t,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=ni.Important),e.setStyle(t,r,i,a))}}(r,o,Ho(Nn(),t),i,a))}}(a,a.data[Nn()],i,i[ae],e,i[o+1]=function QN(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=bn(ei(e)))),e}(n,t),r,o)}(e,n,null,!0),$l}function hh(e,n,t,r,i){var a=null,o=t.directiveEnd,s=t.directiveStylingLast;for(-1===s?s=t.directiveStart:s++;s<o&&(r=Ts(r,(a=n[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(t.directiveStylingLast=s),r}function Ts(e,n,t){var r=t?1:2,i=-1;if(null!==n)for(var a=0;a<n.length;a++){var o=n[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),mt(e,o,!!t||n[++a]))}return void 0===e?null:e}function mD(e,n,t,r,i,a){for(var o=null===n,s=void 0;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c,f=t[i+1];f===le&&(f=d?Me:void 0);var v=d?Qd(f,r):c===r?f:void 0;if(l&&!Ql(v)&&(v=Qd(u,r)),Ql(v)&&(s=v,o))return s;var g=e[i+1];i=o?ii(g):zi(g)}if(null!==n){var p=a?n.residualClasses:n.residualStyles;null!=p&&(s=Qd(p,r))}return s}function Ql(e){return void 0!==e}function b(e,n,t,r){var i=T(),a=me(),o=Y+e,s=i[ae],u=a.firstCreatePass?function CF(e,n,t,r,i,a){var o=n.consts,u=xi(n,e,2,r,Ot(o,i));return Cv(n,t,u,Ot(o,a)),null!==u.attrs&&Bl(u,u.attrs,!1),null!==u.mergedAttrs&&Bl(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(o,a,i,n,t,r):a.data[o],l=DD(a,i,u,s,n,e);i[o]=l;var c=Zu(u);return jt(u,!0),G_(s,l,u),!function Ua(e){return!(32&~e.flags)}(u)&&Go()&&Ml(a,i,l,u),0===function DI(){return oe.lFrame.elementDepthCount}()&&jn(l,i),function EI(){oe.lFrame.elementDepthCount++}(),c&&(mv(a,i,u),pv(a,u,i)),null!==r&&yv(i,u),b}function E(){var e=Ne();Cf()?function bf(){oe.lFrame.isParent=!1}():jt(e=e.parent,!1);var n=e;(function wI(e){return oe.skipHydrationRootTNode===e})(n)&&function TI(){oe.skipHydrationRootTNode=null}(),function MI(){oe.lFrame.elementDepthCount--}();var t=me();return t.firstCreatePass&&(Xu(t,e),df(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function zI(e){return!!(8&e.flags)}(n)&&vh(t,n,T(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function jI(e){return!!(16&e.flags)}(n)&&vh(t,n,T(),n.stylesWithoutHost,!1),E}function Ae(e,n,t,r){return b(e,n,t,r),E(),Ae}var DD=function(n,t,r,i,a,o){return fr(!0),bl(i,a,function ly(){return oe.lFrame.currentNamespace}())};function Vr(){return T()}var ao="en-US";var YD=function(n,t,r){};function te(e,n,t,r){var i=T(),a=me(),o=Ne();return Eh(a,i,i[ae],o,e,n,r),te}function Eh(e,n,t,r,i,a,o){var s=Zu(r),l=e.firstCreatePass&&rC(e),c=n[Ue],d=tC(n),f=!0;if(3&r.type||o){var v=Kn(r,n),g=o?o(v):v,p=d.length,_=o?function(Fe){return o(ke(Fe[r.index]))}:r.index,D=null;if(!o&&s&&(D=function gR(e,n,t,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===t&&i[a+1]===r){var s=n[Mi],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(e,n,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=a,D.__ngLastListenerFn__=a,f=!1;else{a=QD(r,n,c,a),YD(v,i,a);var M=t.listen(g,i,a);d.push(a,M),l&&l.push(i,_,p,p+1)}}else a=QD(r,n,c,a);var O,I=r.outputs;if(f&&null!==I&&(O=I[i])){var V=O.length;if(V)for(var F=0;F<V;F+=2){var de=n[O[F]][O[F+1]].subscribe(a),be=d.length;d.push(a,de),l&&l.push(i,r.index,be,-(be+1))}}}function $D(e,n,t,r){var i=pe(null);try{return dr(6,n,t),!1!==t(r)}catch(a){return Il(e,a),!1}finally{dr(7,n,t),pe(i)}}function QD(e,n,t,r){return function i(a){if(a===Function)return r;ls(e.componentOffset>-1?yt(e.index,n):n,5);for(var s=$D(n,t,r,a),u=i.__ngNextListenerFn__;u;)s=$D(n,t,u,a)&&s,u=u.__ngNextListenerFn__;return s}}function nn(){return function NI(e){return(oe.lFrame.contextLView=function Ym(e,n){for(;e>0;)n=n[pa],e--;return n}(e,oe.lFrame.contextLView))[Ue]}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}function bt(e,n,t){ib(e,n,t)}function Dt(e){var n=T(),t=me(),r=Mf();Qu(r+1);var i=Kv(t,r);if(e.dirty&&function CI(e){return!(4&~e[$])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{var a=sb(n,r);e.reset(a,xy),e.notifyOnChanges()}return!0}return!1}function Et(){return function Yv(e,n){return e[lr].queries[n].queryList}(T(),Mf())}function S(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=T(),r=me(),i=e+Y,a=r.firstCreatePass?xi(r,i,1,n,null):r.data[i],o=pE(r,t,a,n,e);t[i]=o,Go()&&Ml(r,t,o,a),jt(a,!1)}var pE=function(n,t,r,i,a){return fr(!0),function sv(e,n){return e.createText(n)}(t[ae],i)};function tn(e){return yr("",e,""),tn}function yr(e,n,t){var r=T(),i=function Ka(e,n,t,r){return on(e,Gt(),t)?n+ue(t)+r:le}(r,e,n,t);return i!==le&&Fr(r,Nn(),i),yr}function Fs(e,n,t,r,i){var a=T(),o=$a(a,e,n,t,r,i);return o!==le&&Fr(a,Nn(),o),Fs}function z(e,n,t){cb(n)&&(n=n());var r=T();return on(r,Gt(),n)&&lt(me(),ze(),r,e,n,r[ae],t,!1),z}function H(e,n){var t=cb(e);return t&&e.set(n),t}function j(e,n){var t=T(),r=me(),i=Ne();return Eh(r,t,t[ae],i,e,n),j}function kh(e,n,t,r,i){if(e=ne(e),Array.isArray(e))for(var a=0;a<e.length;a++)kh(e[a],n,t,r,i);else{var o=me(),s=T(),u=Ne(),l=Ei(e)?e:ne(e.provide),c=Am(e),f=1048575&u.providerIndexes,v=u.directiveStart,g=u.providerIndexes>>20;if(Ei(e)||!e.multi){var p=new Wo(c,i,x),_=Ih(l,n,i?f:f+g,v);-1===_?(xf(tl(u,s),o,l),Sh(o,e,n.length),n.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(p),s.push(p)):(t[_]=p,s[_]=p)}else{var D=Ih(l,n,f+g,v),C=Ih(l,n,f,f+g),I=C>=0&&t[C];if(i&&!I||!i&&!(D>=0&&t[D])){xf(tl(u,s),o,l);var O=function UR(e,n,t,r,i){var a=new Wo(e,t,x);return a.multi=[],a.index=n,a.componentProviders=0,kE(a,i,r&&!t),a}(i?HR:BR,t.length,i,r,c);!i&&I&&(t[C].providerFactory=O),Sh(o,e,n.length,0),n.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(O),s.push(O)}else Sh(o,e,D>-1?D:C,kE(t[i?C:D],c,!i&&r));!i&&r&&I&&t[C].componentProviders++}}}function Sh(e,n,t,r){var i=Ei(n),a=function Y1(e){return!!e.useClass}(n);if(i||a){var u=(a?ne(n.useClass):n).prototype.ngOnDestroy;if(u){var l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){var c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function kE(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Ih(e,n,t,r){for(var i=t;i<r;i++)if(n[i]===e)return i;return-1}function BR(e,n,t,r){return Th(this.multi,[])}function HR(e,n,t,r){var a,i=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Oi(t,t[L],this.providerFactory.index,r);Th(i,a=s.slice(0,o));for(var u=o;u<s.length;u++)a.push(s[u])}else Th(i,a=[]);return a}function Th(e,n){for(var t=0;t<e.length;t++)n.push((0,e[t])());return n}function Qe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(t){t.providersResolver=function(r,i){return function VR(e,n,t){var r=me();if(r.firstCreatePass){var i=zt(e);kh(t,r.data,r.blueprint,i,!0),kh(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}}var zR=function(){var e,n=function(){return m(function t(r){y(this,t),this._injector=r,this.cachedInjectors=new Map},[{key:"getOrCreateStandaloneInjector",value:function(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){var a=nf(!1,i.type),o=a.length>0?function kb(e,n){return new wb({providers:e,parent:n,debugName:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,runEnvironmentInitializers:!0}).injector}([a],this._injector,"Standalone[".concat(i.type.name,"]")):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}},{key:"ngOnDestroy",value:function(){try{var a,i=A(this.cachedInjectors.values());try{for(i.s();!(a=i.n()).done;){var o=a.value;null!==o&&o.destroy()}}catch(s){i.e(s)}finally{i.f()}}finally{this.cachedInjectors.clear()}}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"environment",factory:function(){return new e(De(sr))}}),n}();function SE(e){Qn("NgStandalone"),e.getStandaloneInjector=function(n){return n.get(zR).getOrCreateStandaloneInjector(e)}}function Sn(e,n,t,r){return function PE(e,n,t,r,i,a){var o=n+t;return on(e,o,i)?gr(e,o+1,a?r.call(a,i):r(i)):Rs(e,o+1)}(T(),$n(),e,n,t,r)}function Ph(e,n,t,r,i){return function OE(e,n,t,r,i,a,o){var s=n+t;return Hi(e,s,i,a)?gr(e,s+2,o?r.call(o,i,a):r(i,a)):Rs(e,s+2)}(T(),$n(),e,n,t,r,i)}function Rs(e,n){var t=e[n];return t===le?void 0:t}var Bh,JE=new Z(""),sc=new Z(""),Lh=function(){var e,n=function(){return m(function t(r,i,a){var o=this;y(this,t),this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Bh||(function n2(e){Bh=e}(a),a.addToWindow(i)),this._watchAngularEvents(),r.run(function(){o.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})},[{key:"_watchAngularEvents",value:function(){var i=this;this._ngZone.onUnstable.subscribe({next:function(){i._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){i._ngZone.onStable.subscribe({next:function(){Ze.assertNotInAngularZone(),queueMicrotask(function(){i._isZoneStable=!0,i._runCallbacksIfReady()})}})})}},{key:"isStable",value:function(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var i=this;if(this.isStable())queueMicrotask(function(){for(;0!==i._callbacks.length;){var o=i._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{var a=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(o){return!o.updateCb||!o.updateCb(a)||(clearTimeout(o.timeoutId),!1)})}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(i){return{source:i.source,creationLocation:i.creationLocation,data:i.data}}):[]}},{key:"addCallback",value:function(i,a,o){var s=this,u=-1;a&&a>0&&(u=setTimeout(function(){s._callbacks=s._callbacks.filter(function(l){return l.timeoutId!==u}),i()},a)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:o})}},{key:"whenStable",value:function(i,a,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,o),this._runCallbacksIfReady()}},{key:"registerApplication",value:function(i){this.registry.registerApplication(i,this)}},{key:"unregisterApplication",value:function(i){this.registry.unregisterApplication(i)}},{key:"findProviders",value:function(i,a,o){return[]}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(De(Ze),De(Vh),De(sc))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),Vh=function(){var e,n=function(){return m(function t(){y(this,t),this._applications=new Map},[{key:"registerApplication",value:function(i,a){this._applications.set(i,a)}},{key:"unregisterApplication",value:function(i){this._applications.delete(i)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(i){return this._applications.get(i)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(i){var a,o;return null!==(a=null===(o=Bh)||void 0===o?void 0:o.findTestabilityInTree(this,i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))&&void 0!==a?a:null}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"}),n}();function uc(e){return!!e&&"function"==typeof e.then}var n0=new Z(""),Hh=function(){var e,n=function(){return m(function t(){var i,r=this;y(this,t),this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(a,o){r.resolve=a,r.reject=o}),this.appInits=null!==(i=K(n0,{optional:!0}))&&void 0!==i?i:[]},[{key:"runInitializers",value:function(){var i=this;if(!this.initialized){var s,a=[],o=A(this.appInits);try{var u=function(){var f=(0,s.value)();if(uc(f))a.push(f);else if(function e0(e){return!!e&&"function"==typeof e.subscribe}(f)){var v=new Promise(function(g,p){f.subscribe({complete:g,error:p})});a.push(v)}};for(o.s();!(s=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}var l=function(){i.done=!0,i.resolve()};Promise.all(a).then(function(){l()}).catch(function(c){i.reject(c)}),0===a.length&&l(),this.initialized=!0}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),Uh=new Z("");function a0(e,n){return Array.isArray(n)?n.reduce(a0,e):re(re({},e),n)}var $t=function(){var e,n=function(){return m(function t(){y(this,t),this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(Oy),this.afterRenderEffectManager=K(Ll),this.zonelessEnabled=K(Rl),this.externalTestViews=new Set,this.beforeRender=new kr,this.afterTick=new kr,this.componentTypes=[],this.components=[],this.isStable=K(Ma).hasPendingTasks.pipe(Vt(function(r){return!r})),this._injector=K(sr)},[{key:"allViews",get:function(){return[].concat(B(this.externalTestViews.keys()),B(this._views))}},{key:"destroyed",get:function(){return this._destroyed}},{key:"injector",get:function(){return this._injector}},{key:"bootstrap",value:function(i,a){var d,o=this,s=i instanceof NC;if(!this._injector.get(Hh).done)throw!s&&function Di(e){var n=_e(e)||Dn(e)||An(e);return null!==n&&n.standalone}(i),new R(405,!1);d=s?i:this._injector.get(_s).resolveComponentFactory(i),this.componentTypes.push(d.componentType);var v=function t2(e){return e.isBoundToModule}(d)?void 0:this._injector.get(Bi),p=d.create(wn.NULL,[],a||d.selector,v),_=p.location.nativeElement,D=p.injector.get(JE,null);return D?.registerApplication(_),p.onDestroy(function(){o.detachView(p.hostView),lc(o.components,p),D?.unregisterApplication(_)}),this._loadComponent(p),p}},{key:"tick",value:function(){this._tick(!0)}},{key:"_tick",value:function(i){if(this._runningTick)throw new R(101,!1);var a=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,pe(a),this.afterTick.next()}}},{key:"detectChangesInAttachedViews",value:function(i){var a=null;this._injector.destroyed||(a=this._injector.get(Vv,null,{optional:!0}));for(var o=0,s=this.afterRenderEffectManager;o<10;){var u=0===o;if(i||!u){this.beforeRender.next(u);var c,l=A(this._views);try{for(l.s();!(c=l.n()).done;){var d=c.value;i2(d._lView,d.notifyErrorHandler,u,this.zonelessEnabled)}}catch(I){l.e(I)}finally{l.f()}}else{var g,p,_,D,C,M;null===(g=a)||void 0===g||null===(p=(_=g).begin)||void 0===p||p.call(_),null===(D=a)||void 0===D||null===(C=(M=D).end)||void 0===C||C.call(M)}if(o++,s.executeInternalCallbacks(),!this.allViews.some(function(I){return zo(I._lView)})&&(s.execute(),!this.allViews.some(function(I){return zo(I._lView)})))break}}},{key:"attachView",value:function(i){var a=i;this._views.push(a),a.attachToAppRef(this)}},{key:"detachView",value:function(i){var a=i;lc(this._views,a),a.detachFromAppRef()}},{key:"_loadComponent",value:function(i){this.attachView(i.hostView),this.tick(),this.components.push(i);var a=this._injector.get(Uh,[]);[].concat(B(this._bootstrapListeners),B(a)).forEach(function(o){return o(i)})}},{key:"ngOnDestroy",value:function(){if(!this._destroyed)try{this._destroyListeners.forEach(function(i){return i()}),this._views.slice().forEach(function(i){return i.destroy()})}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}},{key:"onDestroy",value:function(i){var a=this;return this._destroyListeners.push(i),function(){return lc(a._destroyListeners,i)}}},{key:"destroy",value:function(){if(this._destroyed)throw new R(406,!1);var i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}},{key:"viewCount",get:function(){return this._views.length}},{key:"warnIfDestroyed",value:function(){}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}();function lc(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}function i2(e,n,t,r){(t||zo(e))&&Tl(e,n,t&&!r?0:1)}var u2=function(){var e,n=function(){return m(function t(){y(this,t),this.zone=K(Ze),this.changeDetectionScheduler=K(ys),this.applicationRef=K($t)},[{key:"initialize",value:function(){var i=this;this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:function(){i.changeDetectionScheduler.runningTick||i.zone.run(function(){i.applicationRef.tick()})}}))}},{key:"ngOnDestroy",value:function(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}();function c2(){var e=K(Ze),n=K(Qr);return function(t){return e.runOutsideAngular(function(){return n.handleError(t)})}}function jh(e){var n,t;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=e?.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(t=e?.runCoalescing)&&void 0!==t&&t}}var d2=function(){var e,n=function(){return m(function t(){y(this,t),this.subscription=new Tt,this.initialized=!1,this.zone=K(Ze),this.pendingTasks=K(Ma)},[{key:"initialize",value:function(){var i=this;if(!this.initialized){this.initialized=!0;var a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(function(){i.subscription.add(i.zone.onStable.subscribe(function(){Ze.assertNotInAngularZone(),queueMicrotask(function(){null!==a&&!i.zone.hasPendingMacrotasks&&!i.zone.hasPendingMicrotasks&&(i.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(function(){var o;Ze.assertInAngularZone(),null!==(o=a)&&void 0!==o||(a=i.pendingTasks.add())}))}}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),cc=function(){var e,n=function(){return m(function t(){var r,i=this;y(this,t),this.appRef=K($t),this.taskService=K(Ma),this.ngZone=K(Ze),this.zonelessEnabled=K(Rl),this.disableScheduling=null!==(r=K(xC,{optional:!0}))&&void 0!==r&&r,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Tt,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(function(){i.runningTick||i.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(function(){i.runningTick||i.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Uv||!this.zoneIsDefined))},[{key:"notify",value:function(i){var a=this;if(this.zonelessEnabled||5!==i){switch(i){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(this.shouldScheduleTick()){var o=this.useMicrotaskScheduler?VC:LC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(function(){a.cancelScheduledCallback=o(function(){a.tick(a.shouldRefreshViews)})}):this.cancelScheduledCallback=o(function(){a.tick(a.shouldRefreshViews)})}}}},{key:"shouldScheduleTick",value:function(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ze.isInAngularZone())}},{key:"tick",value:function(i){var a=this;if(!this.runningTick&&!this.appRef.destroyed){var o=this.taskService.add();try{this.ngZone.run(function(){a.runningTick=!0,a.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(o),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,VC(function(){a.useMicrotaskScheduler=!1,a.taskService.remove(o)})}}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.cleanup()}},{key:"cleanup",value:function(){var i;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(i=this.cancelScheduledCallback)||void 0===i||i.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){var a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),Br=new Z("",{providedIn:"root",factory:function(){return K(Br,Ee.Optional|Ee.SkipSelf)||function f2(){return typeof $localize<"u"&&$localize.locale||ao}()}}),Wh=new Z(""),c0=function(){var e,n=function(){return m(function t(r){y(this,t),this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1},[{key:"bootstrapModuleFactory",value:function(i,a){var o=this,s=function GA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zone.js",n=arguments.length>1?arguments[1]:void 0;return"noop"===e?new Uv:"zone.js"===e?new Ze(n):e}(a?.ngZone,jh({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return s.run(function(){var u=a?.ignoreChangesOutsideZone,l=function Wx(e,n,t){return new Qv(e,n,t)}(i.moduleType,o.injector,[].concat(B(function zh(e){var n,t=e.ngZoneFactory;return null!==(n=t)&&void 0!==n||(t=function(){return new Ze(jh())}),[{provide:Ze,useFactory:t},{provide:or,multi:!0,useFactory:function(){var a=K(u2,{optional:!0});return function(){return a.initialize()}}},{provide:or,multi:!0,useFactory:function(){var a=K(d2);return function(){a.initialize()}}},{provide:Oy,useFactory:c2},!0===e.ignoreChangesOutsideZone?{provide:xC,useValue:!0}:[]]}({ngZoneFactory:function(){return s},ignoreChangesOutsideZone:u})),[{provide:ys,useExisting:cc}])),c=l.injector.get(Qr,null);return s.runOutsideAngular(function(){var d=s.onError.subscribe({next:function(v){c.handleError(v)}});l.onDestroy(function(){lc(o._modules,l),d.unsubscribe()})}),function r0(e,n,t){try{var r=t();return uc(r)?r.catch(function(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}):r}catch(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}}(c,s,function(){var d=l.injector.get(Hh);return d.runInitializers(),d.donePromise.then(function(){return function PD(e){"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(l.injector.get(Br,ao)||ao),o._moduleDoBootstrap(l),l})})})}},{key:"bootstrapModule",value:function(i){var a=this,s=a0({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return function s2(e,n,t){var r=new Xv(t);return Promise.resolve(r)}(0,0,i).then(function(u){return a.bootstrapModuleFactory(u,s)})}},{key:"_moduleDoBootstrap",value:function(i){var a=i.injector.get($t);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(function(o){return a.bootstrap(o)});else{if(!i.instance.ngDoBootstrap)throw new R(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}},{key:"onDestroy",value:function(i){this._destroyListeners.push(i)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(function(a){return a.destroy()}),this._destroyListeners.forEach(function(a){return a()});var i=this._injector.get(Wh,null);i&&(i.forEach(function(a){return a()}),i.clear()),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(De(wn))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"platform"}),n}(),ai=null,d0=new Z("");function f0(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(n),i=new Z(r);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=qh();if(!o||o.injector.get(d0,!1)){var s=[].concat(B(t),B(a),[{provide:i,useValue:!0}]);e?e(s):function g2(e){if(ai&&!ai.get(d0,!1))throw new R(400,!1);(function t0(){!function mS(e){Np=e}(function(){throw new R(600,!1)})})(),ai=e;var n=e.get(c0);(function h0(e){var n=e.get($y,null);n?.forEach(function(t){return t()})})(e)}(function v0(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return wn.create({name:arguments.length>1?arguments[1]:void 0,providers:[{provide:af,useValue:"platform"},{provide:Wh,useValue:new Set([function(){return ai=null}])}].concat(B(e))})}(s,r))}return function p2(e){var n=qh();if(!n)throw new R(401,!1);return n}()}}function qh(){var e,n;return null!==(e=null===(n=ai)||void 0===n?void 0:n.get(c0))&&void 0!==e?e:null}var dc=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=_2,n}();function _2(e){return function C2(e,n,t){if(ki(e)&&!t){var r=yt(e.index,n);return new cs(r,r)}return 175&e.type?new cs(n[$e],n):null}(Ne(),T(),!(16&~e))}var y0=function(){return m(function e(){y(this,e)},[{key:"supports",value:function(t){return zl(t)}},{key:"create",value:function(t){return new M2(t)}}])}(),E2=function(n,t){return t},M2=function(){return m(function e(n){y(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||E2},[{key:"forEachItem",value:function(t){var r;for(r=this._itHead;null!==r;r=r._next)t(r)}},{key:"forEachOperation",value:function(t){for(var r=this._itHead,i=this._removalsHead,a=0,o=null;r||i;){var s=!i||r&&r.currentIndex<C0(i,a,o)?r:i,u=C0(s,a,o),l=s.currentIndex;if(s===i)a--,i=i._nextRemoved;else if(r=r._next,null==s.previousIndex)a++;else{o||(o=[]);var c=u-a,d=l-a;if(c!=d){for(var f=0;f<c;f++){var v=f<o.length?o[f]:o[f]=0,g=v+f;d<=g&&g<c&&(o[f]=v+1)}o[s.previousIndex]=d-c}}u!==l&&t(s,u,l)}}},{key:"forEachPreviousItem",value:function(t){var r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}},{key:"forEachAddedItem",value:function(t){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}},{key:"forEachMovedItem",value:function(t){var r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}},{key:"forEachRemovedItem",value:function(t){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}},{key:"forEachIdentityChange",value:function(t){var r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!zl(t))throw new R(900,!1);return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var r=this;this._reset();var o,s,u,i=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,s=t[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,s,u,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,u,l),a=!0),i=i._next}else o=0,function Yx(e,n){if(Array.isArray(e))for(var t=0;t<e.length;t++)n(e[t]);else for(var i,r=e[Symbol.iterator]();!(i=r.next()).done;)n(i.value)}(t,function(c){u=r._trackByFn(o,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=r._verifyReinsertion(i,c,u,o)),Object.is(i.item,c)||r._addIdentityChange(i,c)):(i=r._mismatch(i,c,u,o),a=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,r,i,a){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,o,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,o,a)):t=this._addAfter(new w2(r,i),o,a),t}},{key:"_verifyReinsertion",value:function(t,r,i,a){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var a=t._prevRemoved,o=t._nextRemoved;return null===a?this._removalsHead=o:a._nextRemoved=o,null===o?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(t,r,i),this._addToMoves(t,i),t}},{key:"_moveAfter",value:function(t,r,i){return this._unlink(t),this._insertAfter(t,r,i),this._addToMoves(t,i),t}},{key:"_addAfter",value:function(t,r,i){return this._insertAfter(t,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,r,i){var a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new _0),this._linkedRecords.put(t),t.currentIndex=i,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var r=t._prev,i=t._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,t}},{key:"_addToMoves",value:function(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}])}(),w2=m(function e(n,t){y(this,e),this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),k2=function(){return m(function e(){y(this,e),this._head=null,this._tail=null},[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,r){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}},{key:"remove",value:function(t){var r=t._prevDup,i=t._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}])}(),_0=function(){return m(function e(){y(this,e),this.map=new Map},[{key:"put",value:function(t){var r=t.trackById,i=this.map.get(r);i||(i=new k2,this.map.set(r,i)),i.add(t)}},{key:"get",value:function(t,r){var a=this.map.get(t);return a?a.get(t,r):null}},{key:"remove",value:function(t){var r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}])}();function C0(e,n,t){var r=e.previousIndex;if(null===r)return r;var i=0;return t&&r<t.length&&(i=t[r]),r+n+i}var b0=function(){return m(function e(){y(this,e)},[{key:"supports",value:function(t){return t instanceof Map||Jv(t)}},{key:"create",value:function(){return new S2}}])}(),S2=function(){return m(function e(){y(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null},[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var r;for(r=this._mapHead;null!==r;r=r._next)t(r)}},{key:"forEachPreviousItem",value:function(t){var r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}},{key:"forEachChangedItem",value:function(t){var r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}},{key:"forEachAddedItem",value:function(t){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}},{key:"forEachRemovedItem",value:function(t){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Jv(t)))throw new R(900,!1)}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var r=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(o,s){if(i&&i.key===s)r._maybeAddToChanges(i,o),r._appendAfter=i,i=i._next;else{var u=r._getOrCreateRecordForKey(s,o);i=r._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,r){if(t){var i=t._prev;return r._next=t,r._prev=i,t._prev=r,i&&(i._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}},{key:"_getOrCreateRecordForKey",value:function(t,r){if(this._records.has(t)){var i=this._records.get(t);this._maybeAddToChanges(i,r);var a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}var s=new I2(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(function(i){return r(t[i],i)})}}])}(),I2=m(function e(n){y(this,e),this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function D0(){return new Xh([new y0])}var Xh=function(){var e,n=function(){function t(r){y(this,t),this.factories=r}return m(t,[{key:"find",value:function(i){var a=this.factories.find(function(o){return o.supports(i)});if(null!=a)return a;throw new R(901,!1)}}],[{key:"create",value:function(i,a){if(null!=a){var o=a.factories.slice();i=i.concat(o)}return new t(i)}},{key:"extend",value:function(i){return{provide:t,useFactory:function(o){return t.create(i,o||D0())},deps:[[t,new Kd,new Yd]]}}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:D0}),n}();function E0(){return new fc([new b0])}var fc=function(){var e,n=function(){function t(r){y(this,t),this.factories=r}return m(t,[{key:"find",value:function(i){var a=this.factories.find(function(o){return o.supports(i)});if(a)return a;throw new R(901,!1)}}],[{key:"create",value:function(i,a){if(a){var o=a.factories.slice();i=i.concat(o)}return new t(i)}},{key:"extend",value:function(i){return{provide:t,useFactory:function(o){return t.create(i,o||E0())},deps:[[t,new Kd,new Yd]]}}}])}();return(e=n).\u0275prov=ge({token:e,providedIn:"root",factory:E0}),n}(),O2=f0(null,"core",[]),A2=function(){var e,n=m(function t(r){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)(De($t))},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({}),n}(),H0=new Z("");function Gs(e,n){Qn("NgSignals");var t=function hS(e){var n=Object.create(gS);n.computation=e;var t=function(){if(Sp(n),yd(n),n.value===Du)throw n.error;return n.value};return t[Rt]=n,t}(e);return null!=n&&n.equal&&(t[Rt].equal=n.equal),t}function _r(e){var n=pe(null);try{return e()}finally{pe(n)}}var rg=null;function Ws(){return rg}var CV=m(function e(){y(this,e)}),oi=new Z(""),vg=/\s+/,iM=[],Xt=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._ngEl=r,this._renderer=i,this.initialClasses=iM,this.stateMap=new Map},[{key:"klass",set:function(i){this.initialClasses=null!=i?i.trim().split(vg):iM}},{key:"ngClass",set:function(i){this.rawClass="string"==typeof i?i.trim().split(vg):i}},{key:"ngDoCheck",value:function(){var a,i=A(this.initialClasses);try{for(i.s();!(a=i.n()).done;)this._updateState(a.value,!0)}catch(g){i.e(g)}finally{i.f()}var s=this.rawClass;if(Array.isArray(s)||s instanceof Set){var l,u=A(s);try{for(u.s();!(l=u.n()).done;)this._updateState(l.value,!0)}catch(g){u.e(g)}finally{u.f()}}else if(null!=s)for(var d=0,f=Object.keys(s);d<f.length;d++){var v=f[d];this._updateState(v,!!s[v])}this._applyStateDiff()}},{key:"_updateState",value:function(i,a){var o=this.stateMap.get(i);void 0!==o?(o.enabled!==a&&(o.changed=!0,o.enabled=a),o.touched=!0):this.stateMap.set(i,{enabled:a,changed:!0,touched:!0})}},{key:"_applyStateDiff",value:function(){var a,i=A(this.stateMap);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o[0],u=o[1];u.changed?(this._toggleClass(s,u.enabled),u.changed=!1):u.touched||(u.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),u.touched=!1}}catch(l){i.e(l)}finally{i.f()}}},{key:"_toggleClass",value:function(i,a){var o=this;(i=i.trim()).length>0&&i.split(vg).forEach(function(s){a?o._renderer.addClass(o._ngEl.nativeElement,s):o._renderer.removeClass(o._ngEl.nativeElement,s)})}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(x(Wt),x(Li))},e.\u0275dir=se({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),n}(),uB=function(){return m(function e(n,t,r,i){y(this,e),this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i},[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}])}(),lo=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),this._viewContainer=r,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null},[{key:"ngForOf",set:function(i){this._ngForOf=i,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(i){this._trackByFn=i}},{key:"ngForTemplate",set:function(i){i&&(this._template=i)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){var o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}}},{key:"_applyChanges",value:function(i){var a=this,o=this._viewContainer;i.forEachOperation(function(d,f,v){if(null==d.previousIndex)o.createEmbeddedView(a._template,new uB(d.item,a._ngForOf,-1,-1),null===v?void 0:v);else if(null==v)o.remove(null===f?void 0:f);else if(null!==f){var g=o.get(f);o.move(g,v),oM(g,d)}});for(var s=0,u=o.length;s<u;s++){var c=o.get(s).context;c.index=s,c.count=u,c.ngForOf=this._ngForOf}i.forEachIdentityChange(function(d){oM(o.get(d.currentIndex),d)})}}],[{key:"ngTemplateContextGuard",value:function(i,a){return!0}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(x(Rn),x(Rr),x(Xh))},e.\u0275dir=se({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n}();function oM(e,n){e.context.$implicit=n.item}var co=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._viewContainer=r,this._context=new lB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i},[{key:"ngIf",set:function(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}},{key:"ngIfThen",set:function(i){sM("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(i){sM("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(i,a){return!0}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(x(Rn),x(Rr))},e.\u0275dir=se({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n}(),lB=m(function e(){y(this,e),this.$implicit=null,this.ngIf=null});function sM(e,n){if(n&&!n.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(bn(n),"'."))}var fo=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),this._ngEl=r,this._differs=i,this._renderer=a,this._ngStyle=null,this._differ=null},[{key:"ngStyle",set:function(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}},{key:"_setStyle",value:function(i,a){var s=it(i.split("."),2),u=s[0],l=s[1],c=-1===u.indexOf("-")?void 0:ni.DashCase;null!=a?this._renderer.setStyle(this._ngEl.nativeElement,u,l?"".concat(a).concat(l):a,c):this._renderer.removeStyle(this._ngEl.nativeElement,u,c)}},{key:"_applyChanges",value:function(i){var a=this;i.forEachRemovedItem(function(o){return a._setStyle(o.key,null)}),i.forEachAddedItem(function(o){return a._setStyle(o.key,o.currentValue)}),i.forEachChangedItem(function(o){return a._setStyle(o.key,o.currentValue)})}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(x(Wt),x(fc),x(Li))},e.\u0275dir=se({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n}(),LB=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({}),n}(),cM="browser";function dM(e){return e===cM}function fM(e){return"server"===e}var BB=m(function e(){y(this,e)}),v5=function(e){function n(){var t;return y(this,n),(t=w(this,n,arguments)).supportsDOMEvents=!0,t}return k(n,e),m(n)}(CV),h5=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"onAndCancel",value:function(r,i,a){return r.addEventListener(i,a),function(){r.removeEventListener(i,a)}}},{key:"dispatchEvent",value:function(r,i){r.dispatchEvent(i)}},{key:"remove",value:function(r){r.parentNode&&r.parentNode.removeChild(r)}},{key:"createElement",value:function(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(r){return r.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(r){return r instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}},{key:"getBaseHref",value:function(r){var i=function g5(){return($s=$s||document.querySelector("base"))?$s.getAttribute("href"):null}();return null==i?null:function p5(e){return new URL(e,document.baseURI).pathname}(i)}},{key:"resetBaseElement",value:function(){$s=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(r){return function oB(e,n){n=encodeURIComponent(n);var r,t=A(e.split(";"));try{for(t.s();!(r=t.n()).done;){var i=r.value,a=i.indexOf("="),s=it(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===n)return decodeURIComponent(l)}}catch(c){t.e(c)}finally{t.f()}return null}(document.cookie,r)}}],[{key:"makeCurrent",value:function(){!function _V(e){var n;null!==(n=rg)&&void 0!==n||(rg=e)}(new n)}}])}(v5),$s=null,m5=function(){return m(function e(){y(this,e)},[{key:"addToWindow",value:function(t){Re.getAngularTestability=function(i){var o=t.findTestabilityInTree(i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);if(null==o)throw new R(5103,!1);return o},Re.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Re.getAllAngularRootElements=function(){return t.getAllRootElements()},Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(function(a){var o=Re.getAllAngularTestabilities(),s=o.length,u=function(){0==--s&&a()};o.forEach(function(l){l.whenStable(u)})})}},{key:"findTestabilityInTree",value:function(t,r,i){return null==r?null:t.getTestability(r)??(i?Ws().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}}])}(),y5=function(){var e,n=function(){return m(function t(){y(this,t)},[{key:"build",value:function(){return new XMLHttpRequest}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),Ac=new Z(""),DM=function(){var e,n=function(){return m(function t(r,i){var a=this;y(this,t),this._zone=i,this._eventNameToPlugin=new Map,r.forEach(function(o){o.manager=a}),this._plugins=r.slice().reverse()},[{key:"addEventListener",value:function(i,a,o){return this._findPluginFor(a).addEventListener(i,a,o)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(i){var a=this._eventNameToPlugin.get(i);if(a)return a;if(!(a=this._plugins.find(function(s){return s.supports(i)})))throw new R(5101,!1);return this._eventNameToPlugin.set(i,a),a}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(De(Ac),De(Ze))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),bg=m(function e(n){y(this,e),this._doc=n}),Dg="ng-app-id",EM=function(){var e,n=function(){return m(function t(r,i,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};y(this,t),this.doc=r,this.appId=i,this.nonce=a,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fM(o),this.resetHostNodes()},[{key:"addStyles",value:function(i){var o,a=A(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"removeStyles",value:function(i){var o,a=A(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"ngOnDestroy",value:function(){var i=this.styleNodesInDOM;i&&(i.forEach(function(u){return u.remove()}),i.clear());var o,a=A(this.getAllStyles());try{for(a.s();!(o=a.n()).done;)this.onStyleRemoved(o.value)}catch(u){a.e(u)}finally{a.f()}this.resetHostNodes()}},{key:"addHost",value:function(i){this.hostNodes.add(i);var o,a=A(this.getAllStyles());try{for(a.s();!(o=a.n()).done;)this.addStyleToHost(i,o.value)}catch(u){a.e(u)}finally{a.f()}}},{key:"removeHost",value:function(i){this.hostNodes.delete(i)}},{key:"getAllStyles",value:function(){return this.styleRef.keys()}},{key:"onStyleAdded",value:function(i){var o,a=A(this.hostNodes);try{for(a.s();!(o=a.n()).done;)this.addStyleToHost(o.value,i)}catch(u){a.e(u)}finally{a.f()}}},{key:"onStyleRemoved",value:function(i){var a,o=this.styleRef;null===(a=o.get(i))||void 0===a||null===(a=a.elements)||void 0===a||a.forEach(function(s){return s.remove()}),o.delete(i)}},{key:"collectServerRenderedStyles",value:function(){var i,a=null===(i=this.doc.head)||void 0===i?void 0:i.querySelectorAll("style[".concat(Dg,'="').concat(this.appId,'"]'));if(null!=a&&a.length){var o=new Map;return a.forEach(function(s){null!=s.textContent&&o.set(s.textContent,s)}),o}return null}},{key:"changeUsageCount",value:function(i,a){var o=this.styleRef;if(o.has(i)){var s=o.get(i);return s.usage+=a,s.usage}return o.set(i,{usage:a,elements:[]}),a}},{key:"getStyleElement",value:function(i,a){var o=this.styleNodesInDOM,s=o?.get(a);if(s?.parentNode===i)return o.delete(a),s.removeAttribute(Dg),s;var u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=a,this.platformIsServer&&u.setAttribute(Dg,this.appId),i.appendChild(u),u}},{key:"addStyleToHost",value:function(i,a){var o,s=this.getStyleElement(i,a),u=this.styleRef,l=null===(o=u.get(a))||void 0===o?void 0:o.elements;l?l.push(s):u.set(a,{elements:[s],usage:1})}},{key:"resetHostNodes",value:function(){var i=this.hostNodes;i.clear(),i.add(this.doc.head)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(De(oi),De(ka),De(Qy,8),De(Jr))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),Eg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mg=/%COMP%/g,_5="_nghost-".concat("%COMP%"),C5="_ngcontent-".concat("%COMP%"),D5=new Z("",{providedIn:"root",factory:function(){return!0}});function wM(e,n){return n.map(function(t){return t.replace(Mg,e)})}var kM=function(){var e,n=function(){return m(function t(r,i,a,o,s,u,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,t),this.eventManager=r,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=u,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fM(u),this.defaultRenderer=new wg(r,s,l,this.platformIsServer)},[{key:"createRenderer",value:function(i,a){if(!i||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===Bt.ShadowDom&&(a=re(re({},a),{},{encapsulation:Bt.Emulated}));var o=this.getOrCreateRenderer(i,a);return o instanceof IM?o.applyToHost(i):o instanceof kg&&o.applyStyles(),o}},{key:"getOrCreateRenderer",value:function(i,a){var o=this.rendererByCompId,s=o.get(a.id);if(!s){var u=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(a.encapsulation){case Bt.Emulated:s=new IM(c,d,a,this.appId,f,u,l,v);break;case Bt.ShadowDom:return new k5(c,d,i,a,u,l,this.nonce,v);default:s=new kg(c,d,a,f,u,l,v)}o.set(a.id,s)}return s}},{key:"ngOnDestroy",value:function(){this.rendererByCompId.clear()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(De(DM),De(EM),De(ka),De(D5),De(oi),De(Jr),De(Ze),De(Qy))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),wg=function(){return m(function e(n,t,r,i){y(this,e),this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null},[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,r){return r?this.doc.createElementNS(Eg[r]||r,t):this.doc.createElement(t)}},{key:"createComment",value:function(t){return this.doc.createComment(t)}},{key:"createText",value:function(t){return this.doc.createTextNode(t)}},{key:"appendChild",value:function(t,r){(SM(t)?t.content:t).appendChild(r)}},{key:"insertBefore",value:function(t,r,i){t&&(SM(t)?t.content:t).insertBefore(r,i)}},{key:"removeChild",value:function(t,r){t&&t.removeChild(r)}},{key:"selectRootElement",value:function(t,r){var i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new R(-5104,!1);return r||(i.textContent=""),i}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,r,i,a){if(a){r=a+":"+r;var o=Eg[a];o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}},{key:"removeAttribute",value:function(t,r,i){if(i){var a=Eg[i];a?t.removeAttributeNS(a,r):t.removeAttribute("".concat(i,":").concat(r))}else t.removeAttribute(r)}},{key:"addClass",value:function(t,r){t.classList.add(r)}},{key:"removeClass",value:function(t,r){t.classList.remove(r)}},{key:"setStyle",value:function(t,r,i,a){a&(ni.DashCase|ni.Important)?t.style.setProperty(r,i,a&ni.Important?"important":""):t.style[r]=i}},{key:"removeStyle",value:function(t,r,i){i&ni.DashCase?t.style.removeProperty(r):t.style[r]=""}},{key:"setProperty",value:function(t,r,i){null!=t&&(t[r]=i)}},{key:"setValue",value:function(t,r){t.nodeValue=r}},{key:"listen",value:function(t,r,i){if("string"==typeof t&&!(t=Ws().getGlobalEventTarget(this.doc,t)))throw new Error("Unsupported event target ".concat(t," for event ").concat(r));return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(i))}},{key:"decoratePreventDefault",value:function(t){var r=this;return function(i){if("__ngUnwrap__"===i)return t;!1===(r.platformIsServer?r.ngZone.runGuarded(function(){return t(i)}):t(i))&&i.preventDefault()}}}])}();function SM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}var k5=function(e){function n(t,r,i,a,o,s,u,l){var c;y(this,n),(c=w(this,n,[t,o,s,l])).sharedStylesHost=r,c.hostEl=i,c.shadowRoot=i.attachShadow({mode:"open"}),c.sharedStylesHost.addHost(c.shadowRoot);var v,f=A(wM(a.id,a.styles));try{for(f.s();!(v=f.n()).done;){var g=v.value,p=document.createElement("style");u&&p.setAttribute("nonce",u),p.textContent=g,c.shadowRoot.appendChild(p)}}catch(_){f.e(_)}finally{f.f()}return c}return k(n,e),m(n,[{key:"nodeOrShadowRoot",value:function(r){return r===this.hostEl?this.shadowRoot:r}},{key:"appendChild",value:function(r,i){return Ye(Oe(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(r),i)}},{key:"insertBefore",value:function(r,i,a){return Ye(Oe(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(r),i,a)}},{key:"removeChild",value:function(r,i){return Ye(Oe(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(r),i)}},{key:"parentNode",value:function(r){return this.nodeOrShadowRoot(Ye(Oe(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(r)))}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}}])}(wg),kg=function(e){function n(t,r,i,a,o,s,u,l){var c;return y(this,n),(c=w(this,n,[t,o,s,u])).sharedStylesHost=r,c.removeStylesOnCompDestroy=a,c.styles=l?wM(l,i.styles):i.styles,c}return k(n,e),m(n,[{key:"applyStyles",value:function(){this.sharedStylesHost.addStyles(this.styles)}},{key:"destroy",value:function(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}])}(wg),IM=function(e){function n(t,r,i,a,o,s,u,l){var c;y(this,n);var d=a+"-"+i.id;return(c=w(this,n,[t,r,i,o,s,u,l,d])).contentAttr=function E5(e){return C5.replace(Mg,e)}(d),c.hostAttr=function M5(e){return _5.replace(Mg,e)}(d),c}return k(n,e),m(n,[{key:"applyToHost",value:function(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}},{key:"createElement",value:function(r,i){var a=Ye(Oe(n.prototype),"createElement",this).call(this,r,i);return Ye(Oe(n.prototype),"setAttribute",this).call(this,a,this.contentAttr,""),a}}])}(kg),S5=function(){var e,n=function(t){function r(i){return y(this,r),w(this,r,[i])}return k(r,t),m(r,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}])}(bg);return(e=n).\u0275fac=function(r){return new(r||e)(De(oi))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),I5=function(){var e,n=function(t){function r(i){var a;return y(this,r),(a=w(this,r,[i])).delegate=K(H0,{optional:!0}),a}return k(r,t),m(r,[{key:"supports",value:function(a){return!!this.delegate&&this.delegate.supports(a)}},{key:"addEventListener",value:function(a,o,s){return this.delegate.addEventListener(a,o,s)}},{key:"removeEventListener",value:function(a,o,s){return this.delegate.removeEventListener(a,o,s)}}])}(bg);return(e=n).\u0275fac=function(r){return new(r||e)(De(oi))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),TM=["alt","control","meta","shift"],T5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P5={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},O5=function(){var e,n=function(t){function r(i){return y(this,r),w(this,r,[i])}return k(r,t),m(r,[{key:"supports",value:function(a){return null!=r.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=r.parseEventName(o),l=r.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Ws().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=r._normalizeKey(o.pop()),l="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),l="code."),TM.forEach(function(f){var v=o.indexOf(f);v>-1&&(o.splice(v,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var d={};return d.domEventName=s,d.fullKey=l,d}},{key:"matchEventFullKeyCode",value:function(a,o){var s=T5[a.key]||a.key,u="";return o.indexOf("code.")>-1&&(s=a.code,u="code."),!(null==s||!s)&&(" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),TM.forEach(function(l){l!==s&&(0,P5[l])(a)&&(u+=l+".")}),(u+=s)===o)}},{key:"eventCallback",value:function(a,o,s){return function(u){r.matchEventFullKeyCode(u,a)&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}])}(bg);return(e=n).\u0275fac=function(r){return new(r||e)(De(oi))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),OM=[{provide:Jr,useValue:cM},{provide:$y,useValue:function A5(){h5.makeCurrent()},multi:!0},{provide:oi,useFactory:function N5(){return function RT(e){Hf=e}(document),document},deps:[]}],F5=f0(O2,"browser",OM),R5=new Z(""),AM=[{provide:sc,useClass:m5,deps:[]},{provide:JE,useClass:Lh,deps:[Ze,Vh,sc]},{provide:Lh,useClass:Lh,deps:[Ze,Vh,sc]}],xM=[{provide:af,useValue:"root"},{provide:Qr,useFactory:function x5(){return new Qr},deps:[]},{provide:Ac,useClass:S5,multi:!0,deps:[oi,Ze,Jr]},{provide:Ac,useClass:O5,multi:!0,deps:[oi]},{provide:Ac,useClass:I5,multi:!0},kM,EM,DM,{provide:Vv,useExisting:kM},{provide:BB,useClass:y5,deps:[]},[]],L5=function(){var e,n=function(){function t(r){y(this,t)}return m(t,null,[{key:"withServerTransition",value:function(i){return{ngModule:t,providers:[{provide:ka,useValue:i.appId}]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(De(R5,12))},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({providers:[].concat(xM,AM),imports:[LB,A2]}),n}(),dt=function(){return m(function e(){y(this,e),h(this,"listeners",[])},[{key:"addListener",value:function(t){this.listeners.push(t)}},{key:"removeListener",value:function(t){var r=this.listeners.indexOf(t);return r>=0&&(this.listeners.splice(r,1),!0)}},{key:"emit",value:function(t){var i,r=A(this.listeners);try{for(r.s();!(i=r.n()).done;)(0,i.value)(t)}catch(o){r.e(o)}finally{r.f()}}},{key:"empty",get:function(){return 0==this.listeners.length}}])}(),RM=m(function e(){y(this,e)});function nt(e){return void 0!==e.a?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}function wt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return{r:e.r,g:e.g,b:e.b,a:void 0===e.a?n:e.a*n}}var Gn={r:0,g:0,b:0},B5={r:255,g:255,b:255},er={r:0,g:0,b:0,a:0},Vn={r:127,g:127,b:127},LM=[],qi=function(e){function n(){var t;return y(this,n),h(t=w(this,n),"id",void 0),h(t,"onChange",new dt),h(t,"onRemove",new dt),h(t,"onAdd",new dt),h(t,"configuration",{}),h(t,"_color",Gn),h(t,"_visible",!0),h(t,"svgLabel",void 0),h(t,"_labelTranslate",{x:0,y:0}),t.id=function H5(){for(var e=0;;e++)if(-1===LM.indexOf(e))return LM.push(e),e;return Number.NaN}(),t}return k(n,e),m(n,[{key:"getDistance",value:function(r,i){}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this.svgLabel=void 0,this.onChange.emit(r)}},{key:"visible",get:function(){return this._visible},set:function(r){this._visible=r,this.onChange.emit(r)}},{key:"labelTranslateX",get:function(){return this._labelTranslate.x},set:function(r){this._labelTranslate.x=r,this.onChange.emit(r)}},{key:"labelTranslateY",get:function(){return this._labelTranslate.y},set:function(r){this._labelTranslate.y=r,this.onChange.emit(r)}},{key:"labelTranslate",get:function(){return{x:this._labelTranslate.x,y:this._labelTranslate.y}},set:function(r){this._labelTranslate={x:r.x,y:r.y},this.onChange.emit(r)}},{key:"getPositionForLabel",value:function(r){}}])}(RM),U5=function(){function e(){y(this,e),h(this,"_ts",[]);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];this._ts=t}return m(e,[{key:"getItem",value:function(t){return this._ts[t]}},{key:"setItem",value:function(t,r){this._ts[t]=r}},{key:"push",value:function(){var t;(t=this._ts).push.apply(t,arguments)}},{key:"remove",value:function(t){var r=this._ts.indexOf(t);return r>=0&&(this._ts.splice(r,1),!0)}},{key:"pop",value:function(){return this._ts.pop()}},{key:"forEach",value:function(t){for(var r=0;r<this._ts.length;r++)t(this._ts[r],r)}},{key:"filter",value:function(t){for(var r=[],i=0;i<this._ts.length;i++){var a=this._ts[i];t(a,i)&&r.push(a)}return en(e,r)}},{key:"map",value:function(t){for(var r=[],i=0;i<this._ts.length;i++)r.push(t(this._ts[i],i));return en(e,r)}},{key:"find",value:function(t){for(var r=0;r<this._ts.length;r++){var i=this._ts[r];if(t(i,r))return i}}}])}(),Wn=function(){return m(function e(){y(this,e),h(this,"childOperations",new U5)},[{key:"simplify",value:function(){return this}}])}(),Ce=function(e){function n(t){var r;return y(this,n),h(r=w(this,n),"constant",void 0),r.constant=t,r}return k(n,e),m(n,[{key:"evaluate",value:function(){return this.constant}},{key:"derive",value:function(){return new n(0)}},{key:"toString",value:function(){return this.constant==Math.PI?"pi":this.constant==Math.E?"e":this.constant>=0?this.constant.toString():"(".concat(this.constant.toString(),")")}}])}(Wn),Sg="$VAR_",Ft=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return y(this,n),h(r=w(this,n),"key",void 0),h(r,"changingVariable",void 0),r.key=t,r.changingVariable=i,r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var i=void 0===this.changingVariable?r[this.key]:r[Sg+this.changingVariable];if("number"==typeof i)return i;throw"no number found"}},{key:"derive",value:function(r){return new Ce(r===this.key?1:0)}},{key:"toString",value:function(){return this.key}}])}(Wn),ho=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";y(this,e),h(this,"operation",void 0),h(this,"name",void 0),h(this,"variable",void 0),h(this,"stopEvaluation",!1),this.operation=n,this.name=t,this.variable=r}return m(e,[{key:"evaluate",value:function(t,r){var i;if(this.stopEvaluation)throw"evaluation stopped";return(r=null!==(i=r)&&void 0!==i?i:{})[Sg+0]=t,this.operation.evaluate(r)}},{key:"derive",value:function(){var t=void 0;return this.name&&(t=this.name+"'"),new e(this.operation.derive(this.variable),t,this.variable).simplify()}},{key:"simplify",value:function(){return new e(this.operation.simplify(),this.name,this.variable)}},{key:"operationAsString",get:function(){var t;return this.name?"".concat(this.name,"(").concat(null!==(t=this.variable)&&void 0!==t?t:"x",") = ").concat(this.operation.toString()):this.operation.toString()}}])}();function Qs(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=n=nr(n),i_y=n.y+n.height;return yn(e.x,r.x-t,n.x+n.width+t)&&yn(e.y,r.y-t,i_y+t)}function yn(e,n,t){return t<n?yn(e,t,n):e>=n&&e<=t}function nr(e){return e.width<0?nr({x:e.x+e.width,y:e.y,width:-e.width,height:e.height}):e.height<0?nr({x:e.x,y:e.y+e.height,width:e.width,height:-e.height}):e}function j5(e,n){if(function z5(e,n){return e=nr(e),n=nr(n),!(e.x+e.width<n.x||n.x+n.width<e.x||e.y+e.height<n.y||n.y+n.height<e.y)}(e=nr(e),n=nr(n))){var t=Math.max(e.x,n.x),r=Math.min(e.x+e.width,n.x+n.width),i=Math.max(e.y,n.y);return{x:t,y:i,width:r-t,height:Math.min(e.y+e.height,n.y+n.height)-i}}}function VM(e,n){if(Qs(e,n))return 0;var t=Math.min(Math.abs(e.x-n.x),Math.abs(e.x-n.x-n.width)),r=Math.min(Math.abs(e.y-n.y),Math.abs(e.y-n.y-n.height));return yn(e.x,n.x,n.x+n.width)?r:yn(e.y,n.y,n.y+n.height)?t:Math.sqrt(Math.pow(r,2)+Math.pow(t,2))}function si(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function W5(){for(var e=void 0,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];for(var i=0,a=t;i<a.length;i++){var o=a[i];(null==e||isNaN(e)||null!=o&&!isNaN(o)&&o<e)&&(e=o)}return e}function BM(e,n){return e.x===n.x&&e.y===n.y}function Nc(e,n){var t=n.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function HM(e){var n=void 0;if(null!==e){for(;-1!==e.indexOf(",");)e=e.replace(",",".");e.length>0&&isFinite(e)&&(n=parseFloat(e))}return n}function Xs(e){return void 0!==HM(e)}function q5(e,n,t){for(var r=e;-1!=r.indexOf(n);)r=r.replace(n,t);return r}function Ig(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0;i<e.length;i++)if(-1!=t.indexOf(e[i]))return i;return-1}function UM(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=t.map(function(s){return e.indexOf(s)}).filter(function(s){return-1!==s});if(0===i.length)return-1;for(var a=i[0],o=1;o<i.length;o++)i[o]<a&&(a=i[o]);return a}function qn(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return-1!=Ig.apply(void 0,[e].concat(t))}function Y5(e,n){for(var t=e.length-2;t>=0;t--)if(n(e[t],e[t+1]))return t;return-1}function K5(e,n){return-1!==function Z5(e,n){for(var t=0;t<e.length-1;t++)if(n(e[t],e[t+1]))return t;return-1}(e,n)}function Fc(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return-1!==UM.apply(void 0,[e].concat(t))}function zM(e,n,t){return e>n?e:t<n?t:n}function jM(e,n){var r,t=A(e);try{for(t.s();!(r=t.n()).done;)if(n(r.value))return!0}catch(a){t.e(a)}finally{t.f()}return!1}function $5(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}function Q5(e,n,t,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=0,s=r??0;s>=0&&s<e.length;s+=a){var u=e[s];if(qn(n,u)&&o++,qn(t,u)&&o--,0==o)return s}if(0==o)return r??0;throw i}function GM(e){return B(new Set(e))}function WM(e,n){var r,t=A(n);try{for(t.s();!(r=t.n()).done;){var i=r.value;if(i[0]===e)return i[1]}}catch(a){t.e(a)}finally{t.f()}return e}var ui=function(){return m(function e(){y(this,e),h(this,"threePointsClickedEvent",new dt)},[{key:"contextMenu",get:function(){return{elements:function(){return[]},additionalEvent:this.threePointsClickedEvent}}},{key:"threePointsClicked",value:function(t){var r=t.target;r instanceof HTMLSpanElement&&(r=r.parentElement);var i=r.getBoundingClientRect();this.threePointsClickedEvent.emit([{x:i.x+i.width/2,y:i.y+i.height/2},t])}}])}();function Rc(e,n,t){e.openSnackbar(function nH(e,n){return 1!==n&&(e+="e"),0===n?"Keine ".concat(e," gefunden."):1===n?"Ein ".concat(e," gefunden."):"".concat(n," ").concat(e," gefunden.")}(n,t))}function Lc(e){e.openSnackbar(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ein unerwarteter Fehler ist aufgetreten!",{color:"white",background:"#c44"})}function Zi(){Zi=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(G,N,U){G[N]=U.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(G,N,U){return Object.defineProperty(G,N,{value:U,enumerable:!0,configurable:!0,writable:!0}),G[N]}try{l({},"")}catch{l=function(U,X,fe){return U[X]=fe}}function c(G,N,U,X){var ee=Object.create((N&&N.prototype instanceof D?N:D).prototype),Be=new Fe(X||[]);return i(ee,"_invoke",{value:ce(G,U,Be)}),ee}function d(G,N,U){try{return{type:"normal",arg:G.call(N,U)}}catch(X){return{type:"throw",arg:X}}}n.wrap=c;var f="suspendedStart",v="suspendedYield",g="executing",p="completed",_={};function D(){}function C(){}function M(){}var I={};l(I,o,function(){return this});var O=Object.getPrototypeOf,V=O&&O(O(rn([])));V&&V!==t&&r.call(V,o)&&(I=V);var F=M.prototype=D.prototype=Object.create(I);function W(G){["next","throw","return"].forEach(function(N){l(G,N,function(U){return this._invoke(N,U)})})}function q(G,N){function U(fe,ee,Be,Xe){var Hn=d(G[fe],G,ee);if("throw"!==Hn.type){var It=Hn.arg,Wr=It.value;return Wr&&"object"==ir(Wr)&&r.call(Wr,"__await")?N.resolve(Wr.__await).then(function(ta){U("next",ta,Be,Xe)},function(ta){U("throw",ta,Be,Xe)}):N.resolve(Wr).then(function(ta){It.value=ta,Be(It)},function(ta){return U("throw",ta,Be,Xe)})}Xe(Hn.arg)}var X;i(this,"_invoke",{value:function(ee,Be){function Xe(){return new N(function(Hn,It){U(ee,Be,Hn,It)})}return X=X?X.then(Xe,Xe):Xe()}})}function ce(G,N,U){var X=f;return function(fe,ee){if(X===g)throw Error("Generator is already running");if(X===p){if("throw"===fe)throw ee;return{value:e,done:!0}}for(U.method=fe,U.arg=ee;;){var Be=U.delegate;if(Be){var Xe=ye(Be,U);if(Xe){if(Xe===_)continue;return Xe}}if("next"===U.method)U.sent=U._sent=U.arg;else if("throw"===U.method){if(X===f)throw X=p,U.arg;U.dispatchException(U.arg)}else"return"===U.method&&U.abrupt("return",U.arg);X=g;var Hn=d(G,N,U);if("normal"===Hn.type){if(X=U.done?p:v,Hn.arg===_)continue;return{value:Hn.arg,done:U.done}}"throw"===Hn.type&&(X=p,U.method="throw",U.arg=Hn.arg)}}}function ye(G,N){var U=N.method,X=G.iterator[U];if(X===e)return N.delegate=null,"throw"===U&&G.iterator.return&&(N.method="return",N.arg=e,ye(G,N),"throw"===N.method)||"return"!==U&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+U+"' method")),_;var fe=d(X,G.iterator,N.arg);if("throw"===fe.type)return N.method="throw",N.arg=fe.arg,N.delegate=null,_;var ee=fe.arg;return ee?ee.done?(N[G.resultName]=ee.value,N.next=G.nextLoc,"return"!==N.method&&(N.method="next",N.arg=e),N.delegate=null,_):ee:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,_)}function de(G){var N={tryLoc:G[0]};1 in G&&(N.catchLoc=G[1]),2 in G&&(N.finallyLoc=G[2],N.afterLoc=G[3]),this.tryEntries.push(N)}function be(G){var N=G.completion||{};N.type="normal",delete N.arg,G.completion=N}function Fe(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(de,this),this.reset(!0)}function rn(G){if(G||""===G){var N=G[o];if(N)return N.call(G);if("function"==typeof G.next)return G;if(!isNaN(G.length)){var U=-1,X=function fe(){for(;++U<G.length;)if(r.call(G,U))return fe.value=G[U],fe.done=!1,fe;return fe.value=e,fe.done=!0,fe};return X.next=X}}throw new TypeError(ir(G)+" is not iterable")}return C.prototype=M,i(F,"constructor",{value:M,configurable:!0}),i(M,"constructor",{value:C,configurable:!0}),C.displayName=l(M,u,"GeneratorFunction"),n.isGeneratorFunction=function(G){var N="function"==typeof G&&G.constructor;return!!N&&(N===C||"GeneratorFunction"===(N.displayName||N.name))},n.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,M):(G.__proto__=M,l(G,u,"GeneratorFunction")),G.prototype=Object.create(F),G},n.awrap=function(G){return{__await:G}},W(q.prototype),l(q.prototype,s,function(){return this}),n.AsyncIterator=q,n.async=function(G,N,U,X,fe){void 0===fe&&(fe=Promise);var ee=new q(c(G,N,U,X),fe);return n.isGeneratorFunction(N)?ee:ee.next().then(function(Be){return Be.done?Be.value:ee.next()})},W(F),l(F,u,"Generator"),l(F,o,function(){return this}),l(F,"toString",function(){return"[object Generator]"}),n.keys=function(G){var N=Object(G),U=[];for(var X in N)U.push(X);return U.reverse(),function fe(){for(;U.length;){var ee=U.pop();if(ee in N)return fe.value=ee,fe.done=!1,fe}return fe.done=!0,fe}},n.values=rn,Fe.prototype={constructor:Fe,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(be),!N)for(var U in this)"t"===U.charAt(0)&&r.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=e)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if("throw"===N.type)throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var U=this;function X(It,Wr){return Be.type="throw",Be.arg=N,U.next=It,Wr&&(U.method="next",U.arg=e),!!Wr}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var ee=this.tryEntries[fe],Be=ee.completion;if("root"===ee.tryLoc)return X("end");if(ee.tryLoc<=this.prev){var Xe=r.call(ee,"catchLoc"),Hn=r.call(ee,"finallyLoc");if(Xe&&Hn){if(this.prev<ee.catchLoc)return X(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return X(ee.finallyLoc)}else if(Xe){if(this.prev<ee.catchLoc)return X(ee.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return X(ee.finallyLoc)}}}},abrupt:function(N,U){for(var X=this.tryEntries.length-1;X>=0;--X){var fe=this.tryEntries[X];if(fe.tryLoc<=this.prev&&r.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var ee=fe;break}}ee&&("break"===N||"continue"===N)&&ee.tryLoc<=U&&U<=ee.finallyLoc&&(ee=null);var Be=ee?ee.completion:{};return Be.type=N,Be.arg=U,ee?(this.method="next",this.next=ee.finallyLoc,_):this.complete(Be)},complete:function(N,U){if("throw"===N.type)throw N.arg;return"break"===N.type||"continue"===N.type?this.next=N.arg:"return"===N.type?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):"normal"===N.type&&U&&(this.next=U),_},finish:function(N){for(var U=this.tryEntries.length-1;U>=0;--U){var X=this.tryEntries[U];if(X.finallyLoc===N)return this.complete(X.completion,X.afterLoc),be(X),_}},catch:function(N){for(var U=this.tryEntries.length-1;U>=0;--U){var X=this.tryEntries[U];if(X.tryLoc===N){var fe=X.completion;if("throw"===fe.type){var ee=fe.arg;be(X)}return ee}}throw Error("illegal catch attempt")},delegateYield:function(N,U,X){return this.delegate={iterator:rn(N),resultName:U,nextLoc:X},"next"===this.method&&(this.arg=e),_}},n}function qM(e,n,t,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void t(l)}s.done?n(u):Promise.resolve(u).then(r,i)}function Yi(e){return this instanceof Yi?(this.v=e,this):new Yi(e)}function uH(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function KM(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(o){return new Promise(function(s,u){!function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}(s,u,(o=e[a](o)).done,o.value)})}}}var Pg=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function $M(e){return Se(e?.then)}function QM(e){return Se(e[Td])}function XM(e){return Symbol.asyncIterator&&Se(e?.[Symbol.asyncIterator])}function JM(e){return new TypeError("You provided ".concat(null!==e&&"object"==typeof e?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var ew=function cH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nw(e){return Se(e?.[ew])}function tw(e){return function sH(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(v){return new Promise(function(g,p){a.push([f,v,g,p])>1||s(f,v)})})}function s(f,v){try{!function u(f){f.value instanceof Yi?Promise.resolve(f.value.v).then(l,c):d(a[0][2],f)}(r[f](v))}catch(g){d(a[0][3],g)}}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,v){f(v),a.shift(),a.length&&s(a[0][0],a[0][1])}}(this,arguments,Zi().mark(function n(){var t,r,i;return Zi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=e.getReader(),s.prev=1;case 2:return s.next=5,Yi(t.read());case 5:if(i=(r=s.sent).value,!r.done){s.next=12;break}return s.next=11,Yi(void 0);case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,Yi(i);case 14:return s.next=16,s.sent;case 16:s.next=2;break;case 18:return s.prev=18,t.releaseLock(),s.finish(18);case 21:case"end":return s.stop()}},n,null,[[1,,18,21]])}))}function rw(e){return Se(e?.getReader)}function Cr(e){if(e instanceof dn)return e;if(null!=e){if(QM(e))return function dH(e){return new dn(function(n){var t=e[Td]();if(Se(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Pg(e))return function fH(e){return new dn(function(n){for(var t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if($M(e))return function vH(e){return new dn(function(n){e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,zp)})}(e);if(XM(e))return iw(e);if(nw(e))return function hH(e){return new dn(function(n){var r,t=A(e);try{for(t.s();!(r=t.n()).done;)if(n.next(r.value),n.closed)return}catch(a){t.e(a)}finally{t.f()}n.complete()})}(e);if(rw(e))return function gH(e){return iw(tw(e))}(e)}throw JM(e)}function iw(e){return new dn(function(n){(function pH(e,n){var t,r,i,a;return function aH(e,n,t,r){return new(t||(t=Promise))(function(a,o){function s(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):function i(a){return a instanceof t?a:new t(function(o){o(a)})}(c.value).then(s,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,Zi().mark(function o(){return Zi().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,t=uH(e);case 2:return l.next=4,t.next();case 4:if((r=l.sent).done){l.next=12;break}if(n.next(r.value),!n.closed){l.next=10;break}return l.abrupt("return");case 10:l.next=2;break;case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),i={error:l.t0};case 17:if(l.prev=17,l.prev=18,!r||r.done||!(a=t.return)){l.next=22;break}return l.next=22,a.call(t);case 22:if(l.prev=22,!i){l.next=25;break}throw i.error;case 25:return l.finish(22);case 26:return l.finish(17);case 27:n.complete();case 28:case"end":return l.stop()}},o,null,[[0,14,17,27],[18,,22,26]])}))})(e,n).catch(function(t){return n.error(t)})})}function li(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function aw(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Lt(function(t,r){t.subscribe(new ht(r,function(i){return li(r,e,function(){return r.next(i)},n)},function(){return li(r,e,function(){return r.complete()},n)},function(i){return li(r,e,function(){return r.error(i)},n)}))})}function ow(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Lt(function(t,r){r.add(e.schedule(function(){return t.subscribe(r)},n))})}function sw(e,n){if(!e)throw new Error("Iterable cannot be null");return new dn(function(t){li(t,n,function(){var r=e[Symbol.asyncIterator]();li(t,n,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Js(e,n){return n?function DH(e,n){if(null!=e){if(QM(e))return function mH(e,n){return Cr(e).pipe(ow(n),aw(n))}(e,n);if(Pg(e))return function _H(e,n){return new dn(function(t){var r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if($M(e))return function yH(e,n){return Cr(e).pipe(ow(n),aw(n))}(e,n);if(XM(e))return sw(e,n);if(nw(e))return function CH(e,n){return new dn(function(t){var r;return li(t,n,function(){r=e[ew](),li(t,n,function(){var i,a;try{var o=r.next();i=o.value,a=o.done}catch(s){return void t.error(s)}a?t.complete():t.next(i)},0,!0)}),function(){return Se(r?.return)&&r.return()}})}(e,n);if(rw(e))return function bH(e,n){return sw(tw(e),n)}(e,n)}throw JM(e)}(e,n):Cr(e)}var EH=Array.isArray,MH=Object.getPrototypeOf,wH=Object.prototype,kH=Object.keys;function uw(e){return e&&Se(e.schedule)}function Og(e){return e[e.length-1]}function Ag(e){return uw(Og(e))?e.pop():void 0}var OH=Array.isArray;function lw(e){return Vt(function(n){return function AH(e,n){return OH(n)?e.apply(void 0,B(n)):e(n)}(e,n)})}function NH(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=function TH(e){return Se(Og(e))?e.pop():void 0}(n),i=function SH(e){if(1===e.length){var n=e[0];if(EH(n))return{args:n,keys:null};if(function IH(e){return e&&"object"==typeof e&&MH(e)===wH}(n)){var t=kH(n);return{args:t.map(function(r){return n[r]}),keys:t}}}return{args:e,keys:null}}(n),a=i.args,o=i.keys,s=new dn(function(u){var l=a.length;if(l)for(var c=new Array(l),d=l,f=l,v=function(_){var D=!1;Cr(a[_]).subscribe(new ht(u,function(C){D||(D=!0,f--),c[_]=C},function(){return d--},void 0,function(){(!d||!D)&&(f||u.next(o?function xH(e,n){return e.reduce(function(t,r,i){return t[r]=n[i],t},{})}(o,c):c),u.complete())}))},g=0;g<l;g++)v(g);else u.complete()});return r?s.pipe(lw(r)):s}var cw=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._renderer=r,this._elementRef=i,this.onChange=function(a){},this.onTouched=function(){}},[{key:"setProperty",value:function(i,a){this._renderer.setProperty(this._elementRef.nativeElement,i,a)}},{key:"registerOnTouched",value:function(i){this.onTouched=i}},{key:"registerOnChange",value:function(i){this.onChange=i}},{key:"setDisabledState",value:function(i){this.setProperty("disabled",i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(x(Li),x(Wt))},e.\u0275dir=se({type:e}),n}(),Ki=function(){var e,n=function(t){function r(){return y(this,r),w(this,r,arguments)}return k(r,t),m(r)}(cw);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Fn(e)))(i||e)}}(),e.\u0275dir=se({type:e,features:[ve]}),n}(),br=new Z(""),FH={provide:br,useExisting:He(function(){return zr}),multi:!0},zr=function(){var e,n=function(t){function r(){return y(this,r),w(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("checked",a)}}])}(Ki);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Fn(e)))(i||e)}}(),e.\u0275dir=se({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&te("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Qe([FH]),ve]}),n}(),RH={provide:br,useExisting:He(function(){return ln}),multi:!0},VH=new Z(""),ln=function(){var e,n=function(t){function r(i,a,o){var s;return y(this,r),(s=w(this,r,[i,a]))._compositionMode=o,s._composing=!1,null==s._compositionMode&&(s._compositionMode=!function LH(){var e=Ws()?Ws().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),s}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",a??"")}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}])}(cw);return(e=n).\u0275fac=function(r){return new(r||e)(x(Li),x(Wt),x(VH,8))},e.\u0275dir=se({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&te("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Qe([RH]),ve]}),n}();function ci(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}var Zn=new Z(""),di=new Z("");function xg(e){return null}function fw(e){return null!=e}function vw(e){return uc(e)?Js(e):e}function hw(e){var n={};return e.forEach(function(t){n=null!=t?re(re({},n),t):n}),0===Object.keys(n).length?null:n}function gw(e,n){return n.map(function(t){return t(e)})}function pw(e){return e.map(function(n){return function YH(e){return!e.validate}(n)?n:function(t){return n.validate(t)}})}function Ng(e){return null!=e?function KH(e){if(!e)return null;var n=e.filter(fw);return 0==n.length?null:function(t){return hw(gw(t,n))}}(pw(e)):null}function Fg(e){return null!=e?function $H(e){if(!e)return null;var n=e.filter(fw);return 0==n.length?null:function(t){return NH(gw(t,n).map(vw)).pipe(Vt(hw))}}(pw(e)):null}function mw(e,n){return null===e?[n]:Array.isArray(e)?[].concat(B(e),[n]):[e,n]}function Rg(e){return e?Array.isArray(e)?e:[e]:[]}function Vc(e,n){return Array.isArray(e)?e.includes(n):e===n}function Cw(e,n){var t=Rg(n);return Rg(e).forEach(function(i){Vc(t,i)||t.push(i)}),t}function bw(e,n){return Rg(n).filter(function(t){return!Vc(e,t)})}var Dw=function(){return m(function e(){y(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]},[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Ng(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fg(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){this.control&&this.control.reset(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)}},{key:"hasError",value:function(t,r){return!!this.control&&this.control.hasError(t,r)}},{key:"getError",value:function(t,r){return this.control?this.control.getError(t,r):null}}])}(),tt=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}])}(Dw),fi=function(e){function n(){var t;return y(this,n),(t=w(this,n,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return k(n,e),m(n)}(Dw),Ew=function(){return m(function e(n){y(this,e),this._cd=n},[{key:"isTouched",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._touched)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.touched)}},{key:"isUntouched",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.untouched)}},{key:"isPristine",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._pristine)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.pristine)}},{key:"isDirty",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.dirty)}},{key:"isValid",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._status)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.valid)}},{key:"isInvalid",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.invalid)}},{key:"isPending",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.pending)}},{key:"isSubmitted",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(r=t._submitted)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||!i.submitted)}}])}(),_n=function(){var e,n=function(t){function r(i){return y(this,r),w(this,r,[i])}return k(r,t),m(r)}(Ew);return(e=n).\u0275fac=function(r){return new(r||e)(x(fi,2))},e.\u0275dir=se({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&$l("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ve]}),n}(),eu="VALID",Hc="INVALID",go="PENDING",nu="DISABLED",po=m(function e(){y(this,e)}),ww=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).value=t,i.source=r,i}return k(n,e),m(n)}(po),Bg=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).pristine=t,i.source=r,i}return k(n,e),m(n)}(po),Hg=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).touched=t,i.source=r,i}return k(n,e),m(n)}(po),Uc=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).status=t,i.source=r,i}return k(n,e),m(n)}(po);function kw(e){return(zc(e)?e.validators:e)||null}function Sw(e,n){return(zc(n)?n.asyncValidators:e)||null}function zc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Iw=function(){return m(function e(n,t){var r=this;y(this,e),this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=function(){},this._parent=null,this._status=Gs(function(){return r.statusReactive()}),this.statusReactive=Ba(void 0),this._pristine=Gs(function(){return r.pristineReactive()}),this.pristineReactive=Ba(!0),this._touched=Gs(function(){return r.touchedReactive()}),this.touchedReactive=Ba(!1),this._events=new kr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)},[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"status",get:function(){return _r(this.statusReactive)},set:function(t){var r=this;_r(function(){return r.statusReactive.set(t)})}},{key:"valid",get:function(){return this.status===eu}},{key:"invalid",get:function(){return this.status===Hc}},{key:"pending",get:function(){return this.status==go}},{key:"disabled",get:function(){return this.status===nu}},{key:"enabled",get:function(){return this.status!==nu}},{key:"pristine",get:function(){return _r(this.pristineReactive)},set:function(t){var r=this;_r(function(){return r.pristineReactive.set(t)})}},{key:"dirty",get:function(){return!this.pristine}},{key:"touched",get:function(){return _r(this.touchedReactive)},set:function(t){var r=this;_r(function(){return r.touchedReactive.set(t)})}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._assignValidators(t)}},{key:"setAsyncValidators",value:function(t){this._assignAsyncValidators(t)}},{key:"addValidators",value:function(t){this.setValidators(Cw(t,this._rawValidators))}},{key:"addAsyncValidators",value:function(t){this.setAsyncValidators(Cw(t,this._rawAsyncValidators))}},{key:"removeValidators",value:function(t){this.setValidators(bw(t,this._rawValidators))}},{key:"removeAsyncValidators",value:function(t){this.setAsyncValidators(bw(t,this._rawAsyncValidators))}},{key:"hasValidator",value:function(t){return Vc(this._rawValidators,t)}},{key:"hasAsyncValidator",value:function(t){return Vc(this._rawAsyncValidators,t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1===this.touched;this.touched=!0;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._parent&&!r.onlySelf&&this._parent.markAsTouched(re(re({},r),{},{sourceControl:a})),i&&!1!==r.emitEvent&&this._events.next(new Hg(!0,a))}},{key:"markAllAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(function(r){return r.markAllAsTouched(t)})}},{key:"markAsUntouched",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!0===this.touched;this.touched=!1,this._pendingTouched=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._forEachChild(function(o){o.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:a})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,a),i&&!1!==r.emitEvent&&this._events.next(new Hg(!1,a))}},{key:"markAsDirty",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!0===this.pristine;this.pristine=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._parent&&!r.onlySelf&&this._parent.markAsDirty(re(re({},r),{},{sourceControl:a})),i&&!1!==r.emitEvent&&this._events.next(new Bg(!1,a))}},{key:"markAsPristine",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._forEachChild(function(o){o.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,a),i&&!1!==r.emitEvent&&this._events.next(new Bg(!0,a))}},{key:"markAsPending",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=go;var i=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new Uc(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending(re(re({},r),{},{sourceControl:i}))}},{key:"disable",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._parentMarkedDirty(r.onlySelf);this.status=nu,this.errors=null,this._forEachChild(function(o){o.disable(re(re({},r),{},{onlySelf:!0}))}),this._updateValue();var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new ww(this.value,a)),this._events.next(new Uc(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(re({},r),{},{skipPristineCheck:i}),this),this._onDisabledChange.forEach(function(o){return o(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this._parentMarkedDirty(t.onlySelf);this.status=eu,this._forEachChild(function(i){i.enable(re(re({},t),{},{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(re(re({},t),{},{skipPristineCheck:r}),this),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}},{key:"setParent",value:function(t){this._parent=t}},{key:"getRawValue",value:function(){return this.value}},{key:"updateValueAndValidity",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._setInitialStatus(),this._updateValue(),this.enabled){var i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eu||this.status===go)&&this._runAsyncValidator(i,r.emitEvent)}var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new ww(this.value,a)),this._events.next(new Uc(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(re(re({},r),{},{sourceControl:a}))}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(r){return r._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?nu:eu}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t,r){var i=this;if(this.asyncValidator){this.status=go,this._hasOwnPendingAsyncValidator={emitEvent:!1!==r};var a=vw(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(function(o){i._hasOwnPendingAsyncValidator=null,i.setErrors(o,{emitEvent:r,shouldHaveEmitted:t})})}}},{key:"_cancelExistingSubscription",value:function(){if(this._asyncValidationSubscription){var t,r;this._asyncValidationSubscription.unsubscribe();var i=null!==(t=null===(r=this._hasOwnPendingAsyncValidator)||void 0===r?void 0:r.emitEvent)&&void 0!==t&&t;return this._hasOwnPendingAsyncValidator=null,i}return!1}},{key:"setErrors",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==r.emitEvent,this,r.shouldHaveEmitted)}},{key:"get",value:function(t){var r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce(function(i,a){return i&&i._find(a)},this)}},{key:"getError",value:function(t,r){var i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}},{key:"hasError",value:function(t,r){return!!this.getError(t,r)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t,r,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Uc(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,i)}},{key:"_initObservables",value:function(){this.valueChanges=new gn,this.statusChanges=new gn}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?nu:this.errors?Hc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(go)?go:this._anyControlsHaveStatus(Hc)?Hc:eu}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(r){return r.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(t,r){var i=!this._anyControlsDirty(),a=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),a&&this._events.next(new Bg(this.pristine,r))}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.touched=this._anyControlsTouched(),this._events.next(new Hg(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){zc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}},{key:"_find",value:function(t){return null}},{key:"_assignValidators",value:function(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function a3(e){return Array.isArray(e)?Ng(e):e||null}(this._rawValidators)}},{key:"_assignAsyncValidators",value:function(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function o3(e){return Array.isArray(e)?Fg(e):e||null}(this._rawAsyncValidators)}}])}(),mo=new Z("CallSetDisabledState",{providedIn:"root",factory:function(){return jc}}),jc="always";function tu(e,n){var r,i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jc;(function zg(e,n){var t=function yw(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(mw(t,n.validator)):"function"==typeof t&&e.setValidators([t]);var r=function _w(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(mw(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};qc(n._rawValidators,i),qc(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&(null===(r=(i=n.valueAccessor).setDisabledState)||void 0===r||r.call(i,e.disabled)),function d3(e,n){n.valueAccessor.registerOnChange(function(t){e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Tw(e,n)})}(e,n),function v3(e,n){var t=function(i,a){n.valueAccessor.writeValue(i),a&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(function(){e._unregisterOnChange(t)})}(e,n),function f3(e,n){n.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Tw(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function c3(e,n){if(n.valueAccessor.setDisabledState){var t=function(i){n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(function(){e._unregisterOnDisabledChange(t)})}}(e,n)}function qc(e,n){e.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Tw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Aw(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}function xw(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}var Nw=function(e){function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return y(this,n),(t=w(this,n,[kw(i),Sw(a,i)])).defaultValue=null,t._onChange=[],t._pendingChange=!1,t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!t.asyncValidator}),zc(i)&&(i.nonNullable||i.initialValueIsDefault)&&(t.defaultValue=xw(r)?r.value:r),t}return k(n,e),m(n,[{key:"setValue",value:function(r){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=r,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(function(o){return o(i.value,!1!==a.emitViewToModelChange)}),this.updateValueAndValidity(a)}},{key:"patchValue",value:function(r){this.setValue(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"reset",value:function(){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultValue),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(r){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(r){this._onChange.push(r)}},{key:"_unregisterOnChange",value:function(r){Aw(this._onChange,r)}},{key:"registerOnDisabledChange",value:function(r){this._onDisabledChange.push(r)}},{key:"_unregisterOnDisabledChange",value:function(r){Aw(this._onDisabledChange,r)}},{key:"_forEachChild",value:function(r){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(r){xw(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}])}(Iw),b3={provide:fi,useExisting:He(function(){return cn})},Lw=function(){return Promise.resolve()}(),cn=function(){var e,n=function(t){function r(i,a,o,s,u,l){var c;return y(this,r),(c=w(this,r))._changeDetectorRef=u,c.callSetDisabledState=l,c.control=new Nw,c._registered=!1,c.name="",c.update=new gn,c._parent=i,c._setValidators(a),c._setAsyncValidators(o),c.valueAccessor=function Wg(e,n){if(!n)return null;Array.isArray(n);var t=void 0,r=void 0,i=void 0;return n.forEach(function(a){a.constructor===ln?t=a:function p3(e){return Object.getPrototypeOf(e.constructor)===Ki}(a)?r=a:i=a}),i||r||t||null}(0,s),c}return k(r,t),m(r,[{key:"ngOnChanges",value:function(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){var o=a.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),function Gg(e,n){if(!e.hasOwnProperty("model"))return!1;var t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._getPath(this.name)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){tu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;Lw.then(function(){var s;o.control.setValue(a,{emitViewToModelChange:!1}),null===(s=o._changeDetectorRef)||void 0===s||s.markForCheck()})}},{key:"_updateDisabled",value:function(a){var o=this,s=a.isDisabled.currentValue,u=0!==s&&function tg(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(s);Lw.then(function(){var l;u&&!o.control.disabled?o.control.disable():!u&&o.control.disabled&&o.control.enable(),null===(l=o._changeDetectorRef)||void 0===l||l.markForCheck()})}},{key:"_getPath",value:function(a){return this._parent?function Gc(e,n){return[].concat(B(n.path),[e])}(a,this._parent):[a]}}])}(fi);return(e=n).\u0275fac=function(r){return new(r||e)(x(tt,9),x(Zn,10),x(di,10),x(br,10),x(dc,8),x(mo,8))},e.\u0275dir=se({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qe([b3]),ve,Pr]}),n}(),E3={provide:br,useExisting:He(function(){return kt}),multi:!0},kt=function(){var e,n=function(t){function r(){return y(this,r),w(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",a??"")}},{key:"registerOnChange",value:function(a){this.onChange=function(o){a(""==o?null:parseFloat(o))}}}])}(Ki);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Fn(e)))(i||e)}}(),e.\u0275dir=se({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&te("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Qe([E3]),ve]}),n}(),k3={provide:br,useExisting:He(function(){return jr}),multi:!0},jr=function(){var e,n=function(t){function r(){return y(this,r),w(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",parseFloat(a))}},{key:"registerOnChange",value:function(a){this.onChange=function(o){a(""==o?null:parseFloat(o))}}}])}(Ki);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Fn(e)))(i||e)}}(),e.\u0275dir=se({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){1&r&&te("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Qe([k3]),ve]}),n}();function qw(e){return"number"==typeof e?e:parseFloat(e)}var $i=function(){var e,n=function(){return m(function t(){y(this,t),this._validator=xg},[{key:"ngOnChanges",value:function(i){if(this.inputName in i){var a=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):xg,this._onChange&&this._onChange()}}},{key:"validate",value:function(i){return this._validator(i)}},{key:"registerOnValidatorChange",value:function(i){this._onChange=i}},{key:"enabled",value:function(i){return null!=i}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275dir=se({type:e,features:[Pr]}),n}(),V3={provide:Zn,useExisting:He(function(){return Xg}),multi:!0},Xg=function(){var e,n=function(t){function r(){var i;return y(this,r),(i=w(this,r,arguments)).inputName="max",i.normalizeInput=function(a){return qw(a)},i.createValidator=function(a){return function UH(e){return function(n){if(ci(n.value)||ci(e))return null;var t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(a)},i}return k(r,t),m(r)}($i);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Fn(e)))(i||e)}}(),e.\u0275dir=se({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Lr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Qe([V3]),ve]}),n}(),B3={provide:Zn,useExisting:He(function(){return Yc}),multi:!0},Yc=function(){var e,n=function(t){function r(){var i;return y(this,r),(i=w(this,r,arguments)).inputName="min",i.normalizeInput=function(a){return qw(a)},i.createValidator=function(a){return function HH(e){return function(n){if(ci(n.value)||ci(e))return null;var t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(a)},i}return k(r,t),m(r)}($i);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Fn(e)))(i||e)}}(),e.\u0275dir=se({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Lr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Qe([B3]),ve]}),n}(),q3=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({}),n}(),Xw=function(){var e,n=function(){function t(){y(this,t)}return m(t,null,[{key:"withConfig",value:function(i){var a;return{ngModule:t,providers:[{provide:mo,useValue:null!==(a=i.callSetDisabledState)&&void 0!==a?a:jc}]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({imports:[q3]}),n}(),Y3=function(n){return{background:n}},K3=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"ref",void 0),h(this,"r",0),h(this,"g",0),h(this,"b",0),h(this,"_data",void 0),this.ref=r},[{key:"data",get:function(){return this._data},set:function(i){var a;this._data=i;var o=null===(a=this.data)||void 0===a?void 0:a.getter();o&&(this.r=o.r,this.g=o.g,this.b=o.b),this.ref.detectChanges()}},{key:"colorStr",get:function(){return this.data?nt(this.data.getter()):""}},{key:"input",value:function(){var i,a;null===(i=this.data)||void 0===i||i.setter({r:this.r<0?0:this.r>255?255:this.r,g:this.g<0?0:this.g>255?255:this.g,b:this.b<0?0:this.b>255?255:this.b,a:null===(a=this.data)||void 0===a?void 0:a.getter().a})}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(dc))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-color-picker"]],decls:5,vars:6,consts:[[1,"wrapper"],[1,"preview",3,"ngStyle"],["type","number","title","Rot","min","0","max","255",1,"inp","r",3,"ngModelChange","input","ngModel"],["type","number","title","Gr\xfcn","min","0","max","255",1,"inp","g",3,"ngModelChange","input","ngModel"],["type","number","title","Blau","min","0","max","255",1,"inp","b",3,"ngModelChange","input","ngModel"]],template:function(r,i){1&r&&(b(0,"div",0),Ae(1,"div",1),b(2,"input",2),j("ngModelChange",function(o){return H(i.r,o)||(i.r=o),o}),te("input",function(){return i.input()}),E(),b(3,"input",3),j("ngModelChange",function(o){return H(i.g,o)||(i.g=o),o}),te("input",function(){return i.input()}),E(),b(4,"input",4),j("ngModelChange",function(o){return H(i.b,o)||(i.b=o),o}),te("input",function(){return i.input()}),E()()),2&r&&(P(),Q("ngStyle",Sn(4,Y3,i.colorStr)),P(),z("ngModel",i.r),P(),z("ngModel",i.g),P(),z("ngModel",i.b))},dependencies:[fo,ln,kt,_n,Yc,Xg,cn],styles:['.wrapper[_ngcontent-%COMP%]{--width: 100px;width:var(--width)}.preview[_ngcontent-%COMP%]{--size: 40px;width:var(--width);height:var(--size);border-radius:5px}.inp[_ngcontent-%COMP%]{--padding: 5px;--border: 1px;width:calc(var(--width) - 2 * (var(--padding) + var(--border)));padding:var(--padding);margin-top:7px;border-radius:5px;border:var(--border) solid #ddd;transition:all .1s ease-in-out;outline:none;font-size:10pt;font-family:Segoe UI,Calibri,"sans-serif"}.inp[_ngcontent-%COMP%]:hover{border:var(--border) solid #999}.inp[_ngcontent-%COMP%]:active, .inp[_ngcontent-%COMP%]:focus{border:var(--border) solid #555}']})),n}(),$3=["content"],Q3=["wrapper"],X3=function(n,t){return{"top.px":n,"left.px":t}},J3=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"content",void 0),h(this,"wrapper",void 0),h(this,"component",void 0),h(this,"position",{x:0,y:0}),h(this,"data",void 0)},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.content.createComponent(this.component).instance.data=this.data}},{key:"getBoundingClientRect",value:function(){return this.wrapper.nativeElement.getBoundingClientRect()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-hover-menu"]],viewQuery:function(r,i){var a;1&r&&(bt($3,5,Rn),bt(Q3,5)),2&r&&(Dt(a=Et())&&(i.content=a.first),Dt(a=Et())&&(i.wrapper=a.first))},decls:4,vars:4,consts:[["wrapper",""],["content",""],[1,"wrapper",3,"ngStyle"]],template:function(r,i){1&r&&(b(0,"div",2,0),Ae(2,"div",null,1),E()),2&r&&Q("ngStyle",Ph(1,X3,i.position.y,i.position.x))},dependencies:[fo],styles:["@keyframes _ngcontent-%COMP%_start{0%{transform:scale(0)}to{transform:scale(1)}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;animation:.1s start ease-in-out;z-index:1}"]})),n}(),eU=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"vc",void 0),h(this,"hoverMenu",void 0),h(this,"appHoverMenu",void 0),h(this,"element",void 0),h(this,"hoverTimeMs",750),h(this,"version",0),h(this,"eventListenerStart",function(){if(!i.hoverMenu){var a=++i.version;setTimeout(function(){i.version===a&&i.openHoverMenu()},i.hoverTimeMs)}}),h(this,"eventListenerEnd",function(a){if(i.hoverMenu&&a instanceof MouseEvent){var o={x:a.clientX,y:a.clientY};(!Qs(o,i.element.getBoundingClientRect())||a.target==i.element)&&(!Qs(o,i.hoverMenu.instance.getBoundingClientRect())||a.target==i.hoverMenu.location.nativeElement)&&(i.hoverMenu.destroy(),i.hoverMenu=void 0)}i.version=0}),this.vc=r,this.element=r.element.nativeElement,this.element.addEventListener("mouseover",this.eventListenerStart),this.element.addEventListener("mousemove",this.eventListenerStart),this.element.addEventListener("mouseleave",this.eventListenerEnd),this.element.addEventListener("click",function(){i.version=0})},[{key:"openHoverMenu",value:function(){if(!this.hoverMenu){this.hoverMenu=this.vc.createComponent(J3),this.hoverMenu.instance.component=this.appHoverMenu.component,this.hoverMenu.instance.data=this.appHoverMenu.data;var i=this.element.getBoundingClientRect();this.hoverMenu.instance.position={x:i.x+i.width/2,y:i.y+i.height/2},this.hoverMenu.location.nativeElement.addEventListener("mouseleave",this.eventListenerEnd)}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(Rn))}),h(n,"\u0275dir",se({type:e,selectors:[["","appHoverMenu",""]],inputs:{appHoverMenu:"appHoverMenu"}})),n}(),nU=function(n,t){return{"border-color":n,background:t}},tU=function(n){return{notVisible:n}},Qi=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"color",Gn),h(this,"colorChange",new gn),h(this,"visible",!0),h(this,"visibleChange",new gn)},[{key:"ngOnInit",value:function(){}},{key:"changeVisibility",value:function(){this.visible=!this.visible,this.visibleChange.emit(this.visible)}},{key:"colorStr",get:function(){return nt(this.color)}},{key:"hoverMenu",get:function(){var i=this;return{component:K3,data:{getter:function(){return i.color},setter:function(o){i.color=o,i.colorChange.emit(o)}}}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-color-circle"]],inputs:{color:"color",visible:"visible"},outputs:{colorChange:"colorChange",visibleChange:"visibleChange"},decls:1,vars:8,consts:[[1,"colorPicker",3,"click","appHoverMenu","ngStyle","ngClass"]],template:function(r,i){1&r&&(b(0,"div",0),te("click",function(){return i.changeVisibility()}),E()),2&r&&Q("appHoverMenu",i.hoverMenu)("ngStyle",Ph(3,nU,i.colorStr,i.colorStr))("ngClass",Sn(6,tU,!i.visible))},dependencies:[Xt,fo,eU],styles:[".colorPicker[_ngcontent-%COMP%]{--buttonSize: 46px;--borderThickness: 2px;float:left;width:calc(var(--buttonSize) - 2 * var(--borderThickness));height:calc(var(--buttonSize) - 2 * var(--borderThickness));border:var(--borderThickness) solid;border-radius:100%}.colorPicker.notVisible[_ngcontent-%COMP%]{background:transparent!important}"]})),n}(),rU=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"canvasElement",void 0),i.canvasElement=new he({x:0,y:0}),i}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}}])}(ui);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-point-formula"]],features:[ve],decls:15,vars:7,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"app-color-circle",1),j("colorChange",function(o){return H(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return H(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),E(),b(2,"div")(3,"p",2),Ae(4,"span"),S(5),b(6,"span")(7,"input",3),j("ngModelChange",function(o){return H(i.canvasElement.x,o)||(i.canvasElement.x=o),o}),E()(),S(8," | "),b(9,"span")(10,"input",3),j("ngModelChange",function(o){return H(i.canvasElement.y,o)||(i.canvasElement.y=o),o}),E()(),S(11," ) "),E()(),b(12,"button",4),te("click",function(o){return i.threePointsClicked(o)}),b(13,"span",5),S(14,"more_vert"),E()()()),2&r&&(P(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(4),yr(" ",i.name,"( "),P(2),Q("disabled",i.canvasElement.dependent),z("ngModel",i.canvasElement.x),P(3),Q("disabled",i.canvasElement.dependent),z("ngModel",i.canvasElement.y))},dependencies:[ln,kt,_n,cn,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}']})),n}(),Kc=function(e){function n(t){var r,i;return y(this,n),h(i=w(this,n),"removeListener",function(a){void 0!==a&&a.removeCanvasElements(i)}),h(i,"resetTempListener",void 0),(r=i).addDependency.apply(r,B(t)),i.onAdd.addListener(function(a){void 0!==a&&void 0!==i.resetTempListener&&a.onBeforeElementsDraw.addListener(i.resetTempListener)}),i.onRemove.addListener(function(a){void 0!==a&&void 0!==i.resetTempListener&&a.onBeforeElementsDraw.removeListener(i.resetTempListener)}),i}return k(n,e),m(n,[{key:"addDependency",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];for(var o=0,s=i;o<s.length;o++)s[o].onRemove.addListener(this.removeListener)}}])}(qi),Xi=m(function e(){y(this,e),h(this,"dialog",void 0)}),iU=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-point-element"]],features:[ve],decls:28,vars:8,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths"],["title","Name","type","text",1,"input",3,"ngModelChange","ngModel"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"p",1),S(2,"Punkt bearbeiten"),E(),b(3,"p",2),Ae(4,"span"),b(5,"input",3),j("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),E(),S(6," ( "),b(7,"span")(8,"input",4),j("ngModelChange",function(o){return H(i.dialogData.x,o)||(i.dialogData.x=o),o}),E()(),S(9," | "),b(10,"span")(11,"input",4),j("ngModelChange",function(o){return H(i.dialogData.y,o)||(i.dialogData.y=o),o}),E()(),S(12," ) "),E(),b(13,"div",5)(14,"input",6),j("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),E(),b(15,"label",7),S(16,"Label als LaTeX rendern"),E()(),b(17,"div",8)(18,"input",9),j("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),E(),b(19,"label",10),S(20,"Label schwarz anzeigen"),E()(),b(21,"div",11)(22,"label",12),S(23,"Labelgr\xf6\xdfe:"),E(),Ae(24,"br"),b(25,"input",13),j("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),E()(),b(26,"button",14),te("click",function(){return i.dialog.close()}),S(27,"Schlie\xdfen"),E()()),2&r&&(P(5),z("ngModel",i.name),P(3),Q("disabled",i.dialogData.dependent),z("ngModel",i.dialogData.x),P(3),Q("disabled",i.dialogData.dependent),z("ngModel",i.dialogData.y),P(3),z("ngModel",i.latex),P(4),z("ngModel",i.displayBlack),P(7),z("ngModel",i.labelSize))},dependencies:[ln,kt,jr,zr,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),he=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=w(this,n,[o]),"dependent",void 0),h(r,"componentType",rU),h(r,"formulaDialogType",iU),h(r,"_stroke",{r:100,g:100,b:100}),h(r,"_strokeWidth",3),h(r,"_radius",5),h(r,"_x",void 0),h(r,"_y",void 0),h(r,"selected",!1),r.dependent=a,r._x=t?.x,r._y=t?.y,r._color=i,r._visible=s,r.configuration.showLabel=u,r}return k(n,e),m(n,[{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(r)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(r)}},{key:"radius",get:function(){return this._radius},set:function(r){this._radius=r,this.onChange.emit(r)}},{key:"x",get:function(){return this._x},set:function(r){this.dependent||(this._x=r,this.onChange.emit(r))}},{key:"y",get:function(){return this._y},set:function(r){this.dependent||(this._y=r,this.onChange.emit(r))}},{key:"point",get:function(){if(void 0!==this.x&&void 0!==this.y)return{x:this.x,y:this.y}},set:function(r){this.dependent||this.forceSetPoint(r)}},{key:"forceSetPoint",value:function(r){this._x=r?.x,this._y=r?.y,this.onChange.emit(r)}},{key:"draw",value:function(r){var a=this.point;void 0!==a&&Qs(a,r.range,1.75*this.radius/r.zoom)&&((this.selected||-1!==r.selection.indexOf(this))&&r.drawCircle(a,1.75*this.radius/r.zoom,wt(this.color,.3)),r.drawCircle(a,this.radius/r.zoom,this.color,this.stroke,this.strokeWidth))}},{key:"getDistance",value:function(r,i){var a=this.point;if(void 0!==a)return Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2))-this.radius/i.zoom}},{key:"getPositionForLabel",value:function(r){var a=this.x,o=this.y;if(void 0!==a&&void 0!==o)return{x:a+15/r.zoom,y:o+15/r.zoom}}},{key:"serialize",value:function(){return{data:{x:this.x,y:this.y,dependent:this.dependent},style:{color:this.color,stroke:this.stroke,size:this.radius,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data;this.forceSetPoint(void 0===o.x||void 0===o.y?void 0:{x:o.x,y:o.y}),this.dependent=o.dependent,this.loadStyle(i.style)}},{key:"loadStyle",value:function(r){var i,a,o;this.color=r.color,this.visible=r.visible,this.radius=null!==(i=r.size)&&void 0!==i?i:this.radius,this.stroke=null!==(a=r.stroke)&&void 0!==a?a:this.stroke,this.strokeWidth=null!==(o=r.strokeWidth)&&void 0!==o?o:this.strokeWidth}}],[{key:"getDefaultInstance",value:function(){return new n(void 0)}}])}(Kc),aU=["componentNeighbor"],oU=["filler"],sU=function(n){return{display:n}},uU=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"componentNeighbor",void 0),h(this,"filler",void 0),h(this,"componentType",void 0),h(this,"component",void 0),h(this,"opened",!1),h(this,"dialog",void 0)},[{key:"open",value:function(i,a){var o=this;this.dialog=a,setTimeout(function(){o.componentType&&o.componentNeighbor&&(o.component=o.componentNeighbor.createComponent(o.componentType),o.component.instance.dialogData=i,o.component.instance.dialog=a,o.opened=!0)})}},{key:"close",value:function(){if(this.component){var i,a=this.component.instance.dialogData;return null===(i=this.dialog)||void 0===i||i.destroy(),this.opened=!1,a}return null}},{key:"onFillerClicked",value:function(i){this.filler&&this.filler.nativeElement===i.target&&this.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-dialog"]],viewQuery:function(r,i){var a;1&r&&(bt(aU,5,Rn),bt(oU,5)),2&r&&(Dt(a=Et())&&(i.componentNeighbor=a.first),Dt(a=Et())&&(i.filler=a.first))},decls:5,vars:3,consts:[["filler",""],["componentNeighbor",""],[1,"filler",3,"click","ngStyle"],[1,"wrapper"],[1,"componentNeighbor"]],template:function(r,i){if(1&r){var a=Vr();b(0,"div",2,0),te("click",function(s){return We(a),qe(i.onFillerClicked(s))}),b(2,"div",3),Ae(3,"div",4,1),E()()}2&r&&Q("ngStyle",Sn(1,sU,i.opened?"flex":"none"))},dependencies:[fo],styles:["@keyframes _ngcontent-%COMP%_animateFillerDialog{0%{background-color:#0000}to{background-color:#0007}}@keyframes _ngcontent-%COMP%_animateWrapperDialog{0%{transform:scale(0)}to{transform:scale(1)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;background-color:#0007;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_animateFillerDialog .1s ease-in-out;overflow:auto}.wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperDialog .1s ease-in-out}.componentNeighbor[_ngcontent-%COMP%]{display:none}"]})),n}(),lU=function(){return m(function e(n,t){y(this,e),h(this,"dialogComponentRef",void 0),h(this,"componentType",void 0),h(this,"dialogComponent",void 0),this.dialogComponentRef=n,this.componentType=t,this.dialogComponent=this.dialogComponentRef.instance,this.dialogComponent.componentType=t},[{key:"open",value:function(t){this.dialogComponent.open(t,this)}},{key:"close",value:function(){return this.dialogComponent.close()}},{key:"destroy",value:function(){this.dialogComponentRef.destroy()}}])}(),iu=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"rootViewContainerRef",void 0)},[{key:"createDialog",value:function(i){if(!this.rootViewContainerRef)return null;var a=this.rootViewContainerRef.createComponent(uU);return new lU(a,i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",ge({token:e,factory:e.\u0275fac,providedIn:"root"})),n}();function cU(e,n){if(1&e&&(b(0,"span"),S(1," von "),b(2,"span",7),S(3),E()()),2&e){var t=nn();P(3),tn(t.canvasElement.description[1]())}}var dU=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=w(this,r),"dialogService",void 0),h(a,"canvasElement",void 0),a.dialogService=i,a}return k(r,t),m(r,[{key:"elementCountStr",get:function(){var a=this.canvasElement.size;return 0===a?"Keine Elemente":1===a?"Ein Element":"".concat(a," Elemente")}}])}(ui);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(iu))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-dependency-point-element-formula"]],features:[ve],decls:10,vars:5,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[4,"ngIf"],[1,"elementCount"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"maths"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"app-color-circle",1),j("colorChange",function(o){return H(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return H(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),E(),b(2,"p",2),S(3),Ln(4,cU,4,1,"span",3),b(5,"span",4),S(6),E()(),b(7,"button",5),te("click",function(o){return i.threePointsClicked(o)}),b(8,"span",6),S(9,"more_vert"),E()()()),2&r&&(P(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(2),yr(" ",i.canvasElement.description[0],""),P(),Q("ngIf",void 0!==i.canvasElement.description[1]()),P(2),tn(i.elementCountStr))},dependencies:[co,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.elementCount[_ngcontent-%COMP%]{font-size:10pt;color:gray;margin-left:7px}']})),n}(),Pn=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"str",void 0),i.str=r,i.operation=t,i}return k(n,e),m(n,[{key:"operation",get:function(){return this.childOperations.getItem(0)},set:function(r){this.childOperations.setItem(0,r)}},{key:"simplify",value:function(){return this.operation=this.operation.simplify(),this}},{key:"toString",value:function(){return"".concat(this.str,"(").concat(this.operation.toString(),")")}}])}(Wn),vi=function(e){function n(){var t,r;y(this,n),h(r=w(this,n),"_summands",void 0);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r._summands=a,(t=r.childOperations).push.apply(t,a),r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var o,i=0,a=A(this._summands);try{for(a.s();!(o=a.n()).done;)i+=o.value.evaluate(r)}catch(u){a.e(u)}finally{a.f()}return i}},{key:"derive",value:function(r){return en(n,B(this._summands.map(function(i){return i.derive(r)})))}},{key:"summands",get:function(){return this._summands.slice()}},{key:"toString",value:function(){if(0==this._summands.length)return"0";for(var r="(".concat(this._summands[0].toString()),i=1;i<this._summands.length;i++)r+=" + ".concat(this._summands[i].toString());return r+")"}},{key:"simplify",value:function(){var r=0,i=this._summands.map(function(l){return l.simplify()}).filter(function(l){return!(l instanceof Ce&&(r+=l.constant,1))});if(0!=r&&(i=[new Ce(r)].concat(B(i))),0==i.length)return new Ce(0);if(1==i.length)return i[0];var s,a=[],o=A(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;u instanceof n?a.push.apply(a,B(u._summands)):a.push(u)}}catch(l){o.e(l)}finally{o.f()}return a.length!=i.length?en(n,a).simplify():en(n,B(i))}}])}(Wn),yo=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"minuend",void 0),h(i,"subtrahend",void 0),i.minuend=t,i.subtrahend=r,i.childOperations.push(i.minuend,i.subtrahend),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.minuend.evaluate(r)-this.subtrahend.evaluate(r)}},{key:"derive",value:function(r){return new n(this.minuend.derive(r),this.subtrahend.derive(r))}},{key:"toString",value:function(){return"(".concat(this.minuend.toString()," - ").concat(this.subtrahend.toString(),")")}},{key:"simplify",value:function(){var r=this.minuend.simplify(),i=this.subtrahend.simplify();if(i instanceof Ce){if(0==i.constant)return r;if(r instanceof Ce)return new Ce(r.constant-i.constant).simplify()}return r instanceof Ce&&0==r.constant?new Je(new Ce(-1),i).simplify():r instanceof vi?en(vi,B(r.summands).concat([new Je(new Ce(-1),i)])).simplify():i instanceof vi?new vi(r,en(vi,B(i.summands.map(function(a){return new Je(new Ce(-1),a)})))).simplify():new n(r,i)}}])}(Wn),Jw=function(e){function n(t){return y(this,n),w(this,n,[t,"ln"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.log(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Ji(this.operation.derive(r),this.operation)}},{key:"toString",value:function(){return"ln (".concat(this.operation.toString(),")")}},{key:"simplify",value:function(){var r=this.operation.simplify();if(r instanceof Ce){if(1==r.constant)return new Ce(0);if(r.constant==Math.E)return new Ce(1)}return new n(r)}}])}(Pn),Dr=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"base",void 0),h(i,"exponent",void 0),i.base=t,i.exponent=r,i.childOperations.push(i.base,i.exponent),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.pow(this.base.evaluate(r),this.exponent.evaluate(r))}},{key:"derive",value:function(r){return new Je(new n(this.base,this.exponent),new vi(new Je(this.exponent.derive(r),new Jw(this.base)),new Je(this.exponent,new Ji(this.base.derive(r),this.base))))}},{key:"toString",value:function(){return"((".concat(this.base.toString(),") ^ (").concat(this.exponent.toString(),"))")}},{key:"simplify",value:function(){var r=this.base.simplify(),i=this.exponent.simplify();if(i instanceof Ce){if(1==i.constant)return r;if(0==i.constant)return new Ce(1)}return r instanceof Ce&&1==r.constant?new Ce(1):r instanceof n?new n(r.base,new Je(r.exponent,i)).simplify():new n(r,i)}}])}(Wn),Ji=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"dividend",void 0),h(i,"divisor",void 0),i.dividend=t,i.divisor=r,i.childOperations.push(i.dividend,i.divisor),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.dividend.evaluate(r)/this.divisor.evaluate(r)}},{key:"derive",value:function(r){return new n(new yo(new Je(this.dividend.derive(r),this.divisor),new Je(this.dividend,this.divisor.derive(r))),new Dr(this.divisor,new Ce(2)))}},{key:"toString",value:function(){return"(".concat(this.dividend.toString()," / ").concat(this.divisor.toString(),")")}},{key:"simplify",value:function(){var r=this.dividend.simplify(),i=this.divisor.simplify();if(i instanceof Ce&&1==i.constant)return r;if(r instanceof Ce&&0==r.constant)return new Ce(0);if(r instanceof n)return new n(r.dividend,new Je(r.divisor,i)).simplify();if(i instanceof n)return new n(new Je(r,i.divisor),i.dividend).simplify();if(i instanceof Ft&&r instanceof Je)for(var a=r.factors,o=0;o<a.length;o++){var s=a[o];if(s instanceof Ft&&s.key===i.key)return a.splice(o,1),en(Je,B(a)).simplify();if(s instanceof Dr&&s.base instanceof Ft&&s.base.key===i.key)return a.splice(o,1,new Dr(s.base,new yo(s.exponent,new Ce(1)))),en(Je,B(a)).simplify()}if(i instanceof Dr&&i.base instanceof Ft&&r instanceof Je)for(var u=r.factors,l=0;l<u.length;l++){var c=u[l];if(c instanceof Ft&&c.key===i.base.key)return u.splice(l,1,new Dr(i.base,new yo(new Ce(1),i.exponent))),en(Je,B(u)).simplify();if(c instanceof Dr&&c.base instanceof Ft&&c.base.key===i.base.key)return u.splice(l,1,new Dr(c.base,new yo(c.exponent,i.exponent))),en(Je,B(u)).simplify()}return new n(r,i)}}])}(Wn),Je=function(e){function n(){var t,r;y(this,n),h(r=w(this,n),"_factors",void 0);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r._factors=a,(t=r.childOperations).push.apply(t,a),r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var o,i=1,a=A(this._factors);try{for(a.s();!(o=a.n()).done;)i*=o.value.evaluate(r)}catch(u){a.e(u)}finally{a.f()}return i}},{key:"derive",value:function(r){for(var i=this,a=[],o=function(l){var c=i._factors.map(function(d,f){return f==l?d.derive(r):d});a.push(en(n,B(c)))},s=0;s<this._factors.length;s++)o(s);return en(vi,a)}},{key:"factors",get:function(){return this._factors.slice()}},{key:"toString",value:function(){if(0==this._factors.length)return"1";for(var r="(".concat(this._factors[0].toString()),i=1;i<this._factors.length;i++)r+=" * ".concat(this._factors[i].toString());return r+")"}},{key:"simplify",value:function(){var r=1,i=this._factors.map(function(d){return d.simplify()}).filter(function(d){return!(d instanceof Ce&&(r*=d.constant,1))});if(1!==r&&(i=[new Ce(r)].concat(B(i))),jM(i,function(d){return d instanceof Ce&&0==d.constant}))return new Ce(0);if(0===i.length)return new Ce(1);if(1===i.length)return i[0];for(var a=0;a<i.length;a++){var o=i[a];if(o instanceof Ji)return i.splice(a,1,o.dividend),new Ji(en(n,B(i)),o.divisor).simplify()}var l,s=[],u=A(i);try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof n?s.push.apply(s,B(c._factors)):s.push(c)}}catch(d){u.e(d)}finally{u.f()}return s.length!==i.length?en(n,s).simplify():en(n,B(i))}}])}(Wn),ea=function(e){function n(t,r,i){var a;return y(this,n),h(a=w(this,n,[i,t]),"funcKey",void 0),h(a,"funcProvider",void 0),a.funcKey=t,a.funcProvider=r,a}return k(n,e),m(n,[{key:"derive",value:function(r){return new Je(this.operation.derive(r),new n(function fU(e){return e+"'"}(this.funcKey),this.funcProvider,this.operation))}},{key:"evaluate",value:function(r){var i=this.func;if(void 0===i)throw"Func doesn't exist!";return i.evaluate(this.operation.evaluate(r),function eH(e){return JSON.parse(JSON.stringify(e))}(r))}},{key:"func",get:function(){return this.funcProvider(this.funcKey)}}])}(Pn),ek="'";function ep(e){var n=[],t=[];if(e instanceof Ft&&n.push(e.key),e instanceof ea){var r,i=null===(r=e.func)||void 0===r?void 0:r.name;void 0!==i&&t.push(i)}return e.childOperations.forEach(function(a){var o,s,u=ep(a);(o=n).push.apply(o,B(u.variableNames)),(s=t).push.apply(s,B(u.externalFuncNames))}),n=GM(n),t=GM(t),{variableNames:n,externalFuncNames:t}}function nk(e){return $c(e,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}function $c(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof ho)return $c(e.operation,n);if(e instanceof ea&&(e.funcKey===n.name||t&&Qc(e.funcKey)===Qc(n.name)))return!0;var r=!1;if(e.childOperations.forEach(function(a){r=r||$c(a,n)}),e instanceof ea){var i=e.func;void 0!==i&&(r=r||$c(i,n))}return r}function Er(e,n){if(void 0===e)return!1;if(e instanceof ho)return Er(e.operation,n);if(e instanceof Ft&&e.key===n)return!0;var t=!1;return e.childOperations.forEach(function(r){t=t||Er(r,n)}),e instanceof ea&&(t=t||Er(e.func,n)),t}function Qc(e){if(e){for(var n=e;n.endsWith(ek);)n=n.substring(0,n.length-1);return n}}function Xc(e){for(var n=0,t=e;t.endsWith(ek);)t=t.substring(0,t.length-1),n++;return n}function au(e,n,t,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=(t+r)/2,l=(r-t)/2;if(i<=0)try{var c=[],d=e.evaluate(t,n),f=e.evaluate(r,n);if(!s&&0===d&&(!a||e.evaluate(t-l,n)*e.evaluate(t+l,n)<0)&&c.push(t),0===f&&(!a||e.evaluate(r-l,n)*e.evaluate(r+l,n)<0)&&c.push(r),d*f<0&&isFinite(d)&&isFinite(f))if(o){var v=function hU(e){try{var n=e.derive();return nk(n),n}catch{return}}(e);(!v||d*v.evaluate(t,n)<=0&&f*v.evaluate(r,n)>=0)&&c.push(u)}else c.push(u);return c}catch{return[]}return[].concat(B(au(e,n,t,u,i-1,a,o,s)),B(au(e,n,u,r,i-1,a,o,!0)))}function rk(e,n,t,r,i){return au(e.derive(),n,t,r,i,!0)}var _U=[10,10],CU=function(){return m(function e(n,t,r,i,a){y(this,e),h(this,"ctx",void 0),h(this,"transformations",void 0),h(this,"_variables",void 0),h(this,"selection",void 0),h(this,"config",void 0),this.ctx=n,this.transformations=t,this._variables=r,this.selection=i,this.config=a},[{key:"transformPointFromCanvasToField",value:function(t){return{x:t.x/this.transformations.zoom-this.transformations.translateX,y:-t.y/this.transformations.zoom-this.transformations.translateY}}},{key:"transformPointFromCanvasToFieldWithResolutionFactor",value:function(t){return this.transformPointFromCanvasToField({x:t.x/this.resolutionFactor,y:t.y/this.resolutionFactor})}},{key:"transformPointFromFieldToCanvas",value:function(t){return{x:(t.x+this.transformations.translateX)*this.transformations.zoom,y:-(t.y+this.transformations.translateY)*this.transformations.zoom}}},{key:"transformPointFromFieldToCanvasWithResolutionFactor",value:function(t){var r=this.transformPointFromFieldToCanvas(t);return{x:r.x*this.resolutionFactor,y:r.y*this.resolutionFactor}}},{key:"transformRectFromCanvasToField",value:function(t){var r=this.transformPointFromCanvasToField(t);return{x:r.x,y:r.y,width:t.width/this.transformations.zoom,height:-t.height/this.transformations.zoom}}},{key:"transformRectFromCanvasToFieldWithResolutionFactor",value:function(t){return this.transformRectFromCanvasToField({x:t.x/this.resolutionFactor,y:t.y/this.resolutionFactor,width:t.width/this.resolutionFactor,height:t.height/this.resolutionFactor})}},{key:"transformRectFromFieldToCanvas",value:function(t){var r=this.transformPointFromFieldToCanvas(t);return{x:r.x,y:r.y,width:t.width*this.transformations.zoom,height:-t.height*this.transformations.zoom}}},{key:"transformRectFromFieldToCanvasWithResolutionFactor",value:function(t){var r=this.transformRectFromFieldToCanvas(t);return{x:r.x*this.resolutionFactor,y:r.y*this.resolutionFactor,width:r.width*this.resolutionFactor,height:r.height*this.resolutionFactor}}},{key:"zoom",get:function(){return this.transformations.zoom}},{key:"step",get:function(){return 1/this.transformations.zoom}},{key:"range",get:function(){return this.transformRectFromCanvasToFieldWithResolutionFactor({x:0,y:0,width:this.ctx.canvas.width,height:this.ctx.canvas.height})}},{key:"resolutionFactor",get:function(){var t;return null!==(t=this.transformations.resolutionFactor)&&void 0!==t?t:1}},{key:"lineDash",get:function(){var t=this.resolutionFactor;return _U.map(function(r){return r*t})}},{key:"variables",get:function(){return re({},this._variables)}},{key:"getRightColor",value:function(t){var r;return void 0===(null===(r=this.config)||void 0===r?void 0:r.transformColor)?t:this.config.transformColor(t)}},{key:"drawPath",value:function(t,r,i,a,o){var s=this,u=t.map(function(f){return s.transformPointFromFieldToCanvasWithResolutionFactor(f)});if(this.ctx.beginPath(),this.ctx.lineWidth=r*this.resolutionFactor,this.ctx.strokeStyle=nt(this.getRightColor(i)),this.ctx.setLineDash(o?this.lineDash:[]),0!=u.length){var l=u[0];this.ctx.moveTo(l.x,l.y);for(var c=1;c<u.length;c++){var d=u[c];this.ctx.lineTo(d.x,d.y)}this.ctx.stroke(),a&&(this.ctx.fillStyle=nt(this.getRightColor(a)),this.ctx.fill()),this.ctx.closePath()}}},{key:"drawLine",value:function(t,r,i,a,o){this.drawPath([t,r],i,a,void 0,o)}},{key:"drawText",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sans-serif",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"start",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"alphabetic",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"inherit",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{r:0,g:0,b:0},c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:er,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3,f=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,g=this.transformPointFromFieldToCanvasWithResolutionFactor(r),p=this.resolutionFactor,_=this.ctx;this.ctx.setLineDash(f?this.lineDash:[]);for(var D=[],C="",M=0;M<t.length;M++)"_"===t.charAt(M)&&M+1<t.length&&!v?(D.push(C),C="",D.push(t.charAt(M+1)),M++):C+=t.charAt(M);""!==C&&D.push(C),_.textAlign=o,_.textBaseline=s,_.direction=u,_.fillStyle=nt(this.getRightColor(l)),_.strokeStyle=nt(this.getRightColor(c)),_.lineWidth=d*p;for(var O=g.x,V=0;V<D.length;V++){var F=D[V],W=g.y;V%2==0?_.font="".concat(i*p,"px ").concat(a):(_.font="".concat(3*i/4*p,"px ").concat(a),W+=i/3*p),_.strokeText(F,O,W),_.fillText(F,O,W),O+=_.measureText(F).width+1}}},{key:"measureText",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sans-serif",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"start",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"alphabetic",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"inherit",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,l=this.ctx;return l.font="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,"px ").concat(i),l.textAlign=a,l.textBaseline=o,l.direction=s,l.lineWidth=u,l.measureText(t)}},{key:"drawEllipse",value:function(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gn,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:er,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=this.resolutionFactor;this.ctx.setLineDash((arguments.length>7?arguments[7]:void 0)?this.lineDash:[]),this.ctx.lineWidth=u*c,this.ctx.strokeStyle=nt(this.getRightColor(s)),this.ctx.fillStyle=nt(this.getRightColor(o));var d=this.transformPointFromFieldToCanvasWithResolutionFactor(t),f=r*this.zoom*c,v=i*this.zoom*c;this.ctx.beginPath(),this.ctx.ellipse(d.x,d.y,f,v,a,0,2*Math.PI),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}},{key:"drawCircle",value:function(t,r){this.drawEllipse(t,r,r,0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gn,arguments.length>3&&void 0!==arguments[3]?arguments[3]:er,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5?arguments[5]:void 0)}},{key:"drawCircleSector",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gn,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:er,s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=this.resolutionFactor;this.ctx.lineWidth=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)*c,this.ctx.strokeStyle=nt(this.getRightColor(a)),this.ctx.fillStyle=nt(this.getRightColor(i));var d=this.transformPointFromFieldToCanvasWithResolutionFactor(t),f=r*this.zoom*c;this.ctx.setLineDash(l?this.lineDash:[]),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(d.x,d.y),this.ctx.arc(d.x,d.y,f,s,u),this.ctx.lineTo(d.x,d.y),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}},{key:"drawRect",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:er,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=this.resolutionFactor;this.ctx.setLineDash((arguments.length>4?arguments[4]:void 0)?this.lineDash:[]),this.ctx.lineWidth=a*s,this.ctx.strokeStyle=nt(this.getRightColor(i)),this.ctx.fillStyle=nt(this.getRightColor(r));var u=this.transformRectFromFieldToCanvasWithResolutionFactor(t);this.ctx.fillRect(u.x,u.y,u.width,u.height)}},{key:"drawImage",value:function(t,r,i,a){var o=this.transformPointFromFieldToCanvasWithResolutionFactor(r),u=this.resolutionFactor;this.ctx.drawImage(t,o.x,o.y,i*u,a*u)}}])}(),bU=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"draw",value:function(r){var i;if(void 0===(null===(i=r.config)||void 0===i?void 0:i.showGrid)||r.config.showGrid){var a,o,s,u,l=nr(r.range),c=99/r.zoom,f=Math.round(Math.log(c)/Math.log(2)+.5),v=Math.round(c/Math.pow(2,f)+.5)*Math.pow(2,f);if(0==v)return;for(var g=null===(a=null===(o=r.config)||void 0===o?void 0:o.showNumbers)||void 0===a||a,p=15/r.zoom,_=zM(l.y+p,-p,l.y+l.height-p),D=_==l.y+p,C=zM(l.x+p,-p,l.x+l.width-p),M=C==l.x+p,O="sans-serif",V=null!==(s=null===(u=r.config)||void 0===u?void 0:u.gridColor)&&void 0!==s?s:{r:100,g:100,b:100},F=l.x-l.x%(v/2);F<l.x+l.width;F+=v/2){var W=F%v==0;if(r.drawLine({x:F,y:l.y},{x:F,y:l.y+l.height},0===F?3:W?1:.5,V),0===F){var q=15/r.zoom,ce=.5/r.zoom;r.drawPath([{x:F+ce,y:l.y+l.height+3/r.zoom},{x:F-q/4+ce,y:l.y+l.height-q},{x:F+q/4+ce,y:l.y+l.height-q}],0,V,V)}else W&&g&&r.drawText(F.toLocaleString(),{x:F,y:_},15,O,"center",D?"bottom":"top")}for(var de=l.y-l.y%(v/2);de<l.y+l.height;de+=v/2){var be=de%v==0;if(r.drawLine({x:l.x,y:de},{x:l.x+l.width,y:de},0===de?3:be?1:.5,V),0===de){var Fe=15/r.zoom,rn=.5/r.zoom;r.drawPath([{x:l.x+l.width+3/r.zoom,y:de+rn},{x:l.x+l.width-Fe,y:de-Fe/4+rn},{x:l.x+l.width-Fe,y:de+Fe/4+rn}],0,V,V)}else be&&g&&r.drawText(de.toLocaleString(),{x:C,y:de},15,O,M?"left":"right","middle")}l.y<=-p&&l.y+l.height>=-p&&l.x<=-p&&l.x+l.width>=-p&&g&&r.drawText("0",{x:-p,y:-p},15,O,"right","top")}}}])}(RM),DU=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"value",void 0),h(i,"modulo",void 0),i.value=t,i.modulo=r,i.childOperations.push(i.value,i.modulo),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.value.evaluate(r)%this.modulo.evaluate(r)}},{key:"derive",value:function(){throw"not implemented yet"}},{key:"toString",value:function(){return"(".concat(this.value.toString()," % ").concat(this.modulo.toString(),")")}},{key:"simplify",value:function(){return new n(this.value.simplify(),this.modulo.simplify())}}])}(Wn),np=function(e){function n(t){return y(this,n),w(this,n,[t,"cos"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.cos(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Je(new Ce(-1),this.operation.derive(r),new ik(this.operation))}},{key:"toString",value:function(){return"cos(".concat(this.operation.toString(),")")}}])}(Pn),ik=function(e){function n(t){return y(this,n),w(this,n,[t,"sin"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.sin(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Je(this.operation.derive(r),new np(this.operation))}}])}(Pn),EU=function(e){function n(t){return y(this,n),w(this,n,[t,"tan"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.tan(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Ji(this.operation.derive(r),new Dr(new np(this.operation),new Ce(2)))}}])}(Pn),MU=function(e){function n(t){return y(this,n),w(this,n,[t,"sec"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.cos(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),wU=function(e){function n(t){return y(this,n),w(this,n,[t,"csc"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.sin(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),kU=function(e){function n(t){return y(this,n),w(this,n,[t,"cot"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.tan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),SU=function(e){function n(t){return y(this,n),w(this,n,[t,"asin"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.asin(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),IU=function(e){function n(t){return y(this,n),w(this,n,[t,"acos"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.acos(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),TU=function(e){function n(t){return y(this,n),w(this,n,[t,"atan"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.atan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),PU=function(e){function n(t){return y(this,n),w(this,n,[t,"asec"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.acos(1/this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),OU=function(e){function n(t){return y(this,n),w(this,n,[t,"acsc"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.asin(1/this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),AU=function(e){function n(t){return y(this,n),w(this,n,[t,"acot"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.PI/2-Math.atan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Pn),xU=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"base",void 0),h(i,"exponent",void 0),i.base=t,i.exponent=r,i.childOperations.push(i.base,i.exponent),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.pow(this.base.evaluate(r),1/this.exponent.evaluate(r))}},{key:"derive",value:function(r){return new Dr(this.base,new Ji(new Ce(1),this.exponent)).derive(r)}},{key:"toString",value:function(){return"((".concat(this.base.toString(),") ^ (1 / (").concat(this.exponent.toString(),")))")}},{key:"simplify",value:function(){var r=this.base.simplify(),i=this.exponent.simplify();return i instanceof Ce&&1==i.constant?r:r instanceof Ce&&1==r.constant?new Ce(1):new n(r,i)}}])}(Wn),NU=function(e){function n(){return y(this,n),w(this,n,[Math.PI])}return k(n,e),m(n,[{key:"toString",value:function(){return"pi"}}])}(Ce),FU=function(e){function n(){return y(this,n),w(this,n,[Math.E])}return k(n,e),m(n,[{key:"toString",value:function(){return"e"}}])}(Ce),RU=function(e){function n(t){return y(this,n),w(this,n,[t,"abs"])}return k(n,e),m(n,[{key:"derive",value:function(){throw"not implemented yet"}},{key:"evaluate",value:function(r){return Math.abs(this.operation.evaluate(r))}}])}(Pn),LU=function(e){function n(t){return y(this,n),w(this,n,[t,"sgn"])}return k(n,e),m(n,[{key:"derive",value:function(){throw"not implemented yet"}},{key:"evaluate",value:function(r){return Math.sign(this.operation.evaluate(r))}}])}(Pn),ak=function(e){function n(t){return y(this,n),w(this,n,[t,"cosh"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.cosh(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Je(this.operation.derive(r),new ok(this.operation))}}])}(Pn),ok=function(e){function n(t){return y(this,n),w(this,n,[t,"sinh"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.sinh(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Je(this.operation.derive(r),new ak(this.operation))}}])}(Pn),sk=[["^",function(e,n){return new Dr(e,n)}]],uk=[["*",function(e,n){return new Je(e,n)}],["/",function(e,n){return new Ji(e,n)}],["%",function(e,n){return new DU(e,n)}]],lk=[["+",function(e,n){return new vi(e,n)}],["-",function(e,n){return new yo(e,n)}]],ck=[].concat(sk,uk,lk),VU=sk.map(function(e){return e[0]}),BU=uk.map(function(e){return e[0]}),HU=lk.map(function(e){return e[0]}),_o=ck.map(function(e){return e[0]}),UU=[["sin",function(e){return new ik(e)}],["asin",function(e){return new SU(e)}],["csc",function(e){return new wU(e)}],["acsc",function(e){return new OU(e)}],["cos",function(e){return new np(e)}],["acos",function(e){return new IU(e)}],["sec",function(e){return new MU(e)}],["asec",function(e){return new PU(e)}],["tan",function(e){return new EU(e)}],["atan",function(e){return new TU(e)}],["cot",function(e){return new kU(e)}],["acot",function(e){return new AU(e)}],["ln",function(e){return new Jw(e)}],["sqrt",function(e){return new xU(e,new Ce(2))}],["abs",function(e){return new RU(e)}],["sgn",function(e){return new LU(e)}],["sinh",function(e){return new ok(e)}],["cosh",function(e){return new ak(e)}]],zU=[["pi",function(){return new NU}],["e",function(){return new FU}]],ou=[" ","\t","\r","\n"],hi=["(","["],Jc=[")","]"],ed=[].concat(hi,Jc),dk=[].concat(ou,B(_o),B(ed)),jU=[["**","^"],["\xb2","^2"],["\xb3","^3"]],GU=[["arcsin","asin"],["arccos","acos"],["arctan","atan"],["arcsec","asec"],["arccsc","acsc"],["arccot","acot"],["sign","sgn"]],WU=[["\u03c0","pi"]],Gr="syntax error",fk=function(){return m(function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];y(this,e),h(this,"str",void 0),h(this,"funcProvider",void 0),h(this,"changingVariables",void 0),h(this,"formattedString",void 0),h(this,"stringSplit",void 0),h(this,"parseTree",void 0),h(this,"operation",void 0),this.str=n,this.funcProvider=t,this.changingVariables=r},[{key:"formatString",value:function(){if(!this.formattedString){this.formattedString=this.str.trim();for(var t=0,r=jU;t<r.length;t++){var i=r[t];this.formattedString=q5(this.formattedString,i[0],i[1])}}return this.formattedString}},{key:"splitString",value:function(){if(!this.stringSplit){if(!this.formattedString)throw"string not formatted yet";this.stringSplit=[];for(var t="",r=0;r<this.formattedString.length;r++){var i=!1,a=this.formattedString.charAt(r);(-1!==[].concat(B(_o),ou,B(ed)).indexOf(a)||-1!==[].concat(B(_o),B(ed)).indexOf(t)||Xs(t)&&!Xs(t+a))&&(i=!0),i&&""!==t&&(this.stringSplit.push(t),t=""),-1===ou.indexOf(a)&&(t+=a)}""!=t&&this.stringSplit.push(t);for(var o=0;o<this.stringSplit.length-1;o++)o+1==this.stringSplit.length||qn(hi,this.stringSplit[o])||qn(Jc,this.stringSplit[o+1])||qn(hi,this.stringSplit[o+1])&&!qn(Jc,this.stringSplit[o])&&!Xs(this.stringSplit[o])||qn(_o,this.stringSplit[o])||qn(_o,this.stringSplit[o+1])||Xs(this.stringSplit[o+1])?"+"!=this.stringSplit[o]||0!=o&&!qn(hi,this.stringSplit[o-1])?"-"==this.stringSplit[o]&&(0==o||qn(hi,this.stringSplit[o-1]))&&this.stringSplit.splice(o,1,"-1","*"):(this.stringSplit.splice(o,1),o--):this.stringSplit.splice(o+1,0,"*")}return this.stringSplit}},{key:"parseToTree",value:function(){if(!this.parseTree){if(!this.stringSplit)throw"string not split yet";this.parseTree=function r(i){if(0==i.length)throw Gr;if(1==i.length){var a=i[0];if("string"==typeof a){if(!qn(dk,a))return{value:WM(a,WU)};throw Gr}return a}for(var o=B(i);qn.apply(void 0,[o].concat(hi));){var s=Ig.apply(void 0,[o].concat(hi)),u=Q5(o,hi,Jc,s,Gr)+1,l=o.splice(s,u-s);o.splice(s,0,r(l.splice(1,u-s-2)))}for(var c=function(V,F){return"string"==typeof V&&"string"!=typeof F&&!qn(dk,V)};K5(o,c);){var d=Y5(o,c);if(d==o.length-1)throw Gr;var f=WM(o[d],GU),v=o[d+1];if(qn(ed,v)||qn(_o,v))throw Gr;o.splice(d,2,{value:f,first:r([v])})}for(var g=0,p=[VU,BU,HU];g<p.length;g++)for(var _=p[g];qn.apply(void 0,[o].concat(B(_)));){var D=Ig.apply(void 0,[o].concat(B(_)));if(-1==D||0==D||D==o.length-1)throw Gr;var C=o.splice(D-1,3),M={value:C[1],first:r([C[0]]),second:r([C[2]])};o.splice(D-1,0,M)}if(1==o.length){var I=o[0];if("string"!=typeof I)return I}throw Gr}(this.stringSplit)}return this.parseTree}},{key:"createOperation",value:function(){var t=this;if(!this.operation){if(!this.parseTree)throw"tree not created yet";this.operation=function i(a){if(void 0!==a.first&&void 0!==a.second){var s,o=A(ck);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(a.value===u[0])return u[1](i(a.first),i(a.second))}}catch(D){o.e(D)}finally{o.f()}}else{if(void 0!==a.first&&void 0===a.second){for(var l=0,c=UU;l<c.length;l++){var d=c[l];if(a.value===d[0])return d[1](i(a.first))}return new ea(a.value,t.funcProvider,i(a.first))}if(void 0===a.first&&void 0===a.second){if(Xs(a.value))return new Ce(HM(a.value));for(var f=0;f<t.changingVariables.length;f++)if(t.changingVariables[f]===a.value)return new Ft(a.value,f);for(var g=0,p=zU;g<p.length;g++){var _=p[g];if(a.value===_[0])return _[1]()}return new Ft(a.value)}}throw Gr}(this.parseTree)}return this.operation}},{key:"parse",value:function(){return this.formatString(),this.splitString(),this.parseToTree(),this.createOperation()}}])}(),vk="couldn't split the function",tp=["="],qU=function(){return m(function e(n,t){y(this,e),h(this,"str",void 0),h(this,"funcProvider",void 0),h(this,"funcMetaData",void 0),h(this,"funcOperation",void 0),h(this,"func",void 0),this.str=n,this.funcProvider=t},[{key:"splitString",value:function(){if(!this.funcOperation||!this.funcMetaData)if(Fc.apply(void 0,[this.str].concat(tp))){var t=UM.apply(void 0,[this.str].concat(tp)),r=this.str.slice(0,t).trim(),i=this.str.slice(t+1,this.str.length);if(Fc.apply(void 0,[i].concat(tp))||0===r.length)throw vk;if(this.funcOperation=i,"y"==r)this.funcMetaData={variable:"x"};else{var a=r.split(/(\(|\))/).map(function(o){return o.trim()}).filter(function(o){return""!==o});if(4!==a.length||Fc.apply(void 0,[a[0]].concat(B(ou)))||Fc.apply(void 0,[a[2]].concat(B(ou)))||"("!=a[1]||")"!=a[3]||0===a[0].length||-1==="abcdefghijklmnopqrstuvwxyz_".indexOf(a[0].charAt(0).toLowerCase()))throw vk;this.funcMetaData={name:a[0],variable:a[2]}}}else this.funcOperation=this.str,this.funcMetaData={variable:"x"};return[this.funcMetaData,this.funcOperation]}},{key:"parseOperation",value:function(){if(this.funcOperation&&this.funcMetaData){if(!this.func){var r=new fk(this.funcOperation,this.funcProvider,[this.funcMetaData.variable]).parse();this.func=new ho(r,this.funcMetaData.name,this.funcMetaData.variable)}return this.func}throw"func not split yet!"}},{key:"parse",value:function(){return this.splitString(),this.parseOperation()}}])}(),rp=function(){return m(function e(){y(this,e),h(this,"dict",void 0);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];this.dict=t},[{key:"getItem",value:function(t){var i,r=A(this.dict);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a[0]===t)return a[1]}}catch(o){r.e(o)}finally{r.f()}}},{key:"setItem",value:function(t,r){for(var i=0;i<this.dict.length;i++)if(this.dict[i][0]===t)return void(this.dict[i][1]=r);this.dict.push([t,r])}},{key:"delItem",value:function(t){var r=this.indexOfKey(t);return r>=0&&(this.dict.splice(r,1),!0)}},{key:"hasKey",value:function(t){var i,r=A(this.dict);try{for(r.s();!(i=r.n()).done;)if(i.value[0]===t)return!0}catch(o){r.e(o)}finally{r.f()}return!1}},{key:"indexOfKey",value:function(t){for(var r=0;r<this.dict.length;r++)if(this.dict[r][0]===t)return r;return-1}},{key:"keys",get:function(){return this.dict.map(function(t){return t[0]})}},{key:"values",get:function(){return this.dict.map(function(t){return t[1]})}},{key:"empty",value:function(){this.dict=[]}},{key:"size",get:function(){return this.dict.length}}])}(),ZU=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"_canvasElement",void 0),h(i,"min",-5),h(i,"max",5),i._canvasElement=new Co("",0),i}return k(r,t),m(r,[{key:"ngOnInit",value:function(){}},{key:"canvasElement",get:function(){return this._canvasElement},set:function(a){var o=this;this._canvasElement=a,a.onChange.addListener(function(){o.setMinMax(o.canvasElement.value)})}},{key:"setMinMax",value:function(a){this.min=Math.min(a,this.min),this.max=Math.max(a,this.max)}}])}(ui);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-variable-formula"]],features:[ve],decls:8,vars:5,consts:[[1,"text"],[1,"span"],["type","number","step","any",1,"input",3,"ngModelChange","ngModel"],[1,"iconButton","floatRight",3,"click"],[1,"material-symbols-outlined"],["type","range","step","any",1,"slider",3,"ngModelChange","ngModel","min","max"]],template:function(r,i){1&r&&(b(0,"span",0),S(1),E(),b(2,"span",1)(3,"input",2),j("ngModelChange",function(o){return H(i.canvasElement.value,o)||(i.canvasElement.value=o),o}),E()(),b(4,"button",3),te("click",function(o){return i.threePointsClicked(o)}),b(5,"span",4),S(6,"more_vert"),E()(),b(7,"input",5),j("ngModelChange",function(o){return H(i.canvasElement.value,o)||(i.canvasElement.value=o),o}),E()),2&r&&(P(),yr("",i.canvasElement.key," = "),P(2),z("ngModel",i.canvasElement.value),P(4),z("ngModel",i.canvasElement.value),Q("min",i.min)("max",i.max))},dependencies:[ln,kt,jr,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.text[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{height:30px;font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.text[_ngcontent-%COMP%]{user-select:none}.span[_ngcontent-%COMP%]{--padding: 7px;--border: 1px;display:inline-flex;overflow:hidden;right:0;margin-right:0;padding-right:calc(2 * (var(--padding) + var(--border)))}.input[_ngcontent-%COMP%]{width:200px}.slider[_ngcontent-%COMP%]{width:100%;margin-top:16px}']})),n}(),Co=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"componentType",ZU),h(i,"formulaDialogType",void 0),h(i,"_value",void 0),h(i,"_key",void 0),i._key=t,i._value=r,i.visible=!1,i}return k(n,e),m(n,[{key:"draw",value:function(){}},{key:"value",get:function(){return this._value},set:function(r){this._value=r,this.onChange.emit(r)}},{key:"key",get:function(){return this._key},set:function(r){this._key=r,this.onChange.emit(r)}},{key:"serialize",value:function(){return{data:{value:this.value,key:this.key},style:{color:this.color,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a=i.data;this.color=i.style.color,this.visible=i.style.visible,this.key=a.key,this.value=a.value}}],[{key:"getDefaultInstance",value:function(){return new n("",0)}}])}(qi),YU=function(){return m(function e(){y(this,e),h(this,"_ts",[]),h(this,"onSelectionChanged",new dt)},[{key:"empty",value:function(){var t=this._ts;this._ts=[],this.onSelectionChanged.emit(t)}},{key:"set",value:function(t){this._ts=void 0!==t?[t]:[],this.onSelectionChanged.emit(t)}},{key:"add",value:function(t){return void 0!==t&&!this.contains(t)&&(this._ts.push(t),this.onSelectionChanged.emit(t),!0)}},{key:"remove",value:function(t){if(void 0===t)return!1;var r=this._ts.indexOf(t);return r>=0&&(this._ts.splice(r,1),this.onSelectionChanged.emit(t),!0)}},{key:"contains",value:function(t){return void 0===t||-1!==this._ts.indexOf(t)}},{key:"alternate",value:function(t){return void 0!==t&&(this.contains(t)?(this.remove(t),!1):(this.add(t),!0))}},{key:"toArray",value:function(){return this._ts.slice()}},{key:"size",get:function(){return this._ts.length}}])}(),KU=[{r:18,g:128,b:234},{r:214,g:78,b:78},{r:78,g:194,b:98},{r:88,g:88,b:224},{r:255,g:148,b:148},{r:255,g:234,b:38},{r:224,g:48,b:224},{r:48,g:224,b:224},{r:227,g:131,b:30},{r:180,g:180,b:30},{r:113,g:35,b:103}],$U=m(function e(){y(this,e),h(this,"transformInvisibleColor",void 0)}),Mr=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){r.translateX+=(o.x-a.x)/s.pointerCount,r.translateY+=(o.y-a.y)/s.pointerCount}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey)}}])}($U);function nd(e,n){if(void 0!==e&&void 0!==n){var t=n.y-e.y,r=e.x-n.x;return{a:t,b:r,c:t*e.x+r*e.y}}}function ip(e){if(void 0!==e&&(0!==e.a||0!==e.b))return 0===e.a?[{x:0,y:e.c/e.b},{x:1,y:e.c/e.b}]:[{x:e.c/e.a,y:0},{x:(e.c-e.b)/e.a,y:1}]}function ap(e,n){var t=e.b,r=-e.a;return{a:t,b:r,c:t*n.x+r*n.y}}function su(e,n){if(void 0!==e&&void 0!==n)return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}function op(e,n){var t,r=nd(e,n);return void 0===r||void 0===e||void 0===n?[void 0,void 0]:null!==(t=ip(ap(r,su(e,n))))&&void 0!==t?t:[void 0,void 0]}function hk(e,n,t){if(void 0===e||void 0===n||void 0===t)return[[void 0,void 0],[void 0,void 0]];var i=su(e,n),a=sp(n,t,i,si(i,e));return[[e,a[0]],[e,a[1]]]}function bo(e,n){var t=e.b*n.a-e.a*n.b;if(0!==t){var i=(e.c*n.a-e.a*n.c)/t;return{y:i,x:0!==e.a?(e.c-e.b*i)/e.a:(n.c-n.b*i)/n.a}}}function td(e,n,t){if(0===e.a){if(0===e.b)return[void 0,void 0];var a=td({a:e.b,b:e.a,c:e.c},{x:n.y,y:n.x},t);return[void 0===a[0]?void 0:{x:a[0].y,y:a[0].x},void 0===a[1]?void 0:{x:a[1].y,y:a[1].x}]}var o=Math.pow(e.b/e.a,2)+1,s=-2*e.c*e.b/Math.pow(e.a,2)-2*n.y+2*e.b*n.x/e.a,u=Math.pow(e.c,2)/Math.pow(e.a,2)+Math.pow(n.x,2)+Math.pow(n.y,2)-Math.pow(t,2)-2*e.c*n.x/e.a,l=Math.pow(s,2)-4*o*u;if(l<0)return[void 0,void 0];if(0===l){var c=-s/(2*o);return[{x:(e.c-e.b*c)/e.a,y:c},void 0]}var d=(-s-Math.sqrt(l))/(2*o),f=(-s+Math.sqrt(l))/(2*o);return[{x:(e.c-e.b*d)/e.a,y:d},{x:(e.c-e.b*f)/e.a,y:f}]}function sp(e,n,t,r){var i=function(M){var I=Math.pow(n,2)-Math.pow(M,2);return I<0?[void 0,void 0]:0===I?[{x:0,y:M},void 0]:[{x:Math.sqrt(I),y:M},{x:-Math.sqrt(I),y:M}]},a=function(M){return void 0===M?Number.MAX_VALUE:Math.abs(Math.pow(M.x-t.x,2)+Math.pow(M.y-t.y,2)-r*r)};if(0!==e.x||0!==e.y)return sp({x:0,y:0},n,{x:t.x-e.x,y:t.y-e.y},r).map(function(C){if(void 0!==C)return{x:C.x+e.x,y:C.y+e.y}});var s=t.x,u=t.y,l=r*r-n*n-s*s-u*u,c=s*s*4+u*u*4,d=4*l*u,f=s*s*-4*(n*n)+l*l,v=Math.pow(d,2)-4*c*f;if(0===c||v<0)return[void 0,void 0];if(0===v)return[i(-d/(2*c)).sort(function(C,M){return a(C)-a(M)})[0],void 0];var D=[].concat(B(i((-d+Math.sqrt(v))/(2*c))),B(i((-d-Math.sqrt(v))/(2*c)))).sort(function(C,M){return a(C)-a(M)});return[D[0],D[1]]}function gi(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}var nz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"abcForm",get:function(){var a=this.dialogData.getABCFormLine();if(void 0===a)return"kann nicht konstruiert werden";var o=Math.pow(10,2),s=Math.round(a.a*o)/o,u=Math.round(a.b*o)/o,l=Math.round(a.c*o)/o;return"".concat(s.toLocaleString()," \xb7 x + ").concat(u.toLocaleString()," \xb7 y = ").concat(l.toLocaleString())}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-abstract-line-element"]],features:[ve],decls:29,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"p",1),S(2,"Allgemeine Geradenform:"),E(),b(3,"p",2),Ae(4,"span"),b(5,"input",3),j("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),E(),S(6," : "),E(),b(7,"p",4)(8,"span"),S(9),E()(),b(10,"div",5)(11,"input",6),j("ngModelChange",function(o){return H(i.dashed,o)||(i.dashed=o),o}),E(),b(12,"label",7),S(13,"Gestrichelt anzeigen"),E()(),b(14,"div",8)(15,"input",9),j("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),E(),b(16,"label",10),S(17,"Label als LaTeX rendern"),E()(),b(18,"div",11)(19,"input",12),j("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),E(),b(20,"label",13),S(21,"Label schwarz anzeigen"),E()(),b(22,"div",14)(23,"label",15),S(24,"Labelgr\xf6\xdfe:"),E(),Ae(25,"br"),b(26,"input",16),j("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),E()(),b(27,"button",17),te("click",function(){return i.dialog.close()}),S(28,"Schlie\xdfen"),E()()),2&r&&(P(5),z("ngModel",i.name),P(4),tn(i.abcForm),P(2),z("ngModel",i.dashed),P(4),z("ngModel",i.latex),P(4),z("ngModel",i.displayBlack),P(7),z("ngModel",i.labelSize))},dependencies:[ln,jr,zr,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),wr=function(e){function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:0,g:0,b:0},o=arguments.length>3?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return y(this,n),h(i=w(this,n,[r]),"lineWidth",void 0),h(i,"formulaDialogType",nz),h(i,"_pointsProvider",void 0),h(i,"_tempPoints",void 0),h(i,"resetTempListener",function(){i._tempPoints=void 0}),i.lineWidth=u,i.configuration.formula=o,i.configuration.showLabel=l,i._color=a,i._visible=s,i._pointsProvider=t,i}return k(n,e),m(n,[{key:"point1",get:function(){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[0]}},{key:"point2",get:function(){return null==this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[1]}},{key:"pointsProvider",get:function(){return this._pointsProvider},set:function(r){this._pointsProvider=r,this.onChange.emit(r)}},{key:"getDistance",value:function(r,i){var a=this.getClosestPointOnLineToPoint(r);if(void 0!==a)return si(r,a)}},{key:"getABCFormLine",value:function(){return nd(this.point1,this.point2)}},{key:"getClosestPointOnLineToPoint",value:function(r){var i=this.getABCFormLine();if(void 0!==i)return bo(i,ap(i,r))}}])}(Kc),uu=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"canvasElement",void 0),i.canvasElement=new vt(function(){return[void 0,void 0]},[],function(){return{subType:"",els:[]}}),i}return k(r,t),m(r,[{key:"ngOnInit",value:function(){}},{key:"labelString",get:function(){var a=this.canvasElement.configuration.formula,o=this.canvasElement.configuration.label;return void 0!==o&&void 0!==a?a+" "+o:void 0!==o?o:void 0!==a?a:" "}}])}(ui);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-geometric-formula"]],features:[ve],decls:8,vars:3,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"app-color-circle",1),j("colorChange",function(o){return H(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return H(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),E(),b(2,"p",2)(3,"span"),S(4),E()(),b(5,"button",3),te("click",function(o){return i.threePointsClicked(o)}),b(6,"span",4),S(7,"more_vert"),E()()()),2&r&&(P(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(3),tn(i.labelString))},dependencies:[Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;user-select:none;height:var(--buttonSize);line-height:var(--buttonSize)}']})),n}(),ft=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=w(this,n,[t,r,o,s,u,l,c]),"dataProvider",void 0),h(a,"componentType",uu),a.dataProvider=i,a}return k(n,e),m(n,[{key:"draw",value:function(r){var i=this.point1,a=this.point2;void 0!==i&&void 0!==a&&!BM(i,a)&&(-1!==r.selection.indexOf(this)&&r.drawPath([i,a],this.lineWidth*na,wt(this._color,vu),void 0,this.configuration.dashed),r.drawPath([i,a],this.lineWidth,this.color,void 0,this.configuration.dashed))}},{key:"getDistance",value:function(r,i){var a=this.getClosestPointOnLineToPoint(r),o=this.point1,s=this.point2;if(void 0!==a&&void 0!==o&&void 0!==s)return yn(a.x,o.x,s.x)&&yn(a.y,o.y,s.y)?si(r,a):Math.min(si(o,a),si(s,a))}},{key:"getPositionForLabel",value:function(r){var i=r.zoom,o=su(this.point1,this.point2);if(void 0!==o)return{x:o.x+15/i,y:o.y+15/i}}},{key:"serialize",value:function(){return{data:this.dataProvider(),style:{color:this.color,visible:this.visible,size:this.lineWidth}}}},{key:"loadFrom",value:function(r,i){var a;this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(a=i.style.size)&&void 0!==a?a:this.lineWidth;var o=i.data,s=r[o.p1],u=r[o.p2];s instanceof he&&u instanceof he&&(this.pointsProvider=function(){return[s.point,u.point]},this.dataProvider=function(){return{p1:s.id,p2:u.id}},this.addDependency(s,u))}}],[{key:"getDefaultInstance",value:function(){return new n(function(){return[void 0,void 0]},[],function(){return{p1:-1,p2:-1}})}}])}(wr);function tz(e,n){if(1&e&&(b(0,"table")(1,"tr")(2,"td")(3,"p",15),S(4,"Radius:"),E()(),b(5,"td")(6,"p",16)(7,"span"),S(8),E()()()(),b(9,"tr")(10,"td")(11,"p",15),S(12,"Mittelpunkt:"),E()(),b(13,"td")(14,"p",16),S(15),E()()()()),2&e){var t=nn();P(8),tn(t.radius),P(7),Fs("( ",t.pointX," | ",t.pointY," )")}}function rz(e,n){1&e&&(b(0,"div")(1,"p",16),S(2,"Kreis konnte nicht konstruiert werden."),E()())}var Do=Math.pow(10,2),iz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"isDefined",value:function(){return void 0!==this.dialogData.point&&void 0!==this.dialogData.radius}},{key:"radius",get:function(){return(Math.round(this.dialogData.radius*Do)/Do).toLocaleString()}},{key:"pointX",get:function(){return(Math.round(this.dialogData.point.x*Do)/Do).toLocaleString()}},{key:"pointY",get:function(){return(Math.round(this.dialogData.point.y*Do)/Do).toLocaleString()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-circle-element"]],features:[ve],decls:24,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],[4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"paragraph"],[1,"paragraph","maths","centered"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"p",1),S(2,"Kreis:"),E(),b(3,"p",2),Ae(4,"span"),b(5,"input",3),j("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),E(),S(6," : "),E(),b(7,"div",4)(8,"input",5),j("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),E(),b(9,"label",6),S(10,"Label als LaTeX rendern"),E()(),b(11,"div",7)(12,"input",8),j("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),E(),b(13,"label",9),S(14,"Label schwarz anzeigen"),E()(),b(15,"div",10)(16,"label",11),S(17,"Labelgr\xf6\xdfe:"),E(),Ae(18,"br"),b(19,"input",12),j("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),E()(),Ln(20,tz,16,3,"table",13)(21,rz,3,0,"div",13),b(22,"button",14),te("click",function(){return i.dialog.close()}),S(23,"Schlie\xdfen"),E()()),2&r&&(P(5),z("ngModel",i.name),P(3),z("ngModel",i.latex),P(4),z("ngModel",i.displayBlack),P(7),z("ngModel",i.labelSize),P(),Q("ngIf",i.isDefined()),P(),Q("ngIf",!i.isDefined()))},dependencies:[co,ln,jr,zr,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}td[_ngcontent-%COMP%]{padding-left:16px;padding-top:7px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),St=function(e){function n(t,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{r:0,g:0,b:0},u=arguments.length>5?arguments[5]:void 0,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:3,d=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return y(this,n),h(o=w(this,n,[i]),"dataProvider",void 0),h(o,"lineWidth",void 0),h(o,"componentType",uu),h(o,"formulaDialogType",iz),h(o,"_pointProvider",void 0),h(o,"_tempPoint",void 0),h(o,"_radiusProvider",void 0),h(o,"_tempRadius",void 0),h(o,"resetTempListener",function(){o._tempPoint=void 0,o._tempRadius=void 0}),o.dataProvider=a,o.lineWidth=c,o.configuration.formula=u,o.configuration.showLabel=d,o._color=s,o._visible=l,o._pointProvider=t,o._radiusProvider=r,o}return k(n,e),m(n,[{key:"point",get:function(){return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),this._tempPoint}},{key:"pointProvider",get:function(){return this._pointProvider},set:function(r){this._pointProvider=r,this.onChange.emit(r)}},{key:"radius",get:function(){return void 0===this._tempRadius&&(this._tempRadius=this._radiusProvider()),this._tempRadius}},{key:"radiusProvider",get:function(){return this._radiusProvider},set:function(r){this._radiusProvider=r,this.onChange.emit(r)}},{key:"draw",value:function(r){var i=this.point,a=this.radius;void 0!==i&&void 0!==a&&(-1!==r.selection.indexOf(this)&&r.drawCircle(i,a,er,wt(this._color,vu),this.lineWidth*na,this.configuration.dashed),r.drawCircle(i,a,er,this.color,this.lineWidth,this.configuration.dashed))}},{key:"getPositionForLabel",value:function(r){var i=15/r.zoom,a=this.point,o=this.radius;if(void 0!==a&&void 0!==o)return{x:a.x+o/Math.SQRT2+i,y:a.y+o/Math.SQRT2+i}}},{key:"getDistance",value:function(r,i){var a=this.point,o=this.radius;if(void 0!==a&&void 0!==o)return Math.abs(si(a,r)-o)}},{key:"serialize",value:function(){return{style:{color:this.color,size:this.lineWidth,visible:this.visible},data:this.dataProvider()}}},{key:"loadFrom",value:function(r,i){if(void 0!==i.data.center&&void 0!==i.data.scdPoint){var a,o=r[i.data.center],s=r[i.data.scdPoint];o instanceof he&&s instanceof he&&(this.pointProvider=function(){return o.point},this.radiusProvider=function(){return function G5(e,n){if(void 0!==e&&void 0!==n)return si(e,n)}(o.point,s.point)},this.dataProvider=function(){return{center:o.id,scdPoint:s.id}},this.addDependency(o,s)),this.color=i.style.color,this.lineWidth=null!==(a=i.style.size)&&void 0!==a?a:this.lineWidth,this.visible=i.style.visible}}}],[{key:"getDefaultInstance",value:function(){return new n(function(){},function(){},[],function(){return{center:-1,scdPoint:-1}})}}])}(Kc),gk="angle_bisector",up="bisection",pk="connection",mk="orthogonal",yk="parallel",lp="tangens",vt=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=w(this,n,[t,r,o,s,u,l,c]),"subTypeAndDataProvider",void 0),h(a,"componentType",uu),a.subTypeAndDataProvider=i,a}return k(n,e),m(n,[{key:"draw",value:function(r){var i=this.point1,a=this.point2;if(void 0!==i&&void 0!==a&&!BM(i,a)){var u,l,o=r.range,s=this.getABCFormLine();0===s.a?(u={x:o.x,y:s.c/s.b},l={x:o.x+o.width,y:s.c/s.b}):s.a>s.b||0===s.b?(u={x:(s.c-s.b*o.y)/s.a,y:o.y},l={x:(s.c-s.b*(o.y+o.height))/s.a,y:o.y+o.height}):(u={x:o.x,y:(s.c-s.a*o.x)/s.b},l={x:o.x+o.width,y:(s.c-s.a*(o.x+o.width))/s.b}),-1!==r.selection.indexOf(this)&&r.drawPath([u,l],this.lineWidth*na,wt(this._color,vu),void 0,this.configuration.dashed),r.drawPath([u,l],this.lineWidth,this.color,void 0,this.configuration.dashed)}}},{key:"getPositionForLabel",value:function(r){var i=nr(r.range),a=50/r.zoom,o=this.getABCFormLine();if(void 0!==o){var s={x:i.x+a,y:i.y+a,width:i.width-2*a,height:i.height-2*a},u=bo(o,{a:0,b:1,c:s.y}),l=bo(o,{a:0,b:1,c:s.y+s.height}),c=void 0!==l&&yn(l.x,s.x,s.x+s.width),d=bo(o,{a:1,b:0,c:s.x+s.width}),f=void 0!==u&&yn(u.x,s.x,s.x+s.width);if(void 0!==d&&yn(d.y,s.y,s.y+s.height))return d;if(c&&f)return l.x>u.x?l:u;if(c)return l;if(f)return u}}},{key:"serialize",value:function(){var r=this.subTypeAndDataProvider();return{data:{els:r.els,index:r.index},subType:r.subType,style:{color:this.color,size:this.lineWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o,c,v,s=i.data,u=[],l=A(s.els);try{for(l.s();!(c=l.n()).done;){var f=r[c.value];void 0!==f&&this.addDependency(f),u.push(f)}}catch(p){l.e(p)}finally{l.f()}if(this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.size)&&void 0!==o?o:this.lineWidth,i.subType===gk&&3===u.length&&u[0]instanceof he&&u[1]instanceof he&&u[2]instanceof he)v=n.createAngleBisector(u[0],u[1],u[2]);else if(i.subType===up)if(1===u.length&&u[0]instanceof ft)v=n.createBisectionByLineSegment(u[0]);else{if(!(2===u.length&&u[0]instanceof he&&u[1]instanceof he))return;v=n.createBisectionByPoints(u[0],u[1])}else if(i.subType===pk&&2===u.length&&u[0]instanceof he&&u[1]instanceof he)v=n.createConnection(u[0],u[1]);else if(i.subType===mk&&2===u.length&&u[0]instanceof he&&u[1]instanceof wr)v=n.createOrthogonal(u[0],u[1]);else if(i.subType===yk&&2===u.length&&u[0]instanceof he&&u[1]instanceof wr)v=n.createParallel(u[0],u[1]);else{if(!(i.subType===lp&&2===u.length&&u[0]instanceof he&&u[1]instanceof St))return;var g;v=n.createTangens(u[0],u[1])[null!==(g=s.index)&&void 0!==g?g:0]}this.pointsProvider=v.pointsProvider,this.subTypeAndDataProvider=v.subTypeAndDataProvider}}],[{key:"createAngleBisector",value:function(r,i,a){return new n(function(){return function ez(e,n,t){var r=nd(n,e),i=nd(t,e);if(void 0===r||void 0===e||void 0===n||void 0===t||void 0===i)return[void 0,void 0];var a=n.y-e.y,o=t.y-e.y,s=Math.sign(a*o),u=(s=0===s?Math.sign(a+o):s)>0?0:1;return op(td(r,e,1)[0],td(i,e,1)[u])}(r.point,i.point,a.point)},[r,i,a],function(){return{subType:gk,els:[r.id,i.id,a.id]}},Vn,"Winkelhalbierende")}},{key:"createBisectionByPoints",value:function(r,i){return new n(function(){return op(r.point,i.point)},[r,i],function(){return{subType:up,els:[r.id,i.id]}},Vn,"Mittelsenkrechte")}},{key:"createBisectionByLineSegment",value:function(r){return new n(function(){return function JU(e){return op(e.point1,e.point2)}(r)},[r],function(){return{subType:up,els:[r.id]}},Vn,"Mittelsenkrechte")}},{key:"createConnection",value:function(r,i){return new n(function(){return[r.point,i.point]},[r,i],function(){return{subType:pk,els:[r.id,i.id]}},Vn,"Verbindungsgerade")}},{key:"createOrthogonal",value:function(r,i){return new n(function(){var a,o=i.getABCFormLine(),s=r.point;if(void 0===o||void 0===s)return[void 0,void 0];var u=ap(o,s);if(i instanceof ft){var l=bo(o,u),c=i.point1,d=i.point2;if(void 0===l||void 0===c||void 0===d)return[void 0,void 0];if(!yn(l.x,c.x,d.x)||!yn(l.y,c.y,d.y))return[void 0,void 0]}return null!==(a=ip(u))&&void 0!==a?a:[void 0,void 0]},[r,i],function(){return{subType:mk,els:[r.id,i.id]}},Vn,"Lot")}},{key:"createParallel",value:function(r,i){return new n(function(){return function QU(e,n){var t;return void 0===e||void 0===n?[void 0,void 0]:null!==(t=ip({a:e.a,b:e.b,c:e.a*n.x+e.b*n.y}))&&void 0!==t?t:[void 0,void 0]}(i.getABCFormLine(),r.point)},[r,i],function(){return{subType:yk,els:[r.id,i.id]}},Vn,"Parallele")}},{key:"createTangens",value:function(r,i){return[new n(function(){return hk(r.point,i.point,i.radius)[0]},[r,i],function(){return{subType:lp,els:[r.id,i.id],index:0}},Vn,"Tangente"),new n(function(){return hk(r.point,i.point,i.radius)[1]},[r,i],function(){return{subType:lp,els:[r.id,i.id],index:1}},Vn,"Tangente")]}},{key:"getDefaultInstance",value:function(){return new n(function(){return[void 0,void 0]},[],function(){return{subType:"",els:[]}})}}])}(wr),az=function(n){return{noMargin:n}},rd=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"_from",0),h(this,"fromChange",new gn),h(this,"_to",0),h(this,"toChange",new gn),h(this,"noMargin",!1)},[{key:"fromForTemplate",get:function(){return this._from},set:function(i){this._from=i,this.fromChange.emit(i)}},{key:"from",set:function(i){this._from=i}},{key:"toForTemplate",get:function(){return this._to},set:function(i){this._to=i,this.toChange.emit(i)}},{key:"to",set:function(i){this._to=i}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-interval"]],inputs:{from:"from",to:"to",noMargin:"noMargin"},outputs:{fromChange:"fromChange",toChange:"toChange"},decls:6,vars:5,consts:[[1,"maths",3,"ngClass"],["step","any","type","number","title","Von (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"],["step","any","type","number","title","Bis (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"]],template:function(r,i){1&r&&(b(0,"p",0),S(1," ["),b(2,"input",1),j("ngModelChange",function(o){return H(i.fromForTemplate,o)||(i.fromForTemplate=o),o}),E(),S(3,"; "),b(4,"input",2),j("ngModelChange",function(o){return H(i.toForTemplate,o)||(i.toForTemplate=o),o}),E(),S(5,"]\n"),E()),2&r&&(Q("ngClass",Sn(3,az,i.noMargin)),P(2),z("ngModel",i.fromForTemplate),P(2),z("ngModel",i.toForTemplate))},dependencies:[Xt,ln,kt,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.noMargin[_ngcontent-%COMP%]{margin:0}']})),n}();function oz(e,n){if(1&e&&(b(0,"span"),S(1," von "),b(2,"span",12),S(3),E()()),2&e){var t=nn(2);P(3),tn(t.canvasElement.graph.func.name)}}function sz(e,n){if(1&e&&(b(0,"p",10),S(1,"Bestimmtes Integral "),Ln(2,oz,4,1,"span",11),E()),2&e){var t=nn();P(2),Q("ngIf",null==t.canvasElement.graph.func?null:t.canvasElement.graph.func.name)}}function uz(e,n){if(1&e&&(b(0,"span"),S(1," von "),b(2,"span",12),S(3),E()()),2&e){var t=nn(2);P(3),Fs("",t.canvasElement.graph.func.name,", ",t.canvasElement.secondGraph.func.name,"")}}function lz(e,n){if(1&e&&(b(0,"p",10),S(1,"Fl\xe4che zwischen Graphen "),Ln(2,uz,4,2,"span",11),E()),2&e){var t=nn();P(2),Q("ngIf",(null==t.canvasElement.graph.func?null:t.canvasElement.graph.func.name)&&(null==t.canvasElement.secondGraph.func?null:t.canvasElement.secondGraph.func.name))}}var cz=function(){var e,n=function(t){function r(){var i;y(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return h(i=w(this,r,[].concat(o)),"canvasElement",void 0),i}return k(r,t),m(r)}(ui);return e=n,h(n,"\u0275fac",function(){var t;return function(i){return(t||(t=Fn(e)))(i||e)}}()),h(n,"\u0275cmp",we({type:e,selectors:[["app-definite-integral-formula"]],features:[ve],decls:17,vars:9,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],["class","paragraph description",4,"ngIf"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","intervalParagraph"],[1,"interval",3,"fromChange","toChange","noMargin","from","to"],[1,"paragraph"],["min","0","step","any","type","number","title","Schrittweite der Integralbestimmung",1,"input",3,"ngModelChange","ngModel"],["title","N\xe4herungsweise bestimmter Wert",1,"maths"],[1,"paragraph","description"],[4,"ngIf"],[1,"maths"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"app-color-circle",1),j("colorChange",function(o){return H(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return H(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),E(),Ln(2,sz,3,1,"p",2)(3,lz,3,1,"p",2),b(4,"button",3),te("click",function(o){return i.threePointsClicked(o)}),b(5,"span",4),S(6,"more_vert"),E()(),b(7,"p",5),S(8,"Intervall: "),b(9,"app-interval",6),j("fromChange",function(o){return H(i.canvasElement.from,o)||(i.canvasElement.from=o),o})("toChange",function(o){return H(i.canvasElement.to,o)||(i.canvasElement.to=o),o}),E()(),b(10,"p",7),S(11,"Schrittweite: "),b(12,"input",8),j("ngModelChange",function(o){return H(i.canvasElement.h,o)||(i.canvasElement.h=o),o}),E()(),b(13,"p",7),S(14,"\u2192 "),b(15,"span",9),S(16),E()()()),2&r&&(P(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(),Q("ngIf",void 0===i.canvasElement.secondGraph),P(),Q("ngIf",void 0!==i.canvasElement.secondGraph),P(6),Q("noMargin",!0),z("from",i.canvasElement.from)("to",i.canvasElement.to),P(3),z("ngModel",i.canvasElement.h),P(4),tn(i.canvasElement.value.toLocaleString()))},dependencies:[co,ln,kt,_n,Yc,cn,Qi,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.interval[_ngcontent-%COMP%]{display:inline-block}.intervalParagraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}.input[_ngcontent-%COMP%]{width:75px;display:unset}']})),n}(),id=function(e){function n(t,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gn,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:er,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return y(this,n),h(o=w(this,n),"componentType",cz),h(o,"formulaDialogType",void 0),h(o,"_value",0),h(o,"rects",[]),h(o,"_graph",void 0),h(o,"_secondGraph",void 0),h(o,"_stroke",void 0),h(o,"_strokeWidth",void 0),h(o,"_h",1),h(o,"_from",void 0),h(o,"_to",void 0),o._graph=t,o._secondGraph=r,o._color=u,o._stroke=l,o._strokeWidth=c,o._visible=d,o._h=s,o._from=i,o._to=a,o}return k(n,e),m(n,[{key:"value",get:function(){return this._value},set:function(r){this._value=r}},{key:"graph",get:function(){return this._graph},set:function(r){this._graph=r,this.onChange.emit(r)}},{key:"secondGraph",get:function(){return this._secondGraph},set:function(r){this._secondGraph=r,this.onChange.emit(r)}},{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(r)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(r)}},{key:"h",get:function(){return this._h},set:function(r){this._h=this.correctH(r),this.onChange.emit(this._h)}},{key:"correctH",value:function(r){return r<0?r=-r:r||(r=1),r}},{key:"from",get:function(){return this._from},set:function(r){this._from=Math.min(r,this.to),this.onChange.emit(this._from)}},{key:"to",get:function(){return this._to},set:function(r){this._to=Math.max(r,this.from),this.onChange.emit(this._to)}},{key:"reload",value:function(r){for(var i=this,a=[],o=0,s=function(d,f){if(0!==f&&void 0!==i.graph.func)try{var v,g,p=i.graph.func.evaluate(d,r),_=null!==(v=null===(g=i.secondGraph)||void 0===g||null===(g=g.func)||void 0===g?void 0:g.evaluate(d,r))&&void 0!==v?v:0;isFinite(p)&&isFinite(_)&&(o+=f*(p-_),a.push({x:d,y:_,width:f,height:p-_}))}catch{}},u=this.from;u<=this.to-this.h;u+=this.h)s(u,this.h);var l=this.to-u;s(this.to-l,l),a=a.map(function(c){return nr(c)}),this.rects=a,this.value=o}},{key:"draw",value:function(r){this.reload(r.variables);var u,i=-1!==r.selection.indexOf(this),a=r.range,o=wt(this.color,i?.5:.3),s=A(this.rects);try{for(s.s();!(u=s.n()).done;){var c=j5(u.value,a);c&&r.drawRect(c,o,this.stroke)}}catch(d){s.e(d)}finally{s.f()}}},{key:"getDistance",value:function(r,i){return Math.min.apply(Math,B(this.rects.map(function(a){return VM(r,a)})))}},{key:"serialize",value:function(){return{data:{graph:this.graph.id,secondGraph:void 0===this.secondGraph?void 0:this.secondGraph.id,h:this.h,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a,o;if(void 0!==i.data.graph&&void 0!==i.data.h&&void 0!==i.data.from&&void 0!==i.data.to){var s=r[i.data.graph],u=r[i.data.secondGraph];s instanceof rt&&(this.graph=s),(u instanceof rt||void 0===u)&&(this.secondGraph=u),"number"==typeof i.data.h&&(this.h=i.data.h),"number"==typeof i.data.from&&(this.from=i.data.from),"number"==typeof i.data.to&&(this.to=i.data.to)}this.stroke=null!==(a=i.style.stroke)&&void 0!==a?a:er,this.strokeWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:0,this.color=i.style.color,this.visible=i.style.visible}}],[{key:"getDefaultInstance",value:function(){return new n(void 0,void 0,0,0)}}])}(qi),Eo="intersection_point",cp="middle_point",Bn=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gn,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(a=w(this,n,[{x:0,y:0},o,!0,r,u]),"subTypeAndDataProvider",void 0),h(a,"_pointProvider",void 0),h(a,"_tempPoint",void 0),h(a,"resetTempListener",function(){a._tempPoint=void 0}),a.subTypeAndDataProvider=i,a._pointProvider=t,a}return k(n,e),m(n,[{key:"x",get:function(){var r;return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),null===(r=this._tempPoint)||void 0===r?void 0:r.x}},{key:"y",get:function(){var r;return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),null===(r=this._tempPoint)||void 0===r?void 0:r.y}},{key:"pointProvider",get:function(){return this._pointProvider},set:function(r){this._pointProvider=r,this.onChange.emit(r)}},{key:"serialize",value:function(){var r=this.subTypeAndDataProvider();return{data:{el1:r.el1,el2:r.el2,index:r.index},subType:r.subType,style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data,s=r[o.el1],u=void 0===o.el2?void 0:r[o.el2];if(void 0!==s&&this.addDependency(s),void 0!==u&&this.addDependency(u),this.loadStyle(i.style),i.subType===cp){if(s instanceof he&&u instanceof he){var l=n.createMiddlePointByPoints(s,u);this.pointProvider=l.pointProvider,this.subTypeAndDataProvider=l.subTypeAndDataProvider}else if(s instanceof ft){var c=n.createMiddlePointByLineSegment(s);this.pointProvider=c.pointProvider,this.subTypeAndDataProvider=c.subTypeAndDataProvider}}else if(i.subType===Eo&&(s instanceof wr||s instanceof St)&&(u instanceof wr||u instanceof St)){var d,f=n.createIntersectionPoints(s,u)[null!==(d=o.index)&&void 0!==d?d:0];this.pointProvider=f.pointProvider,this.subTypeAndDataProvider=f.subTypeAndDataProvider}}}],[{key:"createMiddlePointByPoints",value:function(r,i){return new n(function(){return su(r.point,i.point)},[r,i],function(){return{subType:cp,el1:r.id,el2:i.id}},Vn)}},{key:"createMiddlePointByLineSegment",value:function(r){return new n(function(){return function XU(e){return su(e.point1,e.point2)}(r)},[r],function(){return{subType:cp,el1:r.id}},Vn)}},{key:"createIntersectionPoints",value:function(r,i){if(r instanceof wr&&i instanceof wr)return[new n(function(){var u=r.getABCFormLine(),l=i.getABCFormLine();if(void 0!==u&&void 0!==l){var c=bo(u,l);if(void 0!==c){if(r instanceof ft){var d=r.point1,f=r.point2;if(void 0===d||void 0===f||!yn(c.x,d.x,f.x)||!yn(c.y,d.y,f.y))return}if(i instanceof ft){var v=i.point1,g=i.point2;if(void 0===v||void 0===g||!yn(c.x,v.x,g.x)||!yn(c.y,v.y,g.y))return}return c}}},[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id}},Vn)];if(r instanceof St&&i instanceof wr){var a=r;r=i,i=a}if(r instanceof wr&&i instanceof St){var o=function(l){return function(){var c=r.getABCFormLine(),d=i.point,f=i.radius;if(void 0!==c&&void 0!==d&&void 0!==f){var v=td(c,d,f)[l];if(void 0!==v){if(r instanceof ft){var g=r.point1,p=r.point2;return void 0===g||void 0===p?void 0:yn(v.x,g.x,p.x)&&yn(v.y,g.y,p.y)?v:void 0}return v}}}};return[new n(o(0),[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id,index:0}},Vn),new n(o(1),[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id,index:1}},Vn)]}if(r instanceof St&&i instanceof St){var s=function(l){return function(){var c=r.point,d=r.radius,f=i.point,v=i.radius;if(void 0!==c&&void 0!==d&&void 0!==f&&void 0!==v)return sp(c,d,f,v)[l]}};return[new n(s(0),[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id,index:0}},Vn),new n(s(1),[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id,index:1}},Vn)]}return[]}},{key:"getDefaultInstance",value:function(){return new n(function(){},[],function(){return{subType:"",el1:-1}})}}])}(he),dz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"angle",get:function(){return(Math.floor(1e3*this.dialogData.angle)/1e3).toLocaleString()}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-angle-element"]],features:[ve],decls:34,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],[1,"rangeDiv","sizeDiv"],["for","si"],["id","si","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"p",1),S(2,"Winkel:"),E(),b(3,"p",2),Ae(4,"span"),b(5,"input",3),j("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),E(),S(6," : "),E(),b(7,"p",4)(8,"span"),S(9),E()(),b(10,"div",5)(11,"input",6),j("ngModelChange",function(o){return H(i.dashed,o)||(i.dashed=o),o}),E(),b(12,"label",7),S(13,"Gestrichelt anzeigen"),E()(),b(14,"div",8)(15,"input",9),j("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),E(),b(16,"label",10),S(17,"Label als LaTeX rendern"),E()(),b(18,"div",11)(19,"input",12),j("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),E(),b(20,"label",13),S(21,"Label schwarz anzeigen"),E()(),b(22,"div",14)(23,"label",15),S(24,"Labelgr\xf6\xdfe:"),E(),Ae(25,"br"),b(26,"input",16),j("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),E()(),b(27,"div",17)(28,"label",18),S(29,"Darstellungsgr\xf6\xdfe:"),E(),Ae(30,"br"),b(31,"input",19),j("ngModelChange",function(o){return H(i.dialogData.size,o)||(i.dialogData.size=o),o}),E()(),b(32,"button",20),te("click",function(){return i.dialog.close()}),S(33,"Schlie\xdfen"),E()()),2&r&&(P(5),z("ngModel",i.name),P(4),yr("",i.angle,"\xb0"),P(2),z("ngModel",i.dashed),P(4),z("ngModel",i.latex),P(4),z("ngModel",i.displayBlack),P(7),z("ngModel",i.labelSize),P(5),z("ngModel",i.dialogData.size))},dependencies:[ln,jr,zr,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{width:100%}']})),n}(),lu=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=w(this,n),"_size",void 0),h(r,"_lineWidth",void 0),h(r,"componentType",uu),h(r,"formulaDialogType",dz),h(r,"_points",void 0),r._size=o,r._lineWidth=s,r._color=i,r._visible=a,r._points=t,r.configuration.formula="Winkel",r.configuration.showLabel=u,r}return k(n,e),m(n,[{key:"points",get:function(){return this._points.slice()},set:function(r){this._points=r.slice(),this.onChange.emit()}},{key:"size",get:function(){return this._size},set:function(r){this._size=r,this.onChange.emit(r)}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(r){this._lineWidth=r,this.onChange.emit(r)}},{key:"angle",get:function(){if(3!==this.points.length)return Number.NaN;var r=this.points[0].point,i=this.points[1].point,a=this.points[2].point;if(r&&i&&a){var o={x:r.x-i.x,y:r.y-i.y},s={x:a.x-i.x,y:a.y-i.y},u={x:0,y:0},l=(o.x*s.x+o.y*s.y)/(gi(u,o)*gi(u,s));return Math.acos(l)/Math.PI*180}return Number.NaN}},{key:"angles",get:function(){if(3===this._points.length){var r=this._points[0].point,i=this._points[1].point,a=this._points[2].point;if(void 0!==r&&void 0!==i&&void 0!==a){var o={x:1,y:0},s={x:0,y:0},l=function(p,_){return Math.acos(function(p,_){return p.x*_.x+p.y*_.y}(p,_)/gi(s,p)/gi(s,_))},d={x:a.x-i.x,y:a.y-i.y},f=l(o,{x:r.x-i.x,y:r.y-i.y}),v=l(o,d);return r.y>i.y&&(f=-f),a.y>i.y&&(v=-v),[f,v]}}}},{key:"serialize",value:function(){return{data:{points:this.points.map(function(r){return r.id})},style:{color:this.color,visible:this.visible,size:this.size,strokeWidth:this.lineWidth}}}},{key:"loadFrom",value:function(r,i,a){var o,s;this.points=i.data.points.map(function(l){return r[l]}).filter(function(l){return l instanceof he}),this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:this.lineWidth,this.size=null!==(s=i.style.size)&&void 0!==s?s:this.size}},{key:"draw",value:function(r){var i=this.angles,a=this._points;if(i&&3===a.length){var o=a[1].point;void 0!==o&&(r.drawCircleSector(o,this.size/r.zoom,wt(this.color,.3),this.color,this.lineWidth,i[1],i[0],this.configuration.dashed),-1!==r.selection.indexOf(this)&&r.drawCircleSector(o,this.size/r.zoom,er,wt(this.color,.3),this.lineWidth*na,i[1],i[0],this.configuration.dashed))}}},{key:"getPositionForLabel",value:function(r){if(3===this._points.length){var a=this._points[0].point,o=this._points[1].point,s=this._points[2].point;if(void 0!==a&&void 0!==o&&void 0!==s){var u={x:a.x-o.x,y:a.y-o.y},l={x:s.x-o.x,y:s.y-o.y},c={x:u.x+l.x,y:u.y+l.y},d=this.size/r.zoom/2/gi({x:0,y:0},c),f={x:c.x*d,y:c.y*d};return{x:f.x+o.x,y:f.y+o.y}}}}},{key:"getDistance",value:function(r,i){var a=this.size/i.zoom;if(3===this._points.length){var o=this._points[0].point,s=this._points[1].point,u=this._points[2].point;if(void 0!==o&&void 0!==s&&void 0!==u){var l={x:1,y:0},c={x:0,y:0},f=function(I,O){return Math.acos(function(I,O){return I.x*O.x+I.y*O.y}(I,O)/gi(c,I)/gi(c,O))},g={x:u.x-s.x,y:u.y-s.y},p=f(l,{x:o.x-s.x,y:o.y-s.y}),_=f(l,g),D={x:r.x-s.x,y:r.y-s.y},C=f(l,D);if(o.y>s.y&&(p=-p+2*Math.PI),u.y>s.y&&(_=-_+2*Math.PI),r.y>s.y&&(C=-C+2*Math.PI),gi(c,D)<=a&&(_<C&&p>C||_>C&&p>C&&_>p||p<C&&_<C&&_>p))return 0}}return Number.MAX_VALUE}}],[{key:"getDefaultInstance",value:function(){return new n([])}}])}(qi),_k=function(n){return{error:n}},fz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"canvasElement",void 0),i.canvasElement=cu.getDefaultInstance(),i}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}},{key:"errorMessageX",get:function(){return this.canvasElement.xErrorText}},{key:"errorMessageY",get:function(){return this.canvasElement.yErrorText}}])}(ui);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-compiled-point-formula"]],features:[ve],decls:15,vars:13,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){var a,o;1&r&&(b(0,"div",0)(1,"app-color-circle",1),j("colorChange",function(u){return H(i.canvasElement.color,u)||(i.canvasElement.color=u),u})("visibleChange",function(u){return H(i.canvasElement.visible,u)||(i.canvasElement.visible=u),u}),E(),b(2,"div")(3,"p",2),Ae(4,"span"),S(5),b(6,"span")(7,"input",3),j("ngModelChange",function(u){return H(i.canvasElement.xText,u)||(i.canvasElement.xText=u),u}),E()(),S(8," | "),b(9,"span")(10,"input",3),j("ngModelChange",function(u){return H(i.canvasElement.yText,u)||(i.canvasElement.yText=u),u}),E()(),S(11," ) "),E()(),b(12,"button",4),te("click",function(u){return i.threePointsClicked(u)}),b(13,"span",5),S(14,"more_vert"),E()()()),2&r&&(P(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(4),yr(" ",i.name,"( "),P(2),Q("ngClass",Sn(9,_k,void 0!==i.errorMessageX))("title",null!==(a=i.errorMessageX)&&void 0!==a?a:""),z("ngModel",i.canvasElement.xText),P(3),Q("ngClass",Sn(11,_k,void 0!==i.errorMessageY))("title",null!==(o=i.errorMessageY)&&void 0!==o?o:""),z("ngModel",i.canvasElement.yText))},dependencies:[Xt,ln,_n,cn,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:100px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}input.error[_ngcontent-%COMP%]{background:#fcc!important}']})),n}(),cu=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn,a=arguments.length>2?arguments[2]:void 0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return y(this,n),h(r=w(this,n,[null,[],null,i,a,o]),"parseAndValidateProvider",void 0),h(r,"componentType",fz),h(r,"_xText","0"),h(r,"_xOperation",void 0),h(r,"_xErrorText",void 0),h(r,"_yText","0"),h(r,"_yOperation",void 0),h(r,"_yErrorText",void 0),h(r,"_tempVariables",void 0),h(r,"evaluate",function(){if((r.error||void 0===r._xOperation||void 0===r._yOperation)&&r.reparse(),!r.error&&void 0!==r._xOperation&&void 0!==r._yOperation)try{return{x:r._xOperation.evaluate(r._tempVariables),y:r._yOperation.evaluate(r._tempVariables)}}catch{return}}),h(r,"resetTempListener",function(s){var u;r._tempPoint=void 0,void 0!==s&&(r._tempVariables=null!==(u=s.variables)&&void 0!==u?u:{})}),r.parseAndValidateProvider=t,r._pointProvider=r.evaluate,r}return k(n,e),m(n,[{key:"xText",get:function(){return this._xText},set:function(r){this._xText=r,this.reparseX(),this.onChange.emit(r)}},{key:"yText",get:function(){return this._yText},set:function(r){this._yText=r,this.reparseY(),this.onChange.emit(r)}},{key:"xErrorText",get:function(){return this._xErrorText}},{key:"xError",get:function(){return void 0!==this._xErrorText}},{key:"yErrorText",get:function(){return this._yErrorText}},{key:"yError",get:function(){return void 0!==this._yErrorText}},{key:"error",get:function(){return this.yError||this.xError}},{key:"xOperation",get:function(){return this._xOperation}},{key:"yOperation",get:function(){return this._yOperation}},{key:"reparseX",value:function(){var r=this.parseAndValidateProvider(this._xText);return r instanceof Wn?(this._xOperation=r,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=r,!1)}},{key:"reparseY",value:function(){var r=this.parseAndValidateProvider(this._yText);return r instanceof Wn?(this._yOperation=r,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=r,!1)}},{key:"reparse",value:function(){var r=this.reparseX(),i=this.reparseY();return r&&i}},{key:"serialize",value:function(){return{data:{xText:this.xText,yText:this.yText},style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data;this.loadStyle(i.style),this._xText=o.xText,this._yText=o.yText}},{key:"draw",value:function(r){Ye(Oe(n.prototype),"draw",this).call(this,r)}}],[{key:"getDefaultInstance",value:function(){return new n(function(){})}},{key:"getDefaultInstanceWithDrawerService",value:function(r){return new n(function(i){return r.parseAndValidateOperation(i)})}}])}(Bn),ad=function(n){return{error:n}},vz=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=w(this,r),"drawerService",void 0),h(a,"canvasElement",void 0),a.drawerService=i,a.canvasElement=du.getDefaultInstance(i),a}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?" "+this.canvasElement.configuration.name:""}},{key:"contextMenu",get:function(){var a=this;return{elements:function(){return[{header:"Duplizieren",icon:"content_copy",disabled:a.canvasElement.error,click:function(){a.duplicate()},title:"Diese Funktion duplizieren."}]},additionalEvent:this.threePointsClickedEvent}}},{key:"duplicate",value:function(){var a=this.canvasElement.clone();this.drawerService.addCanvasElements(a)}},{key:"errorMessageX",get:function(){return this.canvasElement.xErrorText}},{key:"errorMessageY",get:function(){return this.canvasElement.yErrorText}},{key:"errorMessageBottom",get:function(){return this.canvasElement.bottomErrorText}},{key:"errorMessageTop",get:function(){return this.canvasElement.topErrorText}}])}(ui);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-curve-formula"]],features:[ve],decls:52,vars:25,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph","description"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"alignEnd","paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],["autocomplete","off","type","text","step","any",1,"input","parameter",3,"ngModelChange","ngModel"],["autocomplete","off","type","number","step","any",1,"input","steps",3,"ngModelChange","ngModel"]],template:function(r,i){var a,o,s,u;1&r&&(b(0,"div",0)(1,"app-color-circle",1),j("colorChange",function(c){return H(i.canvasElement.color,c)||(i.canvasElement.color=c),c})("visibleChange",function(c){return H(i.canvasElement.visible,c)||(i.canvasElement.visible=c),c}),E(),b(2,"div")(3,"p",2),Ae(4,"span"),S(5),E(),b(6,"button",3),te("click",function(c){return i.threePointsClicked(c)}),b(7,"span",4),S(8,"more_vert"),E()(),b(9,"table")(10,"tr")(11,"td")(12,"p",5),S(13,"x = "),E()(),b(14,"td")(15,"span")(16,"input",6),j("ngModelChange",function(c){return H(i.canvasElement.xText,c)||(i.canvasElement.xText=c),c}),E()()()(),b(17,"tr")(18,"td")(19,"p",5),S(20,"y = "),E()(),b(21,"td")(22,"span")(23,"input",6),j("ngModelChange",function(c){return H(i.canvasElement.yText,c)||(i.canvasElement.yText=c),c}),E()()()(),b(24,"tr")(25,"td")(26,"p",5),S(27,"Parameter: "),E()(),b(28,"td")(29,"span")(30,"input",7),j("ngModelChange",function(c){return H(i.canvasElement.parameter,c)||(i.canvasElement.parameter=c),c}),E()()()(),b(31,"tr")(32,"td")(33,"p",5),S(34,"Schritte: "),E()(),b(35,"td")(36,"span")(37,"input",8),j("ngModelChange",function(c){return H(i.canvasElement.steps,c)||(i.canvasElement.steps=c),c}),E()()()(),b(38,"tr")(39,"td")(40,"p",5),S(41,"Untere Grenze: "),E()(),b(42,"td")(43,"span")(44,"input",6),j("ngModelChange",function(c){return H(i.canvasElement.bottomText,c)||(i.canvasElement.bottomText=c),c}),E()()()(),b(45,"tr")(46,"td")(47,"p",5),S(48,"Obere Grenze: "),E()(),b(49,"td")(50,"span")(51,"input",6),j("ngModelChange",function(c){return H(i.canvasElement.topText,c)||(i.canvasElement.topText=c),c}),E()()()()()()()),2&r&&(P(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(4),yr(" Kurve",i.name,": "),P(11),Q("ngClass",Sn(17,ad,void 0!==i.errorMessageX))("title",null!==(a=i.errorMessageX)&&void 0!==a?a:""),z("ngModel",i.canvasElement.xText),P(7),Q("ngClass",Sn(19,ad,void 0!==i.errorMessageY))("title",null!==(o=i.errorMessageY)&&void 0!==o?o:""),z("ngModel",i.canvasElement.yText),P(7),z("ngModel",i.canvasElement.parameter),P(7),z("ngModel",i.canvasElement.steps),P(7),Q("ngClass",Sn(21,ad,void 0!==i.errorMessageBottom))("title",null!==(s=i.errorMessageBottom)&&void 0!==s?s:""),z("ngModel",i.canvasElement.bottomText),P(7),Q("ngClass",Sn(23,ad,void 0!==i.errorMessageTop))("title",null!==(u=i.errorMessageTop)&&void 0!==u?u:""),z("ngModel",i.canvasElement.topText))},dependencies:[Xt,ln,kt,_n,cn,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.input[_ngcontent-%COMP%]{width:150px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none;margin-bottom:0}.alignEnd[_ngcontent-%COMP%]{text-align:end}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}input.error[_ngcontent-%COMP%]{background:#fcc!important}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}']})),n}(),hz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-curve-element"]],features:[ve],decls:26,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"p",1),S(2,"Kurve:"),E(),b(3,"p",2),Ae(4,"span"),b(5,"input",3),j("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),E(),S(6," : "),E(),b(7,"div",4)(8,"input",5),j("ngModelChange",function(o){return H(i.dashed,o)||(i.dashed=o),o}),E(),b(9,"label",6),S(10,"Gestrichelt anzeigen"),E()(),b(11,"div",7)(12,"input",8),j("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),E(),b(13,"label",9),S(14,"Label als LaTeX rendern"),E()(),b(15,"div",10)(16,"input",11),j("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),E(),b(17,"label",12),S(18,"Label schwarz anzeigen"),E()(),b(19,"div",13)(20,"label",14),S(21,"Labelgr\xf6\xdfe:"),E(),Ae(22,"br"),b(23,"input",15),j("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),E()(),b(24,"button",16),te("click",function(){return i.dialog.close()}),S(25,"Schlie\xdfen"),E()()),2&r&&(P(5),z("ngModel",i.name),P(3),z("ngModel",i.dashed),P(4),z("ngModel",i.latex),P(4),z("ngModel",i.displayBlack),P(7),z("ngModel",i.labelSize))},dependencies:[ln,jr,zr,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),du=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=w(this,n),"parseAndValidateProvider",void 0),h(r,"componentType",vz),h(r,"formulaDialogType",hz),h(r,"_lineWidth",void 0),h(r,"_parameter","t"),h(r,"_steps",1e3),h(r,"_xText","0"),h(r,"_xErrorText",void 0),h(r,"_xOperation",void 0),h(r,"_yText","0"),h(r,"_yErrorText",void 0),h(r,"_yOperation",void 0),h(r,"_bottomText","0"),h(r,"_bottomErrorText",void 0),h(r,"_bottomOperation",void 0),h(r,"_topText","1"),h(r,"_topErrorText",void 0),h(r,"_topOperation",void 0),r.parseAndValidateProvider=t,r._color=i,r._lineWidth=a,r.configuration.name=o,r.configuration.showLabel=u,r.svgLabel=void 0,r._visible=s,r}return k(n,e),m(n,[{key:"lineWidth",get:function(){return this._lineWidth},set:function(r){this._lineWidth=r,this.onChange.emit(r)}},{key:"dashed",get:function(){return 1==this.configuration.dashed},set:function(r){this.configuration.dashed=r,this.onChange.emit(r)}},{key:"parameter",get:function(){return this._parameter},set:function(r){this._parameter=r,this.onChange.emit(r)}},{key:"steps",get:function(){return this._steps},set:function(r){this._steps=Math.floor(Math.abs(r)),this.onChange.emit(r)}},{key:"xText",get:function(){return this._xText},set:function(r){this._xText=r,this.reparseX(),this.onChange.emit(r)}},{key:"xError",get:function(){return void 0!==this._xErrorText}},{key:"xErrorText",get:function(){return this._xErrorText}},{key:"xOperation",get:function(){return this._xOperation}},{key:"yText",get:function(){return this._yText},set:function(r){this._yText=r,this.reparseY(),this.onChange.emit(r)}},{key:"yError",get:function(){return void 0!==this._yErrorText}},{key:"yErrorText",get:function(){return this._yErrorText}},{key:"yOperation",get:function(){return this._yOperation}},{key:"bottomText",get:function(){return this._bottomText},set:function(r){this._bottomText=r,this.reparseBottom(),this.onChange.emit(r)}},{key:"bottomError",get:function(){return void 0!==this._bottomErrorText}},{key:"bottomErrorText",get:function(){return this._bottomErrorText}},{key:"bottomOperation",get:function(){return this._bottomOperation}},{key:"topText",get:function(){return this._topText},set:function(r){this._topText=r,this.reparseTop(),this.onChange.emit(r)}},{key:"topError",get:function(){return void 0!==this._topErrorText}},{key:"topErrorText",get:function(){return this._topErrorText}},{key:"topOperation",get:function(){return this._topOperation}},{key:"error",get:function(){return this.topError||this.bottomError||this.yError||this.xError}},{key:"reparseX",value:function(){var r=this.parseAndValidateProvider(this._xText,[this.parameter]);return r instanceof Wn?(this._xOperation=r,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=r,!1)}},{key:"reparseY",value:function(){var r=this.parseAndValidateProvider(this._yText,[this.parameter]);return r instanceof Wn?(this._yOperation=r,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=r,!1)}},{key:"reparseBottom",value:function(){var r=this.parseAndValidateProvider(this._bottomText,[]);return r instanceof Wn?(this._bottomOperation=r,this._bottomErrorText=void 0,!0):(this._bottomOperation=void 0,this._bottomErrorText=r,!1)}},{key:"reparseTop",value:function(){var r=this.parseAndValidateProvider(this._topText,[]);return r instanceof Wn?(this._topOperation=r,this._topErrorText=void 0,!0):(this._topOperation=void 0,this._topErrorText=r,!1)}},{key:"reparse",value:function(){var r=this.reparseX(),i=this.reparseY(),a=this.reparseBottom(),o=this.reparseTop();return r&&i&&a&&o}},{key:"parseIfNecessary",value:function(){void 0===this.bottomOperation&&this.reparseBottom(),void 0===this.topOperation&&this.reparseTop(),void 0===this.xOperation&&this.reparseX(),void 0===this.yOperation&&this.reparseY()}},{key:"draw",value:function(r){var i=this.getPoints(r);if(void 0!==i){var a=wt(this._color,vu),o=this.lineWidth*na;r.drawPath(i,this.lineWidth,this.color,void 0,this.dashed),-1!==r.selection.indexOf(this)&&r.drawPath(i,o,a,void 0,this.dashed)}}},{key:"getPoints",value:function(r){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){var i=r.variables,a=this.bottomOperation.evaluate(i),o=this.topOperation.evaluate(i);if(o<a){var s=a;a=o,o=s}for(var u=[],l=this.steps,c=(o-a)/l,d=0;d<=l;d++){var f=a+c*d;try{i[this.parameter]=f;var v=this.xOperation.evaluate(i),g=this.yOperation.evaluate(i);u.push({x:v,y:g})}catch{}}return u}}},{key:"loadFrom",value:function(r,i,a){var o,s=i.data;this._xText=s.xText,this._yText=s.yText,this._bottomText=s.bottomText,this._topText=s.topText,this._parameter=s.parameter,this._steps=s.steps,this._color=i.style.color,this._lineWidth=null!==(o=i.style.size)&&void 0!==o?o:3,this._visible=i.style.visible,this.onChange.emit()}},{key:"serialize",value:function(){return{data:{xText:this.xText,yText:this.yText,parameter:this.parameter,bottomText:this.bottomText,topText:this.topText,steps:this.steps},style:{color:this.color,size:this.lineWidth,visible:this.visible}}}},{key:"getDistance",value:function(r,i){var a=this.getPoints(i);if(void 0!==a){var o=a.map(function(l){return si(l,r)});if(0!==o.length){for(var s=o[0],u=1;u<o.length;u++)o[u]<s&&(s=o[u]);return s}}}},{key:"getPositionForLabel",value:function(r){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){var a=r.variables,o=this.bottomOperation.evaluate(a),s=this.topOperation.evaluate(a);a[this.parameter]=(o+s)/2;try{var u=this.xOperation.evaluate(a),l=this.yOperation.evaluate(a);return{x:u+15/r.zoom,y:l+15/r.zoom}}catch{}}}},{key:"clone",value:function(){var r=new n(this.parseAndValidateProvider,this.color,this.lineWidth,void 0,this.visible);return r._steps=this._steps,r._parameter=this._parameter,r._xText=this._xText,r._yText=this._yText,r._bottomText=this._bottomText,r._topText=this._topText,r.configuration=re({},this.configuration),r}}],[{key:"getDefaultInstance",value:function(r){return new n(function(i,a){return r.parseAndValidateOperation(i,!0,a)})}}])}(qi),gz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(Xi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-view-shape-element"]],standalone:!0,features:[ve,SE],decls:26,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"p",1),S(2,"Polygon:"),E(),b(3,"p",2),Ae(4,"span"),b(5,"input",3),j("ngModelChange",function(o){return H(i.name,o)||(i.name=o),o}),E(),S(6," : "),E(),b(7,"div",4)(8,"input",5),j("ngModelChange",function(o){return H(i.dashed,o)||(i.dashed=o),o}),E(),b(9,"label",6),S(10,"Gestrichelt anzeigen"),E()(),b(11,"div",7)(12,"input",8),j("ngModelChange",function(o){return H(i.latex,o)||(i.latex=o),o}),E(),b(13,"label",9),S(14,"Label als LaTeX rendern"),E()(),b(15,"div",10)(16,"input",11),j("ngModelChange",function(o){return H(i.displayBlack,o)||(i.displayBlack=o),o}),E(),b(17,"label",12),S(18,"Label schwarz anzeigen"),E()(),b(19,"div",13)(20,"label",14),S(21,"Labelgr\xf6\xdfe:"),E(),Ae(22,"br"),b(23,"input",15),j("ngModelChange",function(o){return H(i.labelSize,o)||(i.labelSize=o),o}),E()(),b(24,"button",16),te("click",function(){return i.dialog.close()}),S(25,"Schlie\xdfen"),E()()),2&r&&(P(5),z("ngModel",i.name),P(3),z("ngModel",i.dashed),P(4),z("ngModel",i.latex),P(4),z("ngModel",i.displayBlack),P(7),z("ngModel",i.labelSize))},dependencies:[Xw,ln,jr,zr,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{width:100%}']})),n}(),dp=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=w(this,n,[r]),"dataProvider",void 0),h(a,"_lineWidth",void 0),h(a,"componentType",uu),h(a,"formulaDialogType",gz),h(a,"_pointsProvider",void 0),h(a,"_tempPoints",void 0),h(a,"resetTempListener",function(){a._tempPoints=void 0}),a.dataProvider=i,a._lineWidth=l,a.configuration.formula=s,a.configuration.showLabel=c,a._color=o,a._visible=u,a._pointsProvider=t,a}return k(n,e),m(n,[{key:"lineWidth",get:function(){return this._lineWidth},set:function(r){this._lineWidth=r,this.onChange.emit(r)}},{key:"getPointAt",value:function(r){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[r]}},{key:"points",get:function(){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints.slice()}},{key:"pointsProvider",get:function(){return this._pointsProvider},set:function(r){this._pointsProvider=r,this.onChange.emit(r)}},{key:"serialize",value:function(){return{data:this.dataProvider(),style:{color:this._color,visible:this._visible,strokeWidth:this._lineWidth}}}},{key:"loadFrom",value:function(r,i,a){var o,c,u=[],l=A(i.data.points);try{for(l.s();!(c=l.n()).done;){var f=r[c.value];void 0!==f&&f instanceof he&&(this.addDependency(f),u.push(f))}}catch(v){l.e(v)}finally{l.f()}this.pointsProvider=function(){return u.map(function(v){return v.point})},this.dataProvider=function(){return{points:u.map(function(v){return v.id})}},this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:this.lineWidth}},{key:"draw",value:function(r){var i=this.points;if(0!==i.length){var o,a=A(i);try{for(a.s();!(o=a.n()).done;)if(void 0===o.value)return}catch(c){a.e(c)}finally{a.f()}i.push(i[0]);var u=-1!==r.selection.indexOf(this),l=wt(this.color,u?.5:.3);r.drawPath(i,this.lineWidth,this.color,l,this.configuration.dashed),-1!==r.selection.indexOf(this)&&r.drawPath(i,this.lineWidth*na,wt(this.color,.3),er,this.configuration.dashed)}}},{key:"pointInPolygon",value:function(r){var i=this.points;if(0===i.length)return!1;var o,a=A(i);try{for(a.s();!(o=a.n()).done;)if(void 0===o.value)return!1}catch(C){a.e(C)}finally{a.f()}for(var u=i,l=!1,c=i.length,d=0,f=c-1;d<c;f=d++){var v=u[d].x,g=u[d].y,_=u[f].y;g>r.y!=_>r.y&&r.x<(u[f].x-v)*(r.y-g)/(_-g)+v&&(l=!l)}return l}},{key:"getDistance",value:function(r,i){function a(v,g,p){var F,W,C=p.x-g.x,M=p.y-g.y,O=C*C+M*M,V=0!==O?((v.x-g.x)*C+(v.y-g.y)*M)/O:-1;V<0?(F=g.x,W=g.y):V>1?(F=p.x,W=p.y):(F=g.x+V*C,W=g.y+V*M);var q=v.x-F,ce=v.y-W;return Math.sqrt(q*q+ce*ce)}var s=this.points;if(0!==s.length){var l,u=A(s);try{for(u.s();!(l=u.n()).done;)if(void 0===l.value)return}catch(v){u.e(v)}finally{u.f()}var d=s;return this.pointInPolygon(r)?0:function o(v,g){for(var p=1/0,_=g.length,D=0;D<_;D++){var I=a(v,g[D],g[(D+1)%_]);I<p&&(p=I)}return p}(r,d)}}},{key:"getPositionForLabel",value:function(r){var i=this.points;if(0!==i.length){var o,a=A(i);try{for(a.s();!(o=a.n()).done;)if(void 0===o.value)return}catch(c){a.e(c)}finally{a.f()}var u=i,l=function(d){var g,f=0,v=A(d);try{for(v.s();!(g=v.n()).done;)f+=g.value}catch(_){v.e(_)}finally{v.f()}return f};return{x:l(u.map(function(c){return c.x}))/u.length,y:l(u.map(function(c){return c.y}))/u.length}}}}],[{key:"getDefaultInstance",value:function(){return new n(function(){return[]},[],function(){return{points:[]}})}}])}(Kc),bk="definite_integral",Dk="dependency_points",Ek="linesegment",wk="dynamic_point",kk="compiled_point",Tk="variable",Ak="polygon";function yz(e){return e instanceof rt?"graph":e instanceof vt?"line":e instanceof St?"circle":e instanceof id?bk:e instanceof cu?kk:e instanceof Mo?Dk:e instanceof ft?Ek:e instanceof Bn?wk:e instanceof he?"point":e instanceof Co?Tk:e instanceof lu?"angle":e instanceof du?"curve":e instanceof dp?Ak:"undefined"}var xk="serialized",Nk='"Cambria Math", Cambria, "CMU Serif", serif',Fk="Ung\xfcltige Eingabe.",Rk="Referenz einer unbekannten Funktion.",tr=function(){var e,n=function(){return m(function t(){var r=this;y(this,t),h(this,"_mode",new Mr),h(this,"_backgroundColor",{r:255,g:255,b:255}),h(this,"_canvasElements",[]),h(this,"_metaDrawers",[]),h(this,"_transformations",{translateX:7,translateY:-5,zoom:100}),h(this,"_showGrid",!0),h(this,"_showGridNumbers",!0),h(this,"_drawPointsEqually",!1),h(this,"_drawNewLabels",!0),h(this,"selection",new YU),h(this,"canvas",void 0),h(this,"onBackgroundColorChanged",new dt),h(this,"onCanvasElementChanged",new dt),h(this,"onMetaDrawersChanged",new dt),h(this,"onTransformationsChanged",new dt),h(this,"onCanvasConfigChanged",new dt),h(this,"onBeforeRedraw",new dt),h(this,"onBeforeElementsDraw",new dt),h(this,"onAfterRedraw",new dt),h(this,"onModeChanged",new dt),h(this,"redrawListener",function(){r.redraw()}),h(this,"canvasElementOnChangeListener",function(i){r.onCanvasElementChanged.emit(i)}),h(this,"emptyCacheListener",function(){r.funcCache.empty()}),h(this,"saveListener",function(){localStorage[xk]=JSON.stringify(r.serialize())}),h(this,"funcCache",new rp),h(this,"funcProvider",function(i){var a=r.funcCache.getItem(i);if(a)return a;var s,o=A(r.graphs);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(void 0!==u.func&&Qc(i)===Qc(u.func.name)){var l=u.func,c=Xc(l.name),d=Xc(i);if(c>d)continue;for(var f=0;f<d-c;f++)l=l.derive();return r.funcCache.setItem(i,l),l}}}catch(v){o.e(v)}finally{o.f()}}),this.addMetaDrawer(new bU),this.onBackgroundColorChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.redrawListener),this.onTransformationsChanged.addListener(this.redrawListener),this.onMetaDrawersChanged.addListener(this.redrawListener),this.onCanvasConfigChanged.addListener(this.redrawListener),this.onModeChanged.addListener(this.redrawListener),this.selection.onSelectionChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onAfterRedraw.addListener(this.saveListener)},[{key:"mode",get:function(){return this._mode},set:function(i){this._mode=i,this.onModeChanged.emit(i)}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this.onBackgroundColorChanged.emit(i)}},{key:"addCanvasElements",value:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=0,u=a;s<u.length;s++){var l=u[s];this._canvasElements.push(l),l.onChange.addListener(this.canvasElementOnChangeListener),l.onAdd.emit(this)}this.onCanvasElementChanged.emit(a)}},{key:"removeCanvasElements",value:function(){for(var i=!0,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];for(var u=0,l=o;u<l.length;u++){var c=l[u],d=this._canvasElements.indexOf(c);d>=0?(this._canvasElements.splice(d,1),c.onChange.removeListener(this.canvasElementOnChangeListener),c.onRemove.emit(this)):i=!1}return this.onCanvasElementChanged.emit(o),i}},{key:"emptyCanvasElements",value:function(){var a,i=A(this._canvasElements);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.onChange.removeListener(this.canvasElementOnChangeListener),o.onRemove.emit(this)}}catch(s){i.e(s)}finally{i.f()}this._canvasElements=[],this.onCanvasElementChanged.emit()}},{key:"canvasElements",get:function(){return this._canvasElements.slice()}},{key:"addMetaDrawer",value:function(i){this._metaDrawers.push(i),this.onMetaDrawersChanged.emit(i)}},{key:"removeMetaDrawer",value:function(i){var a=this._metaDrawers.indexOf(i);return a>=0&&(this._metaDrawers.splice(a,1),this.onMetaDrawersChanged.emit(i),!0)}},{key:"emptyMetaDrawers",value:function(){this._metaDrawers=[],this.onMetaDrawersChanged.emit()}},{key:"metaDrawers",get:function(){return this._metaDrawers.slice()}},{key:"translateX",get:function(){return this._transformations.translateX},set:function(i){this._transformations.translateX=i,this.onTransformationsChanged.emit(i)}},{key:"translateY",get:function(){return this._transformations.translateY},set:function(i){this._transformations.translateY=i,this.onTransformationsChanged.emit(i)}},{key:"zoom",get:function(){return this._transformations.zoom},set:function(i){this._transformations.zoom=i,this.onTransformationsChanged.emit(i)}},{key:"transformations",get:function(){return{translateX:this.translateX,translateY:this.translateY,zoom:this.zoom}},set:function(i){this._transformations.zoom=i.zoom,this._transformations.translateX=i.translateX,this._transformations.translateY=i.translateY,this.onTransformationsChanged.emit(i)}},{key:"showGrid",get:function(){return this._showGrid},set:function(i){this._showGrid=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"showGridNumbers",get:function(){return this._showGridNumbers},set:function(i){this._showGridNumbers=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"drawPointsEqually",get:function(){return this._drawPointsEqually},set:function(i){this._drawPointsEqually=!0===i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"drawNewLabels",get:function(){return this._drawNewLabels},set:function(i){this._drawNewLabels=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"canvasConfig",get:function(){return{showNumbers:this.showGridNumbers,showGrid:this.showGrid,drawPointsEqually:this.drawPointsEqually,drawNewLabels:this.drawNewLabels}}},{key:"renderingContext",get:function(){var i;return this.getRenderingContextFor(null===(i=this.canvas)||void 0===i?void 0:i.ctx,this._transformations)}},{key:"getRenderingContextFor",value:function(i,a){return new CU(i,a,this.getVariables(),this.selection.toArray(),this.canvasConfig)}},{key:"redraw",value:function(){this.canvas&&this.canvas.canvasEl&&this.canvas.wrapperEl&&this.canvas.ctx&&(this.onBeforeRedraw.emit(),this.drawToCanvas(this.canvas.canvasEl,this.canvas.wrapperEl.getBoundingClientRect(),this._transformations,!0),this.onAfterRedraw.emit())}},{key:"tex2svg",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn,o=MathJax.tex2svg(i).firstElementChild;return o.setAttributeNS(null,"color",nt(a)),o}},{key:"drawToCanvas",value:function(i,a,o){var s,u=this,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=null!==(s=o.resolutionFactor)&&void 0!==s?s:1,d=i.getContext("2d");d.canvas.width=a.width*c,d.canvas.height=a.height*c,d.fillStyle=nt(this.backgroundColor),d.fillRect(0,0,i.width,i.height);var f=this.getRenderingContextFor(d,o);this.onBeforeElementsDraw.emit(f);var g,_,v=A(this._metaDrawers);try{for(v.s();!(g=v.n()).done;)g.value.draw(f)}catch(F){v.e(F)}finally{v.f()}if(this.drawPointsEqually)_=this._canvasElements;else{var D=this._canvasElements.filter(function(F){return F instanceof he}),C=this._canvasElements.filter(function(F){return F instanceof lu}),M=this._canvasElements.filter(function(F){return!(F instanceof he||F instanceof lu)});_=C.concat(M).concat(D)}var O,I=A(_);try{var V=function(){var W,q=O.value;if(f.config&&l)if(q.visible)f.config.transformColor=void 0;else{var ce;f.config.transformColor=null===(ce=u.mode)||void 0===ce?void 0:ce.transformInvisibleColor}if(q.visible||null!==(W=f.config)&&void 0!==W&&W.transformColor){q.draw(f);var ye=u.getLabelPoint(q,f),de=q.configuration.label;if(void 0!==ye&&void 0!==de&&""!==de){var be,Fe,rn=q.configuration.displayBlackLabel?Gn:q.color,G=null===(be=!q.configuration.dontUseLaTeX)||void 0===be||be,N=null!==(Fe=q.configuration.labelSizeFactor)&&void 0!==Fe?Fe:1,U=function(){f.drawText(de,ye,18*N,Nk,"start","alphabetic","inherit",rn,u.selection.contains(q)?wt(rn,.2):B5,3)};if(MathJax&&G)try{var X=function(Xe){f.drawImage(Xe,ye,Xe.naturalWidth*N,Xe.naturalHeight*N)};if(void 0===q.svgLabel){var fe=u.tex2svg(de,rn),ee=document.createElement("img");ee.src="data:image/svg+xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n'+fe.outerHTML),ee.onload=function(Be){var Xe;q.svgLabel=null!==(Xe=Be.target)&&void 0!==Xe?Xe:void 0,q.svgLabel?X(q.svgLabel):U()}}else X(q.svgLabel)}catch{q.svgLabel=void 0,console.log("nenenenenene"),U()}else U()}}};for(I.s();!(O=I.n()).done;)V()}catch(F){I.e(F)}finally{I.f()}}},{key:"zoomToBy",value:function(i,a){var o_y=-i.y/this.zoom*(1-1/a);this._transformations.translateX-=i.x/this.zoom*(1-1/a),this._transformations.translateY-=o_y,this.zoom*=a}},{key:"graphs",get:function(){return this.canvasElements.filter(function(i){return i instanceof rt})}},{key:"points",get:function(){return this.canvasElements.filter(function(i){return i instanceof he})}},{key:"parseAndValidateOperation",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var s=new fk(i,this.funcProvider).parse();try{var u=ep(s);if(a){var c,l=A(u.variableNames);try{for(l.s();!(c=l.n()).done;){var d=c.value;-1===o.indexOf(d)&&this.addVariable(d)}}catch(f){l.e(f)}finally{l.f()}}return s}catch{return Rk}}catch{return Fk}}},{key:"parseAndValidateFunc",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var o=new qU(i,this.funcProvider).parse();try{if(nk(o))return"Eine Funktion darf nicht auf sich selbst verweisen.";var s=function vU(e){return ep(e.operation)}(o);if(a){var l,u=A(s.variableNames);try{for(u.s();!(l=u.n()).done;){var c=l.value;c!==o.variable&&(void 0!==o.variable||"x"!==c)&&this.addVariable(c)}}catch(d){u.e(d)}finally{u.f()}}return o}catch{return Rk}}catch{return Fk}}},{key:"parseAndValidateProviderGraph",get:function(){var i=this;return function(a){return i.parseAndValidateFunc(a)}}},{key:"addVariable",value:function(i){var a=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.hasVariable(i)){var s=new Co(i,0);return this.addCanvasElements(s),o&&this.onCanvasElementChanged.addListener(function l(){var f,c=!1,d=A(a.canvasElements);try{for(d.s();!(f=d.n()).done;){var v=f.value;if(v instanceof rt?c=c||void 0!==v.func&&v.func.variable!==s.key&&(void 0!==v.func.variable||"x"!==s.key)&&Er(v.func,s.key):v instanceof cu?c=c||Er(v.xOperation,s.key)||Er(v.yOperation,s.key):v instanceof du&&(c=(c=(c=c||Er(v.topOperation,s.key)||Er(v.bottomOperation,s.key))||v.parameter!==s.key&&Er(v.xOperation,s.key))||v.parameter!==s.key&&Er(v.yOperation,s.key)),c)return}}catch(g){d.e(g)}finally{d.f()}c||(a.onCanvasElementChanged.removeListener(l),a.removeCanvasElements(s))}),s}}},{key:"getNewColor",value:function(){return function J5(e,n,t){for(var r=n.slice(),i=0,a=function(u){return t(e[i%e.length],u)};jM(r,a);i++){var o=$5(r,a);r.splice(o,1)}return e[i%e.length]}(KU,this.canvasElements.map(function(i){return i.color}),function(i,a){return function X5(e,n){return e.r==n.r&&e.g==n.g&&e.b==n.b&&(e.a==n.a||!e.a&&!n.a)}(i,a)})}},{key:"getVariables",value:function(){var o,i={},a=A(this.canvasElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;s instanceof Co&&(i[s.key]=s.value)}}catch(u){a.e(u)}finally{a.f()}return i}},{key:"hasVariable",value:function(i){var o,a=A(this.canvasElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s instanceof Co&&s.key===i)return!0}}catch(u){a.e(u)}finally{a.f()}return!1}},{key:"getLabelPoint",value:function(i,a){var o=i.getPositionForLabel(a);if(void 0!==o&&void 0!==i.configuration.label&&i.configuration.showLabel){var s;if(null!==(s=a.config)&&void 0!==s&&s.drawNewLabels){var u=a.zoom,l={x:i.labelTranslate.x/u,y:i.labelTranslate.y/u};return{x:o.x+l.x,y:o.y+l.y}}var c=a.range,d={x:Math.abs(c.width)*i.labelTranslate.x,y:Math.abs(c.height)*i.labelTranslate.y};return{x:o.x+d.x,y:o.y+d.y}}}},{key:"getSelection",value:function(i){var c,v,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=this.renderingContext,l=void 0,d=function(M){var I,O=a.getLabelPoint(M,u);if(void 0!==M.configuration.label&&void 0!==O){var V=null!==(I=M.configuration.labelSizeFactor)&&void 0!==I?I:1,F=0,W=0;return M.configuration.dontUseLaTeX||void 0===M.svgLabel?(F=u.measureText(M.configuration.label,18,Nk).width/u.zoom*V,W=18/u.zoom*V):(F=M.svgLabel.width/u.zoom*V,W=-M.svgLabel.height/u.zoom*V),VM(i,re(re({},O),{},{width:F,height:W}))}},f=A(this.canvasElements);try{for(f.s();!(v=f.n()).done;){var g=v.value,p=W5(g.getDistance(i,u),d(g));if(null!=p&&isFinite(p)&&o(g)&&(g.visible||!s)){var _=void 0===l;(_=_||p<=l)&&(l=p,c=g)}}}catch(C){f.e(C)}finally{f.f()}return void 0!==l&&10<l*this.zoom&&(c=void 0,l=void 0),c}},{key:"setSelection",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.getSelection(i,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0});a?this.selection.set(s):this.selection.alternate(s)}},{key:"serialize",value:function(){return function pz(e){var r,n=[],t=A(e.canvasElements);try{for(t.s();!(r=t.n()).done;){var i=r.value,o=re(re({},i.serialize()),{},{id:i.id,configuration:i.configuration,type:yz(i),translateLabel:i.labelTranslate});n.push(o)}}catch(s){t.e(s)}finally{t.f()}return{canvasElements:n,backgroundColor:e.backgroundColor,transformations:e.transformations,showGrid:e.showGrid,showGridNumbers:e.showGridNumbers,drawPointsEqually:e.drawPointsEqually,drawNewLabels:e.drawNewLabels}}(this)}},{key:"loadFrom",value:function(i){!function _z(e,n){var t;e.showGridNumbers=n.showGridNumbers,e.showGrid=n.showGrid,e.drawPointsEqually=n.drawPointsEqually,e.transformations=n.transformations,e.backgroundColor=n.backgroundColor,e.drawNewLabels=null!==(t=n.drawNewLabels)&&void 0!==t&&t,e.emptyCanvasElements();var a,r={},i=A(n.canvasElements);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=void 0;"circle"===o.type?s=St.getDefaultInstance():o.type===bk?s=id.getDefaultInstance():o.type===kk?s=cu.getDefaultInstanceWithDrawerService(e):o.type===Dk?s=Mo.getDefaultInstance(e):o.type===Ek?s=ft.getDefaultInstance():"graph"===o.type?s=rt.getDefaultInstance(e):o.type===wk?s=Bn.getDefaultInstance():"point"===o.type?s=he.getDefaultInstance():"line"===o.type?s=vt.getDefaultInstance():o.type===Tk?s=Co.getDefaultInstance():"angle"===o.type?s=lu.getDefaultInstance():"curve"===o.type?s=du.getDefaultInstance(e):o.type===Ak&&(s=dp.getDefaultInstance()),void 0!==s&&(s.configuration=o.configuration,s.labelTranslate=o.translateLabel,s.svgLabel=void 0,r[o.id]=s)}}catch(p){i.e(p)}finally{i.f()}var l,u=A(n.canvasElements);try{for(u.s();!(l=u.n()).done;){var c=l.value,d=r[c.id];void 0!==d&&d.loadFrom(r,c,e)}}catch(p){u.e(p)}finally{u.f()}e.addCanvasElements.apply(e,B(Object.values(r).filter(function(p){return void 0!==p})));var v,f=A(e.graphs);try{for(f.s();!(v=f.n()).done;)v.value.reparseIfNecessary()}catch(p){f.e(p)}finally{f.f()}e.redraw()}(this,i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",ge({token:e,factory:e.\u0275fac,providedIn:"root"})),n}(),bz=function(n){return{notLast:n}};function Dz(e,n){if(1&e&&(b(0,"span"),S(1," von "),b(2,"span",12),S(3),E()()),2&e){var t=nn(2);P(3),tn(t.dialogData.description[1]())}}function Ez(e,n){if(1&e){var t=Vr();b(0,"div",15)(1,"p",16),S(2),E(),b(3,"button",17),te("click",function(){var o=We(t).$implicit;return qe(nn(3).addPointToDrawerService(o))}),b(4,"span",18),S(5,"add"),E()()()}if(2&e){var r=n.$implicit;Q("ngClass",Sn(3,bz,!n.last)),P(2),Fs("(",r.x.toLocaleString(),"|",r.y.toLocaleString(),")")}}function Mz(e,n){if(1&e&&(b(0,"div",13)(1,"p",4),S(2,"Ergebnisse:"),E(),Ln(3,Ez,6,5,"div",14),E()),2&e){var t=nn(2);P(3),Q("ngForOf",t.dialogData.points)}}function wz(e,n){1&e&&(b(0,"div",19),S(1,"Es wurden keine Elemente gefunden."),E())}function kz(e,n){if(1&e){var t=Vr();b(0,"div",1)(1,"p",2),S(2),Ln(3,Dz,4,1,"span",3),E(),b(4,"p",4),S(5,"Im Intervall"),E(),b(6,"p",5)(7,"app-interval",6),j("fromChange",function(a){We(t);var o=nn();return H(o.dialogData.from,a)||(o.dialogData.from=a),qe(a)})("toChange",function(a){We(t);var o=nn();return H(o.dialogData.to,a)||(o.dialogData.to=a),qe(a)}),E()(),b(8,"p",4),S(9,"mit der Suchtiefe:"),E(),b(10,"p",7)(11,"input",8),j("ngModelChange",function(a){We(t);var o=nn();return H(o.dialogData.depth,a)||(o.dialogData.depth=a),qe(a)}),E()(),Ln(12,Mz,4,1,"div",9)(13,wz,2,0,"div",10),b(14,"button",11),te("click",function(){return We(t),qe(nn().dialog.close())}),S(15,"Schlie\xdfen"),E()()}if(2&e){var r=nn();P(2),yr(" ",r.dialogData.description[0],""),P(),Q("ngIf",void 0!==r.dialogData.description[1]()),P(4),z("from",r.dialogData.from)("to",r.dialogData.to),P(4),z("ngModel",r.dialogData.depth),P(),Q("ngIf",0!==r.dialogData.size),P(),Q("ngIf",0===r.dialogData.size)}}var Sz=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=w(this,r),"drawerService",void 0),h(a,"dialogData",void 0),a.drawerService=i,a}return k(r,t),m(r,[{key:"addPointToDrawerService",value:function(a){this.drawerService.addCanvasElements(new he(a,this.drawerService.getNewColor()))}}])}(Xi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-dependency-point-elements-dialog"]],features:[ve],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"paragraph","heading"],[4,"ngIf"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],[1,"centered","maths"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["class","pointWrappers",4,"ngIf"],["class","paragraph defaultMargin pointsNotFoundMessage",4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"maths"],[1,"pointWrappers"],["class","point",3,"ngClass",4,"ngFor","ngForOf"],[1,"point",3,"ngClass"],[1,"maths","paragraph","pointParagraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","defaultMargin","pointsNotFoundMessage"]],template:function(r,i){1&r&&Ln(0,kz,16,7,"div",0),2&r&&Q("ngIf",void 0!==i.dialogData)},dependencies:[Xt,lo,co,ln,kt,_n,cn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.defaultMargin[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.pointParagraph[_ngcontent-%COMP%]{line-height:46px;margin-top:0;margin-bottom:0}.maths[_ngcontent-%COMP%]{font-size:16pt!important}.point[_ngcontent-%COMP%]{width:290px;padding:7px}.notLast[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.pointWrappers[_ngcontent-%COMP%]{margin-bottom:16px;max-height:400px;overflow-y:auto}.iconButton[_ngcontent-%COMP%]{background-color:#fff}.input[_ngcontent-%COMP%]{width:50px;display:unset}.pointsNotFoundMessage[_ngcontent-%COMP%]{width:290px;padding:7px}']})),n}(),fu="__dependencyPointElements__",Lk="intersectionpoints",Vk="zeropoints",Bk="extremumpoints",Hk="inflectionpoints",Mo=function(e){function n(t,r,i,a,o,s,u,l){var c,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Gn,f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],v=arguments.length>10?arguments[10]:void 0,g=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];return y(this,n),h(c=w(this,n),"drawerService",void 0),h(c,"pointsProvider",void 0),h(c,"dependencyStillActive",void 0),h(c,"description",void 0),h(c,"subTypeAndGraphsProvider",void 0),h(c,"firstInit",void 0),h(c,"componentType",dU),h(c,"formulaDialogType",Sz),h(c,"pointElements",[]),h(c,"initializedYet",!1),h(c,"correctVersion",0),h(c,"drawnVersion",0),h(c,"_stroke",{r:100,g:100,b:100}),h(c,"_strokeWidth",3),h(c,"_radius",5),h(c,"_from",void 0),h(c,"_to",void 0),h(c,"_depth",void 0),h(c,"reloadListener",function(p){p!==fu&&p!==c&&c.reload().catch(function(_){return console.error(_)})}),h(c,"removeListener",function(){c.drawerService.onCanvasElementChanged.removeListener(c.reloadListener)}),c.drawerService=t,c.pointsProvider=r,c.dependencyStillActive=s,c.description=u,c.subTypeAndGraphsProvider=l,c.firstInit=v,c._color=d,c._visible=f,c._from=i,c._to=a,c._depth=o,g&&(c.onRemove.addListener(c.removeListener),c.drawerService.onCanvasElementChanged.addListener(c.reloadListener)),c}return k(n,e),m(n,[{key:"points",get:function(){return this.pointElements.map(function(r){return r.point})}},{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(fu)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(fu)}},{key:"radius",get:function(){return this._radius},set:function(r){this._radius=r,this.onChange.emit(fu)}},{key:"size",get:function(){return this.pointElements.length}},{key:"from",get:function(){return this._from},set:function(r){this._from=r,this.onChange.emit(r)}},{key:"to",get:function(){return this._to},set:function(r){this._to=r,this.onChange.emit(r)}},{key:"depth",get:function(){return this._depth},set:function(r){this._depth=r,this.onChange.emit(r)}},{key:"reload",value:(t=function iH(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function o(u){qM(a,r,i,o,s,"next",u)}function s(u){qM(a,r,i,o,s,"throw",u)}o(void 0)})}}(Zi().mark(function i(){var a=this;return Zi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.dependencyStillActive()){s.next=5;break}return this.correctVersion++,s.abrupt("return",new Promise(function(u,l){setTimeout(function(){try{var c=a.pointsProvider(a.from,a.to,a.depth);if(!a.initializedYet&&a.firstInit&&a.firstInit(c),a.initializedYet=!0,a.pointElements.length<c.length)for(var d=c.length-a.pointElements.length,f=0;f<d;f++)a.createPointElement();else if(a.pointElements.length>c.length)for(var v=a.pointElements.length-c.length,g=0;g<v;g++)a.pointElements.pop();for(var p=0;p<c.length;p++)a.pointElements[p].forceSetPoint(c[p]);a.drawnVersion++,a.onChange.emit(fu),u()}catch(_){a.drawnVersion++,l(_)}})}));case 5:this.drawerService.removeCanvasElements(this);case 6:case"end":return s.stop()}},i,this)})),function r(){return t.apply(this,arguments)})},{key:"createPointElement",value:function(){var i=new he(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},this.color,!0);return i.radius=this.radius,i.stroke=this.stroke,i.strokeWidth=this.strokeWidth,this.pointElements.push(i),i}},{key:"draw",value:function(r){if(this.correctVersion===this.drawnVersion){var o,i=-1!==r.selection.indexOf(this),a=A(this.pointElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.color=this.color,s.radius=this.radius,s.stroke=this.stroke,s.strokeWidth=this.strokeWidth,s.selected=i,s.draw(r)}}catch(u){a.e(u)}finally{a.f()}}}},{key:"getDistance",value:function(r,i){return Math.min.apply(Math,B(this.pointElements.map(function(a){return a.getDistance(r,i)}).filter(function(a){return void 0!==a})))}},{key:"serialize",value:function(){var r=this.subTypeAndGraphsProvider();return{subType:r.subType,data:{graph:r.graph,secondGraph:r.secondGraph,depth:this.depth,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,size:this.radius,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a=i.data;this.color=i.style.color,this.stroke=i.style.stroke,this.radius=i.style.size,this.strokeWidth=i.style.strokeWidth,this.visible=i.style.visible,this.depth=a.depth,this.from=a.from,this.to=a.to;var u,o=r[a.graph],s=void 0===a.secondGraph?void 0:r[a.secondGraph];if(i.subType===Lk&&o instanceof rt&&s instanceof rt)u=n.createIntersectionPoints(this.drawerService,o,s,a.from,a.to,a.depth,void 0,void 0,!1);else if(i.subType===Vk&&o instanceof rt)u=n.createZeroPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1);else if(i.subType===Bk&&o instanceof rt)u=n.createExtremumPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1);else{if(!(i.subType===Hk&&o instanceof rt))throw"not known subtype";u=n.createInflectionPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1)}this.pointsProvider=u.pointsProvider,this.dependencyStillActive=u.dependencyStillActive,this.description=u.description,this.subTypeAndGraphsProvider=u.subTypeAndGraphsProvider,this.draw=u.draw}}],[{key:"createIntersectionPoints",value:function(r,i,a,o,s,u,l,c){var d,f=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];l=null!==(d=l)&&void 0!==d?d:r.getNewColor();var v=Sg+0;return new n(r,function(g,p,_){var D,C,M,I;if(void 0===i.func)return[];var O=function(q){return function(ce){if(void 0===q.func)throw"can't use bad function";var ye=q.func,Fe=Xc(ce)-(q.func.name?Xc(q.func.name):0);if(Fe<0)throw"can't integrate";for(var rn=0;rn<Fe;rn++)ye=ye.derive();return ye}},V=new ho(new yo(new ea(null!==(D=null===(C=i.func)||void 0===C?void 0:C.name)&&void 0!==D?D:"",O(i),new Ft(v)),new ea(null!==(M=null===(I=a.func)||void 0===I?void 0:I.name)&&void 0!==M?M:"",O(a),new Ft(v))),void 0,"x"),F=r.getVariables();return au(V,F,g,p,_).map(function(W){return{x:W,y:i.func.evaluate(W,F)}})},o,s,u,function(){var D,g=!1,p=!1,_=A(r.canvasElements);try{for(_.s();!(D=_.n()).done;){var C=D.value;C===i?g=!0:C===a&&(p=!0)}}catch(M){_.e(M)}finally{_.f()}return g&&p},["Schnittpunkte",function(){var g;return void 0!==i.func&&i.func.name&&null!==(g=a.func)&&void 0!==g&&g.name?"".concat(i.func.name,", ").concat(a.func.name):void 0}],function(){return{graph:i.id,secondGraph:a.id,subType:Lk}},l,!0,c,f)}},{key:"createZeroPoints",value:function(r,i,a,o,s,u){return n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function gU(e,n,t,r,i){return au(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,Vk,"Nullpunkt",u,!(arguments.length>6&&void 0!==arguments[6])||arguments[6])}},{key:"createExtremumPoints",value:function(r,i,a,o,s,u){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.func.derive(),n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function pU(e,n,t,r,i){return rk(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,Bk,"Extrempunkt",u,l)}},{key:"createInflectionPoints",value:function(r,i,a,o,s,u){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.func.derive(),n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function yU(e,n,t,r,i){return function mU(e,n,t,r,i){return rk(e.derive(),n,t,r,i)}(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,Hk,"Wendepunkt",u,l)}},{key:"createDependencyPointElements",value:function(r,i,a,o,s,u,l,c,d){var f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];return new n(r,a,o,s,u,function tH(e,n){return function(){var r,t=A(e.canvasElements);try{for(t.s();!(r=t.n()).done;)if(r.value===n)return!0}catch(a){t.e(a)}finally{t.f()}return!1}}(r,i),function rH(e,n){return[e,function(){var t;return null===(t=n.func)||void 0===t?void 0:t.name}]}("".concat(c,"e"),i),function(){return{graph:i.id,subType:l}},i.color,!0,d,f)}},{key:"getDefaultInstance",value:function(r){return new n(r,function(){return[]},0,0,1,function(){return!0},["",function(){}],function(){return{subType:"",graph:-1}},Gn,!0,void 0,!0)}}]);var t}(qi),Iz=["snackbar"],Tz=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"wrapper",void 0),h(this,"snackbarConfig",void 0),h(this,"message",void 0)},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var i,a,o,s,u=this.wrapper.nativeElement;u.textContent=this.message,u.style.background=null!==(i=null===(a=this.snackbarConfig)||void 0===a?void 0:a.background)&&void 0!==i?i:"#333",u.style.color=null!==(o=null===(s=this.snackbarConfig)||void 0===s?void 0:s.color)&&void 0!==o?o:"white"}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-snackbar"]],viewQuery:function(r,i){var a;1&r&&bt(Iz,5),2&r&&Dt(a=Et())&&(i.wrapper=a.first)},decls:3,vars:0,consts:[["snackbar",""],[1,"filler"],[1,"snackbar"]],template:function(r,i){1&r&&(b(0,"div",1),Ae(1,"div",2,0),E())},styles:['@keyframes _ngcontent-%COMP%_animateWrapperSnackbar{0%{transform:translateY(100px)}to{transform:translateY(0)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;pointer-events:none;align-items:flex-end;justify-content:center;display:flex}.snackbar[_ngcontent-%COMP%]{padding:10px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperSnackbar .2s ease-in-out;font-size:13pt;text-align:center;font-family:Segoe UI,Calibri,"sans-serif";user-select:none;pointer-events:all;margin-bottom:10px;box-shadow:0 0 10px #9997}']})),n}(),vp=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"rootViewContainerRef",void 0)},[{key:"openSnackbar",value:function(i,a){var o=this;return new Promise(function(s,u){var l,c;if(o.rootViewContainerRef){var d=null!==(l=a?.duration)&&void 0!==l?l:4e3,f=null===(c=o.rootViewContainerRef)||void 0===c?void 0:c.createComponent(Tz);f?(f.instance.message=i,f.instance.snackbarConfig=a,setTimeout(function(){f.destroy(),s()},d)):u()}else u()})}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",ge({token:e,factory:e.\u0275fac,providedIn:"root"})),n}(),Pz=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"snackbarService",void 0),h(this,"dialogData",void 0),h(this,"dialog",void 0),h(this,"from",-1),h(this,"to",1),h(this,"_depth",10),this.drawerService=r,this.snackbarService=i},[{key:"depth",get:function(){return this._depth},set:function(i){this._depth=Math.floor(i)}},{key:"evaluateZeroPoints",value:function(){var i=this;try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Mo.createZeroPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(a){Rc(i.snackbarService,"Nullpunkt",a.length)}))}catch{Lc(this.snackbarService)}this.dialog.close()}},{key:"evaluateExtremumPoints",value:function(){var i=this;try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Mo.createExtremumPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(a){Rc(i.snackbarService,"Extrempunkt",a.length)}))}catch{Lc(this.snackbarService)}this.dialog.close()}},{key:"evaluateInflectionPoints",value:function(){var i=this;try{if(this.dialogData&&this.dialogData.graph){var a=Mo.createInflectionPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(o){Rc(i.snackbarService,"Wendepunkt",o.length)});this.drawerService.addCanvasElements(a)}}catch{Lc(this.snackbarService)}this.dialog.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr),x(vp))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-func-analyser-dialog"]],decls:24,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"maths","heading"],[1,"centered","maths"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Extrempunkte berechnen",1,"button","floatRight",3,"click"],["title","Nullpunkte berechnen",1,"button","floatRight",3,"click"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Wendepunkte berechnen",1,"button","floatRight",3,"click"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"p",1),S(2,"Funktion "),b(3,"span",2),S(4),E(),S(5,"analysieren:"),E(),b(6,"p",3),S(7),E(),b(8,"p",4),S(9,"Im Intervall"),E(),b(10,"p",5)(11,"app-interval",6),j("fromChange",function(o){return H(i.from,o)||(i.from=o),o})("toChange",function(o){return H(i.to,o)||(i.to=o),o}),E()(),b(12,"p",4),S(13,"mit der Suchtiefe:"),E(),b(14,"p",3)(15,"input",7),j("ngModelChange",function(o){return H(i.depth,o)||(i.depth=o),o}),E()(),b(16,"button",8),te("click",function(){return i.evaluateExtremumPoints()}),S(17,"Extrempunkte"),E(),b(18,"button",9),te("click",function(){return i.evaluateZeroPoints()}),S(19,"Nullpunkte"),E(),b(20,"button",10),te("click",function(){return i.dialog.close()}),S(21,"Schlie\xdfen"),E(),b(22,"button",11),te("click",function(){return i.evaluateInflectionPoints()}),S(23,"Wendepunkte"),E()()),2&r&&(P(4),tn(null!=i.dialogData&&null!=i.dialogData.graph&&null!=i.dialogData.graph.func&&i.dialogData.graph.func.name?(null==i.dialogData||null==i.dialogData.graph||null==i.dialogData.graph.func?null:i.dialogData.graph.func.name)+" ":""),P(3),tn(null==i.dialogData||null==i.dialogData.graph||null==i.dialogData.graph.func?null:i.dialogData.graph.func.operationAsString),P(4),z("from",i.from)("to",i.to),P(4),z("ngModel",i.depth))},dependencies:[ln,kt,_n,cn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})),n}(),Oz=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"snackbarService",void 0),h(this,"dialogData",void 0),h(this,"dialog",void 0),h(this,"from",-1),h(this,"to",1),h(this,"_depth",10),this.drawerService=r,this.snackbarService=i},[{key:"depth",get:function(){return this._depth},set:function(i){this._depth=Math.floor(i)}},{key:"getFuncName",value:function(i){return i&&void 0!==i.func&&i.func.name?" ".concat(i.func.name):""}},{key:"evaluateIntersectionPoints",value:function(){var i=this,a=!1;try{this.dialogData&&this.dialogData.graph1&&this.dialogData.graph2?this.drawerService.addCanvasElements(Mo.createIntersectionPoints(this.drawerService,this.dialogData.graph1,this.dialogData.graph2,this.from,this.to,this.depth,this.dialogData.color,function(l){Rc(i.snackbarService,"Schnittpunkt",l.length)})):a=!0}catch{a=!0}a&&Lc(this.snackbarService),this.dialog.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr),x(vp))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-intersection-dialog"]],decls:29,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"maths"],[1,"centered","maths"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Schnittpunkte berechnen",1,"button","floatRight",3,"click"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"p",1),S(2,"Schnittpunkte berechnen"),E(),b(3,"p",2),S(4,"Von"),b(5,"span",3),S(6),E(),S(7,":"),E(),b(8,"p",4),S(9),E(),b(10,"p",2),S(11,"Und"),b(12,"span",3),S(13),E(),S(14,":"),E(),b(15,"p",4),S(16),E(),b(17,"p",2),S(18,"Im Intervall"),E(),b(19,"p",5)(20,"app-interval",6),j("fromChange",function(o){return H(i.from,o)||(i.from=o),o})("toChange",function(o){return H(i.to,o)||(i.to=o),o}),E()(),b(21,"p",2),S(22,"mit der Suchtiefe:"),E(),b(23,"p",4)(24,"input",7),j("ngModelChange",function(o){return H(i.depth,o)||(i.depth=o),o}),E()(),b(25,"button",8),te("click",function(){return i.dialog.close()}),S(26,"Schlie\xdfen"),E(),b(27,"button",9),te("click",function(){return i.evaluateIntersectionPoints()}),S(28,"Schnittpunkte"),E()()),2&r&&(P(6),tn(i.getFuncName(null==i.dialogData?null:i.dialogData.graph1)),P(3),tn(null==i.dialogData||null==i.dialogData.graph1||null==i.dialogData.graph1.func?null:i.dialogData.graph1.func.operationAsString),P(4),tn(i.getFuncName(null==i.dialogData?null:i.dialogData.graph2)),P(3),tn(null==i.dialogData||null==i.dialogData.graph2||null==i.dialogData.graph2.func?null:i.dialogData.graph2.func.operationAsString),P(4),z("from",i.from)("to",i.to),P(4),z("ngModel",i.depth))},dependencies:[ln,kt,_n,cn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})),n}(),Az=function(n){return{error:n}},xz=function(){var e,n=function(t){function r(i,a){var o;return y(this,r),h(o=w(this,r),"drawerService",void 0),h(o,"dialogService",void 0),h(o,"canvasElement",void 0),o.drawerService=i,o.dialogService=a,o.canvasElement=rt.getDefaultInstance(i),o}return k(r,t),m(r,[{key:"contextMenu",get:function(){var a=this;return{elements:function(){var s=a.drawerService.selection.toArray(),u=-1!==s.indexOf(a.canvasElement)&&2===s.length&&s[0]instanceof rt&&s[1]instanceof rt;return[{header:"Ableiten",click:function(){var d=a.canvasElement.derive(a.drawerService.getNewColor());void 0!==d&&a.drawerService.addCanvasElements(d)},disabled:!a.canvasElement.canDerive()||a.canvasElement.funcError,icon:"south_east",title:"Diese Funktion ableiten."},{header:"Duplizieren",icon:"content_copy",disabled:a.canvasElement.funcError,click:function(){try{a.drawerService.addCanvasElements(a.canvasElement.clone())}catch{}},title:"Diese Funktion duplizieren."},{header:"Analysieren",icon:"query_stats",click:function(){var d;null===(d=a.dialogService.createDialog(Pz))||void 0===d||d.open({graph:a.canvasElement})},title:"Nullpunkte, Extrempunkte oder Wendepunkte dieser Funktion bestimmen."},{header:"Bestimmtes Integral",click:function(){a.drawerService.addCanvasElements(new id(a.canvasElement,void 0,-1,1,.1,a.canvasElement.color))},icon:"monitoring"},{header:"Schnittpunkte bestimmen",disabled:!u,click:function(){var d;u&&(null===(d=a.dialogService.createDialog(Oz))||void 0===d||d.open({graph1:s[0],graph2:s[1]}))},title:u?"Schnittpunkte der beiden ausgew\xe4hlten Funktionen berechnen.":"Um Schnittpunkte zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"multiline_chart"},{header:"Fl\xe4che zwischen Graphen",disabled:!u,click:function(){u&&a.drawerService.addCanvasElements(new id(s[0],s[1],-1,1,.1,a.drawerService.getNewColor()))},title:u?"Fl\xe4che zwischen den Graphen der beiden ausgew\xe4hlten Funktionen berechnen.":"Um die Fl\xe4che zwischen den Graphen zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"stacked_line_chart"}]},additionalEvent:this.threePointsClickedEvent}}},{key:"color",get:function(){return nt(this.canvasElement.color)}}])}(ui);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr),x(iu))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-graph-formula"]],features:[ve],decls:7,vars:8,consts:[["inp",""],[1,"wrapper",3,"ngClass"],[3,"colorChange","visibleChange","color","visible"],["autocomplete","off",1,"input",3,"ngModelChange","title","ngModel","disabled"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){if(1&r){var a=Vr();b(0,"div",1)(1,"app-color-circle",2),j("colorChange",function(u){return We(a),H(i.canvasElement.color,u)||(i.canvasElement.color=u),qe(u)})("visibleChange",function(u){return We(a),H(i.canvasElement.visible,u)||(i.canvasElement.visible=u),qe(u)}),E(),b(2,"input",3,0),j("ngModelChange",function(u){return We(a),H(i.canvasElement.funcText,u)||(i.canvasElement.funcText=u),qe(u)}),E(),b(4,"button",4),te("click",function(u){return We(a),qe(i.threePointsClicked(u))}),b(5,"span",5),S(6,"more_vert"),E()()()}var o;2&r&&(Q("ngClass",Sn(6,Az,i.canvasElement.funcError)),P(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),P(),Q("title",null!==(o=i.canvasElement.funcErrorText)&&void 0!==o?o:""),z("ngModel",i.canvasElement.funcText),Q("disabled",!i.canvasElement.configuration.editable))},dependencies:[Xt,ln,_n,cn,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--margin: 16px}.wrapper.error[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:#fcc!important}.input[_ngcontent-%COMP%]{--padding: 7px;width:calc(100% - 2 * (var(--padding) + var(--buttonSize) + var(--margin)));margin-left:calc(var(--margin) + var(--buttonSize))}']})),n}();function Uk(e,n,t){var r=(n.y-t.y)/(n.x-t.x),i=(e.y+e.x/r-n.y+r*n.x)/(r+1/r),a_y=r*i+n.y-r*n.x;return Math.sqrt(Math.pow(e.x-i,2)+Math.pow(e.y-a_y,2))}var vu=.3,na=2.5,rt=function(e){function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:0,g:0,b:0},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(i=w(this,n),"parseAndValidateProvider",void 0),h(i,"lineWidth",void 0),h(i,"componentType",xz),h(i,"formulaDialogType",void 0),h(i,"_funcText","0"),h(i,"_funcErrorText",void 0),h(i,"_func",void 0),i.parseAndValidateProvider=t,i.lineWidth=s,r instanceof ho?(i._func=r,i.configuration.label=r?.name,i._funcText=r.operationAsString):"string"==typeof r&&(i._funcText=r),i.configuration.showLabel=u,i.svgLabel=void 0,i._color=a,i._visible=o,i}return k(n,e),m(n,[{key:"func",get:function(){return this._func}},{key:"funcText",get:function(){return this._funcText},set:function(r){this._funcText=r,this.reparse(),this.onChange.emit(r)}},{key:"funcErrorText",get:function(){return this._funcErrorText}},{key:"funcError",get:function(){return void 0!==this.funcErrorText}},{key:"draw",value:function(r){var i=this;if((this.funcError||void 0===this.func)&&this.reparse(),!this.funcError&&void 0!==this.func){for(var a=[],o=[],s=r.range,u=r.step,l=u,c=-1!==r.selection.indexOf(this),d=wt(this._color,vu),f=this.lineWidth*na,v=function(de,be){if(void 0!==be){var Fe=de/(0===be?1:be);if(Math.abs(de)>10){if(Fe<0)return!0;if(Fe>15)return!0}}return!1},g=function(de){try{var be=i._func.evaluate(de,r.variables);if(isFinite(be))return{x:de,y:be}}catch{}},p=void 0,_=void 0,D=void 0,C=s.x;C<s.x+s.width;C+=l){var M=!1,I=g(C);if(I||(M=!0,D=void 0),I&&_){var O=(I.y-_.y)/(I.x-_.x);p=(M=M||v(O,p))?void 0:O,l=u/Math.min(Math.max(1,Math.abs(O/5)),15)}if(I&&!Qs(I,s)){if(D||C===s.x){if(!M&&D&&yn(s.y,D.y,I.y)){var F=g((D.x+I.x)/2);F&&yn(F.y,D.y,I.y)&&o.push(D,F,I)}M=!0}D=I}else I&&(D&&void 0!==p&&!M&&(o.push(D),p=(I.y-D.y)/(I.x-D.x)),D=void 0);I&&!M&&o.push(I),_=I,M&&0!=o.length&&(a.push(o),o=[])}0!=o.length&&a.push(o);for(var W=0,q=a;W<q.length;W++){var ce=q[W];r.drawPath(ce,this.lineWidth,this._color,void 0,this.configuration.dashed),c&&r.drawPath(ce,f,d,void 0,this.configuration.dashed)}}}},{key:"getDistance",value:function(r,i){try{var a=r.x-i.step,o=r.x,s=r.x+i.step,u={x:a,y:this.func.evaluate(a,i.variables)},l={x:o,y:this.func.evaluate(o,i.variables)},c={x:s,y:this.func.evaluate(s,i.variables)},d=Uk(r,u,l),f=Uk(r,l,c);if(d=isFinite(d)?d:1/0,f=isFinite(f)?f:1/0,d!==1/0||f!==1/0)return Math.min(d,f)}catch{}try{return Math.abs(r.y-this.func.evaluate(r.x,i.variables))}catch{}}},{key:"serialize",value:function(){return{data:{formula:this.funcText},style:{color:this.color,visible:this.visible,size:this.lineWidth}}}},{key:"loadFrom",value:function(r,i,a){var o;this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.size)&&void 0!==o?o:this.lineWidth;var s=i.data;try{void 0!==s.formula&&(this._funcText=s.formula)}catch{}}},{key:"reparse",value:function(){var r=this.parseAndValidateProvider(this._funcText);return r instanceof ho?(this._func=r,this._funcErrorText=void 0,this.configuration.label=r.name,this.svgLabel=void 0,!0):(this._func=void 0,this._funcErrorText=r,this.configuration.label=void 0,this.svgLabel=void 0,!1)}},{key:"reparseIfNecessary",value:function(){return!this.funcError&&void 0!==this.func||this.reparse()}},{key:"getPositionForLabel",value:function(r){var i=nr(r.range);try{var s=i.x+.6*i.width;return{x:s,y:this.func.evaluate(s)+.05*i.height}}catch{return}}},{key:"clone",value:function(){var r=new n(this.parseAndValidateProvider,this.funcText,this.color,this.visible,this.lineWidth,this.configuration.showLabel);return r.configuration=re({},this.configuration),r.svgLabel=void 0,r}},{key:"derive",value:function(r){try{var i,a=new n(this.parseAndValidateProvider,null===(i=this.func)||void 0===i?void 0:i.derive(),r??this.color);return a.configuration.editable=!0,a}catch{return}}},{key:"canDerive",value:function(){try{return void 0!==this.func&&(this.func.derive(),!0)}catch{return!1}}}],[{key:"getDefaultInstance",value:function(r){return new n(r.parseAndValidateProviderGraph)}}])}(qi),Nz=["wrapper"],Fz=function(n){return{color:n}},Rz=function(n){return{disabled:n}};function Lz(e,n){if(1&e){var t=Vr();b(0,"div",3),te("click",function(s){var u=We(t).$implicit;return qe(nn().click(s,u))})("keydown",function(s){var u=We(t).$implicit;return qe(nn().onTabKeyboard(s,u))}),b(1,"p"),S(2),E(),b(3,"span",4),S(4),E()()}if(2&e){var r,i,a=n.$implicit;Q("title",null!==(r=a.title)&&void 0!==r?r:"")("ngStyle",Sn(5,Fz,null!==(i=a.color)&&void 0!==i?i:"black"))("ngClass",Sn(7,Rz,a.disabled)),P(2),tn(a.header),P(2),tn(a.icon)}}var Vz=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"wrapper",void 0),h(this,"wrapperElement",void 0),h(this,"elements",[]),h(this,"_contextMenu",{elements:function(){return[]}}),h(this,"_position",{x:0,y:0})},[{key:"contextMenu",get:function(){return this._contextMenu},set:function(i){this._contextMenu=i,this.elements=i.elements()}},{key:"position",get:function(){if(this.wrapperElement){var i={width:window.innerWidth,height:window.innerHeight},a=this.wrapperElement.getBoundingClientRect();return{x:Math.min(this._position.x,i.width-a.width),y:Math.min(this._position.y,i.height-a.height)}}return this._position},set:function(i){this._position=i}},{key:"ngAfterViewInit",value:function(){this.wrapperElement=this.wrapper.nativeElement,this.setPosition()}},{key:"setPosition",value:function(){if(this.wrapperElement){var i=this.position;this.wrapperElement.style.left="".concat(i.x,"px"),this.wrapperElement.style.top="".concat(i.y,"px")}}},{key:"click",value:function(i,a){!a.disabled&&a.click&&a.click(i)}},{key:"onTabKeyboard",value:function(i,a){("Enter"==i.key||" "==i.key)&&this.click(i,a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-context-menu"]],viewQuery:function(r,i){var a;1&r&&bt(Nz,5),2&r&&Dt(a=Et())&&(i.wrapper=a.first)},decls:3,vars:1,consts:[["wrapper",""],[1,"wrapper"],["class","element","tabindex","0",3,"title","ngStyle","ngClass","click","keydown",4,"ngFor","ngForOf"],["tabindex","0",1,"element",3,"click","keydown","title","ngStyle","ngClass"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(b(0,"div",1,0),Ln(2,Lz,5,9,"div",2),E()),2&r&&(P(2),Q("ngForOf",i.elements))},dependencies:[Xt,lo,fo],styles:['.element[_ngcontent-%COMP%]{--height: 30px;--sizeIcon: 30px;--marginToIcon: 5px;height:var(--height);user-select:none;line-height:var(--height);padding:7px;font-size:12pt;font-family:Segoe UI,sans-serif;border-radius:var(--borderRadius);background:#fff;transition:.1s all ease-in-out}.element[_ngcontent-%COMP%]:hover{background:#eee}.element[_ngcontent-%COMP%]:active{background:#ccc}.element.disabled[_ngcontent-%COMP%]{color:gray!important}.element.disabled[_ngcontent-%COMP%]:hover, .element.disabled[_ngcontent-%COMP%]:active{background:#fff}.element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:calc(var(--sizeIcon) + var(--marginToIcon));margin-top:0;margin-bottom:0}@keyframes _ngcontent-%COMP%_start{0%{opacity:0;transform:scale(1)}to{opacity:1}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;transform-origin:top left;animation:.1s start ease-in-out;z-index:1}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translateY(-27.5px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})),n}(),zk=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"vc",void 0),h(this,"contextMenu",void 0),h(this,"_appContextMenu",void 0),h(this,"element",void 0),h(this,"contextmenuDocumentEventListener",function(a){(a instanceof PointerEvent||a instanceof MouseEvent)&&-1===a.composedPath().indexOf(i.element)&&i.destroyContextMenu()}),h(this,"keyboardDocumentEventListener",function(a){a instanceof KeyboardEvent&&"Escape"==a.key&&i.destroyContextMenu()}),h(this,"closeContextMenuEventListener",function(a){a!==i.skipEvent&&i.destroyContextMenu(),i.skipEvent=void 0}),h(this,"contextmenuEventListener",function(a){(a instanceof PointerEvent||a instanceof MouseEvent)&&(a.preventDefault(),i.showContextMenuAt({x:a.x,y:a.y}))}),h(this,"skipEvent",void 0),h(this,"customContextMenuActivateListener",function(a){var s,o=a?a[0]:void 0;i.skipEvent=a?a[1]:void 0,!o&&i._appContextMenu&&(o=i._appContextMenu.defaultPopUpPosition),o||(o=null!==(s=i.element.getBoundingClientRect())&&void 0!==s?s:{x:0,y:0}),i.showContextMenuAt(o)}),this.vc=r,this.element=r.element.nativeElement,this.element.addEventListener("contextmenu",this.contextmenuEventListener)},[{key:"appContextMenu",get:function(){return this._appContextMenu},set:function(i){this._appContextMenu&&this._appContextMenu.additionalEvent&&this._appContextMenu.additionalEvent.removeListener(this.customContextMenuActivateListener),i&&i.additionalEvent&&i.additionalEvent.addListener(this.customContextMenuActivateListener),this._appContextMenu=i}},{key:"ngOnDestroy",value:function(){this.element.removeEventListener("contextmenu",this.contextmenuEventListener),this.destroyContextMenu()}},{key:"showContextMenuAt",value:function(i){this.destroyContextMenu(),this._appContextMenu&&(this.contextMenu=this.vc.createComponent(Vz),this.contextMenu.instance.position=i,this.contextMenu.instance.contextMenu=this._appContextMenu,document.addEventListener("click",this.closeContextMenuEventListener),document.addEventListener("wheel",this.closeContextMenuEventListener),document.addEventListener("contextmenu",this.contextmenuDocumentEventListener),document.addEventListener("keydown",this.keyboardDocumentEventListener))}},{key:"destroyContextMenu",value:function(){this.contextMenu&&(this.contextMenu.destroy(),this.contextMenu=void 0,document.removeEventListener("click",this.closeContextMenuEventListener),document.removeEventListener("wheel",this.closeContextMenuEventListener),document.removeEventListener("contextmenu",this.contextmenuDocumentEventListener),document.removeEventListener("keydown",this.keyboardDocumentEventListener))}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(Rn))}),h(n,"\u0275dir",se({type:e,selectors:[["","appContextMenu",""]],inputs:{appContextMenu:"appContextMenu"}})),n}(),Bz=["formula"],Hz=function(n){return{selected:n}},Uz=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"dialogService",void 0),h(this,"canvasElement",void 0),h(this,"formula",void 0),h(this,"formulaElementComp",void 0),this.drawerService=r,this.dialogService=i},[{key:"ngAfterViewInit",value:function(){var i=this;setTimeout(function(){i.formulaElementComp=i.formula.createComponent(i.canvasElement.componentType).instance,i.formulaElementComp.canvasElement=i.canvasElement})}},{key:"selected",get:function(){return this.drawerService.selection.contains(this.canvasElement||void 0)}},{key:"getContextMenuElementsFromFormulaElement",value:function(){return this.formulaElementComp?this.formulaElementComp.contextMenu.elements():[]}},{key:"completeContextMenu",get:function(){var a,o,i=this;return{elements:function(){var u=void 0!==i.canvasElement.formulaDialogType?[{header:"Anzeigen",click:function(){var f;null===(f=i.dialogService.createDialog(i.canvasElement.formulaDialogType))||void 0===f||f.open(i.canvasElement)},icon:"visibility",title:"Element anzeigen und bearbeiten."}]:[],l=i.selected,c=[].concat(u,B(i.getContextMenuElementsFromFormulaElement()),[{header:l?"Auswahl entfernen":"Ausw\xe4hlen",click:function(){i.drawerService.selection.alternate(i.canvasElement||void 0)},icon:l?"remove_done":"done",title:"Dieses Element ausw\xe4hlen."},{header:"L\xf6schen",color:"red",click:function(){i.drawerService.removeCanvasElements(i.canvasElement)},icon:"delete",title:"Dieses Element l\xf6schen."}]);return l&&c.push({header:"Auswahl l\xf6schen",click:function(){var f;(f=i.drawerService).removeCanvasElements.apply(f,B(i.drawerService.selection.toArray()))},color:"red",icon:"delete_sweep",title:"Alle ausgew\xe4hlten Elemente l\xf6schen."}),c},additionalEvent:null===(a=this.formulaElementComp)||void 0===a?void 0:a.contextMenu.additionalEvent,defaultPopUpPosition:null===(o=this.formulaElementComp)||void 0===o?void 0:o.contextMenu.defaultPopUpPosition}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr),x(iu))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-formula-element"]],viewQuery:function(r,i){var a;1&r&&bt(Bz,5,Rn),2&r&&Dt(a=Et())&&(i.formula=a.first)},inputs:{canvasElement:"canvasElement"},decls:3,vars:4,consts:[["formula",""],[1,"wrapper",3,"appContextMenu","ngClass"],[1,"formula"]],template:function(r,i){1&r&&(b(0,"div",1),Ae(1,"div",2,0),E()),2&r&&Q("appContextMenu",i.completeContextMenu)("ngClass",Sn(2,Hz,i.selected))},dependencies:[Xt,zk],styles:[".wrapper[_ngcontent-%COMP%]{padding:15px;background:#fcfcfc;border:1px solid transparent;border-bottom:1px solid #ccc}.selected[_ngcontent-%COMP%]{border:1px solid black;border-radius:7px}.formula[_ngcontent-%COMP%]{display:none}"]})),n}();function zz(e,n){1&e&&Ae(0,"app-formula-element",3),2&e&&Q("canvasElement",n.$implicit)}var jz=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"drawerService",void 0),h(this,"contextMenu",{elements:function(){return[{header:"Funktion hinzuf\xfcgen",click:function(){i.addGraph()},icon:"show_chart",title:"Eine Funktion hinzuf\xfcgen."},{header:"Punkt hinzuf\xfcgen",click:function(){i.addPoint()},icon:"radio_button_checked",title:"Einen Punkt hinzuf\xfcgen."},{header:"Kurve hinzuf\xfcgen",click:function(){i.addCurve()},icon:"gesture",title:"Eine Kurve hinzuf\xfcgen."},{header:"Alle l\xf6schen",click:function(){i.drawerService.emptyCanvasElements()},icon:"delete",color:"red",title:"Alle Elemente l\xf6schen."}]}}),this.drawerService=r},[{key:"ngOnInit",value:function(){}},{key:"addClick",value:function(){this.addGraph()}},{key:"keyboardAdd",value:function(i){("Enter"==i.key||" "==i.key)&&this.addClick()}},{key:"addGraph",value:function(){var i=new rt(this.drawerService.parseAndValidateProviderGraph,void 0,this.drawerService.getNewColor());i.configuration.formula="0",i.configuration.editable=!0,this.drawerService.addCanvasElements(i)}},{key:"addPoint",value:function(){var i=this,a=new cu(function(o){return i.drawerService.parseAndValidateOperation(o)},this.drawerService.getNewColor());this.drawerService.addCanvasElements(a)}},{key:"addCurve",value:function(){var i=this,a=new du(function(o,s){return i.drawerService.parseAndValidateOperation(o,!0,s)},this.drawerService.getNewColor());this.drawerService.addCanvasElements(a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-formula-tab"]],decls:6,vars:2,consts:[[3,"canvasElement",4,"ngFor","ngForOf"],["tabindex","0",1,"addDiv",3,"click","keydown","appContextMenu"],[1,"material-symbols-outlined"],[3,"canvasElement"]],template:function(r,i){1&r&&(Ln(0,zz,1,1,"app-formula-element",0),b(1,"div",1),te("click",function(){return i.addClick()})("keydown",function(o){return i.keyboardAdd(o)}),b(2,"p")(3,"span",2),S(4,"add"),E(),S(5," Hinzuf\xfcgen "),E()()),2&r&&(Q("ngForOf",i.drawerService.canvasElements),P(),Q("appContextMenu",i.contextMenu))},dependencies:[lo,zk,Uz],styles:['.addDiv[_ngcontent-%COMP%]{height:62px;background:#fcfcfc;transition:.1s all ease-in-out;line-height:62px}.addDiv[_ngcontent-%COMP%]:hover{background:#eee}.addDiv[_ngcontent-%COMP%]:active{background:#ddd}p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;user-select:none;margin:0;height:100%;width:100%;display:inline-block;font-family:Segoe UI,Calibri,"sans-serif";font-size:13pt}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translate(-5px,6px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})),n}(),Gz=["canvas"],Wz=["wrapper"],od="screenshot_range",sd="screenshot_zoom",ud="screenshot_resolution",qz=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"drawerService",void 0),h(this,"canvas",void 0),h(this,"canvasEl",void 0),h(this,"wrapper",void 0),h(this,"wrapperEl",void 0),h(this,"dialog",void 0),h(this,"_range",{x:0,y:0,width:0,height:0}),h(this,"_zoom",1),h(this,"_resolution",1),this.drawerService=r,this.load()},[{key:"x",get:function(){return this._range.x},set:function(i){this._range.x=i,this.save(),this.reload()}},{key:"y",get:function(){return this._range.y},set:function(i){this._range.y=i,this.save(),this.reload()}},{key:"width",get:function(){return Math.abs(this._range.width)},set:function(i){this._range.width=Math.abs(i),this.save(),this.reload()}},{key:"height",get:function(){return Math.abs(this._range.height)},set:function(i){this._range.height=Math.abs(i),this.save(),this.reload()}},{key:"zoom",get:function(){return this._zoom},set:function(i){i>0&&(this._zoom=i,this.save(),this.reload())}},{key:"resolution",get:function(){return this._resolution},set:function(i){i>0&&(this._resolution=i,this.save(),this.reload())}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.reload()}},{key:"download",value:function(){var i=document.createElement("canvas");this.drawToCanvas(i);var a=document.createElement("a");a.download="export.png",a.href=i.toDataURL(),a.click(),this.dialog.close()}},{key:"reset",value:function(){sessionStorage.removeItem(od),sessionStorage.removeItem(sd),sessionStorage.removeItem(ud),this.load()}},{key:"load",value:function(){var i,a,o;this._range=sessionStorage[od]&&null!==(i=JSON.parse(sessionStorage[od]))&&void 0!==i?i:this.drawerService.renderingContext.range,this._zoom=sessionStorage[sd]&&null!==(a=JSON.parse(sessionStorage[sd]))&&void 0!==a?a:this.drawerService.zoom,this._resolution=sessionStorage[ud]&&null!==(o=JSON.parse(sessionStorage[ud]))&&void 0!==o?o:1,this.reload()}},{key:"save",value:function(){sessionStorage[od]=JSON.stringify(this._range),sessionStorage[sd]=JSON.stringify(this._zoom),sessionStorage[ud]=JSON.stringify(this._resolution)}},{key:"drawToCanvas",value:function(i){this.drawerService.drawToCanvas(i,{x:0,y:0,width:this.width*this.zoom,height:this.height*this.zoom},{translateX:-this.x,translateY:-this.y,zoom:this.zoom,resolutionFactor:this.resolution})}},{key:"reload",value:function(){this.canvasEl&&this.drawToCanvas(this.canvasEl)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-screenshot-dialog"]],viewQuery:function(r,i){var a;1&r&&(bt(Gz,5),bt(Wz,5)),2&r&&(Dt(a=Et())&&(i.canvas=a.first),Dt(a=Et())&&(i.wrapper=a.first))},decls:34,vars:6,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"centered","maths"],["type","number","title","x",1,"input",3,"ngModelChange","ngModel"],["type","number","title","y",1,"input",3,"ngModelChange","ngModel"],["type","number","title","Breite",1,"input",3,"ngModelChange","ngModel"],["type","number","title","H\xf6he",1,"input","leftMargin",3,"ngModelChange","ngModel"],["type","number","title","Zoom",1,"input",3,"ngModelChange","ngModel"],["type","number","title","Hohe Werte erh\xf6hen die Aufl\xf6sung",1,"input",3,"ngModelChange","ngModel"],[1,"canvasWrapper"],["id","canvas",1,"canvas"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Download",1,"button","floatRight",3,"click"],["title","Ausschnitt zur\xfccksetzen",1,"button","floatRight",3,"click"]],template:function(r,i){if(1&r){var a=Vr();b(0,"div",2)(1,"p",3),S(2,"Screenshot machen"),E(),b(3,"p",4),S(4,"Startpunkt:"),E(),b(5,"p",5),S(6," ("),b(7,"input",6),j("ngModelChange",function(s){return We(a),H(i.x,s)||(i.x=s),qe(s)}),E(),S(8,"| "),b(9,"input",7),j("ngModelChange",function(s){return We(a),H(i.y,s)||(i.y=s),qe(s)}),E(),S(10,") "),E(),b(11,"p",4),S(12,"Breite und H\xf6he:"),E(),b(13,"p",5)(14,"input",8),j("ngModelChange",function(s){return We(a),H(i.width,s)||(i.width=s),qe(s)}),E(),b(15,"input",9),j("ngModelChange",function(s){return We(a),H(i.height,s)||(i.height=s),qe(s)}),E()(),b(16,"p",4),S(17,"Zoom:"),E(),b(18,"p",5)(19,"input",10),j("ngModelChange",function(s){return We(a),H(i.zoom,s)||(i.zoom=s),qe(s)}),E()(),b(20,"p",4),S(21,"Aufl\xf6sungsfaktor:"),E(),b(22,"p",5)(23,"input",11),j("ngModelChange",function(s){return We(a),H(i.resolution,s)||(i.resolution=s),qe(s)}),E()(),b(24,"div",12,0),Ae(26,"canvas",13,1),E(),b(28,"button",14),te("click",function(){return We(a),qe(i.dialog.close())}),S(29,"Schlie\xdfen"),E(),b(30,"button",15),te("click",function(){return We(a),qe(i.download())}),S(31,"Download"),E(),b(32,"button",16),te("click",function(){return We(a),qe(i.reset())}),S(33,"Zur\xfccksetzen"),E()()}2&r&&(P(7),z("ngModel",i.x),P(2),z("ngModel",i.y),P(5),z("ngModel",i.width),P(),z("ngModel",i.height),P(4),z("ngModel",i.zoom),P(4),z("ngModel",i.resolution))},dependencies:[ln,kt,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:100px;display:unset}.leftMargin[_ngcontent-%COMP%]{margin-left:15px}.canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.canvasWrapper[_ngcontent-%COMP%]{padding:0;max-width:75vw}']})),n}(),Yz=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"dialogService",void 0),this.drawerService=r,this.dialogService=i},[{key:"ngOnInit",value:function(){}},{key:"screenshot",value:function(){var i;null===(i=this.dialogService.createDialog(qz))||void 0===i||i.open()}},{key:"download",value:function(){var i="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.drawerService.serialize())),a=document.createElement("a");a.href=i,a.download="download.json",a.click(),localStorage.setItem("serialized",JSON.stringify(this.drawerService.serialize()))}},{key:"openFile",value:function(){var i=this,a=document.getElementById("inp");if(a.files){var o,s=null===(o=a.files)||void 0===o?void 0:o.item(0);s?.text().then(function(u){try{i.drawerService.loadFrom(JSON.parse(u))}catch(l){console.error(l)}})}}},{key:"reset",value:function(){try{this.drawerService.loadFrom({canvasElements:[],backgroundColor:{r:255,g:255,b:255},transformations:{translateX:7,translateY:-5,zoom:100},showGrid:!0,showGridNumbers:!0,drawNewLabels:!0})}catch{}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr),x(iu))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-settings-tab"]],decls:30,vars:5,consts:[[1,"wrapper"],[1,"showGrid","settingsContainer"],["type","checkbox","id","showGrid",3,"ngModelChange","ngModel"],["for","showGrid"],[1,"showGridNumbers","settingsContainer"],["type","checkbox","id","showGridNumbers",3,"ngModelChange","ngModel","disabled"],["for","showGridNumbers"],[1,"drawPointsEqually","settingsContainer"],["type","checkbox","id","drawPointsEqually",3,"ngModelChange","ngModel"],["for","drawPointsEqually"],[1,"drawNewLabels","settingsContainer"],["type","checkbox","id","drawNewLabels",3,"ngModelChange","ngModel"],["for","drawNewLabels"],[1,"screenshotDiv","settingsContainer"],["title","Mache ein Screenshot",1,"button",3,"click"],[1,"downloadDiv","settingsContainer"],["title","Speicher in einer Datei",1,"button",3,"click"],[1,"openDiv","settingsContainer"],[1,"button","inpButton"],["title","Lade aus einer Datei","id","inp","type","file","accept",".json",3,"change"],[1,"resetDiv","settingsContainer"],["title","Alles zur\xfccksetzen",1,"button",3,"click"]],template:function(r,i){1&r&&(b(0,"div",0)(1,"div",1)(2,"input",2),j("ngModelChange",function(o){return H(i.drawerService.showGrid,o)||(i.drawerService.showGrid=o),o}),E(),b(3,"label",3),S(4,"Koordinatengitter anzeigen"),E()(),b(5,"div",4)(6,"input",5),j("ngModelChange",function(o){return H(i.drawerService.showGridNumbers,o)||(i.drawerService.showGridNumbers=o),o}),E(),b(7,"label",6),S(8,"Achsenbeschriftung anzeigen"),E()(),b(9,"div",7)(10,"input",8),j("ngModelChange",function(o){return H(i.drawerService.drawPointsEqually,o)||(i.drawerService.drawPointsEqually=o),o}),E(),b(11,"label",9),S(12,"Punkte auf gleicher Ebene zeichnen"),E()(),b(13,"div",10)(14,"input",11),j("ngModelChange",function(o){return H(i.drawerService.drawNewLabels,o)||(i.drawerService.drawNewLabels=o),o}),E(),b(15,"label",12),S(16,"Neues Verschieben der Labels verwenden"),E()(),b(17,"div",13)(18,"button",14),te("click",function(){return i.screenshot()}),S(19,"Screenshot"),E()(),b(20,"div",15)(21,"button",16),te("click",function(){return i.download()}),S(22,"Herunterladen"),E()(),b(23,"div",17)(24,"button",18),S(25," \xd6ffnen "),b(26,"input",19),te("change",function(){return i.openFile()}),E()()(),b(27,"div",20)(28,"button",21),te("click",function(){return i.reset()}),S(29,"Zur\xfccksetzen"),E()()()),2&r&&(P(2),z("ngModel",i.drawerService.showGrid),P(4),z("ngModel",i.drawerService.showGridNumbers),Q("disabled",!i.drawerService.showGrid),P(4),z("ngModel",i.drawerService.drawPointsEqually),P(4),z("ngModel",i.drawerService.drawNewLabels))},dependencies:[zr,_n,cn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{padding:16px;font-family:Segoe UI,Calibri,"sans-serif";font-size:11pt;user-select:none}.settingsContainer[_ngcontent-%COMP%]{margin-bottom:7px}.settingsContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:7px}.inpButton[_ngcontent-%COMP%]{position:relative}#inp[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}']})),n}(),Kz=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){r.addCanvasElements(new he(a,r.getNewColor()))}}])}(Mr),$z=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){if(0===r.selection.size)Ye(Oe(n.prototype),"pointerMove",this).call(this,r,i,a,o,s);else{var l,u=A(r.selection.toArray());try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof he&&void 0!==c.x&&void 0!==c.y&&!c.dependent&&(c.x+=o.x-a.x,c.y+=o.y-a.y)}}catch(d){u.e(d)}finally{u.f()}}}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey,function(s){return s instanceof he&&!s.dependent})}}])}(Mr),pi=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"types1",void 0),h(i,"types2",void 0),h(i,"selectedElement",void 0),i.types1=t,i.types2=r,i}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=this;r.selection.empty();var u=r.getSelection(a,function(l){return void 0===s.selectedElement&&(rr.apply(void 0,[l].concat(B(s.types1)))||rr.apply(void 0,[l].concat(B(s.types2))))||rr.apply(void 0,[s.selectedElement].concat(B(s.types1)))&&rr.apply(void 0,[l].concat(B(s.types2)))||rr.apply(void 0,[s.selectedElement].concat(B(s.types2)))&&rr.apply(void 0,[l].concat(B(s.types1)))});void 0!==u&&u!==this.selectedElement?void 0!==this.selectedElement?(rr.apply(void 0,[this.selectedElement].concat(B(this.types1)))&&rr.apply(void 0,[u].concat(B(this.types2)))?this.addCanvasElement(r,this.selectedElement,u):rr.apply(void 0,[this.selectedElement].concat(B(this.types2)))&&rr.apply(void 0,[u].concat(B(this.types1)))&&this.addCanvasElement(r,u,this.selectedElement),this.selectedElement=void 0):(this.selectedElement=u,r.selection.set(u)):this.selectedElement=void 0}}])}(Mr);function rr(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0,a=t;i<a.length;i++)if(e instanceof a[i])return!0;return!1}var Qz=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[he,Bn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createConnection(i,a))}}])}(pi),Xz=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[he,Bn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(new ft(function(){return[i.point,a.point]},[i,a],function(){return{p1:i.id,p2:a.id}},Vn,"Verbindungsstrecke"))}}])}(pi),Jz=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[he,Bn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(new St(function(){return i.point},function(){return void 0!==i.point&&void 0!==a.point?Math.sqrt(Math.pow(i.point.x-a.point.x,2)+Math.pow(i.point.y-a.point.y,2)):void 0},[i,a],function(){return{center:i.id,scdPoint:a.id}},Vn,"Verbindungskreis"))}}])}(pi),jk=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[he,Bn]])}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(u){return u instanceof ft});void 0!==s?this.addCanvasElementFromLineSegment(r,s):Ye(Oe(n.prototype),"click",this).call(this,r,i,a,o)}}])}(pi),ej=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createBisectionByPoints(i,a))}},{key:"addCanvasElementFromLineSegment",value:function(r,i){r.addCanvasElements(vt.createBisectionByLineSegment(i))}}])}(jk),nj=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[vt,ft]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createParallel(i,a))}}])}(pi),tj=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[vt,ft]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createOrthogonal(i,a))}}])}(pi),rj=function(e){function n(){return y(this,n),w(this,n,[[vt,ft,St],[vt,ft,St]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){var o=Bn.createIntersectionPoints(i,a);r.addCanvasElements.apply(r,B(o))}}])}(pi),ij=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(Bn.createMiddlePointByPoints(i,a))}},{key:"addCanvasElementFromLineSegment",value:function(r,i){r.addCanvasElements(Bn.createMiddlePointByLineSegment(i))}}])}(jk),Gk=function(e){function n(){var t;y(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return h(t=w(this,n,[].concat(i)),"clickedElement1",void 0),h(t,"clickedElement2",void 0),t}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(d){return d instanceof he});if(void 0!==s){if(s===this.clickedElement1)return this.clickedElement1=this.clickedElement2,this.clickedElement2=void 0,void r.selection.remove(s);if(s===this.clickedElement2)return this.clickedElement2=void 0,void r.selection.remove(s);if((void 0===this.clickedElement1&&void 0===this.clickedElement2||void 0!==this.clickedElement1&&void 0!==this.clickedElement2)&&r.selection.empty(),void 0===this.clickedElement1)return this.clickedElement1=s,void r.selection.set(s);if(void 0===this.clickedElement2)return this.clickedElement2=s,void r.selection.alternate(s);var u=this.clickedElement2,l=this.clickedElement1,c=s;this.clickedElement1=void 0,this.clickedElement2=void 0,this.addCanvasElement(r,l,u,c)}else r.selection.empty(),this.clickedElement1=void 0,this.clickedElement2=void 0}}])}(Mr),aj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a,o){r.addCanvasElements(vt.createAngleBisector(a,i,o))}}])}(Gk),oj=function(e){function n(){return y(this,n),w(this,n,[[he,Bn],[St]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements.apply(r,B(vt.createTangens(i,a)))}}])}(pi),sj=function(e){function n(){var t;y(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return h(t=w(this,n,[].concat(i)),"transformInvisibleColor",function(o){return wt(o)}),t}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(){return!0},!1);void 0!==s&&(s.visible=!s.visible)}}])}(Mr),uj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a);void 0!==s&&(s.configuration.showLabel=!0!==s.configuration.showLabel,r.onCanvasElementChanged.emit(s))}}])}(Mr),lj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){if(0===r.selection.size)Ye(Oe(n.prototype),"pointerMove",this).call(this,r,i,a,o,s);else{var l,u=A(r.selection.toArray());try{for(u.s();!(l=u.n()).done;){var d,c=l.value;if(c.configuration.showLabel&&c.configuration.label)if(null!==(d=i.config)&&void 0!==d&&d.drawNewLabels){var f=i.zoom,g=(o.y-a.y)*f;c.labelTranslateX+=(o.x-a.x)*f,c.labelTranslateY+=g}else{var p=i.range,_=(o.x-a.x)/Math.abs(p.width),D=(o.y-a.y)/Math.abs(p.height);c.labelTranslateX+=_,c.labelTranslateY+=D}}}catch(C){u.e(C)}finally{u.f()}}}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey)}}])}(Mr),cj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a,o){r.addCanvasElements(new lu([i,a,o],r.getNewColor()))}}])}(Gk),dj=function(e){function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE;return y(this,n),h(i=w(this,n),"types",void 0),h(i,"minElements",void 0),h(i,"maxElements",void 0),h(i,"clickedElements",[]),i.types=t,i.minElements=r,i.maxElements=a,i}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=this,u=r.getSelection(a,function(c){return rr.apply(void 0,[c].concat(B(s.types)))});if(void 0!==u)if(0===this.clickedElements.length)this.clickedElements.push(u),r.selection.set(u);else if(u===this.clickedElements[this.clickedElements.length-1])this.clickedElements.splice(this.clickedElements.length-1),-1===this.clickedElements.indexOf(u)&&r.selection.remove(u);else if(u===this.clickedElements[0]&&this.clickedElements.length+1>=this.minElements&&this.clickedElements.length+1<=this.maxElements){var l=B(this.clickedElements);this.clickedElements=[],r.selection.empty(),this.addCanvasElement(r,l)}else this.clickedElements.push(u),r.selection.add(u);else r.selection.empty(),this.clickedElements=[]}}])}(Mr),fj=function(e){function n(){return y(this,n),w(this,n,[[he],3])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i){r.addCanvasElements(new dp(function(){return i.map(function(a){return a.point})},i,function(){return{points:i.map(function(a){return a.id})}},r.getNewColor(),"Polygon"))}}])}(dj),vj=function(n){return{active:n}};function hj(e,n){if(1&e){var t=Vr();b(0,"div",5),te("click",function(){return qe(We(t).$implicit.click())}),Ae(1,"img",6),b(2,"p"),S(3),E()()}if(2&e){var r=n.$implicit;Q("title",r.tooltip)("ngClass",Sn(4,vj,r.isActivated())),P(),Q("src","./assets/"+r.icon+".svg",tv),P(2),tn(r.title)}}function gj(e,n){if(1&e&&(b(0,"div",2)(1,"p",3),S(2),E(),Ln(3,hj,4,6,"div",4),E()),2&e){var t=n.$implicit;P(2),tn(t.name),P(),Q("ngForOf",t.modes)}}var pj=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"drawerService",void 0),h(this,"groups",[{name:"Bewegungen und Sichtbarkeiten",modes:[new On(function(){return i.drawerService},function(){return new Mr},"Bewegen","Bewege den Canvas und w\xe4hle Elemente aus","move"),new On(function(){return i.drawerService},function(){return new $z},"Verschieben","Verschiebe Punkte","movePoints"),new On(function(){return i.drawerService},function(){return new sj},"Anzeigen","Mache Elemente (un-)sichtbar","changeVisibility"),new On(function(){return i.drawerService},function(){return new uj},"Label anzeigen","Mache Labels (un-)sichtbar","showLabelVisibility"),new On(function(){return i.drawerService},function(){return new lj},"Label bewegen","Verschiebe Labels","moveLabels")]},{name:"Einfache Konstruktionen",modes:[new On(function(){return i.drawerService},function(){return new Kz},"Punkte","Erstelle neue Punkte","points"),new On(function(){return i.drawerService},function(){return new Qz},"Gerade","Erstelle eine neue Gerade mit zwei Punkten","line"),new On(function(){return i.drawerService},function(){return new Xz},"Strecke","Erstelle eine neue Strecke zwischen zwei Punkten","lineSegment"),new On(function(){return i.drawerService},function(){return new Jz},"Kreis","Erstelle einen neuen Kreis mit zwei Punkten","circle"),new On(function(){return i.drawerService},function(){return new fj},"Polygon","Erstelle ein neues Polygon mit mindestens drei Punkten","polygon")]},{name:"Weiter Konstruktionen",modes:[new On(function(){return i.drawerService},function(){return new rj},"Schnittpunkt","Mache den Schnittpunkt zwischen Geraden, Strecken und Kreisen","intersection"),new On(function(){return i.drawerService},function(){return new ij},"Mittelpunkt","Mache den Mittelpunkt einer Strecke oder zwischen zwei Punkten","middlePoint"),new On(function(){return i.drawerService},function(){return new ej},"Mittelsenk.","Mache die Mittelsenkrechte einer Strecke oder zwischen zwei Punkten","bisection"),new On(function(){return i.drawerService},function(){return new cj},"Winkel","Lege einen Winkel durch drei Punkte","angle"),new On(function(){return i.drawerService},function(){return new aj},"Winkelhalb.","Mache die Winkelhalbierende von drei Punkten","angleBisector"),new On(function(){return i.drawerService},function(){return new nj},"Parallel","Mache die Parallele zu einer Geraden durch einen Punkt","parallel"),new On(function(){return i.drawerService},function(){return new tj},"Lot","Mache den Lot zu eine Geraden durch einen Punkt","orthogonal"),new On(function(){return i.drawerService},function(){return new oj},"Tangente","Mache die Tangente an einen Kreis durch einen Punkt","tangens")]}]),this.drawerService=r},[{key:"ngOnInit",value:function(){}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-geometry-tab"]],decls:2,vars:1,consts:[[1,"wrapper"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"groupName"],["class","tabHeader","tabindex","0",3,"title","ngClass","click",4,"ngFor","ngForOf"],["tabindex","0",1,"tabHeader",3,"click","title","ngClass"],[1,"icon",3,"src"]],template:function(r,i){1&r&&(b(0,"div",0),Ln(1,gj,4,2,"div",1),E()),2&r&&(P(),Q("ngForOf",i.groups))},dependencies:[Xt,lo],styles:['.wrapper[_ngcontent-%COMP%]{--size: 70px;--margin: 9px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;display:inline-block}.tabHeader[_ngcontent-%COMP%], .groupName[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.groupName[_ngcontent-%COMP%]{font-weight:700;font-size:large;margin-top:50px;margin-bottom:0}.group[_ngcontent-%COMP%]:first-child   .groupName[_ngcontent-%COMP%]{margin-top:0}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:-20px;text-align:center;line-height:2.5;font-size:smaller}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.wrapper[_ngcontent-%COMP%]{margin:16px}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;user-select:none;pointer-events:none}']})),n}(),On=function(){return m(function e(n,t,r,i,a){y(this,e),h(this,"drawerServiceProvider",void 0),h(this,"getInstance",void 0),h(this,"title",void 0),h(this,"tooltip",void 0),h(this,"icon",void 0),this.drawerServiceProvider=n,this.getInstance=t,this.title=r,this.tooltip=i,this.icon=a},[{key:"click",value:function(){this.drawerServiceProvider().mode=this.getInstance(!0)}},{key:"isActivated",value:function(){var t=this.drawerServiceProvider().mode;return void 0!==t&&t.constructor===this.getInstance(!1).constructor}}])}(),mj=function(){var e=function(){function n(t,r){var i=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y(this,n),h(this,"element",void 0),h(this,"pointerControllerEvents",void 0),h(this,"preventDefault",void 0),h(this,"_active",!1),h(this,"pointerCache",new rp),h(this,"pointerMoveCountCache",new rp),h(this,"startEvent",function(o){if(o instanceof PointerEvent){var s=Nc(o,i.element);i.pointerCache.setItem(o.pointerId,s),i.pointerMoveCountCache.setItem(o.pointerId,0),i.pointerControllerEvents.pointerStart&&i.pointerControllerEvents.pointerStart(s,i.getPointerContext(o))}}),h(this,"moveEvent",function(o){if(o instanceof PointerEvent){var s=Nc(o,i.element);i.pointerMoveCountCache.hasKey(o.pointerId)&&i.pointerMoveCountCache.setItem(o.pointerId,i.pointerMoveCountCache.getItem(o.pointerId)+1),i.pointerCache.hasKey(o.pointerId)&&(i.pointerControllerEvents.pointerMove&&i.pointerControllerEvents.pointerMove(i.pointerCache.getItem(o.pointerId),s,i.getPointerContext(o)),i.pointerCache.setItem(o.pointerId,s))}}),h(this,"endEvent",function(o){if(o instanceof PointerEvent){var s=Nc(o,i.element),u=i.getPointerContext(o);i.pointerControllerEvents.pointerEnd&&i.pointerCache.hasKey(o.pointerId)&&i.pointerControllerEvents.pointerEnd(s,u),i.pointerControllerEvents.click&&0===i.pointerMoveCountCache.getItem(o.pointerId)&&i.pointerControllerEvents.click(s,u),i.pointerCache.delItem(o.pointerId),i.pointerMoveCountCache.delItem(o.pointerId)}}),h(this,"mouseWheelHandler",function(o){if(o instanceof WheelEvent){o.preventDefault();var s=Nc(o,i.element),u=Math.sqrt(Math.pow(o.deltaY,2)+Math.pow(o.deltaX,2)+Math.pow(o.deltaZ,2))*Math.sign((o.deltaX?o.deltaX:1)*(o.deltaY?o.deltaY:1)*(o.deltaZ?o.deltaZ:1));i.pointerControllerEvents.scroll&&i.pointerControllerEvents.scroll(s,u)}}),h(this,"preventDefaultEvent",function(o){o.preventDefault()}),h(this,"mainTouchEventId",void 0),h(this,"evCache",[]),h(this,"prevDiff",-1),h(this,"startPinchZoomEvent",function(o){o instanceof PointerEvent&&"touch"==o.pointerType&&(i.evCache.push(o),null==i.mainTouchEventId&&(i.mainTouchEventId=o.pointerId))}),h(this,"movePinchZoomEvent",function(o){if(o instanceof PointerEvent&&"touch"==o.pointerType){for(var s=0;s<i.evCache.length;s++)if(o.pointerId==i.evCache[s].pointerId){i.evCache[s]=o;break}if(2==i.evCache.length){var u={x:i.evCache[0].clientX,y:i.evCache[0].clientY},l={x:i.evCache[1].clientX,y:i.evCache[1].clientY},c=Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2)),d=i.element.getBoundingClientRect();i.prevDiff>0&&c>0&&i.pointerControllerEvents.pinchZoom&&i.pointerControllerEvents.pinchZoom({x:(u.x+l.x)/2-d.left,y:(u.y+l.y)/2-d.top},c/i.prevDiff),i.prevDiff=c}else i.evCache.length<2&&(i.prevDiff=-1)}}),h(this,"endPinchZoomEvent",function(o){o instanceof PointerEvent&&"touch"==o.pointerType&&(i.removeEventPinchZoom(o),i.evCache.length<2&&(i.prevDiff=-1),i.mainTouchEventId==o.pointerId&&(i.mainTouchEventId=void 0))}),h(this,"removeEventPinchZoom",function(o){for(var s=0;s<i.evCache.length;s++)if(i.evCache[s].pointerId==o.pointerId){i.evCache.splice(s,1);break}}),this.element=t,this.pointerControllerEvents=r,this.preventDefault=a,this.start()}return m(n,[{key:"active",get:function(){return this._active}},{key:"getPointerContext",value:function(r){return{id:r.pointerId,pointerCount:this.pointerCache.size,ctrlKey:r.ctrlKey,moveEventsFired:this.pointerMoveCountCache.getItem(r.pointerId)}}},{key:"start",value:function(){if(!this.active){var i,r=A(n.starts);try{for(r.s();!(i=r.n()).done;){var a=i.value;this.element.addEventListener(a,this.startEvent),this.element.addEventListener(a,this.startPinchZoomEvent)}}catch(C){r.e(C)}finally{r.f()}var s,o=A(n.moves);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.element.addEventListener(u,this.moveEvent),this.element.addEventListener(u,this.movePinchZoomEvent)}}catch(C){o.e(C)}finally{o.f()}var c,l=A(n.ends);try{for(l.s();!(c=l.n()).done;){var d=c.value;this.element.addEventListener(d,this.endEvent),this.element.addEventListener(d,this.endPinchZoomEvent)}}catch(C){l.e(C)}finally{l.f()}var v,f=A(n.scrolls);try{for(f.s();!(v=f.n()).done;)this.element.addEventListener(v.value,this.mouseWheelHandler)}catch(C){f.e(C)}finally{f.f()}if(this.preventDefault){var _,p=A(n.prevents);try{for(p.s();!(_=p.n()).done;)this.element.addEventListener(_.value,this.preventDefaultEvent)}catch(C){p.e(C)}finally{p.f()}}this._active=!0,this.pointerCache.empty()}}},{key:"end",value:function(){if(this.active){var i,r=A(n.starts);try{for(r.s();!(i=r.n()).done;){var a=i.value;try{this.element.removeEventListener(a,this.startEvent)}catch{}try{this.element.removeEventListener(a,this.startPinchZoomEvent)}catch{}}}catch(C){r.e(C)}finally{r.f()}var s,o=A(n.moves);try{for(o.s();!(s=o.n()).done;){var u=s.value;try{this.element.removeEventListener(u,this.moveEvent)}catch{}try{this.element.removeEventListener(u,this.movePinchZoomEvent)}catch{}}}catch(C){o.e(C)}finally{o.f()}var c,l=A(n.ends);try{for(l.s();!(c=l.n()).done;){var d=c.value;try{this.element.removeEventListener(d,this.endEvent)}catch{}try{this.element.removeEventListener(d,this.endPinchZoomEvent)}catch{}}}catch(C){l.e(C)}finally{l.f()}var v,f=A(n.scrolls);try{for(f.s();!(v=f.n()).done;){var g=v.value;try{this.element.removeEventListener(g,this.mouseWheelHandler)}catch{}}}catch(C){f.e(C)}finally{f.f()}if(this.preventDefault){var _,p=A(n.prevents);try{for(p.s();!(_=p.n()).done;){var D=_.value;try{this.element.removeEventListener(D,this.preventDefaultEvent)}catch{}}}catch(C){p.e(C)}finally{p.f()}}this._active=!1,this.pointerCache.empty()}}}])}();return h(e,"starts",["pointerdown"]),h(e,"moves",["pointermove"]),h(e,"ends",["pointerup","pointerleave","pointercancel","pointerout"]),h(e,"scrolls",["wheel"]),h(e,"prevents",["pointerdown","pointermove","pointerup","pointerleave","pointercancel","pointerout","pointerover","pointerenter","contextmenu"]),e}(),yj=["canvas"],_j=["wrapper"],Cj=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"drawerService",void 0),h(this,"canvas",void 0),h(this,"canvasEl",void 0),h(this,"ctx",void 0),h(this,"wrapper",void 0),h(this,"wrapperEl",void 0),this.drawerService=r,this.drawerService.canvas=this},[{key:"ngAfterViewInit",value:function(){var i,a=this;this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.ctx=null===(i=this.canvasEl)||void 0===i?void 0:i.getContext("2d"),window.onresize=function(){a.drawerService.redraw()},new mj(this.canvasEl,{pointerMove:function(s,u,l){var c,d=a.drawerService.renderingContext,f=d.transformPointFromCanvasToField(s),v=d.transformPointFromCanvasToField(u);null===(c=a.drawerService.mode)||void 0===c||c.pointerMove(a.drawerService,d,f,v,l)},click:function(s,u){var l,c=a.drawerService.renderingContext,d=c.transformPointFromCanvasToField(s);null===(l=a.drawerService.mode)||void 0===l||l.click(a.drawerService,c,d,u)},scroll:function(s,u){0!=u&&(u*=-.008333333333333333,u+=Math.sign(u),a.drawerService.zoomToBy(s,u>0?u:1/-u))},pinchZoom:function(s,u){a.drawerService.zoomToBy(s,u)}});try{this.drawerService.loadFrom(JSON.parse(localStorage[xk]))}catch{}this.drawerService.redraw()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(tr))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-canvas"]],viewQuery:function(r,i){var a;1&r&&(bt(yj,5),bt(_j,5)),2&r&&(Dt(a=Et())&&(i.canvas=a.first),Dt(a=Et())&&(i.wrapper=a.first))},decls:4,vars:0,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],["id","canvas",1,"canvas"]],template:function(r,i){1&r&&(b(0,"div",2,0),Ae(2,"canvas",3,1),E())},styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0;touch-action:none}.wrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}"]})),n}(),bj=["tabPage"],Dj=function(n){return{empty:n}},Ej=function(n){return{active:n}};function Mj(e,n){if(1&e&&(b(0,"p"),S(1),E()),2&e){var t=nn().$implicit;P(),tn(t.title)}}function wj(e,n){if(1&e&&(b(0,"span",10),S(1),E()),2&e){var t=nn().$implicit;P(),tn(t.icon)}}function kj(e,n){if(1&e){var t=Vr();b(0,"div",7),te("click",function(){var o=We(t).$implicit;return qe(nn().onTabClick(o))})("keydown",function(o){var s=We(t).$implicit;return qe(nn().onTabKeyboard(o,s))}),Ln(1,Mj,2,1,"p",8)(2,wj,2,1,"span",9),E()}if(2&e){var r=n.$implicit,i=nn();Q("title",r.title)("ngClass",Sn(4,Ej,i.currentTab==r)),P(),Q("ngIf",!r.icon),P(),Q("ngIf",r.icon)}}var Sj=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"currentComponent",void 0),h(this,"_currentTab",void 0),h(this,"tabs",[]),h(this,"tabPage",void 0)},[{key:"currentTab",get:function(){return this._currentTab},set:function(i){i!=this.currentTab&&(this.currentComponent&&this.currentComponent.destroy(),i&&(this.currentComponent=this.tabPage.createComponent(i.componentType)),this._currentTab=i)}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var i=this;setTimeout(function(){i.currentTab=i.tabs[0]},0)}},{key:"onTabClick",value:function(i){this.currentTab=this.currentTab==i?void 0:i}},{key:"onTabKeyboard",value:function(i,a){("Enter"==i.key||" "==i.key)&&this.onTabClick(a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",we({type:e,selectors:[["app-tab-group"]],viewQuery:function(r,i){var a;1&r&&bt(bj,5,Rn),2&r&&Dt(a=Et())&&(i.tabPage=a.first)},inputs:{tabs:"tabs"},decls:7,vars:4,consts:[["tabPage",""],[1,"wrapper",3,"ngClass"],[1,"table"],[1,"tabHeaders"],["class","tabHeader","tabindex","0",3,"title","ngClass","click","keydown",4,"ngFor","ngForOf"],[1,"tabContainer"],[1,"tabPage"],["tabindex","0",1,"tabHeader",3,"click","keydown","title","ngClass"],[4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(b(0,"div",1)(1,"div",2)(2,"div",3),Ln(3,kj,3,6,"div",4),E(),b(4,"div",5),Ae(5,"div",6,0),E()()()),2&r&&(Q("ngClass",Sn(2,Dj,null==i.currentTab)),P(3),Q("ngForOf",i.tabs))},dependencies:[Xt,lo,co],styles:['.wrapper[_ngcontent-%COMP%]{--size: 60px;--margin: 3px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeaders[_ngcontent-%COMP%]{left:0;top:0;bottom:0;width:var(--width);padding:var(--padding);position:absolute;float:left;border-right:var(--border) solid var(--borderColor);border-bottom-right-radius:var(--borderRadius);border-top-right-radius:var(--borderRadius);background:#fff;box-shadow:0 0 7px #555;user-select:none;overflow:auto;scrollbar-width:none}.tabHeaders[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;font-family:Segoe UI,Calibri,"sans-serif"}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.tabContainer[_ngcontent-%COMP%]{inset:0;float:right;height:100%;width:calc(100% - var(--width) - 2 * var(--padding));background:var(--background);overflow:auto;border-right:1px solid #ccc}.empty[_ngcontent-%COMP%]   .tabContainer[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--background)}.empty.wrapper[_ngcontent-%COMP%]{width:calc(var(--width) + 2 * var(--padding))}.table[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;clear:both;box-sizing:border-box;background-color:transparent;overflow:hidden}.material-symbols-outlined[_ngcontent-%COMP%]{transform:scale(1.5) translateY(4px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.tabPage[_ngcontent-%COMP%]{display:none}']})),n}(),Ij=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),h(this,"dialogService",void 0),h(this,"snackbarService",void 0),h(this,"viewContainerRef",void 0),h(this,"tabs",[{title:"Formeln",icon:"functions",componentType:jz},{title:"Geometrie",icon:"radio_button_unchecked",componentType:pj},{title:"Einstellungen",icon:"settings",componentType:Yz}]),this.dialogService=r,this.snackbarService=i,this.viewContainerRef=a,this.dialogService.rootViewContainerRef=this.viewContainerRef,this.snackbarService.rootViewContainerRef=this.viewContainerRef},[{key:"renderMathToSvg",value:function(i){var a=this;MathJax.Hub.Queue(["Typeset",MathJax.Hub,function(){var o=MathJax.Hub.getAllJax()[0];MathJax.Hub.Queue(["Text",o,i]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,function(){var s=o.root.toSVG();a.displaySvg(s)}])}])}},{key:"displaySvg",value:function(i){console.log(i);var a=document.getElementById("svg-container");a&&(a.innerHTML=i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(x(iu),x(vp),x(Rn))}),h(n,"\u0275cmp",we({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"barWrapper"],[3,"tabs"],[1,"canvas"]],template:function(r,i){1&r&&(b(0,"div",0),Ae(1,"app-tab-group",1),E(),Ae(2,"app-canvas",2)),2&r&&(P(),Q("tabs",i.tabs))},dependencies:[Cj,Sj],styles:[".canvas[_ngcontent-%COMP%]{padding:0;margin:0}.barWrapper[_ngcontent-%COMP%]{width:30%;min-width:min(100%,500px);position:absolute;height:100%;pointer-events:none;overflow:hidden}.barWrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}"]})),n}();function Wk(e){return new dn(function(n){Cr(e()).subscribe(n)})}function ld(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Se(n)?ld(function(r,i){return Vt(function(a,o){return n(r,a,i,o)})(Cr(e(r,i)))},t):("number"==typeof n&&(t=n),Lt(function(r,i){return function Pj(e,n,t,r,i,a,o,s){var u=[],l=0,c=0,d=!1,f=function(){d&&!u.length&&!l&&n.complete()},v=function(_){return l<r?g(_):u.push(_)},g=function p(_){a&&n.next(_),l++;var D=!1;Cr(t(_,c++)).subscribe(new ht(n,function(C){i?.(C),a?v(C):n.next(C)},function(){D=!0},void 0,function(){if(D)try{l--;for(var C=function(){var I=u.shift();o?li(n,o,function(){return p(I)}):p(I)};u.length&&l<r;)C();f()}catch(M){n.error(M)}}))};return e.subscribe(new ht(n,v,function(){d=!0,f()})),function(){s?.()}}(r,i,e,t)}))}var Oj=["addListener","removeListener"],Aj=["addEventListener","removeEventListener"],xj=["on","off"];function cd(e,n,t,r){if(Se(t)&&(r=t,t=void 0),r)return cd(e,n,t).pipe(lw(r));var a=it(function Rj(e){return Se(e.addEventListener)&&Se(e.removeEventListener)}(e)?Aj.map(function(u){return function(l){return e[u](n,l,t)}}):function Nj(e){return Se(e.addListener)&&Se(e.removeListener)}(e)?Oj.map(qk(e,n)):function Fj(e){return Se(e.on)&&Se(e.off)}(e)?xj.map(qk(e,n)):[],2),o=a[0],s=a[1];if(!o&&Pg(e))return ld(function(u){return cd(u,n,t)})(Cr(e));if(!o)throw new TypeError("Invalid event target");return new dn(function(u){var l=function(){for(var d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return u.next(1<f.length?f:f[0])};return o(l),function(){return s(l)}})}function qk(e,n){return function(t){return function(r){return e[t](n,r)}}}function hp(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Js(n,Ag(n))}function Zk(){return ld(Pd,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0)}function Yk(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function Lj(){return Zk(1)}()(Js(n,Ag(n)))}var wo=new dn(ra),gp=new dn(function(e){return e.complete()});function Kk(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=Ag(n),i=function PH(e,n){return"number"==typeof Og(e)?e.pop():n}(n,1/0),a=n;return a.length?1===a.length?Cr(a[0]):Zk(i)(Js(a,r)):gp}function hu(e,n){return Lt(function(t,r){var i=0;t.subscribe(new ht(r,function(a){return e.call(n,a,i++)&&r.next(a)}))})}function dd(e,n){return Lt(function(t,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};t.subscribe(new ht(r,function(u){i?.unsubscribe();var l=0,c=a++;Cr(e(u,c)).subscribe(i=new ht(r,function(d){return r.next(n?n(u,d,c,l++):d)},function(){i=null,s()}))},function(){o=!0,s()}))})}var Hj=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).source=t,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,Yp(t)&&(i.lift=t.lift),i}return k(n,e),m(n,[{key:"_subscribe",value:function(r){return this.getSubject().subscribe(r)}},{key:"getSubject",value:function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()}},{key:"connect",value:function(){var r=this,i=this._connection;if(!i){i=this._connection=new Tt;var a=this.getSubject();i.add(this.source.subscribe(new ht(a,void 0,function(){r._teardown(),a.complete()},function(o){r._teardown(),a.error(o)},function(){return r._teardown()}))),i.closed&&(this._connection=null,i=Tt.EMPTY)}return i}},{key:"refCount",value:function(){return function Bj(){return Lt(function(e,n){var t=null;e._refCount++;var r=new ht(n,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)t=null;else{var i=e._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()}});e.subscribe(r),r.closed||(t=e.connect())})}()(this)}}])}(dn),zj={connector:function(){return new kr}};function $k(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:zj).connector;return Lt(function(r,i){var a=t();Js(e(function Uj(e){return new dn(function(n){return e.subscribe(n)})}(a))).subscribe(i),i.add(r.subscribe(a))})}function mi(e){return e<=0?function(){return gp}:Lt(function(n,t){var r=0;n.subscribe(new ht(t,function(i){++r<=e&&(t.next(i),e<=r&&t.complete())}))})}var qj=function(e){function n(t,r){return y(this,n),w(this,n)}return k(n,e),m(n,[{key:"schedule",value:function(r){return this}}])}(Tt),fd={setInterval:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var e=fd.delegate;return(e?.setInterval||setInterval).apply(void 0,arguments)}),clearInterval:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=fd.delegate;return(n?.clearInterval||clearInterval)(e)}),delegate:void 0},Zj=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n,[t,r])).scheduler=t,i.work=r,i.pending=!1,i}return k(n,e),m(n,[{key:"schedule",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=r;var a=this.id,o=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(o,a,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(o,this.id,i),this}},{key:"requestAsyncId",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fd.setInterval(r.flush.bind(r,this),a)}},{key:"recycleAsyncId",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=a&&this.delay===a&&!1===this.pending)return i;fd.clearInterval(i)}},{key:"execute",value:function(r,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(r,i);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(r,i){var o,a=!1;try{this.work(r)}catch(s){a=!0,o=s||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),o}},{key:"unsubscribe",value:function(){if(!this.closed){var r=this.id,i=this.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Mu(a,this),null!=r&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,Ye(Oe(n.prototype),"unsubscribe",this).call(this)}}}])}(qj),Qk={now:function(){return(Qk.delegate||Date).now()},delegate:void 0},pp=function(){return m(function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;y(this,e),this.schedulerActionCtor=n,this.now=t},[{key:"schedule",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,t).schedule(i,r)}}])}();pp.now=Qk.now;var Yj=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pp.now;return y(this,n),(r=w(this,n,[t,i])).actions=[],r._active=!1,r._scheduled=void 0,r}return k(n,e),m(n,[{key:"flush",value:function(r){var i=this.actions;if(this._active)i.push(r);else{var a;this._active=!0;do{if(a=r.execute(r.state,r.delay))break}while(r=i.shift());if(this._active=!1,a){for(;r=i.shift();)r.unsubscribe();throw a}}}}])}(pp),Xk=new Yj(Zj),Kj=Xk;function Jk(e,n){return n?function(t){return Yk(n.pipe(mi(1),function $j(){return Lt(function(e,n){e.subscribe(new ht(n,ra))})}()),t.pipe(Jk(e)))}:ld(function(t,r){return e(t,r).pipe(mi(1),function Qj(e){return Vt(function(){return e})}(t))})}var gu="Service workers are disabled or not supported by this browser";var vd=function(){return m(function e(n){if(y(this,e),this.serviceWorker=n,n){var r=cd(n,"controllerchange").pipe(Vt(function(){return n.controller})),a=Yk(Wk(function(){return hp(n.controller)}),r);this.worker=a.pipe(hu(function(c){return!!c})),this.registration=this.worker.pipe(dd(function(){return n.getRegistration()}));var l=cd(n,"message").pipe(Vt(function(c){return c.data})).pipe(hu(function(c){return c&&c.type})).pipe(function Gj(e){return e?function(n){return $k(e)(n)}:function(n){return function jj(e,n){var t=Se(e)?e:function(){return e};return Se(n)?$k(n,{connector:t}):function(r){return new Hj(r,t)}}(new kr)(n)}}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function n4(e){return Wk(function(){return function Tj(e,n){var t=Se(e)?e:function(){return e},r=function(a){return a.error(t())};return new dn(n?function(i){return n.schedule(r,0,i)}:r)}(new Error(e))})}(gu)},[{key:"postMessage",value:function(t,r){return this.worker.pipe(mi(1),function Wj(e,n,t){var r=Se(e)||n||t?{next:e,error:n,complete:t}:e;return r?Lt(function(i,a){var o;null===(o=r.subscribe)||void 0===o||o.call(r);var s=!0;i.subscribe(new ht(a,function(u){var l;null===(l=r.next)||void 0===l||l.call(r,u),a.next(u)},function(){var u;s=!1,null===(u=r.complete)||void 0===u||u.call(r),a.complete()},function(u){var l;s=!1,null===(l=r.error)||void 0===l||l.call(r,u),a.error(u)},function(){var u,l;s&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Pd}(function(i){i.postMessage(re({action:t},r))})).toPromise().then(function(){})}},{key:"postMessageWithOperation",value:function(t,r,i){var a=this.waitForOperationCompleted(i),o=this.postMessage(t,r);return Promise.all([o,a]).then(function(s){return it(s,2)[1]})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(t){return this.events.pipe(hu("string"==typeof t?function(a){return a.type===t}:function(a){return t.includes(a.type)}))}},{key:"nextEventOfType",value:function(t){return this.eventsOfType(t).pipe(mi(1))}},{key:"waitForOperationCompleted",value:function(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(hu(function(r){return r.nonce===t}),mi(1),Vt(function(r){if(void 0!==r.result)return r.result;throw new Error(r.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}])}(),eS=function(){var e,n=function(){return m(function t(r){if(y(this,t),this.sw=r,this.pushManager=null,this.subscriptionChanges=new kr,!r.isEnabled)return this.messages=wo,this.notificationClicks=wo,void(this.subscription=wo);this.messages=this.sw.eventsOfType("PUSH").pipe(Vt(function(a){return a.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Vt(function(a){return a.data})),this.pushManager=this.sw.registration.pipe(Vt(function(a){return a.pushManager}));var i=this.pushManager.pipe(dd(function(a){return a.getSubscription()}));this.subscription=Kk(i,this.subscriptionChanges)},[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(i){var a=this;if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(gu));for(var o={userVisibleOnly:!0},s=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),u=new Uint8Array(new ArrayBuffer(s.length)),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return o.applicationServerKey=u,this.pushManager.pipe(dd(function(c){return c.subscribe(o)}),mi(1)).toPromise().then(function(c){return a.subscriptionChanges.next(c),c})}},{key:"unsubscribe",value:function(){var i=this;return this.sw.isEnabled?this.subscription.pipe(mi(1),dd(function(s){if(null===s)throw new Error("Not subscribed to push notifications.");return s.unsubscribe().then(function(u){if(!u)throw new Error("Unsubscribe failed!");i.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(gu))}},{key:"decodeBase64",value:function(i){return atob(i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(De(vd))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),nS=function(){var e,n=function(){return m(function t(r){if(y(this,t),this.sw=r,!r.isEnabled)return this.versionUpdates=wo,void(this.unrecoverable=wo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")},[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(gu));var i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(gu));var i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(De(vd))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),n}(),tS=new Z("");function t4(e,n,t,r){return function(){if(dM(r)&&"serviceWorker"in navigator&&!1!==t.enabled){var o,i=e.get(Ze),a=e.get($t);if(i.runOutsideAngular(function(){var d=navigator.serviceWorker,f=function(){var g;return null===(g=d.controller)||void 0===g?void 0:g.postMessage({action:"INITIALIZE"})};d.addEventListener("controllerchange",f),a.onDestroy(function(){d.removeEventListener("controllerchange",f)})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{var u=function Mp(e){return bp(e)||Ep(e)||pu(e)||Dp()}((t.registrationStrategy||"registerWhenStable:30000").split(":")),l=u[0],c=u.slice(1);switch(l){case"registerImmediately":o=hp(null);break;case"registerWithDelay":o=rS(+c[0]||0);break;case"registerWhenStable":o=c[0]?Kk(iS(e),rS(+c[0])):iS(e);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(t.registrationStrategy))}}i.runOutsideAngular(function(){return o.pipe(mi(1)).subscribe(function(){return navigator.serviceWorker.register(n,{scope:t.scope}).catch(function(d){return console.error("Service worker registration failed with:",d)})})})}}}function rS(e){return hp(null).pipe(function e4(e){var t=function Jj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kj,r=-1;return null!=n&&(uw(n)?t=n:r=n),new dn(function(i){var a=function Xj(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;a<0&&(a=0);var o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xk);return Jk(function(){return t})}(e))}function iS(e){return e.get($t).isStable.pipe(hu(function(t){return t}))}function r4(e,n){return new vd(dM(n)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var mp=m(function e(){y(this,e)});function i4(e){return function No(e){return{\u0275providers:e}}([eS,nS,{provide:tS,useValue:e},{provide:mp,useValue:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},{provide:vd,useFactory:r4,deps:[mp,Jr]},{provide:n0,useFactory:t4,deps:[wn,tS,mp,Jr],multi:!0}])}var a4=function(){var e,n=function(){function t(){y(this,t)}return m(t,null,[{key:"register",value:function(i){return{ngModule:t,providers:[i4(i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Kr({type:e}),e.\u0275inj=Ir({providers:[eS,nS]}),n}(),o4=function(){var e,n=m(function t(){y(this,t)});return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275mod",Kr({type:e,bootstrap:[Ij]})),h(n,"\u0275inj",Ir({imports:[L5,Xw,a4.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})),n}();F5().bootstrapModule(o4).catch(function(e){return console.error(e)})}},Oe=>{Oe(Oe.s=321)}]);