"use strict";(self.webpackChunkgraph=self.webpackChunkgraph||[]).push([[792],{524:()=>{function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function We(){return We=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=function dd(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=Oe(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}},We.apply(null,arguments)}function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function mp(e){var n=function nS(e,n){if("object"!=tr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==tr(n)?n:n+""}function h(e,n,t){return(n=mp(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function yp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yp(Object(t),!0).forEach(function(r){h(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yp(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function fd(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function pu(e,n){if(e){if("string"==typeof e)return fd(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fd(e,n):void 0}}function x(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=pu(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function _p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mp(r.key),r)}}function m(e,n,t){return n&&_p(e.prototype,n),t&&_p(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vd=function(){return!!e})()}function w(e,n,t){return n=Oe(n),function rS(e,n){if(n&&("object"==tr(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function tS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vd()?Reflect.construct(n,t||[],Oe(e).constructor):n.apply(e,t))}function wo(e,n){return(wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(e,n)}function k(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&wo(e,n)}function Cp(e){if(Array.isArray(e))return e}function bp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function it(e,n){return Cp(e)||function iS(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,n)||pu(e,n)||bp()}function Ep(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function V(e){return function aS(e){if(Array.isArray(e))return fd(e)}(e)||Ep(e)||pu(e)||function oS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,n,t){if(vd())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,n);var i=new(e.bind.apply(e,r));return t&&wo(i,t.prototype),i}function hd(e){var n="function"==typeof Map?new Map:void 0;return hd=function(r){if(null===r||!function sS(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch{return"function"==typeof e}}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(r))return n.get(r);n.set(r,i)}function i(){return Je(r,arguments,Oe(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),wo(i,r)},hd(e)}function Mp(e,n){return Object.is(e,n)}var yn=null,ko=!1,mu=1,Nt=Symbol("SIGNAL");function pe(e){var n=yn;return yn=e,n}var yu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:function(){return!1},producerRecomputeValue:function(){},consumerMarkedDirty:function(){},consumerOnSignalRead:function(){}};function gd(e){if(ko)throw new Error("");if(null!==yn){yn.consumerOnSignalRead(e);var n=yn.nextProducerIndex++;bu(yn),n<yn.producerNode.length&&yn.producerNode[n]!==e&&So(yn)&&Cu(yn.producerNode[n],yn.producerIndexOfThis[n]),yn.producerNode[n]!==e&&(yn.producerNode[n]=e,yn.producerIndexOfThis[n]=So(yn)?Pp(e,yn,n):0),yn.producerLastReadVersion[n]=e.version}}function kp(e){if((!So(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==mu)){if(!e.producerMustRecompute(e)&&!md(e))return e.dirty=!1,void(e.lastCleanEpoch=mu);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=mu}}function Sp(e){if(void 0!==e.liveConsumerNode){var n=ko;ko=!0;try{var r,t=x(e.liveConsumerNode);try{for(t.s();!(r=t.n()).done;){var i=r.value;i.dirty||Tp(i)}}catch(a){t.e(a)}finally{t.f()}}finally{ko=n}}}function Ip(){var e;return!1!==(null===(e=yn)||void 0===e?void 0:e.consumerAllowSignalWrites)}function Tp(e){var n;e.dirty=!0,Sp(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function _u(e){return e&&(e.nextProducerIndex=0),pe(e)}function pd(e,n){if(pe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(So(e))for(var t=e.nextProducerIndex;t<e.producerNode.length;t++)Cu(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function md(e){bu(e);for(var n=0;n<e.producerNode.length;n++){var t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(kp(t),r!==t.version))return!0}return!1}function yd(e){if(bu(e),So(e))for(var n=0;n<e.producerNode.length;n++)Cu(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Pp(e,n,t){if(Op(e),0===e.liveConsumerNode.length&&Ap(e))for(var r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Pp(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Cu(e,n){if(Op(e),1===e.liveConsumerNode.length&&Ap(e))for(var t=0;t<e.producerNode.length;t++)Cu(e.producerNode[t],e.producerIndexOfThis[t]);var r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){var i=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];bu(a),a.producerIndexOfThis[i]=n}}function So(e){var n,t;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(t=e.liveConsumerNode)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0}function bu(e){var n,t,r;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(t=e.producerIndexOfThis)&&void 0!==t||(e.producerIndexOfThis=[]),null!==(r=e.producerLastReadVersion)&&void 0!==r||(e.producerLastReadVersion=[])}function Op(e){var n,t;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(t=e.liveConsumerIndexOfThis)&&void 0!==t||(e.liveConsumerIndexOfThis=[])}function Ap(e){return void 0!==e.producerNode}var _d=Symbol("UNSET"),Cd=Symbol("COMPUTING"),Eu=Symbol("ERRORED"),dS=function(){return te(te({},yu),{},{value:_d,dirty:!0,error:null,equal:Mp,producerMustRecompute:function(n){return n.value===_d||n.value===Cd},producerRecomputeValue:function(n){if(n.value===Cd)throw new Error("Detected cycle in computations.");var t=n.value;n.value=Cd;var i,r=_u(n);try{i=n.computation()}catch(a){i=Eu,n.error=a}finally{pd(n,r)}t!==_d&&t!==Eu&&i!==Eu&&n.equal(t,i)?n.value=t:(n.value=i,n.version++)}})}(),xp=function fS(){throw new Error};function Np(){xp()}var Du=null;function Fp(e,n){Ip()||Np(),e.equal(e.value,n)||(e.value=n,function mS(e){var n;e.version++,function lS(){mu++}(),Sp(e),null===(n=Du)||void 0===n||n()}(e))}var pS=function(){return te(te({},yu),{},{equal:Mp,value:void 0})}();function Se(e){return"function"==typeof e}function Lp(e){var t=e(function(i){Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var bd=Lp(function(e){return function(t){e(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(r,i){return"".concat(i+1,") ").concat(r.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t}});function Mu(e,n){if(e){var t=e.indexOf(n);0<=t&&e.splice(t,1)}}var e,St=function(){function e(n){y(this,e),this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}return m(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r)){var a,i=x(r);try{for(i.s();!(a=i.n()).done;)a.value.remove(this)}catch(f){i.e(f)}finally{i.f()}}else r.remove(this);var s=this.initialTeardown;if(Se(s))try{s()}catch(f){t=f instanceof bd?f.errors:[f]}var u=this._teardowns;if(u){this._teardowns=null;var c,l=x(u);try{for(l.s();!(c=l.n()).done;){var d=c.value;try{Hp(d)}catch(f){t=t??[],f instanceof bd?t=[].concat(V(t),V(f.errors)):t.push(f)}}}catch(f){l.e(f)}finally{l.f()}}if(t)throw new bd(t)}}},{key:"add",value:function(t){var r;if(t&&t!==this)if(this.closed)Hp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(t)}}},{key:"_hasParent",value:function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)}},{key:"_addParent",value:function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}},{key:"_removeParent",value:function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Mu(r,t)}},{key:"remove",value:function(t){var r=this._teardowns;r&&Mu(r,t),t instanceof e&&t._removeParent(this)}}])}();St.EMPTY=((e=new St).closed=!0,e);var Vp=St.EMPTY;function Bp(e){return e instanceof St||e&&"closed"in e&&Se(e.remove)&&Se(e.add)&&Se(e.unsubscribe)}function Hp(e){Se(e)?e():e.unsubscribe()}var yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wu={setTimeout:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var e=wu.delegate;return(e?.setTimeout||setTimeout).apply(void 0,arguments)}),clearTimeout:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=wu.delegate;return(n?.clearTimeout||clearTimeout)(e)}),delegate:void 0};function Up(e){wu.setTimeout(function(){var n=yi.onUnhandledError;if(!n)throw e;n(e)})}function na(){}var _S=Ed("C",void 0,void 0);function Ed(e,n,t){return{kind:e,value:n,error:t}}var _i=null;function ku(e){if(yi.useDeprecatedSynchronousErrorHandling){var n=!_i;if(n&&(_i={errorThrown:!1,error:null}),e(),n){var t=_i;if(_i=null,t.errorThrown)throw t.error}}else e()}var Dd=function(e){function n(t){var r;return y(this,n),(r=w(this,n)).isStopped=!1,t?(r.destination=t,Bp(t)&&t.add(r)):r.destination=DS,r}return k(n,e),m(n,[{key:"next",value:function(r){this.isStopped?wd(function bS(e){return Ed("N",e,void 0)}(r),this):this._next(r)}},{key:"error",value:function(r){this.isStopped?wd(function CS(e){return Ed("E",void 0,e)}(r),this):(this.isStopped=!0,this._error(r))}},{key:"complete",value:function(){this.isStopped?wd(_S,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,We(Oe(n.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(r){this.destination.next(r)}},{key:"_error",value:function(r){try{this.destination.error(r)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(r,i,a){return new zp(r,i,a)}}])}(St),zp=function(e){function n(t,r,i){var a,o;if(y(this,n),a=w(this,n),Se(t))o=t;else if(t){var s;o=t.next,r=t.error,i=t.complete,a&&yi.useDeprecatedNextContext?(s=Object.create(t)).unsubscribe=function(){return a.unsubscribe()}:s=t,o=o?.bind(s),r=r?.bind(s),i=i?.bind(s)}return a.destination={next:o?Md(o):na,error:Md(r??jp),complete:i?Md(i):na},a}return k(n,e),m(n)}(Dd);function Md(e,n){return function(){try{e.apply(void 0,arguments)}catch(t){yi.useDeprecatedSynchronousErrorHandling?function ES(e){yi.useDeprecatedSynchronousErrorHandling&&_i&&(_i.errorThrown=!0,_i.error=e)}(t):Up(t)}}}function jp(e){throw e}function wd(e,n){var t=yi.onStoppedNotification;t&&wu.setTimeout(function(){return t(e,n)})}var DS={closed:!0,next:na,error:jp,complete:na},kd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Sd(e){return e}var un=function(){var e=function(){function n(t){y(this,n),t&&(this._subscribe=t)}return m(n,[{key:"lift",value:function(r){var i=new n;return i.source=this,i.operator=r,i}},{key:"subscribe",value:function(r,i,a){var o=this,s=function wS(e){return e&&e instanceof Dd||function MS(e){return e&&Se(e.next)&&Se(e.error)&&Se(e.complete)}(e)&&Bp(e)}(r)?r:new zp(r,i,a);return ku(function(){var u=o.operator,l=o.source;s.add(u?u.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s}},{key:"_trySubscribe",value:function(r){try{return this._subscribe(r)}catch(i){r.error(i)}}},{key:"forEach",value:function(r,i){var a=this;return new(i=Wp(i))(function(o,s){var u;u=a.subscribe(function(l){try{r(l)}catch(c){s(c),u?.unsubscribe()}},s,o)})}},{key:"_subscribe",value:function(r){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(r)}},{key:kd,value:function(){return this}},{key:"pipe",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return function Gp(e){return 0===e.length?Sd:1===e.length?e[0]:function(t){return e.reduce(function(r,i){return i(r)},t)}}(i)(this)}},{key:"toPromise",value:function(r){var i=this;return new(r=Wp(r))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}])}();return e.create=function(n){return new e(n)},e}();function Wp(e){var n;return null!==(n=e??yi.Promise)&&void 0!==n?n:Promise}var kS=Lp(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),wr=function(){var e=function(n){function t(){var r;return y(this,t),(r=w(this,t)).closed=!1,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return k(t,n),m(t,[{key:"lift",value:function(i){var a=new qp(this,this);return a.operator=i,a}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new kS}},{key:"next",value:function(i){var a=this;ku(function(){if(a._throwIfClosed(),!a.isStopped){var u,s=x(a.observers.slice());try{for(s.s();!(u=s.n()).done;)u.value.next(i)}catch(c){s.e(c)}finally{s.f()}}})}},{key:"error",value:function(i){var a=this;ku(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=i;for(var o=a.observers;o.length;)o.shift().error(i)}})}},{key:"complete",value:function(){var i=this;ku(function(){if(i._throwIfClosed(),!i.isStopped){i.isStopped=!0;for(var a=i.observers;a.length;)a.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=null}},{key:"observed",get:function(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}},{key:"_trySubscribe",value:function(i){return this._throwIfClosed(),We(Oe(t.prototype),"_trySubscribe",this).call(this,i)}},{key:"_subscribe",value:function(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}},{key:"_innerSubscribe",value:function(i){var s=this.observers;return this.hasError||this.isStopped?Vp:(s.push(i),new St(function(){return Mu(s,i)}))}},{key:"_checkFinalizedStatuses",value:function(i){var s=this.isStopped;this.hasError?i.error(this.thrownError):s&&i.complete()}},{key:"asObservable",value:function(){var i=new un;return i.source=this,i}}])}(un);return e.create=function(n,t){return new qp(n,t)},e}(),qp=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).destination=t,i.source=r,i}return k(n,e),m(n,[{key:"next",value:function(r){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===a||a.call(i,r)}},{key:"error",value:function(r){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===a||a.call(i,r)}},{key:"complete",value:function(){var r,i;null===(i=null===(r=this.destination)||void 0===r?void 0:r.complete)||void 0===i||i.call(r)}},{key:"_subscribe",value:function(r){var i,a;return null!==(a=null===(i=this.source)||void 0===i?void 0:i.subscribe(r))&&void 0!==a?a:Vp}}])}(wr),SS=function(e){function n(t){var r;return y(this,n),(r=w(this,n))._value=t,r}return k(n,e),m(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(r){var i=We(Oe(n.prototype),"_subscribe",this).call(this,r);return!i.closed&&r.next(this._value),i}},{key:"getValue",value:function(){var a=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),a}},{key:"next",value:function(r){We(Oe(n.prototype),"next",this).call(this,this._value=r)}}])}(wr);function Zp(e){return Se(e?.lift)}function Ft(e){return function(n){if(Zp(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var ta,ht=function(e){function n(t,r,i,a,o){var s;return y(this,n),(s=w(this,n,[t])).onFinalize=o,s._next=r?function(u){try{r(u)}catch(l){t.error(l)}}:We(Oe(n.prototype),"_next",s),s._error=a?function(u){try{a(u)}catch(l){t.error(l)}finally{this.unsubscribe()}}:We(Oe(n.prototype),"_error",s),s._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:We(Oe(n.prototype),"_complete",s),s}return k(n,e),m(n,[{key:"unsubscribe",value:function(){var r,i=this.closed;We(Oe(n.prototype),"unsubscribe",this).call(this),!i&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}}])}(Dd);function Rt(e,n){return Ft(function(t,r){var i=0;t.subscribe(new ht(r,function(a){r.next(e.call(n,a,i++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;var tm="https://g.co/ng/security#xss",R=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n,[ra(t,r)])).code=t,i}return k(n,e),m(n)}(hd(Error));function ra(e,n){var t="NG0".concat(Math.abs(e));return"".concat(t).concat(n?": "+n:"")}function kr(e){return{toString:e}.toString()}var aa="__parameters__";function sa(e,n,t){return kr(function(){var r=function Od(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var r in t)this[r]=t[r]}}}(n);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return r.apply(this,o),this;var u=Je(i,o);return l.annotation=u,l;function l(c,d,f){for(var v=c.hasOwnProperty(aa)?c[aa]:Object.defineProperty(c,aa,{value:[]})[aa];v.length<=f;)v.push(null);return(v[f]=v[f]||[]).push(u),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Fe=globalThis;function Ae(e){for(var n in e)if(e[n]===Ae)return n;throw Error("Could not find renamed property on target object.")}function tI(e,n){for(var t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function _n(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_n).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var n=e.toString();if(null==n)return""+n;var t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Ad(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}var rI=Ae({__forward_ref__:Ae});function Ve(e){return e.__forward_ref__=Ve,e.toString=function(){return _n(this())},e}function ne(e){return Tu(e)?e():e}function Tu(e){return"function"==typeof e&&e.hasOwnProperty(rI)&&e.__forward_ref__===Ve}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pu(e){return om(e,Au)||om(e,sm)}function om(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ou(e){return e&&(e.hasOwnProperty(xd)||e.hasOwnProperty(uI))?e[xd]:null}var Au=Ae({\u0275prov:Ae}),xd=Ae({\u0275inj:Ae}),sm=Ae({ngInjectableDef:Ae}),uI=Ae({ngInjectorDef:Ae}),W=function(){return m(function e(n,t){y(this,e),this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))},[{key:"multi",get:function(){return this}},{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}])}();function Vd(e){return e&&!!e.\u0275providers}var Io=Ae({\u0275cmp:Ae}),Bd=Ae({\u0275dir:Ae}),Hd=Ae({\u0275pipe:Ae}),lm=Ae({\u0275mod:Ae}),Ir=Ae({\u0275fac:Ae}),To=Ae({__NG_ELEMENT_ID__:Ae}),cm=Ae({__NG_ENV_ID__:Ae});function le(e){return"string"==typeof e?e:null==e?"":String(e)}function Ud(e,n){throw new R(-201,!1)}var zd,De=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(De||{});function dm(){return zd}function at(e){var n=zd;return zd=e,n}function fm(e,n,t){var r=Pu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&De.Optional?null:void 0!==n?n:void Ud()}var Po={},jd="__NG_DI_FLAG__",xu="ngTempTokenPath",gI=/\n/gm,vm="__source",ua=void 0;function Wr(e){var n=ua;return ua=e,n}function yI(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default;if(void 0===ua)throw new R(-203,!1);return null===ua?fm(e,void 0,n):ua.get(e,n&De.Optional?null:void 0,n)}function Ee(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default;return(dm()||yI)(ne(e),n)}function Y(e){return Ee(e,Nu(arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default))}function Nu(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Gd(e){for(var n=[],t=0;t<e.length;t++){var r=ne(e[t]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);for(var i=void 0,a=De.Default,o=0;o<r.length;o++){var s=r[o],u=_I(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}n.push(Ee(i,a))}else n.push(Ee(r))}return n}function Oo(e,n){return e[jd]=n,e.prototype[jd]=n,e}function _I(e){return e[jd]}var Wd=Oo(sa("Optional"),8),qd=Oo(sa("SkipSelf"),4);function bi(e,n){return e.hasOwnProperty(Ir)?e[Ir]:null}function la(e,n){e.forEach(function(t){return Array.isArray(t)?la(t,n):n(t)})}function gm(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Fu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function mt(e,n,t){var r=ca(e,n);return r>=0?e[1|r]=t:function pm(e,n,t,r){var i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r=~r,n,t),r}function Yd(e,n){var t=ca(e,n);if(t>=0)return e[1|t]}function ca(e,n){return function mm(e,n,t){for(var r=0,i=e.length>>t;i!==r;){var a=r+(i-r>>1),o=e[a<<t];if(n===o)return a<<t;o>n?i=a:r=a+1}return~(i<<t)}(e,n,1)}var rr={},Me=[],ir=new W(""),ym=new W("",-1),$d=new W(""),Lu=function(){return m(function e(){y(this,e)},[{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Po;if(r===Po){var i=new Error("NullInjectorError: No provider for ".concat(_n(t),"!"));throw i.name="NullInjectorError",i}return r}}])}(),Vu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Vu||{}),Lt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Lt||{}),qr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(qr||{});function kI(e,n,t){for(var r=e.length;;){var i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=n.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}t=i+1}}function Kd(e,n,t){for(var r=0;r<t.length;){var i=t[r];if("number"==typeof i){if(0!==i)break;r++;var a=t[r++],o=t[r++],s=t[r++];e.setAttribute(n,o,s,a)}else{var u=i,l=t[++r];Cm(u)?e.setProperty(n,u,l):e.setAttribute(n,u,l),r++}}return r}function _m(e){return 3===e||4===e||6===e}function Cm(e){return 64===e.charCodeAt(0)}function Ao(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else for(var t=-1,r=0;r<n.length;r++){var i=n[r];"number"==typeof i?t=i:0===t||bm(e,t,i,null,-1===t||2===t?n[++r]:null)}return e}function bm(e,n,t,r,i){var a=0,o=e.length;if(-1===n)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===n){o=-1;break}if(s>n){o=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===t){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,n),a=o+1),e.splice(a++,0,t),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}var Em="ng-template";function SI(e,n,t,r){var i=0;if(r){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==kI(n[i+1].toLowerCase(),t,0))return!0}else if(Qd(e))return!1;if((i=n.indexOf(1,i))>-1)for(var a;++i<n.length&&"string"==typeof(a=n[i]);)if(a.toLowerCase()===t)return!0;return!1}function Qd(e){return 4===e.type&&e.value!==Em}function II(e,n,t){return n===(4!==e.type||t?e.value:Em)}function TI(e,n,t){for(var r=4,i=e.attrs,a=null!==i?function AI(e){for(var n=0;n<e.length;n++)if(_m(e[n]))return n;return e.length}(i):0,o=!1,s=0;s<n.length;s++){var u=n[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!II(e,u,t)||""===u&&1===n.length){if(Vt(r))return!1;o=!0}}else if(8&r){if(null===i||!SI(e,i,u,t)){if(Vt(r))return!1;o=!0}}else{var l=n[++s],c=PI(u,i,Qd(e),t);if(-1===c){if(Vt(r))return!1;o=!0;continue}if(""!==l){var d;if(d=c>a?"":i[c+1].toLowerCase(),2&r&&l!==d){if(Vt(r))return!1;o=!0}}}}else{if(!o&&!Vt(r)&&!Vt(u))return!1;if(o&&Vt(u))continue;o=!1,r=u|1&r}}return Vt(r)||o}function Vt(e){return!(1&e)}function PI(e,n,t,r){if(null===n)return-1;var i=0;if(r||!t){for(var a=!1;i<n.length;){var o=n[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=n[++i];"string"==typeof s;)s=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function xI(e,n){var t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){var r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Dm(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<n.length;r++)if(TI(e,n[r],t))return!0;return!1}function Mm(e,n){return e?":not("+n.trim()+")":n}function FI(e){for(var n=e[0],t=1,r=2,i="",a=!1;t<e.length;){var o=e[t];if("string"==typeof o)if(2&r){var s=e[++t];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Vt(o)&&(n+=Mm(a,i),i=""),r=o,a=a||!Vt(r);t++}return""!==i&&(n+=Mm(a,i)),n}function ke(e){return kr(function(){var n,t=km(e),r=te(te({},t),{},{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Vu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Lt.Emulated,styles:e.styles||Me,_:null,schemas:e.schemas||null,tView:null,id:""});Sm(r);var i=e.dependencies;return r.directiveDefs=Bu(i,!1),r.pipeDefs=Bu(i,!0),r.id=function UI(e){var i,n=0,r=x([e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|"));try{for(r.s();!(i=r.n()).done;){var a=i.value;n=Math.imul(31,n)+a.charCodeAt(0)|0}}catch(u){r.e(u)}finally{r.f()}return"c"+(n+=2147483648)}(r),r})}function VI(e){return _e(e)||Cn(e)}function BI(e){return null!==e}function Zr(e){return kr(function(){return{type:e.type,bootstrap:e.bootstrap||Me,declarations:e.declarations||Me,imports:e.imports||Me,exports:e.exports||Me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}})}function wm(e,n){if(null==e)return rr;var t={};for(var r in e)if(e.hasOwnProperty(r)){var u,i=e[r],a=void 0,o=void 0,s=qr.None;Array.isArray(i)?(s=i[0],a=i[1],o=null!==(u=i[2])&&void 0!==u?u:a):(a=i,o=i),n?(t[a]=s!==qr.None?[r,s]:r,n[a]=o):t[a]=r}return t}function ue(e){return kr(function(){var n=km(e);return Sm(n),n})}function _e(e){return e[Io]||null}function Cn(e){return e[Bd]||null}function On(e){return e[Hd]||null}function km(e){var n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||rr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Me,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wm(e.inputs,n),outputs:wm(e.outputs),debugInfo:null}}function Sm(e){var n;null===(n=e.features)||void 0===n||n.forEach(function(t){return t(e)})}function Bu(e,n){if(!e)return null;var t=n?On:VI;return function(){return("function"==typeof e?e():e).map(function(r){return t(r)}).filter(BI)}}function zI(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{\u0275providers:Xd(!0,n),\u0275fromNgModule:!0}}function Xd(e){for(var r,n=[],t=new Set,i=function(l){n.push(l)},a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return la(o,function(u){var c=u;Hu(c,i,[],t)&&(r||(r=[]),r.push(c))}),void 0!==r&&Im(r,i),n}function Im(e,n){for(var t=function(){var a=e[r],o=a.ngModule;Jd(a.providers,function(u){n(u,o)})},r=0;r<e.length;r++)t()}function Hu(e,n,t,r){if(!(e=ne(e)))return!1;var i=null,a=Ou(e),o=!a&&_e(e);if(a||o){if(o&&!o.standalone)return!1;i=e}else{var s=e.ngModule;if(!(a=Ou(s)))return!1;i=s}var c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){var v,f=x("function"==typeof o.dependencies?o.dependencies():o.dependencies);try{for(f.s();!(v=f.n()).done;)Hu(v.value,n,t,r)}catch(M){f.e(M)}finally{f.f()}}}else{if(!a)return!1;if(null!=a.imports&&!c){var p;r.add(i);try{la(a.imports,function(M){Hu(M,n,t,r)&&(p||(p=[]),p.push(M))})}finally{}void 0!==p&&Im(p,n)}if(!c){var C=bi(i)||function(){return new i};n({provide:i,useFactory:C,deps:Me},i),n({provide:$d,useValue:i,multi:!0},i),n({provide:ir,useValue:function(){return Ee(i)},multi:!0},i)}var b=a.providers;if(null!=b&&!c){var _=e;Jd(b,function(M){n(M,_)})}}return i!==e&&void 0!==e.providers}function Jd(e,n){var r,t=x(e);try{for(t.s();!(r=t.n()).done;){var i=r.value;Vd(i)&&(i=i.\u0275providers),Array.isArray(i)?Jd(i,n):n(i)}}catch(a){t.e(a)}finally{t.f()}}var jI=Ae({provide:String,useValue:Ae});function ef(e){return null!==e&&"object"==typeof e&&jI in e}function Di(e){return"function"==typeof e}var nf=new W(""),Uu={},WI={},tf=void 0;function zu(){return void 0===tf&&(tf=new Lu),tf}var ar=m(function e(){y(this,e)}),da=function(e){function n(t,r,i,a){var o;y(this,n),(o=w(this,n)).parent=r,o.source=i,o.scopes=a,o.records=new Map,o._ngOnDestroyHooks=new Set,o._onDestroyHooks=[],o._destroyed=!1,af(t,function(u){return o.processProvider(u)}),o.records.set(ym,fa(void 0,o)),a.has("environment")&&o.records.set(ar,fa(void 0,o));var s=o.records.get(nf);return null!=s&&"string"==typeof s.value&&o.scopes.add(s.value),o.injectorDefTypes=new Set(o.get($d,Me,De.Self)),o}return k(n,e),m(n,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;var r=pe(null);try{var a,i=x(this._ngOnDestroyHooks);try{for(i.s();!(a=i.n()).done;)a.value.ngOnDestroy()}catch(d){i.e(d)}finally{i.f()}var s=this._onDestroyHooks;this._onDestroyHooks=[];var l,u=x(s);try{for(u.s();!(l=u.n()).done;)(0,l.value)()}catch(d){u.e(d)}finally{u.f()}}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(r)}}},{key:"onDestroy",value:function(r){var i=this;return this.assertNotDestroyed(),this._onDestroyHooks.push(r),function(){return i.removeOnDestroy(r)}}},{key:"runInContext",value:function(r){this.assertNotDestroyed();var i=Wr(this),a=at(void 0);try{return r()}finally{Wr(i),at(a)}}},{key:"get",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Po,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De.Default;if(this.assertNotDestroyed(),r.hasOwnProperty(cm))return r[cm](this);a=Nu(a);var s=Wr(this),u=at(void 0);try{if(!(a&De.SkipSelf)){var l=this.records.get(r);if(void 0===l){var c=function KI(e){return"function"==typeof e||"object"==typeof e&&e instanceof W}(r)&&Pu(r);l=c&&this.injectableDefInScope(c)?fa(rf(r),Uu):null,this.records.set(r,l)}if(null!=l)return this.hydrate(r,l)}return(a&De.Self?zu():this.parent).get(r,i=a&De.Optional&&i===Po?null:i)}catch(v){if("NullInjectorError"===v.name){if((v[xu]=v[xu]||[]).unshift(_n(r)),s)throw v;return function CI(e,n,t,r){var i=e[xu];throw n[vm]&&i.unshift(n[vm]),e.message=function bI(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;var i=_n(n);if(Array.isArray(n))i=n.map(_n).join(" -> ");else if("object"==typeof n){var a=[];for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):_n(s)))}i="{".concat(a.join(", "),"}")}return"".concat(t).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(gI,"\n  "))}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[xu]=null,e}(v,r,"R3InjectorError",this.source)}throw v}finally{at(u),Wr(s)}}},{key:"resolveInjectorInitializers",value:function(){var r=pe(null),i=Wr(this),a=at(void 0);try{var l,u=x(this.get(ir,Me,De.Self));try{for(u.s();!(l=u.n()).done;)(0,l.value)()}catch(d){u.e(d)}finally{u.f()}}finally{Wr(i),at(a),pe(r)}}},{key:"toString",value:function(){var o,r=[],a=x(this.records.keys());try{for(a.s();!(o=a.n()).done;)r.push(_n(o.value))}catch(u){a.e(u)}finally{a.f()}return"R3Injector[".concat(r.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new R(205,!1)}},{key:"processProvider",value:function(r){var i=Di(r=ne(r))?r:ne(r&&r.provide),a=function ZI(e){return ef(e)?fa(void 0,e.useValue):fa(Om(e),Uu)}(r);if(Di(r)||!0!==r.multi);else{var o=this.records.get(i);o||((o=fa(void 0,Uu,!0)).factory=function(){return Gd(o.multi)},this.records.set(i,o)),i=r,o.multi.push(r)}this.records.set(i,a)}},{key:"hydrate",value:function(r,i){var a=pe(null);try{return i.value===Uu&&(i.value=WI,i.value=i.factory()),"object"==typeof i.value&&i.value&&function $I(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{pe(a)}}},{key:"injectableDefInScope",value:function(r){if(!r.providedIn)return!1;var i=ne(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}},{key:"removeOnDestroy",value:function(r){var i=this._onDestroyHooks.indexOf(r);-1!==i&&this._onDestroyHooks.splice(i,1)}}])}(ar);function rf(e){var n=Pu(e),t=null!==n?n.factory:bi(e);if(null!==t)return t;if(e instanceof W)throw new R(204,!1);if(e instanceof Function)return function qI(e){if(e.length>0)throw new R(204,!1);var t=function sI(e){return e&&(e[Au]||e[sm])||null}(e);return null!==t?function(){return t.factory(e)}:function(){return new e}}(e);throw new R(204,!1)}function Om(e,n,t){var r=void 0;if(Di(e)){var i=ne(e);return bi(i)||rf(i)}if(ef(e))r=function(){return ne(e.useValue)};else if(function Pm(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,V(Gd(e.deps||[])))};else if(function Tm(e){return!(!e||!e.useExisting)}(e))r=function(){return Ee(ne(e.useExisting))};else{var a=ne(e&&(e.useClass||e.provide));if(!function YI(e){return!!e.deps}(e))return bi(a)||rf(a);r=function(){return Je(a,V(Gd(e.deps)))}}return r}function fa(e,n){return{factory:e,value:n,multi:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:void 0}}function af(e,n){var r,t=x(e);try{for(t.s();!(r=t.n()).done;){var i=r.value;Array.isArray(i)?af(i,n):i&&Vd(i)?af(i.\u0275providers,n):n(i)}}catch(a){t.e(a)}finally{t.f()}}var qe=0,L=1,$=2,cn=3,Bt=4,An=5,Zn=6,Mi=7,Be=8,dn=9,or=10,ie=11,Fo=12,Nm=13,ha=14,Ze=15,wi=16,ga=17,sr=18,pa=19,Fm=20,Yr=21,Ro=22,It=23,q=25,sf=1,ur=7,ma=9,rn=10,qu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(qu||{});function In(e){return Array.isArray(e)&&"object"==typeof e[sf]}function Un(e){return Array.isArray(e)&&!0===e[sf]}function uf(e){return!!(4&e.flags)}function ki(e){return e.componentOffset>-1}function Zu(e){return!(1&~e.flags)}function Ht(e){return!!e.template}function Vo(e){return!!(512&e[$])}var cT=function(){return m(function e(n,t,r){y(this,e),this.previousValue=n,this.currentValue=t,this.firstChange=r},[{key:"isFirstChange",value:function(){return this.firstChange}}])}();function Bm(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}function Tr(){return Hm}function Hm(e){return e.type.prototype.ngOnChanges&&(e.setInput=fT),dT}function dT(){var e=zm(this),n=e?.current;if(n){var t=e.previous;if(t===rr)e.previous=n;else for(var r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function fT(e,n,t,r,i){var a=this.declaredInputs[r],o=zm(e)||function vT(e,n){return e[Um]=n}(e,{previous:rr,current:null}),s=o.current||(o.current={}),u=o.previous,l=u[a];s[a]=new cT(l&&l.currentValue,t,u===rr),Bm(e,n,i,t)}Tr.ngInherit=!0;var Um="__ngSimpleChanges__";function zm(e){return e[Um]||null}var lr=function(n,t,r){};function we(e){for(;Array.isArray(e);)e=e[qe];return e}function Bo(e,n){return we(n[e])}function Yn(e,n){return we(n[e.index])}function Ho(e,n){return e.data[n]}function yt(e,n){var t=n[e];return In(t)?t:t[qe]}function vf(e){return!(128&~e[$])}function Tt(e,n){return null==n?null:e[n]}function Wm(e){e[ga]=0}function qm(e){1024&e[$]||(e[$]|=1024,vf(e)&&Yu(e))}function Uo(e){var n;return!!(9216&e[$]||null!==(n=e[It])&&void 0!==n&&n.dirty)}function hf(e){var n;null===(n=e[or].changeDetectionScheduler)||void 0===n||n.notify(7),64&e[$]&&(e[$]|=1024),Uo(e)&&Yu(e)}function Yu(e){var n;null===(n=e[or].changeDetectionScheduler)||void 0===n||n.notify(0);for(var t=Pr(e);null!==t&&!(8192&t[$])&&(t[$]|=8192,vf(t));)t=Pr(t)}function $u(e,n){if(!(256&~e[$]))throw new R(911,!1);null===e[Yr]&&(e[Yr]=[]),e[Yr].push(n)}function Pr(e){var n=e[cn];return Un(n)?n[cn]:n}var ae={lFrame:ay(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ym=!1;function $m(){return ae.bindingsEnabled}function T(){return ae.lFrame.lView}function me(){return ae.lFrame.tView}function Ye(e){return ae.lFrame.contextLView=e,e[Be]}function $e(e){return ae.lFrame.contextLView=null,e}function xe(){for(var e=Km();null!==e&&64===e.type;)e=e.parent;return e}function Km(){return ae.lFrame.currentTNode}function Ut(e,n){var t=ae.lFrame;t.currentTNode=e,t.isParent=n}function mf(){return ae.lFrame.isParent}function Jm(){return Ym}function ey(e){Ym=e}function $n(){var e=ae.lFrame,n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function zt(){return ae.lFrame.bindingIndex++}function Ar(e){var n=ae.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function ST(e,n){var t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=e,_f(n)}function _f(e){ae.lFrame.currentDirectiveIndex=e}function bf(){return ae.lFrame.currentQueryIndex}function Qu(e){ae.lFrame.currentQueryIndex=e}function TT(e){var n=e[L];return 2===n.type?n.declTNode:1===n.type?e[An]:null}function ry(e,n,t){if(t&De.SkipSelf){for(var r=n,i=e;!(null!==(r=r.parent)||t&De.Host||null===(r=TT(i))||(i=i[ha],10&r.type)););if(null===r)return!1;n=r,e=i}var a=ae.lFrame=iy();return a.currentTNode=n,a.lView=e,!0}function Ef(e){var n=iy(),t=e[L];ae.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function iy(){var e=ae.lFrame,n=null===e?null:e.child;return null===n?ay(e):n}function ay(e){var n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function oy(){var e=ae.lFrame;return ae.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var sy=oy;function Df(){var e=oy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function xn(){return ae.lFrame.selectedIndex}function Ti(e){ae.lFrame.selectedIndex=e}function He(){var e=ae.lFrame;return Ho(e.tView,e.selectedIndex)}var ly=!0;function jo(){return ly}function cr(e){ly=e}function Xu(e,n){for(var t=n.directiveStart,r=n.directiveEnd;t<r;t++){var d,f,v,g,p,C,b,a=e.data[t].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(null!==(d=e.contentHooks)&&void 0!==d?d:e.contentHooks=[]).push(-t,o),s&&((null!==(f=e.contentHooks)&&void 0!==f?f:e.contentHooks=[]).push(t,s),(null!==(v=e.contentCheckHooks)&&void 0!==v?v:e.contentCheckHooks=[]).push(t,s)),u&&(null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push(-t,u),l&&((null!==(p=e.viewHooks)&&void 0!==p?p:e.viewHooks=[]).push(t,l),(null!==(C=e.viewCheckHooks)&&void 0!==C?C:e.viewCheckHooks=[]).push(t,l)),null!=c&&(null!==(b=e.destroyHooks)&&void 0!==b?b:e.destroyHooks=[]).push(t,c)}}function Ju(e,n,t){cy(e,n,3,t)}function el(e,n,t,r){(3&e[$])===t&&cy(e,n,t,r)}function Mf(e,n){var t=e[$];(3&t)===n&&(t&=16383,e[$]=t+=1)}function cy(e,n,t,r){for(var a=r??-1,o=n.length-1,s=0,u=void 0!==r?65535&e[ga]:0;u<o;u++)if("number"==typeof n[u+1]){if(s=n[u],null!=r&&s>=r)break}else n[u]<0&&(e[ga]+=65536),(s<a||-1==a)&&(RT(e,t,n,u),e[ga]=(4294901760&e[ga])+u+2),u++}function dy(e,n){lr(4,e,n);var t=pe(null);try{n.call(e)}finally{pe(t),lr(5,e,n)}}function RT(e,n,t,r){var i=t[r]<0,a=t[r+1],s=e[i?-t[r]:t[r]];i?e[$]>>14<e[ga]>>16&&(3&e[$])===n&&(e[$]+=16384,dy(s,a)):dy(s,a)}var ya=-1,Go=m(function e(n,t,r){y(this,e),this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}),kf={},Pi=function(){return m(function e(n,t){y(this,e),this.injector=n,this.parentInjector=t},[{key:"get",value:function(t,r,i){i=Nu(i);var a=this.injector.get(t,kf,i);return a!==kf||r===kf?a:this.parentInjector.get(t,r,i)}}])}();function Sf(e){return e!==ya}function Wo(e){return 32767&e}function qo(e,n){for(var t=function HT(e){return e>>16}(e),r=n;t>0;)r=r[ha],t--;return r}var If=!0;function nl(e){var n=If;return If=e,n}var vy=255,hy=5,jT=0,dr={};function tl(e,n){var t=gy(e,n);if(-1!==t)return t;var r=n[L];r.firstCreatePass&&(e.injectorIndex=n.length,Tf(r.data,e),Tf(n,null),Tf(r.blueprint,null));var i=rl(e,n),a=e.injectorIndex;if(Sf(i))for(var o=Wo(i),s=qo(i,n),u=s[L].data,l=0;l<8;l++)n[a+l]=s[o+l]|u[o+l];return n[a+8]=i,a}function Tf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function gy(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function rl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var t=0,r=null,i=n;null!==i;){if(null===(r=Ey(i)))return ya;if(t++,i=i[ha],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ya}function Pf(e,n,t){!function GT(e,n,t){var r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(To)&&(r=t[To]),null==r&&(r=t[To]=jT++);var i=r&vy;n.data[e+(i>>hy)]|=1<<i}(e,n,t)}function py(e,n,t){if(t&De.Optional||void 0!==e)return e;Ud()}function my(e,n,t,r){if(t&De.Optional&&void 0===r&&(r=null),!(t&(De.Self|De.Host))){var i=e[dn],a=at(void 0);try{return i?i.get(n,r,t&De.Optional):fm(n,r,t&De.Optional)}finally{at(a)}}return py(r,0,t)}function yy(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:De.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){if(2048&n[$]&&!(r&De.Self)){var a=function $T(e,n,t,r,i){for(var a=e,o=n;null!==a&&null!==o&&2048&o[$]&&!(512&o[$]);){var s=_y(a,o,t,r|De.Self,dr);if(s!==dr)return s;var u=a.parent;if(!u){var l=o[Fm];if(l){var c=l.get(t,dr,r);if(c!==dr)return c}u=Ey(o),o=o[ha]}a=u}return i}(e,n,t,r,dr);if(a!==dr)return a}var o=_y(e,n,t,r,dr);if(o!==dr)return o}return my(n,t,r,i)}function _y(e,n,t,r,i){var a=function ZT(e){if("string"==typeof e)return e.charCodeAt(0)||0;var n=e.hasOwnProperty(To)?e[To]:void 0;return"number"==typeof n?n>=0?n&vy:YT:n}(t);if("function"==typeof a){if(!ry(n,e,r))return r&De.Host?py(i,0,r):my(n,t,r,i);try{var o;if(null!=(o=a(r))||r&De.Optional)return o;Ud()}finally{sy()}}else if("number"==typeof a){var s=null,u=gy(e,n),l=ya,c=r&De.Host?n[Ze][An]:null;for((-1===u||r&De.SkipSelf)&&((l=-1===u?rl(e,n):n[u+8])!==ya&&by(r,!1)?(s=n[L],u=Wo(l),n=qo(l,n)):u=-1);-1!==u;){var d=n[L];if(Cy(a,u,d.data)){var f=qT(u,n,t,s,r,c);if(f!==dr)return f}(l=n[u+8])!==ya&&by(r,n[L].data[u+8]===c)&&Cy(a,u,n)?(s=d,u=Wo(l),n=qo(l,n)):u=-1}}return i}function qT(e,n,t,r,i,a){var o=n[L],s=o.data[e+8],c=il(s,o,t,null==r?ki(s)&&If:r!=o&&!!(3&s.type),i&De.Host&&a===s);return null!==c?Oi(n,o,c,s):dr}function il(e,n,t,r,i){for(var a=e.providerIndexes,o=n.data,s=1048575&a,u=e.directiveStart,c=a>>20,f=i?s+c:e.directiveEnd,v=r?s:s+c;v<f;v++){var g=o[v];if(v<u&&t===g||v>=u&&g.type===t)return v}if(i){var p=o[u];if(p&&Ht(p)&&p.type===t)return u}return null}function Oi(e,n,t,r){var i=e[t],a=n.data;if(function LT(e){return e instanceof Go}(i)){var o=i;o.resolving&&function dI(e,n){throw n&&". Dependency path: ".concat(n.join(" > ")," > ").concat(e),new R(-200,e)}(function Ie(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():le(e)}(a[t]));var s=nl(o.canSeeViewProviders);o.resolving=!0;var d=o.injectImpl?at(o.injectImpl):null;ry(e,r,De.Default);try{i=e[t]=o.factory(void 0,a,e,r),n.firstCreatePass&&t>=r.directiveStart&&function FT(e,n,t){var c,d,f,r=n.type.prototype,a=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var s,u,l=Hm(n);(null!==(s=t.preOrderHooks)&&void 0!==s?s:t.preOrderHooks=[]).push(e,l),(null!==(u=t.preOrderCheckHooks)&&void 0!==u?u:t.preOrderCheckHooks=[]).push(e,l)}a&&(null!==(c=t.preOrderHooks)&&void 0!==c?c:t.preOrderHooks=[]).push(0-e,a),o&&((null!==(d=t.preOrderHooks)&&void 0!==d?d:t.preOrderHooks=[]).push(e,o),(null!==(f=t.preOrderCheckHooks)&&void 0!==f?f:t.preOrderCheckHooks=[]).push(e,o))}(t,a[t],n)}finally{null!==d&&at(d),nl(s),o.resolving=!1,sy()}}return i}function Cy(e,n,t){return!!(t[n+(e>>hy)]&1<<e)}function by(e,n){return!(e&De.Self||e&De.Host&&n)}var En=function(){return m(function e(n,t){y(this,e),this._tNode=n,this._lView=t},[{key:"get",value:function(t,r,i){return yy(this._tNode,this._lView,t,Nu(i),r)}}])}();function YT(){return new En(xe(),T())}function Nn(e){return kr(function(){for(var n=e.prototype.constructor,t=n[Ir]||Of(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var a=i[Ir]||Of(i);if(a&&a!==t)return a;i=Object.getPrototypeOf(i)}return function(o){return new o}})}function Of(e){return Tu(e)?function(){var n=Of(ne(e));return n&&n()}:bi(e)}function Ey(e){var n=e[L],t=n.type;return 2===t?n.declTNode:1===t?e[An]:null}function Sy(e){var i=Iy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return i.resolveInjectorInitializers(),i}function Iy(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set,a=[t||Me,zI(e)];return r=r||("object"==typeof e?void 0:_n(e)),new da(a,n||zu(),r||null,i)}var Dn=function(){return m(function e(){y(this,e)},null,[{key:"create",value:function(t,r){if(Array.isArray(t))return Sy({name:""},r,t,"");var i,a=null!==(i=t.name)&&void 0!==i?i:"";return Sy({name:a},t.parent,t.providers,a)}}])}();(ta=Dn).THROW_IF_NOT_FOUND=Po,ta.NULL=new Lu,ta.\u0275prov=he({token:ta,providedIn:"any",factory:function(){return Ee(ym)}}),ta.__NG_ELEMENT_ID__=-1,new W("").__NG_ELEMENT_ID__=function(e){var n=xe();if(null===n)throw new R(204,!1);if(2&n.type)return n.value;if(e&De.Optional)return null;throw new R(204,!1)};function Nf(e){return e.ngOriginalError}var $r=function(){return m(function e(){y(this,e),this._console=console},[{key:"handleError",value:function(t){var r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}},{key:"_findOriginalError",value:function(t){for(var r=t&&Nf(t);r&&Nf(r);)r=Nf(r);return r||null}}])}(),Py=new W("",{providedIn:"root",factory:function(){return Y($r).handleError.bind(void 0)}}),ol=function(){var e,n=m(function t(){y(this,t)});return(e=n).__NG_ELEMENT_ID__=a1,e.__NG_ENV_ID__=function(t){return t},n}(),i1=function(e){function n(t){var r;return y(this,n),(r=w(this,n))._lView=t,r}return k(n,e),m(n,[{key:"onDestroy",value:function(r){var i=this;return $u(this._lView,r),function(){return function gf(e,n){if(null!==e[Yr]){var t=e[Yr].indexOf(n);-1!==t&&e[Yr].splice(t,1)}}(i._lView,r)}}}])}(ol);function a1(){return new i1(T())}function o1(){return ba(xe(),T())}function ba(e,n){return new jt(Yn(e,n))}var jt=function(){var n=m(function t(r){y(this,t),this.nativeElement=r});return n.__NG_ELEMENT_ID__=o1,n}();function Ay(e){return e instanceof jt?e.nativeElement:e}var Ea=function(){var e,n=function(){return m(function t(){y(this,t),this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new SS(!1)},[{key:"_hasPendingTasks",get:function(){return this.hasPendingTasks.value}},{key:"add",value:function(){this._hasPendingTasks||this.hasPendingTasks.next(!0);var i=this.taskId++;return this.pendingTasks.add(i),i}},{key:"remove",value:function(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}},{key:"ngOnDestroy",value:function(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}])}();return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e}}),n}(),s1=function(e){function n(){var t,i,a,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y(this,n),(t=w(this,n)).destroyRef=void 0,t.pendingTasks=void 0,t.__isAsync=r,function Am(){return void 0!==dm()||null!=function mI(){return ua}()}()&&(t.destroyRef=null!==(i=Y(ol,{optional:!0}))&&void 0!==i?i:void 0,t.pendingTasks=null!==(a=Y(Ea,{optional:!0}))&&void 0!==a?a:void 0),t}return k(n,e),m(n,[{key:"emit",value:function(r){var i=pe(null);try{We(Oe(n.prototype),"next",this).call(this,r)}finally{pe(i)}}},{key:"subscribe",value:function(r,i,a){var o=r,s=i||function(){return null},u=a;if(r&&"object"==typeof r){var l,c,d,f=r;o=null===(l=f.next)||void 0===l?void 0:l.bind(f),s=null===(c=f.error)||void 0===c?void 0:c.bind(f),u=null===(d=f.complete)||void 0===d?void 0:d.bind(f)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),u&&(u=this.wrapInTimeout(u)));var v=We(Oe(n.prototype),"subscribe",this).call(this,{next:o,error:s,complete:u});return r instanceof St&&r.add(v),v}},{key:"wrapInTimeout",value:function(r){var i=this;return function(a){var o,s=null===(o=i.pendingTasks)||void 0===o?void 0:o.add();setTimeout(function(){var u;r(a),void 0!==s&&(null===(u=i.pendingTasks)||void 0===u||u.remove(s))})}}}])}(wr),fn=s1;function u1(){return this._results[Symbol.iterator]()}var l1=function(){return m(function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(this,e),this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;var t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=u1)},[{key:"changes",get:function(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new fn}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,r){return this._results.reduce(t,r)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,r){this.dirty=!1;var i=function ot(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function wI(e,n,t){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],a=n[r];if(t&&(i=t(i),a=t(a)),a!==i)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}},{key:"notifyOnChanges",value:function(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"onDirty",value:function(t){this._onDirty=t}},{key:"setDirty",value:function(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}},{key:"destroy",value:function(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}])}();function sl(e){return!(128&~e.flags)}var Ff=new Map,d1=0,ll="__ngContext__";function zn(e,n){In(n)?(e[ll]=n[pa],function v1(e){Ff.set(e[pa],e)}(n)):e[ll]=n}function zy(e){return Gy(e[Fo])}function jy(e){return Gy(e[Bt])}function Gy(e){for(;null!==e&&!Un(e);)e=e[Bt];return e}var Lf=void 0;var Ma=new W("",{providedIn:"root",factory:function(){return x1}}),x1="ng",$y=new W(""),Qr=new W("",{providedIn:"platform",factory:function(){return"unknown"}}),Ky=new W("",{providedIn:"root",factory:function(){var n;return(null===(n=function Kr(){if(void 0!==Lf)return Lf;if(typeof document<"u")return document;throw new R(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}}),Qy=function(){return null};function zf(e,n){return Qy(e,n,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}var a_=new W("",{providedIn:"root",factory:function(){return!1}}),d_=function(){return m(function e(n){y(this,e),this.changingThisBreaksApplicationSecurity=n},[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see ".concat(tm,")")}}])}();function Xr(e){return e instanceof d_?e.changingThisBreaksApplicationSecurity:e}var tP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Pa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pa||{});function Jf(e){var n=function rs(){var e=T();return e&&e[or].sanitizer}();return n?n.sanitize(Pa.URL,e)||"":function ns(e,n){var t=function X1(e){return e instanceof d_&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error("Required a safe ".concat(n,", got a ").concat(t," (see ").concat(tm,")"))}return t===n}(e,"URL")?Xr(e):function $f(e){return(e=String(e)).match(tP)?e:"unsafe:"+e}(le(e))}var tv,Jr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Jr||{});function rv(e,n){return tv(e,n)}function Aa(e,n,t,r,i){if(null!=r){var a,o=!1;Un(r)?a=r:In(r)&&(o=!0,r=r[qe]);var s=we(r);0===e&&null!==t?null==i?x_(n,t,s):Ai(n,t,s,i||null,!0):1===e&&null!==t?Ai(n,t,s,i||null,!0):2===e?function as(e,n,t){var r=Dl(e,n);r&&function GP(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,s,o):3===e&&n.destroyNode(s),null!=a&&function ZP(e,n,t,r,i){var a=t[ur];a!==we(t)&&Aa(n,e,r,a,i);for(var s=rn;s<t.length;s++){var u=t[s];wl(u[L],u,e,n,r,a)}}(n,e,a,t,i)}}function bl(e,n,t){return e.createElement(n,t)}function P_(e,n){var t;null===(t=n[or].changeDetectionScheduler)||void 0===t||t.notify(8),wl(e,n,n[ie],2,null,null)}function O_(e,n){var t=e[ma],r=n[cn];(In(r)||n[Ze]!==r[cn][Ze])&&(e[$]|=qu.HasTransplantedViews),null===t?e[ma]=[n]:t.push(n)}function ov(e,n){var t=e[ma],r=t.indexOf(n);t.splice(r,1)}function is(e,n){if(!(e.length<=rn)){var t=rn+n,r=e[t];if(r){var i=r[wi];null!==i&&i!==e&&ov(i,r),n>0&&(e[t-1][Bt]=r[Bt]);var a=Fu(e,rn+n);!function VP(e,n){P_(e,n),n[qe]=null,n[An]=null}(r[L],r);var o=a[sr];null!==o&&o.detachView(a[L]),r[cn]=null,r[Bt]=null,r[$]&=-129}return r}}function El(e,n){if(!(256&n[$])){var t=n[ie];t.destroyNode&&wl(e,n,t,3,null,null),function HP(e){var n=e[Fo];if(!n)return sv(e[L],e);for(;n;){var t=null;if(In(n))t=n[Fo];else{var r=n[rn];r&&(t=r)}if(!t){for(;n&&!n[Bt]&&n!==e;)In(n)&&sv(n[L],n),n=n[cn];null===n&&(n=e),In(n)&&sv(n[L],n),t=n&&n[Bt]}n=t}}(n)}}function sv(e,n){if(!(256&n[$])){var t=pe(null);try{n[$]&=-129,n[$]|=256,n[It]&&yd(n[It]),function jP(e,n){var t;if(null!=e&&null!=(t=e.destroyHooks))for(var r=0;r<t.length;r+=2){var i=n[t[r]];if(!(i instanceof Go)){var a=t[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];lr(4,s,u);try{u.call(s)}finally{lr(5,s,u)}}else{lr(4,i,a);try{a.call(i)}finally{lr(5,i,a)}}}}}(e,n),function zP(e,n){var t=e.cleanup,r=n[Mi];if(null!==t)for(var i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){var a=t[i+3];a>=0?r[a]():r[-a].unsubscribe(),i+=2}else t[i].call(r[t[i+1]]);null!==r&&(n[Mi]=null);var s=n[Yr];if(null!==s){n[Yr]=null;for(var u=0;u<s.length;u++)(0,s[u])()}}(e,n),1===n[L].type&&n[ie].destroy();var r=n[wi];if(null!==r&&Un(n[cn])){r!==n[cn]&&ov(r,n);var i=n[sr];null!==i&&i.detachView(e)}!function h1(e){Ff.delete(e[pa])}(n)}finally{pe(t)}}}function uv(e,n,t){return function A_(e,n,t){for(var r=n;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return t[qe];var a=r.componentOffset;if(a>-1){var o=e.data[r.directiveStart+a].encapsulation;if(o===Lt.None||o===Lt.Emulated)return null}return Yn(r,t)}(e,n.parent,t)}function Ai(e,n,t,r,i){e.insertBefore(n,t,r,i)}function x_(e,n,t){e.appendChild(n,t)}function N_(e,n,t,r,i){null!==r?Ai(e,n,t,r,i):x_(e,n,t)}function Dl(e,n){return e.parentNode(n)}var lv,L_=function R_(e,n,t){return 40&e.type?Yn(e,t):null};function Ml(e,n,t,r){var i=uv(e,r,n),a=n[ie],s=function F_(e,n,t){return L_(e,n,t)}(r.parent||n[An],r,n);if(null!=i)if(Array.isArray(t))for(var u=0;u<t.length;u++)N_(a,i,t[u],s,!1);else N_(a,i,t,s,!1);void 0!==lv&&lv(a,r,n,t,i)}function xa(e,n){if(null!==n){var t=n.type;if(3&t)return Yn(n,e);if(4&t)return cv(-1,e[n.index]);if(8&t){var r=n.child;if(null!==r)return xa(e,r);var i=e[n.index];return Un(i)?cv(-1,i):we(i)}if(32&t)return rv(n,e)()||we(e[n.index]);var s=B_(e,n);return null!==s?Array.isArray(s)?s[0]:xa(Pr(e[Ze]),s):xa(e,n.next)}return null}function B_(e,n){return null!==n?e[Ze][An].projection[n.projection]:null}function cv(e,n){var t=rn+e+1;if(t<n.length){var r=n[t],i=r[L].firstChild;if(null!==i)return xa(r,i)}return n[ur]}function dv(e,n,t,r,i,a,o){for(;null!=t;)if(128!==t.type){var s=r[t.index],u=t.type;if(o&&0===n&&(s&&zn(we(s),r),t.flags|=2),32&~t.flags)if(8&u)dv(e,n,t.child,r,i,a,!1),Aa(n,e,i,s,a);else if(32&u){for(var l=rv(t,r),c=void 0;c=l();)Aa(n,e,i,c,a);Aa(n,e,i,s,a)}else 16&u?U_(e,n,r,t,i,a):Aa(n,e,i,s,a);t=o?t.projectionNext:t.next}else t=t.next}function wl(e,n,t,r,i,a){dv(t,r,e.firstChild,n,i,a,!1)}function U_(e,n,t,r,i,a){var o=t[Ze],u=o[An].projection[r.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)Aa(n,e,i,u[l],a);else{var d=u,f=o[cn];sl(r)&&(d.flags|=128),dv(e,n,d,f,i,a,!0)}}function z_(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function j_(e,n,t){var r=t.mergedAttrs,i=t.classes,a=t.styles;null!==r&&Kd(e,n,r),null!==i&&z_(e,n,i),null!==a&&function $P(e,n,t){e.setAttribute(n,"style",t)}(e,n,a)}var ce={};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;G_(me(),T(),xn()+e,!1)}function G_(e,n,t,r){if(!r)if(3&~n[$]){var o=e.preOrderHooks;null!==o&&el(n,o,0,t)}else{var a=e.preOrderCheckHooks;null!==a&&Ju(n,a,t)}Ti(t)}function A(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.Default,t=T();return null===t?Ee(e,n):yy(xe(),t,ne(e),n)}function W_(e,n,t,r,i,a){var o=pe(null);try{var s=null;i&qr.SignalBased&&(s=n[r][Nt]),null!==s&&void 0!==s.transformFn&&(a=s.transformFn(a)),i&qr.HasDecoratorInputTransform&&(a=e.inputTransforms[r].call(n,a)),null!==e.setInput?e.setInput(n,s,a,t,r):Bm(n,s,r,a)}finally{pe(o)}}function kl(e,n,t,r,i,a,o,s,u,l,c){var d=n.blueprint.slice();return d[qe]=i,d[$]=204|r,(null!==l||e&&2048&e[$])&&(d[$]|=2048),Wm(d),d[cn]=d[ha]=e,d[Be]=t,d[or]=o||e&&e[or],d[ie]=s||e&&e[ie],d[dn]=u||e&&e[dn]||null,d[An]=a,d[pa]=function f1(){return d1++}(),d[Zn]=c,d[Fm]=l,d[Ze]=2==n.type?e[Ze]:d,d}function xi(e,n,t,r,i){var a=e.data[n];if(null===a)a=function fv(e,n,t,r,i){var a=Km(),o=mf(),u=e.data[n]=function iO(e,n,t,r,i,a){var o=n?n.injectorIndex:-1,s=0;return function Ii(){return null!==ae.skipHydrationRootTNode}()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u,u.prev=a)),u}(e,n,t,r,i),function kT(){return ae.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=t,a.value=r,a.attrs=i;var o=function zo(){var e=ae.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Ut(a,!0),a}function os(e,n,t,r){if(0===t)return-1;for(var i=n.length,a=0;a<t;a++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function q_(e,n,t,r,i){var a=xn(),o=2&r;try{Ti(-1),o&&n.length>q&&G_(e,n,q,!1),lr(o?2:0,i),t(r,i)}finally{Ti(a),lr(o?3:1,i)}}function vv(e,n,t){if(uf(n)){var r=pe(null);try{for(var a=n.directiveEnd,o=n.directiveStart;o<a;o++){var s=e.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}finally{pe(r)}}}function hv(e,n,t){$m()&&(function dO(e,n,t,r){var i=t.directiveStart,a=t.directiveEnd;ki(t)&&function yO(e,n,t){var r=Yn(n,e),i=Z_(t),o=16;t.signals?o=4096:t.onPush&&(o=64);var s=Sl(e,kl(e,i,null,o,r,n,null,e[or].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=s}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||tl(t,n),zn(r,n);for(var o=t.initialInputs,s=i;s<a;s++){var u=e.data[s],l=Oi(n,e,s,t);zn(l,n),null!==o&&_O(0,s-i,l,u,0,o),Ht(u)&&(yt(t.index,n)[Be]=Oi(n,e,s,t))}}(e,n,t,Yn(t,n)),!(64&~t.flags)&&X_(e,n,t))}function gv(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yn,r=n.localNames;if(null!==r)for(var i=n.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?t(n,e):e[o];e[i++]=s}}function Z_(e){var n=e.tView;return null===n||n.incompleteFirstPass?e.tView=pv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function pv(e,n,t,r,i,a,o,s,u,l,c){var d=q+r,f=d+i,v=function XP(e,n){for(var t=[],r=0;r<n;r++)t.push(r<e?null:ce);return t}(d,f),g="function"==typeof l?l():l;return v[L]={type:e,blueprint:v,template:t,queries:null,viewQuery:s,declTNode:n,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:c}}var Y_=function(){return null};function $_(e,n,t,r,i){for(var a in n){var o;if(n.hasOwnProperty(a)){var s=n[a];if(void 0!==s){null!==(o=r)&&void 0!==o||(r={});var u=void 0,l=qr.None;Array.isArray(s)?(u=s[0],l=s[1]):u=s;var c=a;if(null!==i){if(!i.hasOwnProperty(a))continue;c=i[a]}0===e?K_(r,t,c,u,l):K_(r,t,c,u)}}}return r}function K_(e,n,t,r,i){var a;e.hasOwnProperty(t)?(a=e[t]).push(n,r):a=e[t]=[n,r],void 0!==i&&a.push(i)}function lt(e,n,t,r,i,a,o,s){var c,u=Yn(n,t),l=n.inputs;!s&&null!=l&&(c=l[r])?(bv(e,t,c,r,i),ki(n)&&function sO(e,n){var t=yt(n,e);16&t[$]||(t[$]|=64)}(t,n.index)):3&n.type&&(r=function oO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,a.setProperty(u,r,i))}function mv(e,n,t,r){if($m()){var o,s,i=null===r?null:{"":-1},a=function vO(e,n){var t=e.directiveRegistry,r=null,i=null;if(t)for(var a=0;a<t.length;a++){var o=t[a];if(Dm(n,o.selectors,!1))if(r||(r=[]),Ht(o))if(null!==o.findHostDirectiveDefs){var s,u=[];o.findHostDirectiveDefs(o,u,i=i||new Map),(s=r).unshift.apply(s,u.concat([o])),yv(e,n,u.length)}else r.unshift(o),yv(e,n,0);else{var c;i=i||new Map,null===(c=o.findHostDirectiveDefs)||void 0===c||c.call(o,o,r,i),r.push(o)}}return null===r?null:[r,i]}(e,t);if(null===a)o=s=null;else{var u=it(a,2);o=u[0],s=u[1]}null!==o&&Q_(e,n,t,o,i,s),i&&function hO(e,n,t){if(n)for(var r=e.localNames=[],i=0;i<n.length;i+=2){var a=t[n[i+1]];if(null==a)throw new R(-301,!1);r.push(n[i],a)}}(t,r,i)}t.mergedAttrs=Ao(t.mergedAttrs,t.attrs)}function Q_(e,n,t,r,i,a){for(var o=0;o<r.length;o++)Pf(tl(t,n),e,r[o].type);!function pO(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(var s=0;s<r.length;s++){var u=r[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,d=os(e,n,r.length,null),f=0;f<r.length;f++){var v=r[f];t.mergedAttrs=Ao(t.mergedAttrs,v.hostAttrs),mO(e,t,n,d,v),gO(d,v,i),null!==v.contentQueries&&(t.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(t.flags|=64);var p,C,g=v.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((null!==(p=e.preOrderHooks)&&void 0!==p?p:e.preOrderHooks=[]).push(t.index),l=!0),c||!g.ngOnChanges&&!g.ngDoCheck||((null!==(C=e.preOrderCheckHooks)&&void 0!==C?C:e.preOrderCheckHooks=[]).push(t.index),c=!0),d++}!function aO(e,n,t){for(var i=n.directiveEnd,a=e.data,o=n.attrs,s=[],u=null,l=null,c=n.directiveStart;c<i;c++){var d=a[c],f=t?t.get(d):null,g=f?f.outputs:null;u=$_(0,d.inputs,c,u,f?f.inputs:null),l=$_(1,d.outputs,c,l,g);var p=null===u||null===o||Qd(n)?null:CO(u,c,o);s.push(p)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=s,n.inputs=u,n.outputs=l}(e,t,a)}function X_(e,n,t){var r=t.directiveStart,i=t.directiveEnd,a=t.index,o=function IT(){return ae.lFrame.currentDirectiveIndex}();try{Ti(a);for(var s=r;s<i;s++){var u=e.data[s],l=n[s];_f(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&fO(u,l)}}finally{Ti(-1),_f(o)}}function fO(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function yv(e,n,t){var r;n.componentOffset=t,(null!==(r=e.components)&&void 0!==r?r:e.components=[]).push(n.index)}function gO(e,n,t){if(t){if(n.exportAs)for(var r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ht(n)&&(t[""]=e)}}function mO(e,n,t,r,i){e.data[r]=i;var a=i.factory||(i.factory=bi(i.type)),o=new Go(a,Ht(i),A);e.blueprint[r]=o,t[r]=o,function lO(e,n,t,r,i){var a=i.hostBindings;if(a){var o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);var s=~n.index;(function cO(e){for(var n=e.length;n>0;){var t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=s&&o.push(s),o.push(t,r,a)}}(e,n,r,os(e,t,i.hostVars,ce),i)}function fr(e,n,t,r,i,a){var o=Yn(e,n);!function _v(e,n,t,r,i,a,o){if(null==a)e.removeAttribute(n,i,t);else{var s=null==o?le(a):o(a,r||"",i);e.setAttribute(n,i,s,t)}}(n[ie],o,a,e.value,t,r,i)}function _O(e,n,t,r,i,a){var o=a[n];if(null!==o)for(var s=0;s<o.length;)W_(r,t,o[s++],o[s++],o[s++],o[s++])}function CO(e,n,t){for(var r=null,i=0;i<t.length;){var a=t[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);for(var o=e[a],s=0;s<o.length;s+=3)if(o[s]===n){r.push(a,o[s+1],o[s+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function J_(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function eC(e,n){var t=e.contentQueries;if(null!==t){var r=pe(null);try{for(var i=0;i<t.length;i+=2){var o=t[i+1];if(-1!==o){var s=e.data[o];Qu(t[i]),s.contentQueries(2,n[o],o)}}}finally{pe(r)}}}function Sl(e,n){return e[Fo]?e[Nm][Bt]=n:e[Fo]=n,e[Nm]=n,n}function Cv(e,n,t){Qu(0);var r=pe(null);try{n(e,t)}finally{pe(r)}}function nC(e){var n;return null!==(n=e[Mi])&&void 0!==n?n:e[Mi]=[]}function tC(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function Il(e,n){var t=e[dn],r=t?t.get($r,null):null;r&&r.handleError(n)}function bv(e,n,t,r,i){for(var a=0;a<t.length;){var o=t[a++],s=t[a++],u=t[a++];W_(e.data[o],n[o],r,s,u,i)}}function Nr(e,n,t){var r=Bo(n,e);!function T_(e,n,t){e.setValue(n,t)}(e[ie],r,t)}function bO(e,n){var t=yt(n,e),r=t[L];!function EO(e,n){for(var t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);var i=t[qe];null!==i&&null===t[Zn]&&(t[Zn]=zf(i,t[dn])),Ev(r,t,t[Be])}function Ev(e,n,t){Ef(n);try{var r,i=e.viewQuery;null!==i&&Cv(1,i,t);var a=e.template;null!==a&&q_(e,n,a,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),null===(r=n[sr])||void 0===r||r.finishViewCreation(e),e.staticContentQueries&&eC(e,n),e.staticViewQueries&&Cv(2,e.viewQuery,t);var o=e.components;null!==o&&function DO(e,n){for(var t=0;t<n.length;t++)bO(e,n[t])}(n,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[$]&=-5,Df()}}function Ni(e,n){return!n||null===n.firstChild||sl(e)}function ss(e,n,t,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==t;)if(128!==t.type){var a=n[t.index];null!==a&&r.push(we(a)),Un(a)&&aC(a,r);var o=t.type;if(8&o)ss(e,n,t.child,r);else if(32&o)for(var s=rv(t,n),u=void 0;u=s();)r.push(u);else if(16&o){var l=B_(n,t);if(Array.isArray(l))r.push.apply(r,V(l));else{var c=Pr(n[Ze]);ss(c[L],c,l,r,!0)}}t=i?t.projectionNext:t.next}else t=i?t.projectionNext:t.next;return r}function aC(e,n){for(var t=rn;t<e.length;t++){var r=e[t],i=r[L].firstChild;null!==i&&ss(r[L],r,i,n)}e[ur]!==e[qe]&&n.push(e[ur])}var oC=[];var SO=te(te({},yu),{},{consumerIsAlwaysLive:!0,consumerMarkedDirty:function(n){Yu(n.lView)},consumerOnSignalRead:function(){this.lView[It]=this}}),TO=te(te({},yu),{},{consumerIsAlwaysLive:!0,consumerMarkedDirty:function(n){for(var t=Pr(n.lView);t&&!sC(t[L]);)t=Pr(t);t&&qm(t)},consumerOnSignalRead:function(){this.lView[It]=this}});function sC(e){return 2!==e.type}var PO=100;function Tl(e){var o,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e[or],i=r.rendererFactory;null===(o=i.begin)||void 0===o||o.call(i);try{!function OO(e,n){var t=Jm();try{ey(!0),Mv(e,n);for(var r=0;Uo(e);){if(r===PO)throw new R(103,!1);r++,Mv(e,1)}}finally{ey(t)}}(e,t)}catch(l){throw n&&Il(e,l),l}finally{var s,u;null===(s=i.end)||void 0===s||s.call(i),null===(u=r.inlineEffectRunner)||void 0===u||u.flush()}}function xO(e,n,t,r){var i,a=n[$];if(256&~a){null===(i=n[or].inlineEffectRunner)||void 0===i||i.flush(),Ef(n);var u=!0,l=null,c=null;sC(e)?l=_u(c=function MO(e){var n;return null!==(n=e[It])&&void 0!==n?n:function wO(e){var n,t=null!==(n=oC.pop())&&void 0!==n?n:Object.create(SO);return t.lView=e,t}(e)}(n)):null===function wp(){return yn}()?(u=!1,c=function IO(e){var n,t=null!==(n=e[It])&&void 0!==n?n:Object.create(TO);return t.lView=e,t}(n),l=_u(c)):n[It]&&(yd(n[It]),n[It]=null);try{Wm(n),function ny(e){return ae.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&q_(e,n,t,2,r);var d=!(3&~a);if(d){var f=e.preOrderCheckHooks;null!==f&&Ju(n,f,null)}else{var v=e.preOrderHooks;null!==v&&el(n,v,0,null),Mf(n,0)}if(function NO(e){for(var n=zy(e);null!==n;n=jy(n))if(n[$]&qu.HasTransplantedViews)for(var t=n[ma],r=0;r<t.length;r++)qm(t[r])}(n),uC(n,0),null!==e.contentQueries&&eC(e,n),d){var g=e.contentCheckHooks;null!==g&&Ju(n,g)}else{var p=e.contentHooks;null!==p&&el(n,p,1),Mf(n,1)}!function QP(e,n){var t=e.hostBindingOpCodes;if(null!==t)try{for(var r=0;r<t.length;r++){var i=t[r];if(i<0)Ti(~i);else{var a=i,o=t[++r],s=t[++r];ST(o,a),s(2,n[a])}}}finally{Ti(-1)}}(e,n);var C=e.components;null!==C&&cC(n,C,0);var b=e.viewQuery;if(null!==b&&Cv(2,b,r),d){var _=e.viewCheckHooks;null!==_&&Ju(n,_)}else{var M=e.viewHooks;null!==M&&el(n,M,2),Mf(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ro]){var P,I=x(n[Ro]);try{for(I.s();!(P=I.n()).done;)(0,P.value)()}catch(F){I.e(F)}finally{I.f()}n[Ro]=null}n[$]&=-73}catch(F){throw Yu(n),F}finally{null!==c&&(pd(c,l),u&&function kO(e){e.lView[It]!==e&&(e.lView=null,oC.push(e))}(c)),Df()}}}function uC(e,n){for(var t=zy(e);null!==t;t=jy(t))for(var r=rn;r<t.length;r++)lC(t[r],n)}function FO(e,n,t){lC(yt(n,e),t)}function lC(e,n){vf(e)&&Mv(e,n)}function Mv(e,n){var r=e[L],i=e[$],a=e[It],o=!!(0===n&&16&i);if(o||(o=!!(64&i&&0===n)),o||(o=!!(1024&i)),o||(o=!(null==a||!a.dirty||!md(a))),o||(o=!1),a&&(a.dirty=!1),e[$]&=-9217,o)xO(r,e,r.template,e[Be]);else if(8192&i){uC(e,1);var s=r.components;null!==s&&cC(e,s,1)}}function cC(e,n,t){for(var r=0;r<n.length;r++)FO(e,n[r],t)}function us(e,n){var t,r=Jm()?64:1088;for(null===(t=e[or].changeDetectionScheduler)||void 0===t||t.notify(n);e;){e[$]|=r;var i=Pr(e);if(Vo(e)&&!i)return e;e=i}return null}var ls=function(){return m(function e(n,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y(this,e),this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1},[{key:"rootNodes",get:function(){var t=this._lView,r=t[L];return ss(r,t,r.firstChild,[])}},{key:"context",get:function(){return this._lView[Be]},set:function(t){this._lView[Be]=t}},{key:"destroyed",get:function(){return!(256&~this._lView[$])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[cn];if(Un(t)){var r=t[8],i=r?r.indexOf(this):-1;i>-1&&(is(t,i),Fu(r,i))}this._attachedToViewContainer=!1}El(this._lView[L],this._lView)}},{key:"onDestroy",value:function(t){$u(this._lView,t)}},{key:"markForCheck",value:function(){us(this._cdRefInjectingView||this._lView,4)}},{key:"detach",value:function(){this._lView[$]&=-129}},{key:"reattach",value:function(){hf(this._lView),this._lView[$]|=128}},{key:"detectChanges",value:function(){this._lView[$]|=1024,Tl(this._lView,this.notifyErrorHandler)}},{key:"checkNoChanges",value:function(){}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null;var t=Vo(this._lView),r=this._lView[wi];null!==r&&!t&&ov(r,this._lView),P_(this._lView[L],this._lView)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=t;var r=Vo(this._lView),i=this._lView[wi];null!==i&&!r&&O_(i,this._lView),hf(this._lView)}}])}(),Fr=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=VO,n}(),LO=function(e){function n(t,r,i){var a;return y(this,n),(a=w(this,n))._declarationLView=t,a._declarationTContainer=r,a.elementRef=i,a}return k(n,e),m(n,[{key:"ssrId",get:function(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}},{key:"createEmbeddedView",value:function(r,i){return this.createEmbeddedViewImpl(r,i)}},{key:"createEmbeddedViewImpl",value:function(r,i,a){var o=function Na(e,n,t,r){var i=pe(null);try{var a,o,s,u=n.tView,d=kl(e,u,t,4096&e[$]?4096:16,null,n,null,null,null!==(a=r?.injector)&&void 0!==a?a:null,null!==(o=r?.embeddedViewInjector)&&void 0!==o?o:null,null!==(s=r?.dehydratedView)&&void 0!==s?s:null);d[wi]=e[n.index];var v=e[sr];return null!==v&&(d[sr]=v.createEmbeddedView(u)),Ev(u,d,t),d}finally{pe(i)}}(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:i,dehydratedView:a});return new ls(o)}}])}(Fr);function VO(){return Pl(xe(),T())}function Pl(e,n){return 4&e.type?new LO(n,e,ba(e,n)):null}var ms=m(function e(){y(this,e)}),Rl=new W("",{providedIn:"root",factory:function(){return!1}}),AC=new W(""),PA=m(function e(){y(this,e)}),xC=m(function e(){y(this,e)}),AA=function(){return m(function e(){y(this,e)},[{key:"resolveComponentFactory",value:function(t){throw function OA(e){var n=Error("No component factory found for ".concat(_n(e),"."));return n.ngComponent=e,n}(t)}}])}(),ys=m(function e(){y(this,e)});ys.NULL=new AA;var Fv=m(function e(){y(this,e)}),Li=function(){var n=m(function t(){y(this,t),this.destroyNode=null});return n.__NG_ELEMENT_ID__=function(){return function xA(){var e=T(),t=yt(xe().index,e);return(In(t)?t:e)[ie]}()},n}(),NA=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:function(){return null}}),n}(),FC=new Set;function Kn(e){var n,t;FC.has(e)||(FC.add(e),null===(n=performance)||void 0===n||null===(t=n.mark)||void 0===t||t.call(n,"mark_feature_usage",{detail:{feature:e}}))}function RC(e){var n=!0;return setTimeout(function(){n&&(n=!1,e())}),"function"==typeof Fe.requestAnimationFrame&&Fe.requestAnimationFrame(function(){n&&(n=!1,e())}),function(){n=!1}}function LC(e){var n=!0;return queueMicrotask(function(){n&&e()}),function(){n=!1}}function VC(){}var Ge=function(){function e(n){var t=n.enableLongStackTrace,r=void 0!==t&&t,i=n.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=n.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(y(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fn(!1),this.onMicrotaskEmpty=new fn(!1),this.onStable=new fn(!1),this.onError=new fn(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.callbackScheduled=!1,function LA(e){var n=function(){!function RA(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(function(){RC(function(){e.callbackScheduled=!1,Lv(e),e.isCheckStableRunning=!0,Rv(e),e.isCheckStableRunning=!1})}),Lv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(r,i,a,o,s,u){if(function VA(e){return UC(e,"__ignore_ng_zone__")}(u))return r.invokeTask(a,o,s,u);try{return BC(e),r.invokeTask(a,o,s,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),HC(e)}},onInvoke:function(r,i,a,o,s,u,l){try{return BC(e),r.invoke(a,o,s,u,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function BA(e){return UC(e,"__scheduler_tick__")}(u)&&n(),HC(e)}},onHasTask:function(r,i,a,o){r.hasTask(a,o),i===a&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Lv(e),Rv(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(r,i,a,o){return r.handleError(a,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}(u)}return m(e,[{key:"run",value:function(t,r,i){return this._inner.run(t,r,i)}},{key:"runTask",value:function(t,r,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,t,FA,VC,VC);try{return o.runTask(s,r,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(t,r,i){return this._inner.runGuarded(t,r,i)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new R(909,!1)}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new R(909,!1)}}])}(),FA={};function Rv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Lv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function BC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function HC(e){e._nesting--,Rv(e)}var Vv=function(){return m(function e(){y(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn,this.onMicrotaskEmpty=new fn,this.onStable=new fn,this.onError=new fn},[{key:"run",value:function(t,r,i){return t.apply(r,i)}},{key:"runGuarded",value:function(t,r,i){return t.apply(r,i)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,r,i,a){return t.apply(r,i)}}])}();function UC(e,n){var t;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(t=e[0])||void 0===t||null===(t=t.data)||void 0===t?void 0:t[n])}var Ll=function(){var e,n=function(){return m(function t(){y(this,t),this.handler=null,this.internalCallbacks=[]},[{key:"execute",value:function(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}},{key:"executeInternalCallbacks",value:function(){var i=V(this.internalCallbacks);this.internalCallbacks.length=0;var o,a=x(i);try{for(a.s();!(o=a.n()).done;)(0,o.value)()}catch(u){a.e(u)}finally{a.f()}}},{key:"ngOnDestroy",value:function(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}])}();return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e}}),n}();function Bl(e,n,t){var r=t?e.styles:null,i=t?e.classes:null,a=0;if(null!==n)for(var o=0;o<n.length;o++){var s=n[o];"number"==typeof s?a=s:1==a?i=Ad(i,s):2==a&&(r=Ad(r,s+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var qC=function(e){function n(t){var r;return y(this,n),(r=w(this,n)).ngModule=t,r}return k(n,e),m(n,[{key:"resolveComponentFactory",value:function(r){var i=_e(r);return new bs(i,this.ngModule)}}])}(ys);function ZC(e,n){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(void 0!==i){var a=Array.isArray(i),o=a?i[0]:i;t.push(n?{propName:o,templateName:r,isSignal:!!((a?i[1]:qr.None)&qr.SignalBased)}:{propName:o,templateName:r})}}return t}var bs=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=function RI(e){return e.map(FI).join(",")}(t.selectors),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return k(n,e),m(n,[{key:"inputs",get:function(){var r=this.componentDef,i=r.inputTransforms,a=ZC(r.inputs,!0);if(null!==i){var s,o=x(a);try{for(o.s();!(s=o.n()).done;){var u=s.value;i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName])}}catch(l){o.e(l)}finally{o.f()}}return a}},{key:"outputs",get:function(){return ZC(this.componentDef.outputs,!1)}},{key:"create",value:function(r,i,a,o){var s=pe(null);try{var l,c=(o=o||this.ngModule)instanceof ar?o:null===(l=o)||void 0===l?void 0:l.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);var d=c?new Pi(r,c):r,f=d.get(Fv,null);if(null===f)throw new R(407,!1);var C={rendererFactory:f,sanitizer:d.get(NA,null),inlineEffectRunner:null,afterRenderEventManager:d.get(Ll,null),changeDetectionScheduler:d.get(ms,null)},b=f.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",M=a?function JP(e,n,t,r){var i=r.get(a_,!1),o=e.selectRootElement(n,i||t===Lt.ShadowDom);return function eO(e){Y_(e)}(o),o}(b,a,this.componentDef.encapsulation,d):bl(b,_,function YA(e){var n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(_)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);var P=null;null!==M&&(P=zf(M,d,!0));var Z,Q,B=pv(0,null,null,1,0,null,null,null,null,null,null),F=kl(null,B,null,I,null,null,C,b,d,null,P);Ef(F);try{var ye,ve=this.componentDef,de=null;ve.findHostDirectiveDefs?(ve.findHostDirectiveDefs(ve,ye=[],de=new Map),ye.push(ve)):ye=[ve];var be=function KA(e,n){var t=e[L],r=q;return e[r]=n,xi(t,r,2,"#host",null)}(F,M),je=function QA(e,n,t,r,i,a,o){var s=i[L];!function XA(e,n,t,r){var a,i=x(e);try{for(i.s();!(a=i.n()).done;)n.mergedAttrs=Ao(n.mergedAttrs,a.value.hostAttrs)}catch(s){i.e(s)}finally{i.f()}null!==n.mergedAttrs&&(Bl(n,n.mergedAttrs,!0),null!==t&&j_(r,t,n))}(r,e,n,o);var u=null;null!==n&&(u=zf(n,i[dn]));var l=a.rendererFactory.createRenderer(n,t),c=16;t.signals?c=4096:t.onPush&&(c=64);var d=kl(i,Z_(t),null,c,i[e.index],e,a,l,null,null,u);return s.firstCreatePass&&yv(s,e,r.length-1),Sl(i,d),i[e.index]=d}(be,M,ve,ye,F,C,b);Q=Ho(B,q),M&&function ex(e,n,t,r){if(r)Kd(e,t,["ng-version","18.1.1"]);else{var i=function LI(e){for(var n=[],t=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&n.push(a,e[++r]):8===i&&t.push(a);else{if(!Vt(i))break;i=a}r++}return{attrs:n,classes:t}}(n.selectors[0]),a=i.attrs,o=i.classes;a&&Kd(e,t,a),o&&o.length>0&&z_(e,t,o.join(" "))}}(b,ve,M,a),void 0!==i&&function nx(e,n,t){for(var r=e.projection=[],i=0;i<n.length;i++){var a=t[i];r.push(null!=a?Array.from(a):null)}}(Q,this.ngContentSelectors,i),Z=function JA(e,n,t,r,i,a){var o=xe(),s=i[L],u=Yn(o,i);Q_(s,i,o,t,null,r);for(var l=0;l<t.length;l++)zn(Oi(i,s,o.directiveStart+l,o),i);X_(s,i,o),u&&zn(u,i);var f=Oi(i,s,o.directiveStart+o.componentOffset,o);if(e[Be]=i[Be]=f,null!==a){var g,v=x(a);try{for(v.s();!(g=v.n()).done;)(0,g.value)(f,n)}catch(C){v.e(C)}finally{v.f()}}return vv(s,o,i),f}(je,ve,ye,de,F,[tx]),Ev(B,F,null)}finally{Df()}return new $A(this.componentType,Z,ba(Q,F),F,Q)}finally{pe(s)}}}])}(xC),$A=function(e){function n(t,r,i,a,o){var s;return y(this,n),(s=w(this,n)).location=i,s._rootLView=a,s._tNode=o,s.previousInputValues=null,s.instance=r,s.hostView=s.changeDetectorRef=new ls(a,void 0,!1),s.componentType=t,s}return k(n,e),m(n,[{key:"setInput",value:function(r,i){var o,a=this._tNode.inputs;if(null!==a&&(o=a[r])){var s;if(null!==(s=this.previousInputValues)&&void 0!==s||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),i))return;var u=this._rootLView;bv(u[L],u,o,r,i),this.previousInputValues.set(r,i),us(yt(this._tNode.index,u),1)}}},{key:"injector",get:function(){return new En(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(r){this.hostView.onDestroy(r)}}])}(PA);function tx(){var e=xe();Xu(T()[L],e)}var Fn=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=rx,n}();function rx(){return KC(xe(),T())}var YC=function(e){function n(t,r,i){var a;return y(this,n),(a=w(this,n))._lContainer=t,a._hostTNode=r,a._hostLView=i,a}return k(n,e),m(n,[{key:"element",get:function(){return ba(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new En(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var r=rl(this._hostTNode,this._hostLView);if(Sf(r)){var i=qo(r,this._hostLView),a=Wo(r);return new En(i[L].data[a+8],i)}return new En(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(r){var i=$C(this._lContainer);return null!==i&&i[r]||null}},{key:"length",get:function(){return this._lContainer.length-rn}},{key:"createEmbeddedView",value:function(r,i,a){var o,s;"number"==typeof a?o=a:null!=a&&(o=a.index,s=a.injector);var l=r.createEmbeddedViewImpl(i||{},s,null);return this.insertImpl(l,o,Ni(this._hostTNode,null)),l}},{key:"createComponent",value:function(r,i,a,o,s){var u,c,f,d=r&&!function No(e){return"function"==typeof e}(r);if(d)f=i;else{var v=i||{};f=v.index,a=v.injector,o=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}var g=d?r:new bs(_e(r)),p=a||this.parentInjector;if(!s&&null==g.ngModule){var b=(d?p:this.parentInjector).get(ar,null);b&&(s=b)}var _=_e(null!==(u=g.componentType)&&void 0!==u?u:{}),M=(_?.id,null),I=null!==(c=M?.firstChild)&&void 0!==c?c:null,P=g.create(p,o,I,s);return this.insertImpl(P.hostView,f,Ni(this._hostTNode,M)),P}},{key:"insert",value:function(r,i){return this.insertImpl(r,i,!0)}},{key:"insertImpl",value:function(r,i,a){var o=r._lView;if(function mT(e){return Un(e[cn])}(o)){var s=this.indexOf(r);if(-1!==s)this.detach(s);else{var u=o[cn],l=new YC(u,u[An],u[cn]);l.detach(l.indexOf(r))}}var c=this._adjustIndex(i),d=this._lContainer;return function Fa(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=n[L];if(function UP(e,n,t,r){var i=rn+r,a=t.length;r>0&&(t[i-1][Bt]=n),r<a-rn?(n[Bt]=t[i],gm(t,rn+r,n)):(t.push(n),n[Bt]=null),n[cn]=t;var o=n[wi];null!==o&&t!==o&&O_(o,n);var s=n[sr];null!==s&&s.insertView(e),hf(n),n[$]|=128}(i,n,e,t),r){var a=cv(t,e),o=n[ie],s=Dl(o,e[ur]);null!==s&&function BP(e,n,t,r,i,a){r[qe]=i,r[An]=n,wl(e,r,t,1,i,a)}(i,e[An],o,n,s,a)}var u=n[Zn];null!==u&&null!==u.firstChild&&(u.firstChild=null)}(d,o,c,a),r.attachToViewContainerRef(),gm(zv(d),c,r),r}},{key:"move",value:function(r,i){return this.insert(r,i)}},{key:"indexOf",value:function(r){var i=$C(this._lContainer);return null!==i?i.indexOf(r):-1}},{key:"remove",value:function(r){var i=this._adjustIndex(r,-1),a=is(this._lContainer,i);a&&(Fu(zv(this._lContainer),i),El(a[L],a))}},{key:"detach",value:function(r){var i=this._adjustIndex(r,-1),a=is(this._lContainer,i);return a&&null!=Fu(zv(this._lContainer),i)?new ls(a):null}},{key:"_adjustIndex",value:function(r){return r??this.length+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}}])}(Fn);function $C(e){return e[8]}function zv(e){return e[8]||(e[8]=[])}function KC(e,n){var t,r=n[e.index];return Un(r)?t=r:(t=J_(r,n,null,e),n[e.index]=t,Sl(n,t)),QC(t,n,e,r),new YC(t,e,n)}var QC=function JC(e,n,t,r){var i;e[ur]||(i=8&t.type?we(r):function ax(e,n){var t=e[ie],r=t.createComment(""),i=Yn(n,e);return Ai(t,Dl(t,i),r,function WP(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[ur]=i)},jv=function(){return!1};var lx=function(){function e(n){y(this,e),this.queryList=n,this.matches=null}return m(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}])}(),cx=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.queries=n}return m(e,[{key:"createEmbeddedView",value:function(t){var r=t.queries;if(null!==r){for(var i=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[],o=0;o<i;o++){var s=r.getByIndex(o);a.push(this.queries[s.indexInDeclarationView].clone())}return new e(a)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"finishViewCreation",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var r=0;r<this.queries.length;r++)null!==qv(t,r).matches&&this.queries[r].setDirty()}}])}(),eb=m(function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;y(this,e),this.flags=t,this.read=r,this.predicate="string"==typeof n?function mx(e){return e.split(",").map(function(n){return n.trim()})}(n):n}),dx=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.queries=n}return m(e,[{key:"elementStart",value:function(t,r){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,r)}},{key:"elementEnd",value:function(t){for(var r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}},{key:"embeddedTView",value:function(t){for(var r=null,i=0;i<this.length;i++){var a=null!==r?r.length:0,o=this.getByIndex(i).embeddedTView(t,a);o&&(o.indexInDeclarationView=i,null!==r?r.push(o):r=[o])}return null!==r?new e(r):null}},{key:"template",value:function(t,r){for(var i=0;i<this.queries.length;i++)this.queries[i].template(t,r)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}])}(),fx=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;y(this,e),this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}return m(e,[{key:"elementStart",value:function(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,r){this.elementStart(t,r)}},{key:"embeddedTView",value:function(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1&~this.metadata.flags){for(var r=this._declarationNodeIndex,i=t.parent;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,r){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var o=i[a];this.matchTNodeWithReadOption(t,r,vx(r,o)),this.matchTNodeWithReadOption(t,r,il(r,t,o,!1,!1))}else i===Fr?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,il(r,t,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,r,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===jt||a===Fn||a===Fr&&4&r.type)this.addMatch(r.index,-2);else{var o=il(r,t,a,!1,!1);null!==o&&this.addMatch(r.index,o)}else this.addMatch(r.index,i)}}},{key:"addMatch",value:function(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}])}();function vx(e,n){var t=e.localNames;if(null!==t)for(var r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function gx(e,n,t,r){return-1===t?function hx(e,n){return 11&e.type?ba(e,n):4&e.type?Pl(e,n):null}(n,e):-2===t?function px(e,n,t){return t===jt?ba(n,e):t===Fr?Pl(n,e):t===Fn?KC(n,e):void 0}(e,n,r):Oi(e,e[L],t,n)}function nb(e,n,t,r){var i=n[sr].queries[r];if(null===i.matches){for(var a=e.data,o=t.matches,s=[],u=0;null!==o&&u<o.length;u+=2){var l=o[u];s.push(l<0?null:gx(n,a[l],o[u+1],t.metadata.read))}i.matches=s}return i.matches}function Gv(e,n,t,r){var i=e.queries.getByIndex(t),a=i.matches;if(null!==a)for(var o=nb(e,n,i,t),s=0;s<a.length;s+=2){var u=a[s];if(u>0)r.push(o[s/2]);else{for(var l=a[s+1],c=n[-u],d=rn;d<c.length;d++){var f=c[d];f[wi]===f[cn]&&Gv(f[L],f,l,r)}if(null!==c[ma])for(var v=c[ma],g=0;g<v.length;g++){var p=v[g];Gv(p[L],p,l,r)}}}return r}function rb(e,n,t){var r=me();return r.firstCreatePass&&(function ab(e,n,t){null===e.queries&&(e.queries=new dx),e.queries.track(new fx(n,t))}(r,new eb(e,n,t),-1),!(2&~n)&&(r.staticViewQueries=!0)),function tb(e,n,t){var r,i=new l1(!(4&~t));return function rO(e,n,t,r){var i=nC(n);i.push(t),e.firstCreatePass&&tC(e).push(r,i.length-1)}(e,n,i,i.destroy),(null!==(r=n[sr])&&void 0!==r?r:n[sr]=new cx).queries.push(new lx(i))-1}(r,T(),n)}function qv(e,n){return e.queries.getByIndex(n)}function ob(e,n){var t=e[L],r=qv(t,n);return r.crossesNgTemplate?Gv(t,e,n,[]):nb(t,e,r,n)}function La(e,n){Kn("NgSignals");var t=function hS(e){var n=Object.create(pS);n.value=e;var t=function(){return gd(n),n.value};return t[Nt]=n,t}(e),r=t[Nt];return null!=n&&n.equal&&(r.equal=n.equal),t.set=function(i){return Fp(r,i)},t.update=function(i){return function gS(e,n){Ip()||Np(),Fp(e,n(e.value))}(r,i)},t.asReadonly=ub.bind(t),t}function ub(){var e=this,n=this[Nt];if(void 0===n.readonlyFn){var t=function(){return e()};t[Nt]=n,n.readonlyFn=t}return n.readonlyFn}function lb(e){return function sb(e){return"function"==typeof e&&void 0!==e[Nt]}(e)&&"function"==typeof e.set}function fe(e){for(var n=function Cb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0,r=[e];n;){var i=void 0;if(Ht(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);var a=e;a.inputs=Ul(e.inputs),a.inputTransforms=Ul(e.inputTransforms),a.declaredInputs=Ul(e.declaredInputs),a.outputs=Ul(e.outputs);var o=i.hostBindings;o&&Ax(e,o);var s=i.viewQuery,u=i.contentQueries;if(s&&Px(e,s),u&&Ox(e,u),Ix(e,i),tI(e.outputs,i.outputs),Ht(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var d=0;d<c.length;d++){var f=c[d];f&&f.ngInherit&&f(e),f===fe&&(t=!1)}}n=Object.getPrototypeOf(n)}!function Tx(e){for(var n=0,t=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Ao(i.hostAttrs,t=Ao(t,i.hostAttrs))}}(r)}function Ix(e,n){for(var t in n.inputs)if(n.inputs.hasOwnProperty(t)&&!e.inputs.hasOwnProperty(t)){var r=n.inputs[t];if(void 0!==r&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],null!==n.inputTransforms)){var i,a=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(a))continue;null!==(i=e.inputTransforms)&&void 0!==i||(e.inputTransforms={}),e.inputTransforms[a]=n.inputTransforms[a]}}}function Ul(e){return e===rr?{}:e===Me?[]:e}function Px(e,n){var t=e.viewQuery;e.viewQuery=t?function(r,i){n(r,i),t(r,i)}:n}function Ox(e,n){var t=e.contentQueries;e.contentQueries=t?function(r,i,a){n(r,i,a),t(r,i,a)}:n}function Ax(e,n){var t=e.hostBindings;e.hostBindings=t?function(r,i){n(r,i),t(r,i)}:n}var Bi=m(function e(){y(this,e)}),Bx=m(function e(){y(this,e)}),Yv=function(e){function n(t,r,i){var a;y(this,n),(a=w(this,n))._parent=r,a._bootstrapComponents=[],a.destroyCbs=[],a.componentFactoryResolver=new qC(a);var o=function Hn(e,n){var t=e[lm]||null;if(!t&&!0===n)throw new Error("Type ".concat(_n(e)," does not have '\u0275mod' property."));return t}(t);return a._bootstrapComponents=function _t(e){return e instanceof Function?e():e}(o.bootstrap),a._r3Injector=Iy(t,r,[{provide:Bi,useValue:a},{provide:ys,useValue:a.componentFactoryResolver}].concat(V(i)),_n(t),new Set(["environment"])),a._r3Injector.resolveInjectorInitializers(),a.instance=a._r3Injector.get(t),a}return k(n,e),m(n,[{key:"injector",get:function(){return this._r3Injector}},{key:"destroy",value:function(){var r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(function(i){return i()}),this.destroyCbs=null}},{key:"onDestroy",value:function(r){this.destroyCbs.push(r)}}])}(Bi),$v=function(e){function n(t){var r;return y(this,n),(r=w(this,n)).moduleType=t,r}return k(n,e),m(n,[{key:"create",value:function(r){return new Yv(this.moduleType,r,[])}}])}(Bx);function zl(e){return!!Kv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Kv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vr(e,n,t){return e[n]=t}function an(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Hi(e,n,t,r){var i=an(e,n,t);return an(e,n+1,r)||i}function Ms(e,n,t,r,i,a,o,s,u,l){var c=t+q,d=n.firstCreatePass?function qx(e,n,t,r,i,a,o,s,u){var l=n.consts,c=xi(n,e,4,o||null,s||null);mv(n,t,c,Tt(l,u)),Xu(n,c);var d=c.tView=pv(2,c,r,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,n,e,r,i,a,o,s,u):n.data[c];Ut(d,!1);var f=kb(n,e,d,t);jo()&&Ml(n,e,f,d),zn(f,e);var v=J_(f,e,f,d);return e[c]=v,Sl(e,v),function XC(e,n,t){return jv(e,n,t)}(v,d,e),Zu(d)&&hv(n,e,d),null!=u&&gv(e,d,l),d}function Rn(e,n,t,r,i,a,o,s){var u=T(),l=me();return Ms(u,l,e,n,t,r,i,Tt(l.consts,a),o,s),Rn}var kb=function Sb(e,n,t,r){return cr(!0),n[ie].createComment("")};function Rr(e,n,t,r){var i=T();return an(i,zt(),n)&&(me(),fr(He(),i,e,n,t,r)),Rr}function Ya(e,n,t,r,i,a){var s=Hi(e,function Or(){return ae.lFrame.bindingIndex}(),t,i);return Ar(2),s?n+le(t)+r+le(i)+a:ce}function $l(e,n){return e<<17|n<<2}function ti(e){return e>>17&32767}function sh(e){return 2|e}function zi(e){return(131068&e)>>2}function uh(e,n){return-131069&e|n<<2}function lh(e){return 1|e}function iE(e,n,t,r){for(var i=e[t+1],a=null===n,o=r?ti(i):zi(i),s=!1;0!==o&&(!1===s||a);){var l=e[o+1];ON(e[o],n)&&(s=!0,e[o+1]=r?lh(l):sh(l)),o=r?ti(l):zi(l)}s&&(e[t+1]=r?sh(i):lh(i))}function ON(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ca(e,n)>=0}function X(e,n,t){var r=T();return an(r,zt(),n)&&lt(me(),He(),r,e,n,r[ie],t,!1),X}function ch(e,n,t,r,i){var o=i?"class":"style";bv(e,t,n.inputs[o],o,r)}function Kl(e,n){return function qt(e,n,t,r){var i=T(),a=me(),o=Ar(2);a.firstUpdatePass&&function vE(e,n,t,r){var i=e.data;if(null===i[t+1]){var a=i[xn()],o=function fE(e,n){return n>=e.expandoStartIndex}(e,t);(function mE(e,n){return!!(e.flags&(n?8:16))})(a,r)&&null===n&&!o&&(n=!1),n=function HN(e,n,t,r){var i=function Cf(e){var n=ae.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e),a=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Is(t=dh(null,e,n,t,r),n.attrs,r),a=null);else{var s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=dh(i,e,n,t,r),null===a){var l=function UN(e,n,t){var r=t?n.classBindings:n.styleBindings;if(0!==zi(r))return e[ti(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&function zN(e,n,t,r){e[ti(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l=Is(l=dh(null,e,n,l[1],r),n.attrs,r))}else a=function jN(e,n,t){for(var r=void 0,i=n.directiveEnd,a=1+n.directiveStylingLast;a<i;a++)r=Is(r,e[a].hostAttrs,t);return Is(r,n.attrs,t)}(e,n,r)}return void 0!==a&&(r?n.residualClasses=a:n.residualStyles=a),t}(i,a,n,r),function TN(e,n,t,r,i,a){var o=a?n.classBindings:n.styleBindings,s=ti(o),u=zi(o);e[r]=t;var c,l=!1;if(Array.isArray(t)?(null===(c=t[1])||ca(t,c)>0)&&(l=!0):c=t,i)if(0!==u){var v=ti(e[s+1]);e[r+1]=$l(v,s),0!==v&&(e[v+1]=uh(e[v+1],r)),e[s+1]=function SN(e,n){return 131071&e|n<<17}(e[s+1],r)}else e[r+1]=$l(s,0),0!==s&&(e[s+1]=uh(e[s+1],r)),s=r;else e[r+1]=$l(u,0),0===s?s=r:e[u+1]=uh(e[u+1],r),u=r;l&&(e[r+1]=sh(e[r+1])),iE(e,c,r,!0),iE(e,c,r,!1),function PN(e,n,t,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof n&&ca(a,n)>=0&&(t[r+1]=lh(t[r+1]))}(n,c,e,r,a),o=$l(s,u),a?n.classBindings=o:n.styleBindings=o}(i,a,n,t,o,r)}}(a,e,o,r),n!==ce&&an(i,o,n)&&function gE(e,n,t,r,i,a,o,s){if(3&n.type){var u=e.data,l=u[s+1],c=function IN(e){return!(1&~e)}(l)?pE(u,n,t,i,zi(l),o):void 0;Ql(c)||(Ql(a)||function kN(e){return!(2&~e)}(l)&&(a=pE(u,null,t,i,s,o)),function YP(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{var a=-1===r.indexOf("-")?void 0:Jr.DashCase;null==i?e.removeStyle(t,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=Jr.Important),e.setStyle(t,r,i,a))}}(r,o,Bo(xn(),t),i,a))}}(a,a.data[xn()],i,i[ie],e,i[o+1]=function ZN(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=_n(Xr(e)))),e}(n,t),r,o)}(e,n,null,!0),Kl}function dh(e,n,t,r,i){var a=null,o=t.directiveEnd,s=t.directiveStylingLast;for(-1===s?s=t.directiveStart:s++;s<o&&(r=Is(r,(a=n[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(t.directiveStylingLast=s),r}function Is(e,n,t){var r=t?1:2,i=-1;if(null!==n)for(var a=0;a<n.length;a++){var o=n[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),mt(e,o,!!t||n[++a]))}return void 0===e?null:e}function pE(e,n,t,r,i,a){for(var o=null===n,s=void 0;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c,f=t[i+1];f===ce&&(f=d?Me:void 0);var v=d?Yd(f,r):c===r?f:void 0;if(l&&!Ql(v)&&(v=Yd(u,r)),Ql(v)&&(s=v,o))return s;var g=e[i+1];i=o?ti(g):zi(g)}if(null!==n){var p=a?n.residualClasses:n.residualStyles;null!=p&&(s=Yd(p,r))}return s}function Ql(e){return void 0!==e}function E(e,n,t,r){var i=T(),a=me(),o=q+e,s=i[ie],u=a.firstCreatePass?function pF(e,n,t,r,i,a){var o=n.consts,u=xi(n,e,2,r,Tt(o,i));return mv(n,t,u,Tt(o,a)),null!==u.attrs&&Bl(u,u.attrs,!1),null!==u.mergedAttrs&&Bl(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(o,a,i,n,t,r):a.data[o],l=bE(a,i,u,s,n,e);i[o]=l;var c=Zu(u);return Ut(u,!0),j_(s,l,u),!function Ba(e){return!(32&~e.flags)}(u)&&jo()&&Ml(a,i,l,u),0===function yT(){return ae.lFrame.elementDepthCount}()&&zn(l,i),function _T(){ae.lFrame.elementDepthCount++}(),c&&(hv(a,i,u),vv(a,u,i)),null!==r&&gv(i,u),E}function D(){var e=xe();mf()?function yf(){ae.lFrame.isParent=!1}():Ut(e=e.parent,!1);var n=e;(function bT(e){return ae.skipHydrationRootTNode===e})(n)&&function wT(){ae.skipHydrationRootTNode=null}(),function CT(){ae.lFrame.elementDepthCount--}();var t=me();return t.firstCreatePass&&(Xu(t,e),uf(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function VT(e){return!!(8&e.flags)}(n)&&ch(t,n,T(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function BT(e){return!!(16&e.flags)}(n)&&ch(t,n,T(),n.stylesWithoutHost,!1),D}function Ne(e,n,t,r){return E(e,n,t,r),D(),Ne}var bE=function(n,t,r,i,a,o){return cr(!0),bl(i,a,function uy(){return ae.lFrame.currentNamespace}())};function Lr(){return T()}var ro="en-US";var ZE=function(n,t,r){};function oe(e,n,t,r){var i=T(),a=me(),o=xe();return Ch(a,i,i[ie],o,e,n,r),oe}function Ch(e,n,t,r,i,a,o){var s=Zu(r),l=e.firstCreatePass&&tC(e),c=n[Be],d=nC(n),f=!0;if(3&r.type||o){var v=Yn(r,n),g=o?o(v):v,p=d.length,C=o?function(je){return o(we(je[r.index]))}:r.index,b=null;if(!o&&s&&(b=function dR(e,n,t,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===t&&i[a+1]===r){var s=n[Mi],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(e,n,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=a,b.__ngLastListenerFn__=a,f=!1;else{a=KE(r,n,c,a),ZE(v,i,a);var M=t.listen(g,i,a);d.push(a,M),l&&l.push(i,C,p,p+1)}}else a=KE(r,n,c,a);var P,I=r.outputs;if(f&&null!==I&&(P=I[i])){var B=P.length;if(B)for(var F=0;F<B;F+=2){var de=n[P[F]][P[F+1]].subscribe(a),be=d.length;d.push(a,de),l&&l.push(i,r.index,be,-(be+1))}}}function $E(e,n,t,r){var i=pe(null);try{return lr(6,n,t),!1!==t(r)}catch(a){return Il(e,a),!1}finally{lr(7,n,t),pe(i)}}function KE(e,n,t,r){return function i(a){if(a===Function)return r;us(e.componentOffset>-1?yt(e.index,n):n,5);for(var s=$E(n,t,r,a),u=i.__ngNextListenerFn__;u;)s=$E(n,t,u,a)&&s,u=u.__ngNextListenerFn__;return s}}function en(){return function PT(e){return(ae.lFrame.contextLView=function Zm(e,n){for(;e>0;)n=n[ha],e--;return n}(e,ae.lFrame.contextLView))[Be]}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}function bt(e,n,t){rb(e,n,t)}function Et(e){var n=T(),t=me(),r=bf();Qu(r+1);var i=qv(t,r);if(e.dirty&&function pT(e){return!(4&~e[$])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{var a=ob(n,r);e.reset(a,Ay),e.notifyOnChanges()}return!0}return!1}function Dt(){return function Wv(e,n){return e[sr].queries[n].queryList}(T(),bf())}function S(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=T(),r=me(),i=e+q,a=r.firstCreatePass?xi(r,i,1,n,null):r.data[i],o=gD(r,t,a,n,e);t[i]=o,jo()&&Ml(r,t,o,a),Ut(a,!1)}var gD=function(n,t,r,i,a){return cr(!0),function iv(e,n){return e.createText(n)}(t[ie],i)};function nn(e){return pr("",e,""),nn}function pr(e,n,t){var r=T(),i=function Za(e,n,t,r){return an(e,zt(),t)?n+le(t)+r:ce}(r,e,n,t);return i!==ce&&Nr(r,xn(),i),pr}function Ns(e,n,t,r,i){var a=T(),o=Ya(a,e,n,t,r,i);return o!==ce&&Nr(a,xn(),o),Ns}function j(e,n,t){lb(n)&&(n=n());var r=T();return an(r,zt(),n)&&lt(me(),He(),r,e,n,r[ie],t,!1),j}function U(e,n){var t=lb(e);return t&&e.set(n),t}function G(e,n){var t=T(),r=me(),i=xe();return Ch(r,t,t[ie],i,e,n),G}function Dh(e,n,t,r,i){if(e=ne(e),Array.isArray(e))for(var a=0;a<e.length;a++)Dh(e[a],n,t,r,i);else{var o=me(),s=T(),u=xe(),l=Di(e)?e:ne(e.provide),c=Om(e),f=1048575&u.providerIndexes,v=u.directiveStart,g=u.providerIndexes>>20;if(Di(e)||!e.multi){var p=new Go(c,i,A),C=wh(l,n,i?f:f+g,v);-1===C?(Pf(tl(u,s),o,l),Mh(o,e,n.length),n.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(p),s.push(p)):(t[C]=p,s[C]=p)}else{var b=wh(l,n,f+g,v),_=wh(l,n,f,f+g),I=_>=0&&t[_];if(i&&!I||!i&&!(b>=0&&t[b])){Pf(tl(u,s),o,l);var P=function LR(e,n,t,r,i){var a=new Go(e,t,A);return a.multi=[],a.index=n,a.componentProviders=0,wD(a,i,r&&!t),a}(i?RR:FR,t.length,i,r,c);!i&&I&&(t[_].providerFactory=P),Mh(o,e,n.length,0),n.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(P),s.push(P)}else Mh(o,e,b>-1?b:_,wD(t[i?_:b],c,!i&&r));!i&&r&&I&&t[_].componentProviders++}}}function Mh(e,n,t,r){var i=Di(n),a=function GI(e){return!!e.useClass}(n);if(i||a){var u=(a?ne(n.useClass):n).prototype.ngOnDestroy;if(u){var l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){var c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function wD(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function wh(e,n,t,r){for(var i=t;i<r;i++)if(n[i]===e)return i;return-1}function FR(e,n,t,r){return kh(this.multi,[])}function RR(e,n,t,r){var a,i=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Oi(t,t[L],this.providerFactory.index,r);kh(i,a=s.slice(0,o));for(var u=o;u<s.length;u++)a.push(s[u])}else kh(i,a=[]);return a}function kh(e,n){for(var t=0;t<e.length;t++)n.push((0,e[t])());return n}function Ke(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(t){t.providersResolver=function(r,i){return function NR(e,n,t){var r=me();if(r.firstCreatePass){var i=Ht(e);Dh(t,r.data,r.blueprint,i,!0),Dh(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}}function wn(e,n,t,r){return function ID(e,n,t,r,i,a){var o=n+t;return an(e,o,i)?vr(e,o+1,a?r.call(a,i):r(i)):Fs(e,o+1)}(T(),$n(),e,n,t,r)}function Sh(e,n,t,r,i){return function TD(e,n,t,r,i,a,o){var s=n+t;return Hi(e,s,i,a)?vr(e,s+2,o?r.call(o,i,a):r(i,a)):Fs(e,s+2)}(T(),$n(),e,n,t,r,i)}function Fs(e,n){var t=e[n];return t===ce?void 0:t}var Rh,QD=new W(""),sc=new W(""),Nh=function(){var e,n=function(){return m(function t(r,i,a){var o=this;y(this,t),this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Rh||(function XL(e){Rh=e}(a),a.addToWindow(i)),this._watchAngularEvents(),r.run(function(){o.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})},[{key:"_watchAngularEvents",value:function(){var i=this;this._ngZone.onUnstable.subscribe({next:function(){i._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){i._ngZone.onStable.subscribe({next:function(){Ge.assertNotInAngularZone(),queueMicrotask(function(){i._isZoneStable=!0,i._runCallbacksIfReady()})}})})}},{key:"isStable",value:function(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var i=this;if(this.isStable())queueMicrotask(function(){for(;0!==i._callbacks.length;){var o=i._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{var a=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(o){return!o.updateCb||!o.updateCb(a)||(clearTimeout(o.timeoutId),!1)})}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(i){return{source:i.source,creationLocation:i.creationLocation,data:i.data}}):[]}},{key:"addCallback",value:function(i,a,o){var s=this,u=-1;a&&a>0&&(u=setTimeout(function(){s._callbacks=s._callbacks.filter(function(l){return l.timeoutId!==u}),i()},a)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:o})}},{key:"whenStable",value:function(i,a,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,o),this._runCallbacksIfReady()}},{key:"registerApplication",value:function(i){this.registry.registerApplication(i,this)}},{key:"unregisterApplication",value:function(i){this.registry.unregisterApplication(i)}},{key:"findProviders",value:function(i,a,o){return[]}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(Ee(Ge),Ee(Fh),Ee(sc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Fh=function(){var e,n=function(){return m(function t(){y(this,t),this._applications=new Map},[{key:"registerApplication",value:function(i,a){this._applications.set(i,a)}},{key:"unregisterApplication",value:function(i){this._applications.delete(i)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(i){return this._applications.get(i)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(i){var a,o;return null!==(a=null===(o=Rh)||void 0===o?void 0:o.findTestabilityInTree(this,i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))&&void 0!==a?a:null}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"}),n}();function uc(e){return!!e&&"function"==typeof e.then}var JD=new W(""),Lh=function(){var e,n=function(){return m(function t(){var i,r=this;y(this,t),this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(a,o){r.resolve=a,r.reject=o}),this.appInits=null!==(i=Y(JD,{optional:!0}))&&void 0!==i?i:[]},[{key:"runInitializers",value:function(){var i=this;if(!this.initialized){var s,a=[],o=x(this.appInits);try{var u=function(){var f=(0,s.value)();if(uc(f))a.push(f);else if(function XD(e){return!!e&&"function"==typeof e.subscribe}(f)){var v=new Promise(function(g,p){f.subscribe({complete:g,error:p})});a.push(v)}};for(o.s();!(s=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}var l=function(){i.done=!0,i.resolve()};Promise.all(a).then(function(){l()}).catch(function(c){i.reject(c)}),0===a.length&&l(),this.initialized=!0}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),Vh=new W("");function t0(e,n){return Array.isArray(n)?n.reduce(t0,e):te(te({},e),n)}var Yt=function(){var e,n=function(){return m(function t(){y(this,t),this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Y(Py),this.afterRenderEffectManager=Y(Ll),this.zonelessEnabled=Y(Rl),this.externalTestViews=new Set,this.beforeRender=new wr,this.afterTick=new wr,this.componentTypes=[],this.components=[],this.isStable=Y(Ea).hasPendingTasks.pipe(Rt(function(r){return!r})),this._injector=Y(ar)},[{key:"allViews",get:function(){return[].concat(V(this.externalTestViews.keys()),V(this._views))}},{key:"destroyed",get:function(){return this._destroyed}},{key:"injector",get:function(){return this._injector}},{key:"bootstrap",value:function(i,a){var d,o=this,s=i instanceof xC;if(!this._injector.get(Lh).done)throw!s&&function Ei(e){var n=_e(e)||Cn(e)||On(e);return null!==n&&n.standalone}(i),new R(405,!1);d=s?i:this._injector.get(ys).resolveComponentFactory(i),this.componentTypes.push(d.componentType);var v=function JL(e){return e.isBoundToModule}(d)?void 0:this._injector.get(Bi),p=d.create(Dn.NULL,[],a||d.selector,v),C=p.location.nativeElement,b=p.injector.get(QD,null);return b?.registerApplication(C),p.onDestroy(function(){o.detachView(p.hostView),lc(o.components,p),b?.unregisterApplication(C)}),this._loadComponent(p),p}},{key:"tick",value:function(){this._tick(!0)}},{key:"_tick",value:function(i){if(this._runningTick)throw new R(101,!1);var a=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,pe(a),this.afterTick.next()}}},{key:"detectChangesInAttachedViews",value:function(i){var a=null;this._injector.destroyed||(a=this._injector.get(Fv,null,{optional:!0}));for(var o=0,s=this.afterRenderEffectManager;o<10;){var u=0===o;if(i||!u){this.beforeRender.next(u);var c,l=x(this._views);try{for(l.s();!(c=l.n()).done;){var d=c.value;n2(d._lView,d.notifyErrorHandler,u,this.zonelessEnabled)}}catch(I){l.e(I)}finally{l.f()}}else{var g,p,C,b,_,M;null===(g=a)||void 0===g||null===(p=(C=g).begin)||void 0===p||p.call(C),null===(b=a)||void 0===b||null===(_=(M=b).end)||void 0===_||_.call(M)}if(o++,s.executeInternalCallbacks(),!this.allViews.some(function(I){return Uo(I._lView)})&&(s.execute(),!this.allViews.some(function(I){return Uo(I._lView)})))break}}},{key:"attachView",value:function(i){var a=i;this._views.push(a),a.attachToAppRef(this)}},{key:"detachView",value:function(i){var a=i;lc(this._views,a),a.detachFromAppRef()}},{key:"_loadComponent",value:function(i){this.attachView(i.hostView),this.tick(),this.components.push(i);var a=this._injector.get(Vh,[]);[].concat(V(this._bootstrapListeners),V(a)).forEach(function(o){return o(i)})}},{key:"ngOnDestroy",value:function(){if(!this._destroyed)try{this._destroyListeners.forEach(function(i){return i()}),this._views.slice().forEach(function(i){return i.destroy()})}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}},{key:"onDestroy",value:function(i){var a=this;return this._destroyListeners.push(i),function(){return lc(a._destroyListeners,i)}}},{key:"destroy",value:function(){if(this._destroyed)throw new R(406,!1);var i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}},{key:"viewCount",get:function(){return this._views.length}},{key:"warnIfDestroyed",value:function(){}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}();function lc(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}function n2(e,n,t,r){(t||Uo(e))&&Tl(e,n,t&&!r?0:1)}var a2=function(){var e,n=function(){return m(function t(){y(this,t),this.zone=Y(Ge),this.changeDetectionScheduler=Y(ms),this.applicationRef=Y(Yt)},[{key:"initialize",value:function(){var i=this;this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:function(){i.changeDetectionScheduler.runningTick||i.zone.run(function(){i.applicationRef.tick()})}}))}},{key:"ngOnDestroy",value:function(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}();function s2(){var e=Y(Ge),n=Y($r);return function(t){return e.runOutsideAngular(function(){return n.handleError(t)})}}function Hh(e){var n,t;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=e?.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(t=e?.runCoalescing)&&void 0!==t&&t}}var u2=function(){var e,n=function(){return m(function t(){y(this,t),this.subscription=new St,this.initialized=!1,this.zone=Y(Ge),this.pendingTasks=Y(Ea)},[{key:"initialize",value:function(){var i=this;if(!this.initialized){this.initialized=!0;var a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(function(){i.subscription.add(i.zone.onStable.subscribe(function(){Ge.assertNotInAngularZone(),queueMicrotask(function(){null!==a&&!i.zone.hasPendingMacrotasks&&!i.zone.hasPendingMicrotasks&&(i.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(function(){var o;Ge.assertInAngularZone(),null!==(o=a)&&void 0!==o||(a=i.pendingTasks.add())}))}}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),cc=function(){var e,n=function(){return m(function t(){var r,i=this;y(this,t),this.appRef=Y(Yt),this.taskService=Y(Ea),this.ngZone=Y(Ge),this.zonelessEnabled=Y(Rl),this.disableScheduling=null!==(r=Y(AC,{optional:!0}))&&void 0!==r&&r,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new St,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(function(){i.runningTick||i.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(function(){i.runningTick||i.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Vv||!this.zoneIsDefined))},[{key:"notify",value:function(i){var a=this;if(this.zonelessEnabled||5!==i){switch(i){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(this.shouldScheduleTick()){var o=this.useMicrotaskScheduler?LC:RC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(function(){a.cancelScheduledCallback=o(function(){a.tick(a.shouldRefreshViews)})}):this.cancelScheduledCallback=o(function(){a.tick(a.shouldRefreshViews)})}}}},{key:"shouldScheduleTick",value:function(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ge.isInAngularZone())}},{key:"tick",value:function(i){var a=this;if(!this.runningTick&&!this.appRef.destroyed){var o=this.taskService.add();try{this.ngZone.run(function(){a.runningTick=!0,a.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(o),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,LC(function(){a.useMicrotaskScheduler=!1,a.taskService.remove(o)})}}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.cleanup()}},{key:"cleanup",value:function(){var i;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(i=this.cancelScheduledCallback)||void 0===i||i.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){var a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),Vr=new W("",{providedIn:"root",factory:function(){return Y(Vr,De.Optional|De.SkipSelf)||function l2(){return typeof $localize<"u"&&$localize.locale||ro}()}}),zh=new W(""),u0=function(){var e,n=function(){return m(function t(r){y(this,t),this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1},[{key:"bootstrapModuleFactory",value:function(i,a){var o=this,s=function HA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zone.js",n=arguments.length>1?arguments[1]:void 0;return"noop"===e?new Vv:"zone.js"===e?new Ge(n):e}(a?.ngZone,Hh({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return s.run(function(){var u=a?.ignoreChangesOutsideZone,l=function Ux(e,n,t){return new Yv(e,n,t)}(i.moduleType,o.injector,[].concat(V(function Bh(e){var n,t=e.ngZoneFactory;return null!==(n=t)&&void 0!==n||(t=function(){return new Ge(Hh())}),[{provide:Ge,useFactory:t},{provide:ir,multi:!0,useFactory:function(){var a=Y(a2,{optional:!0});return function(){return a.initialize()}}},{provide:ir,multi:!0,useFactory:function(){var a=Y(u2);return function(){a.initialize()}}},{provide:Py,useFactory:s2},!0===e.ignoreChangesOutsideZone?{provide:AC,useValue:!0}:[]]}({ngZoneFactory:function(){return s},ignoreChangesOutsideZone:u})),[{provide:ms,useExisting:cc}])),c=l.injector.get($r,null);return s.runOutsideAngular(function(){var d=s.onError.subscribe({next:function(v){c.handleError(v)}});l.onDestroy(function(){lc(o._modules,l),d.unsubscribe()})}),function n0(e,n,t){try{var r=t();return uc(r)?r.catch(function(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}):r}catch(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}}(c,s,function(){var d=l.injector.get(Lh);return d.runInitializers(),d.donePromise.then(function(){return function TE(e){"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(l.injector.get(Vr,ro)||ro),o._moduleDoBootstrap(l),l})})})}},{key:"bootstrapModule",value:function(i){var a=this,s=t0({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return function i2(e,n,t){var r=new $v(t);return Promise.resolve(r)}(0,0,i).then(function(u){return a.bootstrapModuleFactory(u,s)})}},{key:"_moduleDoBootstrap",value:function(i){var a=i.injector.get(Yt);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(function(o){return a.bootstrap(o)});else{if(!i.instance.ngDoBootstrap)throw new R(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}},{key:"onDestroy",value:function(i){this._destroyListeners.push(i)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(function(a){return a.destroy()}),this._destroyListeners.forEach(function(a){return a()});var i=this._injector.get(zh,null);i&&(i.forEach(function(a){return a()}),i.clear()),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(Ee(Dn))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"}),n}(),ri=null,l0=new W("");function c0(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(n),i=new W(r);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=jh();if(!o||o.injector.get(l0,!1)){var s=[].concat(V(t),V(a),[{provide:i,useValue:!0}]);e?e(s):function f2(e){if(ri&&!ri.get(l0,!1))throw new R(400,!1);(function e0(){!function vS(e){xp=e}(function(){throw new R(600,!1)})})(),ri=e;var n=e.get(u0);(function f0(e){var n=e.get($y,null);n?.forEach(function(t){return t()})})(e)}(function d0(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Dn.create({name:arguments.length>1?arguments[1]:void 0,providers:[{provide:nf,useValue:"platform"},{provide:zh,useValue:new Set([function(){return ri=null}])}].concat(V(e))})}(s,r))}return function v2(e){var n=jh();if(!n)throw new R(401,!1);return n}()}}function jh(){var e,n;return null!==(e=null===(n=ri)||void 0===n?void 0:n.get(u0))&&void 0!==e?e:null}var dc=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=p2,n}();function p2(e){return function m2(e,n,t){if(ki(e)&&!t){var r=yt(e.index,n);return new ls(r,r)}return 175&e.type?new ls(n[Ze],n):null}(xe(),T(),!(16&~e))}var p0=function(){return m(function e(){y(this,e)},[{key:"supports",value:function(t){return zl(t)}},{key:"create",value:function(t){return new b2(t)}}])}(),C2=function(n,t){return t},b2=function(){return m(function e(n){y(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||C2},[{key:"forEachItem",value:function(t){var r;for(r=this._itHead;null!==r;r=r._next)t(r)}},{key:"forEachOperation",value:function(t){for(var r=this._itHead,i=this._removalsHead,a=0,o=null;r||i;){var s=!i||r&&r.currentIndex<y0(i,a,o)?r:i,u=y0(s,a,o),l=s.currentIndex;if(s===i)a--,i=i._nextRemoved;else if(r=r._next,null==s.previousIndex)a++;else{o||(o=[]);var c=u-a,d=l-a;if(c!=d){for(var f=0;f<c;f++){var v=f<o.length?o[f]:o[f]=0,g=v+f;d<=g&&g<c&&(o[f]=v+1)}o[s.previousIndex]=d-c}}u!==l&&t(s,u,l)}}},{key:"forEachPreviousItem",value:function(t){var r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}},{key:"forEachAddedItem",value:function(t){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}},{key:"forEachMovedItem",value:function(t){var r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}},{key:"forEachRemovedItem",value:function(t){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}},{key:"forEachIdentityChange",value:function(t){var r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!zl(t))throw new R(900,!1);return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var r=this;this._reset();var o,s,u,i=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,s=t[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,s,u,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,u,l),a=!0),i=i._next}else o=0,function Gx(e,n){if(Array.isArray(e))for(var t=0;t<e.length;t++)n(e[t]);else for(var i,r=e[Symbol.iterator]();!(i=r.next()).done;)n(i.value)}(t,function(c){u=r._trackByFn(o,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=r._verifyReinsertion(i,c,u,o)),Object.is(i.item,c)||r._addIdentityChange(i,c)):(i=r._mismatch(i,c,u,o),a=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,r,i,a){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,o,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,o,a)):t=this._addAfter(new E2(r,i),o,a),t}},{key:"_verifyReinsertion",value:function(t,r,i,a){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var a=t._prevRemoved,o=t._nextRemoved;return null===a?this._removalsHead=o:a._nextRemoved=o,null===o?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(t,r,i),this._addToMoves(t,i),t}},{key:"_moveAfter",value:function(t,r,i){return this._unlink(t),this._insertAfter(t,r,i),this._addToMoves(t,i),t}},{key:"_addAfter",value:function(t,r,i){return this._insertAfter(t,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,r,i){var a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new m0),this._linkedRecords.put(t),t.currentIndex=i,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var r=t._prev,i=t._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,t}},{key:"_addToMoves",value:function(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}])}(),E2=m(function e(n,t){y(this,e),this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),D2=function(){return m(function e(){y(this,e),this._head=null,this._tail=null},[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,r){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}},{key:"remove",value:function(t){var r=t._prevDup,i=t._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}])}(),m0=function(){return m(function e(){y(this,e),this.map=new Map},[{key:"put",value:function(t){var r=t.trackById,i=this.map.get(r);i||(i=new D2,this.map.set(r,i)),i.add(t)}},{key:"get",value:function(t,r){var a=this.map.get(t);return a?a.get(t,r):null}},{key:"remove",value:function(t){var r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}])}();function y0(e,n,t){var r=e.previousIndex;if(null===r)return r;var i=0;return t&&r<t.length&&(i=t[r]),r+n+i}var _0=function(){return m(function e(){y(this,e)},[{key:"supports",value:function(t){return t instanceof Map||Kv(t)}},{key:"create",value:function(){return new M2}}])}(),M2=function(){return m(function e(){y(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null},[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var r;for(r=this._mapHead;null!==r;r=r._next)t(r)}},{key:"forEachPreviousItem",value:function(t){var r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}},{key:"forEachChangedItem",value:function(t){var r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}},{key:"forEachAddedItem",value:function(t){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}},{key:"forEachRemovedItem",value:function(t){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Kv(t)))throw new R(900,!1)}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var r=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(o,s){if(i&&i.key===s)r._maybeAddToChanges(i,o),r._appendAfter=i,i=i._next;else{var u=r._getOrCreateRecordForKey(s,o);i=r._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,r){if(t){var i=t._prev;return r._next=t,r._prev=i,t._prev=r,i&&(i._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}},{key:"_getOrCreateRecordForKey",value:function(t,r){if(this._records.has(t)){var i=this._records.get(t);this._maybeAddToChanges(i,r);var a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}var s=new w2(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(function(i){return r(t[i],i)})}}])}(),w2=m(function e(n){y(this,e),this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function C0(){return new $h([new p0])}var $h=function(){var e,n=function(){function t(r){y(this,t),this.factories=r}return m(t,[{key:"find",value:function(i){var a=this.factories.find(function(o){return o.supports(i)});if(null!=a)return a;throw new R(901,!1)}}],[{key:"create",value:function(i,a){if(null!=a){var o=a.factories.slice();i=i.concat(o)}return new t(i)}},{key:"extend",value:function(i){return{provide:t,useFactory:function(o){return t.create(i,o||C0())},deps:[[t,new qd,new Wd]]}}}])}();return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:C0}),n}();function b0(){return new fc([new _0])}var fc=function(){var e,n=function(){function t(r){y(this,t),this.factories=r}return m(t,[{key:"find",value:function(i){var a=this.factories.find(function(o){return o.supports(i)});if(a)return a;throw new R(901,!1)}}],[{key:"create",value:function(i,a){if(a){var o=a.factories.slice();i=i.concat(o)}return new t(i)}},{key:"extend",value:function(i){return{provide:t,useFactory:function(o){return t.create(i,o||b0())},deps:[[t,new qd,new Wd]]}}}])}();return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:b0}),n}(),I2=c0(null,"core",[]),T2=function(){var e,n=m(function t(r){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)(Ee(Yt))},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({}),n}(),V0=new W("");function js(e,n){Kn("NgSignals");var t=function cS(e){var n=Object.create(dS);n.computation=e;var t=function(){if(kp(n),gd(n),n.value===Eu)throw n.error;return n.value};return t[Nt]=n,t}(e);return null!=n&&n.equal&&(t[Nt].equal=n.equal),t}function mr(e){var n=pe(null);try{return e()}finally{pe(n)}}var eg=null;function Gs(){return eg}var mV=m(function e(){y(this,e)}),ii=new W(""),cg=/\s+/,tM=[],Kt=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._ngEl=r,this._renderer=i,this.initialClasses=tM,this.stateMap=new Map},[{key:"klass",set:function(i){this.initialClasses=null!=i?i.trim().split(cg):tM}},{key:"ngClass",set:function(i){this.rawClass="string"==typeof i?i.trim().split(cg):i}},{key:"ngDoCheck",value:function(){var a,i=x(this.initialClasses);try{for(i.s();!(a=i.n()).done;)this._updateState(a.value,!0)}catch(g){i.e(g)}finally{i.f()}var s=this.rawClass;if(Array.isArray(s)||s instanceof Set){var l,u=x(s);try{for(u.s();!(l=u.n()).done;)this._updateState(l.value,!0)}catch(g){u.e(g)}finally{u.f()}}else if(null!=s)for(var d=0,f=Object.keys(s);d<f.length;d++){var v=f[d];this._updateState(v,!!s[v])}this._applyStateDiff()}},{key:"_updateState",value:function(i,a){var o=this.stateMap.get(i);void 0!==o?(o.enabled!==a&&(o.changed=!0,o.enabled=a),o.touched=!0):this.stateMap.set(i,{enabled:a,changed:!0,touched:!0})}},{key:"_applyStateDiff",value:function(){var a,i=x(this.stateMap);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o[0],u=o[1];u.changed?(this._toggleClass(s,u.enabled),u.changed=!1):u.touched||(u.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),u.touched=!1}}catch(l){i.e(l)}finally{i.f()}}},{key:"_toggleClass",value:function(i,a){var o=this;(i=i.trim()).length>0&&i.split(cg).forEach(function(s){a?o._renderer.addClass(o._ngEl.nativeElement,s):o._renderer.removeClass(o._ngEl.nativeElement,s)})}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(jt),A(Li))},e.\u0275dir=ue({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),n}(),aB=function(){return m(function e(n,t,r,i){y(this,e),this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i},[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}])}(),so=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),this._viewContainer=r,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null},[{key:"ngForOf",set:function(i){this._ngForOf=i,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(i){this._trackByFn=i}},{key:"ngForTemplate",set:function(i){i&&(this._template=i)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){var o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}}},{key:"_applyChanges",value:function(i){var a=this,o=this._viewContainer;i.forEachOperation(function(d,f,v){if(null==d.previousIndex)o.createEmbeddedView(a._template,new aB(d.item,a._ngForOf,-1,-1),null===v?void 0:v);else if(null==v)o.remove(null===f?void 0:f);else if(null!==f){var g=o.get(f);o.move(g,v),iM(g,d)}});for(var s=0,u=o.length;s<u;s++){var c=o.get(s).context;c.index=s,c.count=u,c.ngForOf=this._ngForOf}i.forEachIdentityChange(function(d){iM(o.get(d.currentIndex),d)})}}],[{key:"ngTemplateContextGuard",value:function(i,a){return!0}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(Fn),A(Fr),A($h))},e.\u0275dir=ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n}();function iM(e,n){e.context.$implicit=n.item}var uo=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._viewContainer=r,this._context=new oB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i},[{key:"ngIf",set:function(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}},{key:"ngIfThen",set:function(i){aM("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(i){aM("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(i,a){return!0}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(Fn),A(Fr))},e.\u0275dir=ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n}(),oB=m(function e(){y(this,e),this.$implicit=null,this.ngIf=null});function aM(e,n){if(n&&!n.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(_n(n),"'."))}var lo=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),this._ngEl=r,this._differs=i,this._renderer=a,this._ngStyle=null,this._differ=null},[{key:"ngStyle",set:function(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}},{key:"_setStyle",value:function(i,a){var s=it(i.split("."),2),u=s[0],l=s[1],c=-1===u.indexOf("-")?void 0:Jr.DashCase;null!=a?this._renderer.setStyle(this._ngEl.nativeElement,u,l?"".concat(a).concat(l):a,c):this._renderer.removeStyle(this._ngEl.nativeElement,u,c)}},{key:"_applyChanges",value:function(i){var a=this;i.forEachRemovedItem(function(o){return a._setStyle(o.key,null)}),i.forEachAddedItem(function(o){return a._setStyle(o.key,o.currentValue)}),i.forEachChangedItem(function(o){return a._setStyle(o.key,o.currentValue)})}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(jt),A(fc),A(Li))},e.\u0275dir=ue({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n}(),NB=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({}),n}(),uM="browser";function lM(e){return e===uM}function cM(e){return"server"===e}var RB=m(function e(){y(this,e)}),cH=function(e){function n(){var t;return y(this,n),(t=w(this,n,arguments)).supportsDOMEvents=!0,t}return k(n,e),m(n)}(mV),dH=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"onAndCancel",value:function(r,i,a){return r.addEventListener(i,a),function(){r.removeEventListener(i,a)}}},{key:"dispatchEvent",value:function(r,i){r.dispatchEvent(i)}},{key:"remove",value:function(r){r.parentNode&&r.parentNode.removeChild(r)}},{key:"createElement",value:function(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(r){return r.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(r){return r instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}},{key:"getBaseHref",value:function(r){var i=function fH(){return($s=$s||document.querySelector("base"))?$s.getAttribute("href"):null}();return null==i?null:function vH(e){return new URL(e,document.baseURI).pathname}(i)}},{key:"resetBaseElement",value:function(){$s=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(r){return function rB(e,n){n=encodeURIComponent(n);var r,t=x(e.split(";"));try{for(t.s();!(r=t.n()).done;){var i=r.value,a=i.indexOf("="),s=it(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===n)return decodeURIComponent(l)}}catch(c){t.e(c)}finally{t.f()}return null}(document.cookie,r)}}],[{key:"makeCurrent",value:function(){!function pV(e){var n;null!==(n=eg)&&void 0!==n||(eg=e)}(new n)}}])}(cH),$s=null,hH=function(){return m(function e(){y(this,e)},[{key:"addToWindow",value:function(t){Fe.getAngularTestability=function(i){var o=t.findTestabilityInTree(i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);if(null==o)throw new R(5103,!1);return o},Fe.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Fe.getAllAngularRootElements=function(){return t.getAllRootElements()},Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(function(a){var o=Fe.getAllAngularTestabilities(),s=o.length,u=function(){0==--s&&a()};o.forEach(function(l){l.whenStable(u)})})}},{key:"findTestabilityInTree",value:function(t,r,i){return null==r?null:t.getTestability(r)??(i?Gs().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}}])}(),gH=function(){var e,n=function(){return m(function t(){y(this,t)},[{key:"build",value:function(){return new XMLHttpRequest}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Ac=new W(""),CM=function(){var e,n=function(){return m(function t(r,i){var a=this;y(this,t),this._zone=i,this._eventNameToPlugin=new Map,r.forEach(function(o){o.manager=a}),this._plugins=r.slice().reverse()},[{key:"addEventListener",value:function(i,a,o){return this._findPluginFor(a).addEventListener(i,a,o)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(i){var a=this._eventNameToPlugin.get(i);if(a)return a;if(!(a=this._plugins.find(function(s){return s.supports(i)})))throw new R(5101,!1);return this._eventNameToPlugin.set(i,a),a}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(Ee(Ac),Ee(Ge))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),yg=m(function e(n){y(this,e),this._doc=n}),_g="ng-app-id",bM=function(){var e,n=function(){return m(function t(r,i,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};y(this,t),this.doc=r,this.appId=i,this.nonce=a,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cM(o),this.resetHostNodes()},[{key:"addStyles",value:function(i){var o,a=x(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"removeStyles",value:function(i){var o,a=x(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"ngOnDestroy",value:function(){var i=this.styleNodesInDOM;i&&(i.forEach(function(u){return u.remove()}),i.clear());var o,a=x(this.getAllStyles());try{for(a.s();!(o=a.n()).done;)this.onStyleRemoved(o.value)}catch(u){a.e(u)}finally{a.f()}this.resetHostNodes()}},{key:"addHost",value:function(i){this.hostNodes.add(i);var o,a=x(this.getAllStyles());try{for(a.s();!(o=a.n()).done;)this.addStyleToHost(i,o.value)}catch(u){a.e(u)}finally{a.f()}}},{key:"removeHost",value:function(i){this.hostNodes.delete(i)}},{key:"getAllStyles",value:function(){return this.styleRef.keys()}},{key:"onStyleAdded",value:function(i){var o,a=x(this.hostNodes);try{for(a.s();!(o=a.n()).done;)this.addStyleToHost(o.value,i)}catch(u){a.e(u)}finally{a.f()}}},{key:"onStyleRemoved",value:function(i){var a,o=this.styleRef;null===(a=o.get(i))||void 0===a||null===(a=a.elements)||void 0===a||a.forEach(function(s){return s.remove()}),o.delete(i)}},{key:"collectServerRenderedStyles",value:function(){var i,a=null===(i=this.doc.head)||void 0===i?void 0:i.querySelectorAll("style[".concat(_g,'="').concat(this.appId,'"]'));if(null!=a&&a.length){var o=new Map;return a.forEach(function(s){null!=s.textContent&&o.set(s.textContent,s)}),o}return null}},{key:"changeUsageCount",value:function(i,a){var o=this.styleRef;if(o.has(i)){var s=o.get(i);return s.usage+=a,s.usage}return o.set(i,{usage:a,elements:[]}),a}},{key:"getStyleElement",value:function(i,a){var o=this.styleNodesInDOM,s=o?.get(a);if(s?.parentNode===i)return o.delete(a),s.removeAttribute(_g),s;var u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=a,this.platformIsServer&&u.setAttribute(_g,this.appId),i.appendChild(u),u}},{key:"addStyleToHost",value:function(i,a){var o,s=this.getStyleElement(i,a),u=this.styleRef,l=null===(o=u.get(a))||void 0===o?void 0:o.elements;l?l.push(s):u.set(a,{elements:[s],usage:1})}},{key:"resetHostNodes",value:function(){var i=this.hostNodes;i.clear(),i.add(this.doc.head)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(Ee(ii),Ee(Ma),Ee(Ky,8),Ee(Qr))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Cg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bg=/%COMP%/g,pH="_nghost-".concat("%COMP%"),mH="_ngcontent-".concat("%COMP%"),_H=new W("",{providedIn:"root",factory:function(){return!0}});function DM(e,n){return n.map(function(t){return t.replace(bg,e)})}var MM=function(){var e,n=function(){return m(function t(r,i,a,o,s,u,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,t),this.eventManager=r,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=u,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=cM(u),this.defaultRenderer=new Eg(r,s,l,this.platformIsServer)},[{key:"createRenderer",value:function(i,a){if(!i||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===Lt.ShadowDom&&(a=te(te({},a),{},{encapsulation:Lt.Emulated}));var o=this.getOrCreateRenderer(i,a);return o instanceof kM?o.applyToHost(i):o instanceof Dg&&o.applyStyles(),o}},{key:"getOrCreateRenderer",value:function(i,a){var o=this.rendererByCompId,s=o.get(a.id);if(!s){var u=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(a.encapsulation){case Lt.Emulated:s=new kM(c,d,a,this.appId,f,u,l,v);break;case Lt.ShadowDom:return new DH(c,d,i,a,u,l,this.nonce,v);default:s=new Dg(c,d,a,f,u,l,v)}o.set(a.id,s)}return s}},{key:"ngOnDestroy",value:function(){this.rendererByCompId.clear()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(Ee(CM),Ee(bM),Ee(Ma),Ee(_H),Ee(ii),Ee(Qr),Ee(Ge),Ee(Ky))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Eg=function(){return m(function e(n,t,r,i){y(this,e),this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null},[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,r){return r?this.doc.createElementNS(Cg[r]||r,t):this.doc.createElement(t)}},{key:"createComment",value:function(t){return this.doc.createComment(t)}},{key:"createText",value:function(t){return this.doc.createTextNode(t)}},{key:"appendChild",value:function(t,r){(wM(t)?t.content:t).appendChild(r)}},{key:"insertBefore",value:function(t,r,i){t&&(wM(t)?t.content:t).insertBefore(r,i)}},{key:"removeChild",value:function(t,r){t&&t.removeChild(r)}},{key:"selectRootElement",value:function(t,r){var i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new R(-5104,!1);return r||(i.textContent=""),i}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,r,i,a){if(a){r=a+":"+r;var o=Cg[a];o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}},{key:"removeAttribute",value:function(t,r,i){if(i){var a=Cg[i];a?t.removeAttributeNS(a,r):t.removeAttribute("".concat(i,":").concat(r))}else t.removeAttribute(r)}},{key:"addClass",value:function(t,r){t.classList.add(r)}},{key:"removeClass",value:function(t,r){t.classList.remove(r)}},{key:"setStyle",value:function(t,r,i,a){a&(Jr.DashCase|Jr.Important)?t.style.setProperty(r,i,a&Jr.Important?"important":""):t.style[r]=i}},{key:"removeStyle",value:function(t,r,i){i&Jr.DashCase?t.style.removeProperty(r):t.style[r]=""}},{key:"setProperty",value:function(t,r,i){null!=t&&(t[r]=i)}},{key:"setValue",value:function(t,r){t.nodeValue=r}},{key:"listen",value:function(t,r,i){if("string"==typeof t&&!(t=Gs().getGlobalEventTarget(this.doc,t)))throw new Error("Unsupported event target ".concat(t," for event ").concat(r));return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(i))}},{key:"decoratePreventDefault",value:function(t){var r=this;return function(i){if("__ngUnwrap__"===i)return t;!1===(r.platformIsServer?r.ngZone.runGuarded(function(){return t(i)}):t(i))&&i.preventDefault()}}}])}();function wM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}var DH=function(e){function n(t,r,i,a,o,s,u,l){var c;y(this,n),(c=w(this,n,[t,o,s,l])).sharedStylesHost=r,c.hostEl=i,c.shadowRoot=i.attachShadow({mode:"open"}),c.sharedStylesHost.addHost(c.shadowRoot);var v,f=x(DM(a.id,a.styles));try{for(f.s();!(v=f.n()).done;){var g=v.value,p=document.createElement("style");u&&p.setAttribute("nonce",u),p.textContent=g,c.shadowRoot.appendChild(p)}}catch(C){f.e(C)}finally{f.f()}return c}return k(n,e),m(n,[{key:"nodeOrShadowRoot",value:function(r){return r===this.hostEl?this.shadowRoot:r}},{key:"appendChild",value:function(r,i){return We(Oe(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(r),i)}},{key:"insertBefore",value:function(r,i,a){return We(Oe(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(r),i,a)}},{key:"removeChild",value:function(r,i){return We(Oe(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(r),i)}},{key:"parentNode",value:function(r){return this.nodeOrShadowRoot(We(Oe(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(r)))}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}}])}(Eg),Dg=function(e){function n(t,r,i,a,o,s,u,l){var c;return y(this,n),(c=w(this,n,[t,o,s,u])).sharedStylesHost=r,c.removeStylesOnCompDestroy=a,c.styles=l?DM(l,i.styles):i.styles,c}return k(n,e),m(n,[{key:"applyStyles",value:function(){this.sharedStylesHost.addStyles(this.styles)}},{key:"destroy",value:function(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}])}(Eg),kM=function(e){function n(t,r,i,a,o,s,u,l){var c;y(this,n);var d=a+"-"+i.id;return(c=w(this,n,[t,r,i,o,s,u,l,d])).contentAttr=function CH(e){return mH.replace(bg,e)}(d),c.hostAttr=function bH(e){return pH.replace(bg,e)}(d),c}return k(n,e),m(n,[{key:"applyToHost",value:function(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}},{key:"createElement",value:function(r,i){var a=We(Oe(n.prototype),"createElement",this).call(this,r,i);return We(Oe(n.prototype),"setAttribute",this).call(this,a,this.contentAttr,""),a}}])}(Dg),MH=function(){var e,n=function(t){function r(i){return y(this,r),w(this,r,[i])}return k(r,t),m(r,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}])}(yg);return(e=n).\u0275fac=function(r){return new(r||e)(Ee(ii))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),wH=function(){var e,n=function(t){function r(i){var a;return y(this,r),(a=w(this,r,[i])).delegate=Y(V0,{optional:!0}),a}return k(r,t),m(r,[{key:"supports",value:function(a){return!!this.delegate&&this.delegate.supports(a)}},{key:"addEventListener",value:function(a,o,s){return this.delegate.addEventListener(a,o,s)}},{key:"removeEventListener",value:function(a,o,s){return this.delegate.removeEventListener(a,o,s)}}])}(yg);return(e=n).\u0275fac=function(r){return new(r||e)(Ee(ii))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),SM=["alt","control","meta","shift"],kH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SH={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},IH=function(){var e,n=function(t){function r(i){return y(this,r),w(this,r,[i])}return k(r,t),m(r,[{key:"supports",value:function(a){return null!=r.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=r.parseEventName(o),l=r.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Gs().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=r._normalizeKey(o.pop()),l="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),l="code."),SM.forEach(function(f){var v=o.indexOf(f);v>-1&&(o.splice(v,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var d={};return d.domEventName=s,d.fullKey=l,d}},{key:"matchEventFullKeyCode",value:function(a,o){var s=kH[a.key]||a.key,u="";return o.indexOf("code.")>-1&&(s=a.code,u="code."),!(null==s||!s)&&(" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),SM.forEach(function(l){l!==s&&(0,SH[l])(a)&&(u+=l+".")}),(u+=s)===o)}},{key:"eventCallback",value:function(a,o,s){return function(u){r.matchEventFullKeyCode(u,a)&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}])}(yg);return(e=n).\u0275fac=function(r){return new(r||e)(Ee(ii))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),TM=[{provide:Qr,useValue:uM},{provide:$y,useValue:function TH(){dH.makeCurrent()},multi:!0},{provide:ii,useFactory:function OH(){return function A1(e){Lf=e}(document),document},deps:[]}],AH=c0(I2,"browser",TM),xH=new W(""),PM=[{provide:sc,useClass:hH,deps:[]},{provide:QD,useClass:Nh,deps:[Ge,Fh,sc]},{provide:Nh,useClass:Nh,deps:[Ge,Fh,sc]}],OM=[{provide:nf,useValue:"root"},{provide:$r,useFactory:function PH(){return new $r},deps:[]},{provide:Ac,useClass:MH,multi:!0,deps:[ii,Ge,Qr]},{provide:Ac,useClass:IH,multi:!0,deps:[ii]},{provide:Ac,useClass:wH,multi:!0},MM,bM,CM,{provide:Fv,useExisting:MM},{provide:RB,useClass:gH,deps:[]},[]],NH=function(){var e,n=function(){function t(r){y(this,t)}return m(t,null,[{key:"withServerTransition",value:function(i){return{ngModule:t,providers:[{provide:Ma,useValue:i.appId}]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(Ee(xH,12))},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({providers:[].concat(OM,PM),imports:[NB,T2]}),n}(),dt=function(){return m(function e(){y(this,e),h(this,"listeners",[])},[{key:"addListener",value:function(t){this.listeners.push(t)}},{key:"removeListener",value:function(t){var r=this.listeners.indexOf(t);return r>=0&&(this.listeners.splice(r,1),!0)}},{key:"emit",value:function(t){var i,r=x(this.listeners);try{for(r.s();!(i=r.n()).done;)(0,i.value)(t)}catch(o){r.e(o)}finally{r.f()}}},{key:"empty",get:function(){return 0==this.listeners.length}}])}(),NM=m(function e(){y(this,e)});function et(e){return void 0!==e.a?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}function Xt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return{r:e.r,g:e.g,b:e.b,a:void 0===e.a?n:e.a*n}}var jn={r:0,g:0,b:0},RH={r:255,g:255,b:255},yr={r:0,g:0,b:0,a:0},Ln={r:127,g:127,b:127},FM=[],qi=function(e){function n(){var t;return y(this,n),h(t=w(this,n),"id",void 0),h(t,"onChange",new dt),h(t,"onRemove",new dt),h(t,"onAdd",new dt),h(t,"configuration",{}),h(t,"_color",jn),h(t,"_visible",!0),h(t,"svgLabel",void 0),h(t,"_labelTranslate",{x:0,y:0}),t.id=function LH(){for(var e=0;;e++)if(-1===FM.indexOf(e))return FM.push(e),e;return Number.NaN}(),t}return k(n,e),m(n,[{key:"getDistance",value:function(r,i){}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this.svgLabel=void 0,this.onChange.emit(r)}},{key:"visible",get:function(){return this._visible},set:function(r){this._visible=r,this.onChange.emit(r)}},{key:"labelTranslateX",get:function(){return this._labelTranslate.x},set:function(r){this._labelTranslate.x=r,this.onChange.emit(r)}},{key:"labelTranslateY",get:function(){return this._labelTranslate.y},set:function(r){this._labelTranslate.y=r,this.onChange.emit(r)}},{key:"labelTranslate",get:function(){return{x:this._labelTranslate.x,y:this._labelTranslate.y}},set:function(r){this._labelTranslate={x:r.x,y:r.y},this.onChange.emit(r)}},{key:"getPositionForLabel",value:function(r){}}])}(NM),VH=function(){function e(){y(this,e),h(this,"_ts",[]);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];this._ts=t}return m(e,[{key:"getItem",value:function(t){return this._ts[t]}},{key:"setItem",value:function(t,r){this._ts[t]=r}},{key:"push",value:function(){var t;(t=this._ts).push.apply(t,arguments)}},{key:"remove",value:function(t){var r=this._ts.indexOf(t);return r>=0&&(this._ts.splice(r,1),!0)}},{key:"pop",value:function(){return this._ts.pop()}},{key:"forEach",value:function(t){for(var r=0;r<this._ts.length;r++)t(this._ts[r],r)}},{key:"filter",value:function(t){for(var r=[],i=0;i<this._ts.length;i++){var a=this._ts[i];t(a,i)&&r.push(a)}return Je(e,r)}},{key:"map",value:function(t){for(var r=[],i=0;i<this._ts.length;i++)r.push(t(this._ts[i],i));return Je(e,r)}},{key:"find",value:function(t){for(var r=0;r<this._ts.length;r++){var i=this._ts[r];if(t(i,r))return i}}}])}(),Gn=function(){return m(function e(){y(this,e),h(this,"childOperations",new VH)},[{key:"simplify",value:function(){return this}}])}(),Ce=function(e){function n(t){var r;return y(this,n),h(r=w(this,n),"constant",void 0),r.constant=t,r}return k(n,e),m(n,[{key:"evaluate",value:function(){return this.constant}},{key:"derive",value:function(){return new n(0)}},{key:"toString",value:function(){return this.constant==Math.PI?"pi":this.constant==Math.E?"e":this.constant>=0?this.constant.toString():"(".concat(this.constant.toString(),")")}}])}(Gn),Mg="$VAR_",xt=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return y(this,n),h(r=w(this,n),"key",void 0),h(r,"changingVariable",void 0),r.key=t,r.changingVariable=i,r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var i=void 0===this.changingVariable?r[this.key]:r[Mg+this.changingVariable];if("number"==typeof i)return i;throw"no number found"}},{key:"derive",value:function(r){return new Ce(r===this.key?1:0)}},{key:"toString",value:function(){return this.key}}])}(Gn),fo=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";y(this,e),h(this,"operation",void 0),h(this,"name",void 0),h(this,"variable",void 0),h(this,"stopEvaluation",!1),this.operation=n,this.name=t,this.variable=r}return m(e,[{key:"evaluate",value:function(t,r){var i;if(this.stopEvaluation)throw"evaluation stopped";return(r=null!==(i=r)&&void 0!==i?i:{})[Mg+0]=t,this.operation.evaluate(r)}},{key:"derive",value:function(){var t=void 0;return this.name&&(t=this.name+"'"),new e(this.operation.derive(this.variable),t,this.variable).simplify()}},{key:"simplify",value:function(){return new e(this.operation.simplify(),this.name,this.variable)}},{key:"operationAsString",get:function(){var t;return this.name?"".concat(this.name,"(").concat(null!==(t=this.variable)&&void 0!==t?t:"x",") = ").concat(this.operation.toString()):this.operation.toString()}}])}();function Ks(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=n=Jt(n),i_y=n.y+n.height;return gn(e.x,r.x-t,n.x+n.width+t)&&gn(e.y,r.y-t,i_y+t)}function gn(e,n,t){return t<n?gn(e,t,n):e>=n&&e<=t}function Jt(e){return e.width<0?Jt({x:e.x+e.width,y:e.y,width:-e.width,height:e.height}):e.height<0?Jt({x:e.x,y:e.y+e.height,width:e.width,height:-e.height}):e}function HH(e,n){if(function BH(e,n){return e=Jt(e),n=Jt(n),!(e.x+e.width<n.x||n.x+n.width<e.x||e.y+e.height<n.y||n.y+n.height<e.y)}(e=Jt(e),n=Jt(n))){var t=Math.max(e.x,n.x),r=Math.min(e.x+e.width,n.x+n.width),i=Math.max(e.y,n.y);return{x:t,y:i,width:r-t,height:Math.min(e.y+e.height,n.y+n.height)-i}}}function RM(e,n){if(Ks(e,n))return 0;var t=Math.min(Math.abs(e.x-n.x),Math.abs(e.x-n.x-n.width)),r=Math.min(Math.abs(e.y-n.y),Math.abs(e.y-n.y-n.height));return gn(e.x,n.x,n.x+n.width)?r:gn(e.y,n.y,n.y+n.height)?t:Math.sqrt(Math.pow(r,2)+Math.pow(t,2))}function ai(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function zH(){for(var e=void 0,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];for(var i=0,a=t;i<a.length;i++){var o=a[i];(null==e||isNaN(e)||null!=o&&!isNaN(o)&&o<e)&&(e=o)}return e}function LM(e,n){return e.x===n.x&&e.y===n.y}function Nc(e,n){var t=n.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function VM(e){var n=void 0;if(null!==e){for(;-1!==e.indexOf(",");)e=e.replace(",",".");e.length>0&&isFinite(e)&&(n=parseFloat(e))}return n}function Qs(e){return void 0!==VM(e)}function jH(e,n,t){for(var r=e;-1!=r.indexOf(n);)r=r.replace(n,t);return r}function wg(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0;i<e.length;i++)if(-1!=t.indexOf(e[i]))return i;return-1}function BM(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=t.map(function(s){return e.indexOf(s)}).filter(function(s){return-1!==s});if(0===i.length)return-1;for(var a=i[0],o=1;o<i.length;o++)i[o]<a&&(a=i[o]);return a}function Wn(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return-1!=wg.apply(void 0,[e].concat(t))}function WH(e,n){for(var t=e.length-2;t>=0;t--)if(n(e[t],e[t+1]))return t;return-1}function qH(e,n){return-1!==function GH(e,n){for(var t=0;t<e.length-1;t++)if(n(e[t],e[t+1]))return t;return-1}(e,n)}function Fc(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return-1!==BM.apply(void 0,[e].concat(t))}function HM(e,n,t){return e>n?e:t<n?t:n}function UM(e,n){var r,t=x(e);try{for(t.s();!(r=t.n()).done;)if(n(r.value))return!0}catch(a){t.e(a)}finally{t.f()}return!1}function ZH(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}function YH(e,n,t,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=0,s=r??0;s>=0&&s<e.length;s+=a){var u=e[s];if(Wn(n,u)&&o++,Wn(t,u)&&o--,0==o)return s}if(0==o)return r??0;throw i}function zM(e){return V(new Set(e))}function jM(e,n){var r,t=x(n);try{for(t.s();!(r=t.n()).done;){var i=r.value;if(i[0]===e)return i[1]}}catch(a){t.e(a)}finally{t.f()}return e}var oi=function(){return m(function e(){y(this,e),h(this,"threePointsClickedEvent",new dt)},[{key:"contextMenu",get:function(){return{elements:function(){return[]},additionalEvent:this.threePointsClickedEvent}}},{key:"threePointsClicked",value:function(t){var r=t.target;r instanceof HTMLSpanElement&&(r=r.parentElement);var i=r.getBoundingClientRect();this.threePointsClickedEvent.emit([{x:i.x+i.width/2,y:i.y+i.height/2},t])}}])}();function Rc(e,n,t){e.openSnackbar(function XH(e,n){return 1!==n&&(e+="e"),0===n?"Keine ".concat(e," gefunden."):1===n?"Ein ".concat(e," gefunden."):"".concat(n," ").concat(e," gefunden.")}(n,t))}function Lc(e){e.openSnackbar(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ein unerwarteter Fehler ist aufgetreten!",{color:"white",background:"#c44"})}function Zi(){Zi=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(z,N,H){z[N]=H.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(z,N,H){return Object.defineProperty(z,N,{value:H,enumerable:!0,configurable:!0,writable:!0}),z[N]}try{l({},"")}catch{l=function(H,J,se){return H[J]=se}}function c(z,N,H,J){var K=Object.create((N&&N.prototype instanceof b?N:b).prototype),Qe=new je(J||[]);return i(K,"_invoke",{value:ve(z,H,Qe)}),K}function d(z,N,H){try{return{type:"normal",arg:z.call(N,H)}}catch(J){return{type:"throw",arg:J}}}n.wrap=c;var f="suspendedStart",v="suspendedYield",g="executing",p="completed",C={};function b(){}function _(){}function M(){}var I={};l(I,o,function(){return this});var P=Object.getPrototypeOf,B=P&&P(P(tn([])));B&&B!==t&&r.call(B,o)&&(I=B);var F=M.prototype=b.prototype=Object.create(I);function Z(z){["next","throw","return"].forEach(function(N){l(z,N,function(H){return this._invoke(N,H)})})}function Q(z,N){function H(se,K,Qe,Pn){var rt=d(z[se],z,K);if("throw"!==rt.type){var nr=rt.arg,jr=nr.value;return jr&&"object"==tr(jr)&&r.call(jr,"__await")?N.resolve(jr.__await).then(function(ea){H("next",ea,Qe,Pn)},function(ea){H("throw",ea,Qe,Pn)}):N.resolve(jr).then(function(ea){nr.value=ea,Qe(nr)},function(ea){return H("throw",ea,Qe,Pn)})}Pn(rt.arg)}var J;i(this,"_invoke",{value:function(K,Qe){function Pn(){return new N(function(rt,nr){H(K,Qe,rt,nr)})}return J=J?J.then(Pn,Pn):Pn()}})}function ve(z,N,H){var J=f;return function(se,K){if(J===g)throw Error("Generator is already running");if(J===p){if("throw"===se)throw K;return{value:e,done:!0}}for(H.method=se,H.arg=K;;){var Qe=H.delegate;if(Qe){var Pn=ye(Qe,H);if(Pn){if(Pn===C)continue;return Pn}}if("next"===H.method)H.sent=H._sent=H.arg;else if("throw"===H.method){if(J===f)throw J=p,H.arg;H.dispatchException(H.arg)}else"return"===H.method&&H.abrupt("return",H.arg);J=g;var rt=d(z,N,H);if("normal"===rt.type){if(J=H.done?p:v,rt.arg===C)continue;return{value:rt.arg,done:H.done}}"throw"===rt.type&&(J=p,H.method="throw",H.arg=rt.arg)}}}function ye(z,N){var H=N.method,J=z.iterator[H];if(J===e)return N.delegate=null,"throw"===H&&z.iterator.return&&(N.method="return",N.arg=e,ye(z,N),"throw"===N.method)||"return"!==H&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+H+"' method")),C;var se=d(J,z.iterator,N.arg);if("throw"===se.type)return N.method="throw",N.arg=se.arg,N.delegate=null,C;var K=se.arg;return K?K.done?(N[z.resultName]=K.value,N.next=z.nextLoc,"return"!==N.method&&(N.method="next",N.arg=e),N.delegate=null,C):K:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,C)}function de(z){var N={tryLoc:z[0]};1 in z&&(N.catchLoc=z[1]),2 in z&&(N.finallyLoc=z[2],N.afterLoc=z[3]),this.tryEntries.push(N)}function be(z){var N=z.completion||{};N.type="normal",delete N.arg,z.completion=N}function je(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(de,this),this.reset(!0)}function tn(z){if(z||""===z){var N=z[o];if(N)return N.call(z);if("function"==typeof z.next)return z;if(!isNaN(z.length)){var H=-1,J=function se(){for(;++H<z.length;)if(r.call(z,H))return se.value=z[H],se.done=!1,se;return se.value=e,se.done=!0,se};return J.next=J}}throw new TypeError(tr(z)+" is not iterable")}return _.prototype=M,i(F,"constructor",{value:M,configurable:!0}),i(M,"constructor",{value:_,configurable:!0}),_.displayName=l(M,u,"GeneratorFunction"),n.isGeneratorFunction=function(z){var N="function"==typeof z&&z.constructor;return!!N&&(N===_||"GeneratorFunction"===(N.displayName||N.name))},n.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,M):(z.__proto__=M,l(z,u,"GeneratorFunction")),z.prototype=Object.create(F),z},n.awrap=function(z){return{__await:z}},Z(Q.prototype),l(Q.prototype,s,function(){return this}),n.AsyncIterator=Q,n.async=function(z,N,H,J,se){void 0===se&&(se=Promise);var K=new Q(c(z,N,H,J),se);return n.isGeneratorFunction(N)?K:K.next().then(function(Qe){return Qe.done?Qe.value:K.next()})},Z(F),l(F,u,"Generator"),l(F,o,function(){return this}),l(F,"toString",function(){return"[object Generator]"}),n.keys=function(z){var N=Object(z),H=[];for(var J in N)H.push(J);return H.reverse(),function se(){for(;H.length;){var K=H.pop();if(K in N)return se.value=K,se.done=!1,se}return se.done=!0,se}},n.values=tn,je.prototype={constructor:je,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(be),!N)for(var H in this)"t"===H.charAt(0)&&r.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=e)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if("throw"===N.type)throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var H=this;function J(nr,jr){return Qe.type="throw",Qe.arg=N,H.next=nr,jr&&(H.method="next",H.arg=e),!!jr}for(var se=this.tryEntries.length-1;se>=0;--se){var K=this.tryEntries[se],Qe=K.completion;if("root"===K.tryLoc)return J("end");if(K.tryLoc<=this.prev){var Pn=r.call(K,"catchLoc"),rt=r.call(K,"finallyLoc");if(Pn&&rt){if(this.prev<K.catchLoc)return J(K.catchLoc,!0);if(this.prev<K.finallyLoc)return J(K.finallyLoc)}else if(Pn){if(this.prev<K.catchLoc)return J(K.catchLoc,!0)}else{if(!rt)throw Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return J(K.finallyLoc)}}}},abrupt:function(N,H){for(var J=this.tryEntries.length-1;J>=0;--J){var se=this.tryEntries[J];if(se.tryLoc<=this.prev&&r.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var K=se;break}}K&&("break"===N||"continue"===N)&&K.tryLoc<=H&&H<=K.finallyLoc&&(K=null);var Qe=K?K.completion:{};return Qe.type=N,Qe.arg=H,K?(this.method="next",this.next=K.finallyLoc,C):this.complete(Qe)},complete:function(N,H){if("throw"===N.type)throw N.arg;return"break"===N.type||"continue"===N.type?this.next=N.arg:"return"===N.type?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):"normal"===N.type&&H&&(this.next=H),C},finish:function(N){for(var H=this.tryEntries.length-1;H>=0;--H){var J=this.tryEntries[H];if(J.finallyLoc===N)return this.complete(J.completion,J.afterLoc),be(J),C}},catch:function(N){for(var H=this.tryEntries.length-1;H>=0;--H){var J=this.tryEntries[H];if(J.tryLoc===N){var se=J.completion;if("throw"===se.type){var K=se.arg;be(J)}return K}}throw Error("illegal catch attempt")},delegateYield:function(N,H,J){return this.delegate={iterator:tn(N),resultName:H,nextLoc:J},"next"===this.method&&(this.arg=e),C}},n}function GM(e,n,t,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void t(l)}s.done?n(u):Promise.resolve(u).then(r,i)}function Yi(e){return this instanceof Yi?(this.v=e,this):new Yi(e)}function a5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function ZM(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(o){return new Promise(function(s,u){!function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}(s,u,(o=e[a](o)).done,o.value)})}}}var Sg=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function YM(e){return Se(e?.then)}function $M(e){return Se(e[kd])}function KM(e){return Symbol.asyncIterator&&Se(e?.[Symbol.asyncIterator])}function QM(e){return new TypeError("You provided ".concat(null!==e&&"object"==typeof e?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var XM=function s5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function JM(e){return Se(e?.[XM])}function ew(e){return function i5(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(v){return new Promise(function(g,p){a.push([f,v,g,p])>1||s(f,v)})})}function s(f,v){try{!function u(f){f.value instanceof Yi?Promise.resolve(f.value.v).then(l,c):d(a[0][2],f)}(r[f](v))}catch(g){d(a[0][3],g)}}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,v){f(v),a.shift(),a.length&&s(a[0][0],a[0][1])}}(this,arguments,Zi().mark(function n(){var t,r,i;return Zi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=e.getReader(),s.prev=1;case 2:return s.next=5,Yi(t.read());case 5:if(i=(r=s.sent).value,!r.done){s.next=12;break}return s.next=11,Yi(void 0);case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,Yi(i);case 14:return s.next=16,s.sent;case 16:s.next=2;break;case 18:return s.prev=18,t.releaseLock(),s.finish(18);case 21:case"end":return s.stop()}},n,null,[[1,,18,21]])}))}function nw(e){return Se(e?.getReader)}function _r(e){if(e instanceof un)return e;if(null!=e){if($M(e))return function u5(e){return new un(function(n){var t=e[kd]();if(Se(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Sg(e))return function l5(e){return new un(function(n){for(var t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(YM(e))return function c5(e){return new un(function(n){e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,Up)})}(e);if(KM(e))return tw(e);if(JM(e))return function d5(e){return new un(function(n){var r,t=x(e);try{for(t.s();!(r=t.n()).done;)if(n.next(r.value),n.closed)return}catch(a){t.e(a)}finally{t.f()}n.complete()})}(e);if(nw(e))return function f5(e){return tw(ew(e))}(e)}throw QM(e)}function tw(e){return new un(function(n){(function v5(e,n){var t,r,i,a;return function t5(e,n,t,r){return new(t||(t=Promise))(function(a,o){function s(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):function i(a){return a instanceof t?a:new t(function(o){o(a)})}(c.value).then(s,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,Zi().mark(function o(){return Zi().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,t=a5(e);case 2:return l.next=4,t.next();case 4:if((r=l.sent).done){l.next=12;break}if(n.next(r.value),!n.closed){l.next=10;break}return l.abrupt("return");case 10:l.next=2;break;case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),i={error:l.t0};case 17:if(l.prev=17,l.prev=18,!r||r.done||!(a=t.return)){l.next=22;break}return l.next=22,a.call(t);case 22:if(l.prev=22,!i){l.next=25;break}throw i.error;case 25:return l.finish(22);case 26:return l.finish(17);case 27:n.complete();case 28:case"end":return l.stop()}},o,null,[[0,14,17,27],[18,,22,26]])}))})(e,n).catch(function(t){return n.error(t)})})}function si(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function rw(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ft(function(t,r){t.subscribe(new ht(r,function(i){return si(r,e,function(){return r.next(i)},n)},function(){return si(r,e,function(){return r.complete()},n)},function(i){return si(r,e,function(){return r.error(i)},n)}))})}function iw(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ft(function(t,r){r.add(e.schedule(function(){return t.subscribe(r)},n))})}function aw(e,n){if(!e)throw new Error("Iterable cannot be null");return new un(function(t){si(t,n,function(){var r=e[Symbol.asyncIterator]();si(t,n,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Xs(e,n){return n?function _5(e,n){if(null!=e){if($M(e))return function h5(e,n){return _r(e).pipe(iw(n),rw(n))}(e,n);if(Sg(e))return function p5(e,n){return new un(function(t){var r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(YM(e))return function g5(e,n){return _r(e).pipe(iw(n),rw(n))}(e,n);if(KM(e))return aw(e,n);if(JM(e))return function m5(e,n){return new un(function(t){var r;return si(t,n,function(){r=e[XM](),si(t,n,function(){var i,a;try{var o=r.next();i=o.value,a=o.done}catch(s){return void t.error(s)}a?t.complete():t.next(i)},0,!0)}),function(){return Se(r?.return)&&r.return()}})}(e,n);if(nw(e))return function y5(e,n){return aw(ew(e),n)}(e,n)}throw QM(e)}(e,n):_r(e)}var C5=Array.isArray,b5=Object.getPrototypeOf,E5=Object.prototype,D5=Object.keys;function ow(e){return e&&Se(e.schedule)}function Ig(e){return e[e.length-1]}function Tg(e){return ow(Ig(e))?e.pop():void 0}var I5=Array.isArray;function sw(e){return Rt(function(n){return function T5(e,n){return I5(n)?e.apply(void 0,V(n)):e(n)}(e,n)})}function O5(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=function k5(e){return Se(Ig(e))?e.pop():void 0}(n),i=function M5(e){if(1===e.length){var n=e[0];if(C5(n))return{args:n,keys:null};if(function w5(e){return e&&"object"==typeof e&&b5(e)===E5}(n)){var t=D5(n);return{args:t.map(function(r){return n[r]}),keys:t}}}return{args:e,keys:null}}(n),a=i.args,o=i.keys,s=new un(function(u){var l=a.length;if(l)for(var c=new Array(l),d=l,f=l,v=function(C){var b=!1;_r(a[C]).subscribe(new ht(u,function(_){b||(b=!0,f--),c[C]=_},function(){return d--},void 0,function(){(!d||!b)&&(f||u.next(o?function P5(e,n){return e.reduce(function(t,r,i){return t[r]=n[i],t},{})}(o,c):c),u.complete())}))},g=0;g<l;g++)v(g);else u.complete()});return r?s.pipe(sw(r)):s}var uw=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._renderer=r,this._elementRef=i,this.onChange=function(a){},this.onTouched=function(){}},[{key:"setProperty",value:function(i,a){this._renderer.setProperty(this._elementRef.nativeElement,i,a)}},{key:"registerOnTouched",value:function(i){this.onTouched=i}},{key:"registerOnChange",value:function(i){this.onChange=i}},{key:"setDisabledState",value:function(i){this.setProperty("disabled",i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(Li),A(jt))},e.\u0275dir=ue({type:e}),n}(),$i=function(){var e,n=function(t){function r(){return y(this,r),w(this,r,arguments)}return k(r,t),m(r)}(uw);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Nn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,features:[fe]}),n}(),Cr=new W(""),A5={provide:Cr,useExisting:Ve(function(){return ui}),multi:!0},ui=function(){var e,n=function(t){function r(){return y(this,r),w(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("checked",a)}}])}($i);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Nn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&oe("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Ke([A5]),fe]}),n}(),x5={provide:Cr,useExisting:Ve(function(){return pn}),multi:!0},F5=new W(""),pn=function(){var e,n=function(t){function r(i,a,o){var s;return y(this,r),(s=w(this,r,[i,a]))._compositionMode=o,s._composing=!1,null==s._compositionMode&&(s._compositionMode=!function N5(){var e=Gs()?Gs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),s}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",a??"")}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}])}(uw);return(e=n).\u0275fac=function(r){return new(r||e)(A(Li),A(jt),A(F5,8))},e.\u0275dir=ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&oe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ke([x5]),fe]}),n}();function li(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}var qn=new W(""),ci=new W("");function Pg(e){return null}function cw(e){return null!=e}function dw(e){return uc(e)?Xs(e):e}function fw(e){var n={};return e.forEach(function(t){n=null!=t?te(te({},n),t):n}),0===Object.keys(n).length?null:n}function vw(e,n){return n.map(function(t){return t(e)})}function hw(e){return e.map(function(n){return function W5(e){return!e.validate}(n)?n:function(t){return n.validate(t)}})}function Og(e){return null!=e?function q5(e){if(!e)return null;var n=e.filter(cw);return 0==n.length?null:function(t){return fw(vw(t,n))}}(hw(e)):null}function Ag(e){return null!=e?function Z5(e){if(!e)return null;var n=e.filter(cw);return 0==n.length?null:function(t){return O5(vw(t,n).map(dw)).pipe(Rt(fw))}}(hw(e)):null}function gw(e,n){return null===e?[n]:Array.isArray(e)?[].concat(V(e),[n]):[e,n]}function xg(e){return e?Array.isArray(e)?e:[e]:[]}function Vc(e,n){return Array.isArray(e)?e.includes(n):e===n}function yw(e,n){var t=xg(n);return xg(e).forEach(function(i){Vc(t,i)||t.push(i)}),t}function _w(e,n){return xg(n).filter(function(t){return!Vc(e,t)})}var Cw=function(){return m(function e(){y(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]},[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Og(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ag(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){this.control&&this.control.reset(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)}},{key:"hasError",value:function(t,r){return!!this.control&&this.control.hasError(t,r)}},{key:"getError",value:function(t,r){return this.control?this.control.getError(t,r):null}}])}(),nt=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}])}(Cw),di=function(e){function n(){var t;return y(this,n),(t=w(this,n,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return k(n,e),m(n)}(Cw),bw=function(){return m(function e(n){y(this,e),this._cd=n},[{key:"isTouched",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._touched)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.touched)}},{key:"isUntouched",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.untouched)}},{key:"isPristine",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._pristine)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.pristine)}},{key:"isDirty",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.dirty)}},{key:"isValid",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._status)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.valid)}},{key:"isInvalid",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.invalid)}},{key:"isPending",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.pending)}},{key:"isSubmitted",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(r=t._submitted)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||!i.submitted)}}])}(),Sn=function(){var e,n=function(t){function r(i){return y(this,r),w(this,r,[i])}return k(r,t),m(r)}(bw);return(e=n).\u0275fac=function(r){return new(r||e)(A(di,2))},e.\u0275dir=ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Kl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]}),n}(),Js="VALID",Hc="INVALID",vo="PENDING",eu="DISABLED",ho=m(function e(){y(this,e)}),Dw=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).value=t,i.source=r,i}return k(n,e),m(n)}(ho),Rg=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).pristine=t,i.source=r,i}return k(n,e),m(n)}(ho),Lg=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).touched=t,i.source=r,i}return k(n,e),m(n)}(ho),Uc=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).status=t,i.source=r,i}return k(n,e),m(n)}(ho);function Mw(e){return(zc(e)?e.validators:e)||null}function ww(e,n){return(zc(n)?n.asyncValidators:e)||null}function zc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var kw=function(){return m(function e(n,t){var r=this;y(this,e),this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=function(){},this._parent=null,this._status=js(function(){return r.statusReactive()}),this.statusReactive=La(void 0),this._pristine=js(function(){return r.pristineReactive()}),this.pristineReactive=La(!0),this._touched=js(function(){return r.touchedReactive()}),this.touchedReactive=La(!1),this._events=new wr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)},[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"status",get:function(){return mr(this.statusReactive)},set:function(t){var r=this;mr(function(){return r.statusReactive.set(t)})}},{key:"valid",get:function(){return this.status===Js}},{key:"invalid",get:function(){return this.status===Hc}},{key:"pending",get:function(){return this.status==vo}},{key:"disabled",get:function(){return this.status===eu}},{key:"enabled",get:function(){return this.status!==eu}},{key:"pristine",get:function(){return mr(this.pristineReactive)},set:function(t){var r=this;mr(function(){return r.pristineReactive.set(t)})}},{key:"dirty",get:function(){return!this.pristine}},{key:"touched",get:function(){return mr(this.touchedReactive)},set:function(t){var r=this;mr(function(){return r.touchedReactive.set(t)})}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._assignValidators(t)}},{key:"setAsyncValidators",value:function(t){this._assignAsyncValidators(t)}},{key:"addValidators",value:function(t){this.setValidators(yw(t,this._rawValidators))}},{key:"addAsyncValidators",value:function(t){this.setAsyncValidators(yw(t,this._rawAsyncValidators))}},{key:"removeValidators",value:function(t){this.setValidators(_w(t,this._rawValidators))}},{key:"removeAsyncValidators",value:function(t){this.setAsyncValidators(_w(t,this._rawAsyncValidators))}},{key:"hasValidator",value:function(t){return Vc(this._rawValidators,t)}},{key:"hasAsyncValidator",value:function(t){return Vc(this._rawAsyncValidators,t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1===this.touched;this.touched=!0;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._parent&&!r.onlySelf&&this._parent.markAsTouched(te(te({},r),{},{sourceControl:a})),i&&!1!==r.emitEvent&&this._events.next(new Lg(!0,a))}},{key:"markAllAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(function(r){return r.markAllAsTouched(t)})}},{key:"markAsUntouched",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!0===this.touched;this.touched=!1,this._pendingTouched=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._forEachChild(function(o){o.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:a})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,a),i&&!1!==r.emitEvent&&this._events.next(new Lg(!1,a))}},{key:"markAsDirty",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!0===this.pristine;this.pristine=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._parent&&!r.onlySelf&&this._parent.markAsDirty(te(te({},r),{},{sourceControl:a})),i&&!1!==r.emitEvent&&this._events.next(new Rg(!1,a))}},{key:"markAsPristine",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._forEachChild(function(o){o.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,a),i&&!1!==r.emitEvent&&this._events.next(new Rg(!0,a))}},{key:"markAsPending",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=vo;var i=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new Uc(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending(te(te({},r),{},{sourceControl:i}))}},{key:"disable",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._parentMarkedDirty(r.onlySelf);this.status=eu,this.errors=null,this._forEachChild(function(o){o.disable(te(te({},r),{},{onlySelf:!0}))}),this._updateValue();var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new Dw(this.value,a)),this._events.next(new Uc(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(te({},r),{},{skipPristineCheck:i}),this),this._onDisabledChange.forEach(function(o){return o(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this._parentMarkedDirty(t.onlySelf);this.status=Js,this._forEachChild(function(i){i.enable(te(te({},t),{},{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(te(te({},t),{},{skipPristineCheck:r}),this),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}},{key:"setParent",value:function(t){this._parent=t}},{key:"getRawValue",value:function(){return this.value}},{key:"updateValueAndValidity",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._setInitialStatus(),this._updateValue(),this.enabled){var i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Js||this.status===vo)&&this._runAsyncValidator(i,r.emitEvent)}var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new Dw(this.value,a)),this._events.next(new Uc(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(te(te({},r),{},{sourceControl:a}))}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(r){return r._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?eu:Js}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t,r){var i=this;if(this.asyncValidator){this.status=vo,this._hasOwnPendingAsyncValidator={emitEvent:!1!==r};var a=dw(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(function(o){i._hasOwnPendingAsyncValidator=null,i.setErrors(o,{emitEvent:r,shouldHaveEmitted:t})})}}},{key:"_cancelExistingSubscription",value:function(){if(this._asyncValidationSubscription){var t,r;this._asyncValidationSubscription.unsubscribe();var i=null!==(t=null===(r=this._hasOwnPendingAsyncValidator)||void 0===r?void 0:r.emitEvent)&&void 0!==t&&t;return this._hasOwnPendingAsyncValidator=null,i}return!1}},{key:"setErrors",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==r.emitEvent,this,r.shouldHaveEmitted)}},{key:"get",value:function(t){var r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce(function(i,a){return i&&i._find(a)},this)}},{key:"getError",value:function(t,r){var i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}},{key:"hasError",value:function(t,r){return!!this.getError(t,r)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t,r,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Uc(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,i)}},{key:"_initObservables",value:function(){this.valueChanges=new fn,this.statusChanges=new fn}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?eu:this.errors?Hc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vo)?vo:this._anyControlsHaveStatus(Hc)?Hc:Js}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(r){return r.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(t,r){var i=!this._anyControlsDirty(),a=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),a&&this._events.next(new Rg(this.pristine,r))}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.touched=this._anyControlsTouched(),this._events.next(new Lg(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){zc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}},{key:"_find",value:function(t){return null}},{key:"_assignValidators",value:function(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function tU(e){return Array.isArray(e)?Og(e):e||null}(this._rawValidators)}},{key:"_assignAsyncValidators",value:function(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function rU(e){return Array.isArray(e)?Ag(e):e||null}(this._rawAsyncValidators)}}])}(),go=new W("CallSetDisabledState",{providedIn:"root",factory:function(){return jc}}),jc="always";function nu(e,n){var r,i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jc;(function Bg(e,n){var t=function pw(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(gw(t,n.validator)):"function"==typeof t&&e.setValidators([t]);var r=function mw(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(gw(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};qc(n._rawValidators,i),qc(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&(null===(r=(i=n.valueAccessor).setDisabledState)||void 0===r||r.call(i,e.disabled)),function uU(e,n){n.valueAccessor.registerOnChange(function(t){e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Sw(e,n)})}(e,n),function cU(e,n){var t=function(i,a){n.valueAccessor.writeValue(i),a&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(function(){e._unregisterOnChange(t)})}(e,n),function lU(e,n){n.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Sw(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function sU(e,n){if(n.valueAccessor.setDisabledState){var t=function(i){n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(function(){e._unregisterOnDisabledChange(t)})}}(e,n)}function qc(e,n){e.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Sw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Pw(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}function Ow(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}var Aw=function(e){function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return y(this,n),(t=w(this,n,[Mw(i),ww(a,i)])).defaultValue=null,t._onChange=[],t._pendingChange=!1,t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!t.asyncValidator}),zc(i)&&(i.nonNullable||i.initialValueIsDefault)&&(t.defaultValue=Ow(r)?r.value:r),t}return k(n,e),m(n,[{key:"setValue",value:function(r){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=r,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(function(o){return o(i.value,!1!==a.emitViewToModelChange)}),this.updateValueAndValidity(a)}},{key:"patchValue",value:function(r){this.setValue(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"reset",value:function(){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultValue),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(r){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(r){this._onChange.push(r)}},{key:"_unregisterOnChange",value:function(r){Pw(this._onChange,r)}},{key:"registerOnDisabledChange",value:function(r){this._onDisabledChange.push(r)}},{key:"_unregisterOnDisabledChange",value:function(r){Pw(this._onDisabledChange,r)}},{key:"_forEachChild",value:function(r){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(r){Ow(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}])}(kw),yU={provide:di,useExisting:Ve(function(){return mn})},Fw=function(){return Promise.resolve()}(),mn=function(){var e,n=function(t){function r(i,a,o,s,u,l){var c;return y(this,r),(c=w(this,r))._changeDetectorRef=u,c.callSetDisabledState=l,c.control=new Aw,c._registered=!1,c.name="",c.update=new fn,c._parent=i,c._setValidators(a),c._setAsyncValidators(o),c.valueAccessor=function zg(e,n){if(!n)return null;Array.isArray(n);var t=void 0,r=void 0,i=void 0;return n.forEach(function(a){a.constructor===pn?t=a:function vU(e){return Object.getPrototypeOf(e.constructor)===$i}(a)?r=a:i=a}),i||r||t||null}(0,s),c}return k(r,t),m(r,[{key:"ngOnChanges",value:function(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){var o=a.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),function Ug(e,n){if(!e.hasOwnProperty("model"))return!1;var t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._getPath(this.name)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){nu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;Fw.then(function(){var s;o.control.setValue(a,{emitViewToModelChange:!1}),null===(s=o._changeDetectorRef)||void 0===s||s.markForCheck()})}},{key:"_updateDisabled",value:function(a){var o=this,s=a.isDisabled.currentValue,u=0!==s&&function Jh(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(s);Fw.then(function(){var l;u&&!o.control.disabled?o.control.disable():!u&&o.control.disabled&&o.control.enable(),null===(l=o._changeDetectorRef)||void 0===l||l.markForCheck()})}},{key:"_getPath",value:function(a){return this._parent?function Gc(e,n){return[].concat(V(n.path),[e])}(a,this._parent):[a]}}])}(di);return(e=n).\u0275fac=function(r){return new(r||e)(A(nt,9),A(qn,10),A(ci,10),A(Cr,10),A(dc,8),A(go,8))},e.\u0275dir=ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ke([yU]),fe,Tr]}),n}(),CU={provide:Cr,useExisting:Ve(function(){return wt}),multi:!0},wt=function(){var e,n=function(t){function r(){return y(this,r),w(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",a??"")}},{key:"registerOnChange",value:function(a){this.onChange=function(o){a(""==o?null:parseFloat(o))}}}])}($i);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Nn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&oe("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ke([CU]),fe]}),n}(),DU={provide:Cr,useExisting:Ve(function(){return fi}),multi:!0},fi=function(){var e,n=function(t){function r(){return y(this,r),w(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",parseFloat(a))}},{key:"registerOnChange",value:function(a){this.onChange=function(o){a(""==o?null:parseFloat(o))}}}])}($i);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Nn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){1&r&&oe("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ke([DU]),fe]}),n}();function Gw(e){return"number"==typeof e?e:parseFloat(e)}var Ki=function(){var e,n=function(){return m(function t(){y(this,t),this._validator=Pg},[{key:"ngOnChanges",value:function(i){if(this.inputName in i){var a=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):Pg,this._onChange&&this._onChange()}}},{key:"validate",value:function(i){return this._validator(i)}},{key:"registerOnValidatorChange",value:function(i){this._onChange=i}},{key:"enabled",value:function(i){return null!=i}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275dir=ue({type:e,features:[Tr]}),n}(),FU={provide:qn,useExisting:Ve(function(){return $g}),multi:!0},$g=function(){var e,n=function(t){function r(){var i;return y(this,r),(i=w(this,r,arguments)).inputName="max",i.normalizeInput=function(a){return Gw(a)},i.createValidator=function(a){return function V5(e){return function(n){if(li(n.value)||li(e))return null;var t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(a)},i}return k(r,t),m(r)}(Ki);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Nn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Rr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Ke([FU]),fe]}),n}(),RU={provide:qn,useExisting:Ve(function(){return Yc}),multi:!0},Yc=function(){var e,n=function(t){function r(){var i;return y(this,r),(i=w(this,r,arguments)).inputName="min",i.normalizeInput=function(a){return Gw(a)},i.createValidator=function(a){return function L5(e){return function(n){if(li(n.value)||li(e))return null;var t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(a)},i}return k(r,t),m(r)}(Ki);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=Nn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Rr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Ke([RU]),fe]}),n}(),jU=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({}),n}(),WU=function(){var e,n=function(){function t(){y(this,t)}return m(t,null,[{key:"withConfig",value:function(i){var a;return{ngModule:t,providers:[{provide:go,useValue:null!==(a=i.callSetDisabledState)&&void 0!==a?a:jc}]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({imports:[jU]}),n}(),qU=function(n){return{background:n}},ZU=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"ref",void 0),h(this,"r",0),h(this,"g",0),h(this,"b",0),h(this,"_data",void 0),this.ref=r},[{key:"data",get:function(){return this._data},set:function(i){var a;this._data=i;var o=null===(a=this.data)||void 0===a?void 0:a.getter();o&&(this.r=o.r,this.g=o.g,this.b=o.b),this.ref.detectChanges()}},{key:"colorStr",get:function(){return this.data?et(this.data.getter()):""}},{key:"input",value:function(){var i,a;null===(i=this.data)||void 0===i||i.setter({r:this.r<0?0:this.r>255?255:this.r,g:this.g<0?0:this.g>255?255:this.g,b:this.b<0?0:this.b>255?255:this.b,a:null===(a=this.data)||void 0===a?void 0:a.getter().a})}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(dc))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-color-picker"]],decls:5,vars:6,consts:[[1,"wrapper"],[1,"preview",3,"ngStyle"],["type","number","title","Rot","min","0","max","255",1,"inp","r",3,"ngModelChange","input","ngModel"],["type","number","title","Gr\xfcn","min","0","max","255",1,"inp","g",3,"ngModelChange","input","ngModel"],["type","number","title","Blau","min","0","max","255",1,"inp","b",3,"ngModelChange","input","ngModel"]],template:function(r,i){1&r&&(E(0,"div",0),Ne(1,"div",1),E(2,"input",2),G("ngModelChange",function(o){return U(i.r,o)||(i.r=o),o}),oe("input",function(){return i.input()}),D(),E(3,"input",3),G("ngModelChange",function(o){return U(i.g,o)||(i.g=o),o}),oe("input",function(){return i.input()}),D(),E(4,"input",4),G("ngModelChange",function(o){return U(i.b,o)||(i.b=o),o}),oe("input",function(){return i.input()}),D()()),2&r&&(O(),X("ngStyle",wn(4,qU,i.colorStr)),O(),j("ngModel",i.r),O(),j("ngModel",i.g),O(),j("ngModel",i.b))},dependencies:[lo,pn,wt,Sn,Yc,$g,mn],styles:['.wrapper[_ngcontent-%COMP%]{--width: 100px;width:var(--width)}.preview[_ngcontent-%COMP%]{--size: 40px;width:var(--width);height:var(--size);border-radius:5px}.inp[_ngcontent-%COMP%]{--padding: 5px;--border: 1px;width:calc(var(--width) - 2 * (var(--padding) + var(--border)));padding:var(--padding);margin-top:7px;border-radius:5px;border:var(--border) solid #ddd;transition:all .1s ease-in-out;outline:none;font-size:10pt;font-family:Segoe UI,Calibri,"sans-serif"}.inp[_ngcontent-%COMP%]:hover{border:var(--border) solid #999}.inp[_ngcontent-%COMP%]:active, .inp[_ngcontent-%COMP%]:focus{border:var(--border) solid #555}']})),n}(),YU=["content"],$U=["wrapper"],KU=function(n,t){return{"top.px":n,"left.px":t}},QU=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"content",void 0),h(this,"wrapper",void 0),h(this,"component",void 0),h(this,"position",{x:0,y:0}),h(this,"data",void 0)},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.content.createComponent(this.component).instance.data=this.data}},{key:"getBoundingClientRect",value:function(){return this.wrapper.nativeElement.getBoundingClientRect()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-hover-menu"]],viewQuery:function(r,i){var a;1&r&&(bt(YU,5,Fn),bt($U,5)),2&r&&(Et(a=Dt())&&(i.content=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:4,vars:4,consts:[["wrapper",""],["content",""],[1,"wrapper",3,"ngStyle"]],template:function(r,i){1&r&&(E(0,"div",2,0),Ne(2,"div",null,1),D()),2&r&&X("ngStyle",Sh(1,KU,i.position.y,i.position.x))},dependencies:[lo],styles:["@keyframes _ngcontent-%COMP%_start{0%{transform:scale(0)}to{transform:scale(1)}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;animation:.1s start ease-in-out;z-index:1}"]})),n}(),XU=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"vc",void 0),h(this,"hoverMenu",void 0),h(this,"appHoverMenu",void 0),h(this,"element",void 0),h(this,"hoverTimeMs",750),h(this,"version",0),h(this,"eventListenerStart",function(){if(!i.hoverMenu){var a=++i.version;setTimeout(function(){i.version===a&&i.openHoverMenu()},i.hoverTimeMs)}}),h(this,"eventListenerEnd",function(a){if(i.hoverMenu&&a instanceof MouseEvent){var o={x:a.clientX,y:a.clientY};(!Ks(o,i.element.getBoundingClientRect())||a.target==i.element)&&(!Ks(o,i.hoverMenu.instance.getBoundingClientRect())||a.target==i.hoverMenu.location.nativeElement)&&(i.hoverMenu.destroy(),i.hoverMenu=void 0)}i.version=0}),this.vc=r,this.element=r.element.nativeElement,this.element.addEventListener("mouseover",this.eventListenerStart),this.element.addEventListener("mousemove",this.eventListenerStart),this.element.addEventListener("mouseleave",this.eventListenerEnd),this.element.addEventListener("click",function(){i.version=0})},[{key:"openHoverMenu",value:function(){if(!this.hoverMenu){this.hoverMenu=this.vc.createComponent(QU),this.hoverMenu.instance.component=this.appHoverMenu.component,this.hoverMenu.instance.data=this.appHoverMenu.data;var i=this.element.getBoundingClientRect();this.hoverMenu.instance.position={x:i.x+i.width/2,y:i.y+i.height/2},this.hoverMenu.location.nativeElement.addEventListener("mouseleave",this.eventListenerEnd)}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(Fn))}),h(n,"\u0275dir",ue({type:e,selectors:[["","appHoverMenu",""]],inputs:{appHoverMenu:"appHoverMenu"}})),n}(),JU=function(n,t){return{"border-color":n,background:t}},e3=function(n){return{notVisible:n}},Qi=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"color",jn),h(this,"colorChange",new fn),h(this,"visible",!0),h(this,"visibleChange",new fn)},[{key:"ngOnInit",value:function(){}},{key:"changeVisibility",value:function(){this.visible=!this.visible,this.visibleChange.emit(this.visible)}},{key:"colorStr",get:function(){return et(this.color)}},{key:"hoverMenu",get:function(){var i=this;return{component:ZU,data:{getter:function(){return i.color},setter:function(o){i.color=o,i.colorChange.emit(o)}}}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-color-circle"]],inputs:{color:"color",visible:"visible"},outputs:{colorChange:"colorChange",visibleChange:"visibleChange"},decls:1,vars:8,consts:[[1,"colorPicker",3,"click","appHoverMenu","ngStyle","ngClass"]],template:function(r,i){1&r&&(E(0,"div",0),oe("click",function(){return i.changeVisibility()}),D()),2&r&&X("appHoverMenu",i.hoverMenu)("ngStyle",Sh(3,JU,i.colorStr,i.colorStr))("ngClass",wn(6,e3,!i.visible))},dependencies:[Kt,lo,XU],styles:[".colorPicker[_ngcontent-%COMP%]{--buttonSize: 46px;--borderThickness: 2px;float:left;width:calc(var(--buttonSize) - 2 * var(--borderThickness));height:calc(var(--buttonSize) - 2 * var(--borderThickness));border:var(--borderThickness) solid;border-radius:100%}.colorPicker.notVisible[_ngcontent-%COMP%]{background:transparent!important}"]})),n}(),n3=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"canvasElement",void 0),i.canvasElement=new ge({x:0,y:0}),i}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-point-formula"]],features:[fe],decls:15,vars:7,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return U(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return U(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"div")(3,"p",2),Ne(4,"span"),S(5),E(6,"span")(7,"input",3),G("ngModelChange",function(o){return U(i.canvasElement.x,o)||(i.canvasElement.x=o),o}),D()(),S(8," | "),E(9,"span")(10,"input",3),G("ngModelChange",function(o){return U(i.canvasElement.y,o)||(i.canvasElement.y=o),o}),D()(),S(11," ) "),D()(),E(12,"button",4),oe("click",function(o){return i.threePointsClicked(o)}),E(13,"span",5),S(14,"more_vert"),D()()()),2&r&&(O(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(4),pr(" ",i.name,"( "),O(2),X("disabled",i.canvasElement.dependent),j("ngModel",i.canvasElement.x),O(3),X("disabled",i.canvasElement.dependent),j("ngModel",i.canvasElement.y))},dependencies:[pn,wt,Sn,mn,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}']})),n}(),Qg=function(e){function n(t){var r,i;return y(this,n),h(i=w(this,n),"removeListener",function(a){void 0!==a&&a.removeCanvasElements(i)}),h(i,"resetTempListener",void 0),(r=i).addDependency.apply(r,V(t)),i.onAdd.addListener(function(a){void 0!==a&&void 0!==i.resetTempListener&&a.onBeforeElementsDraw.addListener(i.resetTempListener)}),i.onRemove.addListener(function(a){void 0!==a&&void 0!==i.resetTempListener&&a.onBeforeElementsDraw.removeListener(i.resetTempListener)}),i}return k(n,e),m(n,[{key:"addDependency",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];for(var o=0,s=i;o<s.length;o++)s[o].onRemove.addListener(this.removeListener)}}])}(qi),po=m(function e(){y(this,e),h(this,"dialog",void 0)}),t3=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(po);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-point-element"]],features:[fe],decls:28,vars:8,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths"],["title","Name","type","text",1,"input",3,"ngModelChange","ngModel"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),S(2,"Punkt bearbeiten"),D(),E(3,"p",2),Ne(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return U(i.name,o)||(i.name=o),o}),D(),S(6," ( "),E(7,"span")(8,"input",4),G("ngModelChange",function(o){return U(i.dialogData.x,o)||(i.dialogData.x=o),o}),D()(),S(9," | "),E(10,"span")(11,"input",4),G("ngModelChange",function(o){return U(i.dialogData.y,o)||(i.dialogData.y=o),o}),D()(),S(12," ) "),D(),E(13,"div",5)(14,"input",6),G("ngModelChange",function(o){return U(i.latex,o)||(i.latex=o),o}),D(),E(15,"label",7),S(16,"Label als LaTeX rendern"),D()(),E(17,"div",8)(18,"input",9),G("ngModelChange",function(o){return U(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(19,"label",10),S(20,"Label schwarz anzeigen"),D()(),E(21,"div",11)(22,"label",12),S(23,"Labelgr\xf6\xdfe:"),D(),Ne(24,"br"),E(25,"input",13),G("ngModelChange",function(o){return U(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(26,"button",14),oe("click",function(){return i.dialog.close()}),S(27,"Schlie\xdfen"),D()()),2&r&&(O(5),j("ngModel",i.name),O(3),X("disabled",i.dialogData.dependent),j("ngModel",i.dialogData.x),O(3),X("disabled",i.dialogData.dependent),j("ngModel",i.dialogData.y),O(3),j("ngModel",i.latex),O(4),j("ngModel",i.displayBlack),O(7),j("ngModel",i.labelSize))},dependencies:[pn,wt,fi,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),ge=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=w(this,n,[o]),"dependent",void 0),h(r,"componentType",n3),h(r,"formulaDialogType",t3),h(r,"_stroke",{r:100,g:100,b:100}),h(r,"_strokeWidth",3),h(r,"_radius",5),h(r,"_x",void 0),h(r,"_y",void 0),h(r,"selected",!1),r.dependent=a,r._x=t?.x,r._y=t?.y,r._color=i,r._visible=s,r.configuration.showLabel=u,r}return k(n,e),m(n,[{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(r)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(r)}},{key:"radius",get:function(){return this._radius},set:function(r){this._radius=r,this.onChange.emit(r)}},{key:"x",get:function(){return this._x},set:function(r){this.dependent||(this._x=r,this.onChange.emit(r))}},{key:"y",get:function(){return this._y},set:function(r){this.dependent||(this._y=r,this.onChange.emit(r))}},{key:"point",get:function(){if(void 0!==this.x&&void 0!==this.y)return{x:this.x,y:this.y}},set:function(r){this.dependent||this.forceSetPoint(r)}},{key:"forceSetPoint",value:function(r){this._x=r?.x,this._y=r?.y,this.onChange.emit(r)}},{key:"draw",value:function(r){var a=this.point;void 0!==a&&Ks(a,r.range,1.75*this.radius/r.zoom)&&((this.selected||-1!==r.selection.indexOf(this))&&r.drawCircle(a,1.75*this.radius/r.zoom,Xt(this.color,.3)),r.drawCircle(a,this.radius/r.zoom,this.color,this.stroke,this.strokeWidth))}},{key:"getDistance",value:function(r,i){var a=this.point;if(void 0!==a)return Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2))-this.radius/i.zoom}},{key:"getPositionForLabel",value:function(r){var a=this.x,o=this.y;if(void 0!==a&&void 0!==o)return{x:a+15/r.zoom,y:o+15/r.zoom}}},{key:"serialize",value:function(){return{data:{x:this.x,y:this.y,dependent:this.dependent},style:{color:this.color,stroke:this.stroke,size:this.radius,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data;this.forceSetPoint(void 0===o.x||void 0===o.y?void 0:{x:o.x,y:o.y}),this.dependent=o.dependent,this.loadStyle(i.style)}},{key:"loadStyle",value:function(r){var i,a,o;this.color=r.color,this.visible=r.visible,this.radius=null!==(i=r.size)&&void 0!==i?i:this.radius,this.stroke=null!==(a=r.stroke)&&void 0!==a?a:this.stroke,this.strokeWidth=null!==(o=r.strokeWidth)&&void 0!==o?o:this.strokeWidth}}],[{key:"getDefaultInstance",value:function(){return new n(void 0)}}])}(Qg),r3=["componentNeighbor"],i3=["filler"],a3=function(n){return{display:n}},o3=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"componentNeighbor",void 0),h(this,"filler",void 0),h(this,"componentType",void 0),h(this,"component",void 0),h(this,"opened",!1),h(this,"dialog",void 0)},[{key:"open",value:function(i,a){var o=this;this.dialog=a,setTimeout(function(){o.componentType&&o.componentNeighbor&&(o.component=o.componentNeighbor.createComponent(o.componentType),o.component.instance.dialogData=i,o.component.instance.dialog=a,o.opened=!0)})}},{key:"close",value:function(){if(this.component){var i,a=this.component.instance.dialogData;return null===(i=this.dialog)||void 0===i||i.destroy(),this.opened=!1,a}return null}},{key:"onFillerClicked",value:function(i){this.filler&&this.filler.nativeElement===i.target&&this.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-dialog"]],viewQuery:function(r,i){var a;1&r&&(bt(r3,5,Fn),bt(i3,5)),2&r&&(Et(a=Dt())&&(i.componentNeighbor=a.first),Et(a=Dt())&&(i.filler=a.first))},decls:5,vars:3,consts:[["filler",""],["componentNeighbor",""],[1,"filler",3,"click","ngStyle"],[1,"wrapper"],[1,"componentNeighbor"]],template:function(r,i){if(1&r){var a=Lr();E(0,"div",2,0),oe("click",function(s){return Ye(a),$e(i.onFillerClicked(s))}),E(2,"div",3),Ne(3,"div",4,1),D()()}2&r&&X("ngStyle",wn(1,a3,i.opened?"flex":"none"))},dependencies:[lo],styles:["@keyframes _ngcontent-%COMP%_animateFillerDialog{0%{background-color:#0000}to{background-color:#0007}}@keyframes _ngcontent-%COMP%_animateWrapperDialog{0%{transform:scale(0)}to{transform:scale(1)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;background-color:#0007;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_animateFillerDialog .1s ease-in-out;overflow:auto}.wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperDialog .1s ease-in-out}.componentNeighbor[_ngcontent-%COMP%]{display:none}"]})),n}(),s3=function(){return m(function e(n,t){y(this,e),h(this,"dialogComponentRef",void 0),h(this,"componentType",void 0),h(this,"dialogComponent",void 0),this.dialogComponentRef=n,this.componentType=t,this.dialogComponent=this.dialogComponentRef.instance,this.dialogComponent.componentType=t},[{key:"open",value:function(t){this.dialogComponent.open(t,this)}},{key:"close",value:function(){return this.dialogComponent.close()}},{key:"destroy",value:function(){this.dialogComponentRef.destroy()}}])}(),ru=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"rootViewContainerRef",void 0)},[{key:"createDialog",value:function(i){if(!this.rootViewContainerRef)return null;var a=this.rootViewContainerRef.createComponent(o3);return new s3(a,i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",he({token:e,factory:e.\u0275fac,providedIn:"root"})),n}();function u3(e,n){if(1&e&&(E(0,"span"),S(1," von "),E(2,"span",7),S(3),D()()),2&e){var t=en();O(3),nn(t.canvasElement.description[1]())}}var l3=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=w(this,r),"dialogService",void 0),h(a,"canvasElement",void 0),a.dialogService=i,a}return k(r,t),m(r,[{key:"elementCountStr",get:function(){var a=this.canvasElement.size;return 0===a?"Keine Elemente":1===a?"Ein Element":"".concat(a," Elemente")}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(ru))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-dependency-point-element-formula"]],features:[fe],decls:10,vars:5,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[4,"ngIf"],[1,"elementCount"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"maths"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return U(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return U(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"p",2),S(3),Rn(4,u3,4,1,"span",3),E(5,"span",4),S(6),D()(),E(7,"button",5),oe("click",function(o){return i.threePointsClicked(o)}),E(8,"span",6),S(9,"more_vert"),D()()()),2&r&&(O(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(2),pr(" ",i.canvasElement.description[0],""),O(),X("ngIf",void 0!==i.canvasElement.description[1]()),O(2),nn(i.elementCountStr))},dependencies:[uo,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.elementCount[_ngcontent-%COMP%]{font-size:10pt;color:gray;margin-left:7px}']})),n}(),Tn=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"str",void 0),i.str=r,i.operation=t,i}return k(n,e),m(n,[{key:"operation",get:function(){return this.childOperations.getItem(0)},set:function(r){this.childOperations.setItem(0,r)}},{key:"simplify",value:function(){return this.operation=this.operation.simplify(),this}},{key:"toString",value:function(){return"".concat(this.str,"(").concat(this.operation.toString(),")")}}])}(Gn),vi=function(e){function n(){var t,r;y(this,n),h(r=w(this,n),"_summands",void 0);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r._summands=a,(t=r.childOperations).push.apply(t,a),r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var o,i=0,a=x(this._summands);try{for(a.s();!(o=a.n()).done;)i+=o.value.evaluate(r)}catch(u){a.e(u)}finally{a.f()}return i}},{key:"derive",value:function(r){return Je(n,V(this._summands.map(function(i){return i.derive(r)})))}},{key:"summands",get:function(){return this._summands.slice()}},{key:"toString",value:function(){if(0==this._summands.length)return"0";for(var r="(".concat(this._summands[0].toString()),i=1;i<this._summands.length;i++)r+=" + ".concat(this._summands[i].toString());return r+")"}},{key:"simplify",value:function(){var r=0,i=this._summands.map(function(l){return l.simplify()}).filter(function(l){return!(l instanceof Ce&&(r+=l.constant,1))});if(0!=r&&(i=[new Ce(r)].concat(V(i))),0==i.length)return new Ce(0);if(1==i.length)return i[0];var s,a=[],o=x(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;u instanceof n?a.push.apply(a,V(u._summands)):a.push(u)}}catch(l){o.e(l)}finally{o.f()}return a.length!=i.length?Je(n,a).simplify():Je(n,V(i))}}])}(Gn),mo=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"minuend",void 0),h(i,"subtrahend",void 0),i.minuend=t,i.subtrahend=r,i.childOperations.push(i.minuend,i.subtrahend),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.minuend.evaluate(r)-this.subtrahend.evaluate(r)}},{key:"derive",value:function(r){return new n(this.minuend.derive(r),this.subtrahend.derive(r))}},{key:"toString",value:function(){return"(".concat(this.minuend.toString()," - ").concat(this.subtrahend.toString(),")")}},{key:"simplify",value:function(){var r=this.minuend.simplify(),i=this.subtrahend.simplify();if(i instanceof Ce){if(0==i.constant)return r;if(r instanceof Ce)return new Ce(r.constant-i.constant).simplify()}return r instanceof Ce&&0==r.constant?new Xe(new Ce(-1),i).simplify():r instanceof vi?Je(vi,V(r.summands).concat([new Xe(new Ce(-1),i)])).simplify():i instanceof vi?new vi(r,Je(vi,V(i.summands.map(function(a){return new Xe(new Ce(-1),a)})))).simplify():new n(r,i)}}])}(Gn),Kw=function(e){function n(t){return y(this,n),w(this,n,[t,"ln"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.log(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xi(this.operation.derive(r),this.operation)}},{key:"toString",value:function(){return"ln (".concat(this.operation.toString(),")")}},{key:"simplify",value:function(){var r=this.operation.simplify();if(r instanceof Ce){if(1==r.constant)return new Ce(0);if(r.constant==Math.E)return new Ce(1)}return new n(r)}}])}(Tn),br=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"base",void 0),h(i,"exponent",void 0),i.base=t,i.exponent=r,i.childOperations.push(i.base,i.exponent),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.pow(this.base.evaluate(r),this.exponent.evaluate(r))}},{key:"derive",value:function(r){return new Xe(new n(this.base,this.exponent),new vi(new Xe(this.exponent.derive(r),new Kw(this.base)),new Xe(this.exponent,new Xi(this.base.derive(r),this.base))))}},{key:"toString",value:function(){return"((".concat(this.base.toString(),") ^ (").concat(this.exponent.toString(),"))")}},{key:"simplify",value:function(){var r=this.base.simplify(),i=this.exponent.simplify();if(i instanceof Ce){if(1==i.constant)return r;if(0==i.constant)return new Ce(1)}return r instanceof Ce&&1==r.constant?new Ce(1):r instanceof n?new n(r.base,new Xe(r.exponent,i)).simplify():new n(r,i)}}])}(Gn),Xi=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"dividend",void 0),h(i,"divisor",void 0),i.dividend=t,i.divisor=r,i.childOperations.push(i.dividend,i.divisor),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.dividend.evaluate(r)/this.divisor.evaluate(r)}},{key:"derive",value:function(r){return new n(new mo(new Xe(this.dividend.derive(r),this.divisor),new Xe(this.dividend,this.divisor.derive(r))),new br(this.divisor,new Ce(2)))}},{key:"toString",value:function(){return"(".concat(this.dividend.toString()," / ").concat(this.divisor.toString(),")")}},{key:"simplify",value:function(){var r=this.dividend.simplify(),i=this.divisor.simplify();if(i instanceof Ce&&1==i.constant)return r;if(r instanceof Ce&&0==r.constant)return new Ce(0);if(r instanceof n)return new n(r.dividend,new Xe(r.divisor,i)).simplify();if(i instanceof n)return new n(new Xe(r,i.divisor),i.dividend).simplify();if(i instanceof xt&&r instanceof Xe)for(var a=r.factors,o=0;o<a.length;o++){var s=a[o];if(s instanceof xt&&s.key===i.key)return a.splice(o,1),Je(Xe,V(a)).simplify();if(s instanceof br&&s.base instanceof xt&&s.base.key===i.key)return a.splice(o,1,new br(s.base,new mo(s.exponent,new Ce(1)))),Je(Xe,V(a)).simplify()}if(i instanceof br&&i.base instanceof xt&&r instanceof Xe)for(var u=r.factors,l=0;l<u.length;l++){var c=u[l];if(c instanceof xt&&c.key===i.base.key)return u.splice(l,1,new br(i.base,new mo(new Ce(1),i.exponent))),Je(Xe,V(u)).simplify();if(c instanceof br&&c.base instanceof xt&&c.base.key===i.base.key)return u.splice(l,1,new br(c.base,new mo(c.exponent,i.exponent))),Je(Xe,V(u)).simplify()}return new n(r,i)}}])}(Gn),Xe=function(e){function n(){var t,r;y(this,n),h(r=w(this,n),"_factors",void 0);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r._factors=a,(t=r.childOperations).push.apply(t,a),r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var o,i=1,a=x(this._factors);try{for(a.s();!(o=a.n()).done;)i*=o.value.evaluate(r)}catch(u){a.e(u)}finally{a.f()}return i}},{key:"derive",value:function(r){for(var i=this,a=[],o=function(l){var c=i._factors.map(function(d,f){return f==l?d.derive(r):d});a.push(Je(n,V(c)))},s=0;s<this._factors.length;s++)o(s);return Je(vi,a)}},{key:"factors",get:function(){return this._factors.slice()}},{key:"toString",value:function(){if(0==this._factors.length)return"1";for(var r="(".concat(this._factors[0].toString()),i=1;i<this._factors.length;i++)r+=" * ".concat(this._factors[i].toString());return r+")"}},{key:"simplify",value:function(){var r=1,i=this._factors.map(function(d){return d.simplify()}).filter(function(d){return!(d instanceof Ce&&(r*=d.constant,1))});if(1!==r&&(i=[new Ce(r)].concat(V(i))),UM(i,function(d){return d instanceof Ce&&0==d.constant}))return new Ce(0);if(0===i.length)return new Ce(1);if(1===i.length)return i[0];for(var a=0;a<i.length;a++){var o=i[a];if(o instanceof Xi)return i.splice(a,1,o.dividend),new Xi(Je(n,V(i)),o.divisor).simplify()}var l,s=[],u=x(i);try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof n?s.push.apply(s,V(c._factors)):s.push(c)}}catch(d){u.e(d)}finally{u.f()}return s.length!==i.length?Je(n,s).simplify():Je(n,V(i))}}])}(Gn),Ji=function(e){function n(t,r,i){var a;return y(this,n),h(a=w(this,n,[i,t]),"funcKey",void 0),h(a,"funcProvider",void 0),a.funcKey=t,a.funcProvider=r,a}return k(n,e),m(n,[{key:"derive",value:function(r){return new Xe(this.operation.derive(r),new n(function c3(e){return e+"'"}(this.funcKey),this.funcProvider,this.operation))}},{key:"evaluate",value:function(r){var i=this.func;if(void 0===i)throw"Func doesn't exist!";return i.evaluate(this.operation.evaluate(r),function QH(e){return JSON.parse(JSON.stringify(e))}(r))}},{key:"func",get:function(){return this.funcProvider(this.funcKey)}}])}(Tn),Qw="'";function Xg(e){var n=[],t=[];if(e instanceof xt&&n.push(e.key),e instanceof Ji){var r,i=null===(r=e.func)||void 0===r?void 0:r.name;void 0!==i&&t.push(i)}return e.childOperations.forEach(function(a){var o,s,u=Xg(a);(o=n).push.apply(o,V(u.variableNames)),(s=t).push.apply(s,V(u.externalFuncNames))}),n=zM(n),t=zM(t),{variableNames:n,externalFuncNames:t}}function Xw(e){return $c(e,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}function $c(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof fo)return $c(e.operation,n);if(e instanceof Ji&&(e.funcKey===n.name||t&&Kc(e.funcKey)===Kc(n.name)))return!0;var r=!1;if(e.childOperations.forEach(function(a){r=r||$c(a,n)}),e instanceof Ji){var i=e.func;void 0!==i&&(r=r||$c(i,n))}return r}function Er(e,n){if(void 0===e)return!1;if(e instanceof fo)return Er(e.operation,n);if(e instanceof xt&&e.key===n)return!0;var t=!1;return e.childOperations.forEach(function(r){t=t||Er(r,n)}),e instanceof Ji&&(t=t||Er(e.func,n)),t}function Kc(e){if(e){for(var n=e;n.endsWith(Qw);)n=n.substring(0,n.length-1);return n}}function Qc(e){for(var n=0,t=e;t.endsWith(Qw);)t=t.substring(0,t.length-1),n++;return n}function iu(e,n,t,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=(t+r)/2,l=(r-t)/2;if(i<=0)try{var c=[],d=e.evaluate(t,n),f=e.evaluate(r,n);if(!s&&0===d&&(!a||e.evaluate(t-l,n)*e.evaluate(t+l,n)<0)&&c.push(t),0===f&&(!a||e.evaluate(r-l,n)*e.evaluate(r+l,n)<0)&&c.push(r),d*f<0&&isFinite(d)&&isFinite(f))if(o){var v=function f3(e){try{var n=e.derive();return Xw(n),n}catch{return}}(e);(!v||d*v.evaluate(t,n)<=0&&f*v.evaluate(r,n)>=0)&&c.push(u)}else c.push(u);return c}catch{return[]}return[].concat(V(iu(e,n,t,u,i-1,a,o,s)),V(iu(e,n,u,r,i-1,a,o,!0)))}function ek(e,n,t,r,i){return iu(e.derive(),n,t,r,i,!0)}var au=[10,10],m3=function(){return m(function e(n,t,r,i,a){y(this,e),h(this,"ctx",void 0),h(this,"transformations",void 0),h(this,"_variables",void 0),h(this,"selection",void 0),h(this,"config",void 0),this.ctx=n,this.transformations=t,this._variables=r,this.selection=i,this.config=a},[{key:"transformPointFromCanvasToField",value:function(t){return{x:t.x/this.transformations.zoom-this.transformations.translateX,y:-t.y/this.transformations.zoom-this.transformations.translateY}}},{key:"transformPointFromFieldToCanvas",value:function(t){return{x:(t.x+this.transformations.translateX)*this.transformations.zoom,y:-(t.y+this.transformations.translateY)*this.transformations.zoom}}},{key:"transformRectFromCanvasToField",value:function(t){var r=this.transformPointFromCanvasToField(t);return{x:r.x,y:r.y,width:t.width/this.transformations.zoom,height:-t.height/this.transformations.zoom}}},{key:"transformRectFromFieldToCanvas",value:function(t){var r=this.transformPointFromFieldToCanvas(t);return{x:r.x,y:r.y,width:t.width*this.transformations.zoom,height:-t.height*this.transformations.zoom}}},{key:"zoom",get:function(){return this.transformations.zoom}},{key:"step",get:function(){return 1/this.transformations.zoom}},{key:"range",get:function(){return this.transformRectFromCanvasToField({x:0,y:0,width:this.ctx.canvas.width,height:this.ctx.canvas.height})}},{key:"variables",get:function(){return te({},this._variables)}},{key:"getRightColor",value:function(t){var r;return void 0===(null===(r=this.config)||void 0===r?void 0:r.transformColor)?t:this.config.transformColor(t)}},{key:"drawPath",value:function(t,r,i,a,o){var s=this,u=t.map(function(f){return s.transformPointFromFieldToCanvas(f)});if(this.ctx.beginPath(),this.ctx.lineWidth=r,this.ctx.strokeStyle=et(this.getRightColor(i)),this.ctx.setLineDash(o?au:[]),0!=u.length){var l=u[0];this.ctx.moveTo(l.x,l.y);for(var c=1;c<u.length;c++){var d=u[c];this.ctx.lineTo(d.x,d.y)}this.ctx.stroke(),a&&(this.ctx.fillStyle=et(this.getRightColor(a)),this.ctx.fill()),this.ctx.closePath()}}},{key:"drawLine",value:function(t,r,i,a,o){this.drawPath([t,r],i,a,void 0,o)}},{key:"drawText",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sans-serif",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"start",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"alphabetic",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"inherit",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{r:0,g:0,b:0},c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:yr,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3,f=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,g=this.transformPointFromFieldToCanvas(r),p=this.ctx;this.ctx.setLineDash(f?au:[]);for(var C=[],b="",_=0;_<t.length;_++)"_"===t.charAt(_)&&_+1<t.length&&!v?(C.push(b),b="",C.push(t.charAt(_+1)),_++):b+=t.charAt(_);""!==b&&C.push(b),p.textAlign=o,p.textBaseline=s,p.direction=u,p.fillStyle=et(this.getRightColor(l)),p.strokeStyle=et(this.getRightColor(c)),p.lineWidth=d;for(var I=g.x,P=0;P<C.length;P++){var B=C[P],F=g.y;P%2==0?p.font="".concat(i,"px ").concat(a):(p.font="".concat(3*i/4,"px ").concat(a),F+=i/3),p.strokeText(B,I,F),p.fillText(B,I,F),I+=p.measureText(B).width+1}}},{key:"measureText",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sans-serif",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"start",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"alphabetic",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"inherit",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,l=this.ctx;return l.font="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,"px ").concat(i),l.textAlign=a,l.textBaseline=o,l.direction=s,l.lineWidth=u,l.measureText(t)}},{key:"drawEllipse",value:function(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jn,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yr,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.ctx.setLineDash((arguments.length>7?arguments[7]:void 0)?au:[]),this.ctx.lineWidth=u,this.ctx.strokeStyle=et(this.getRightColor(s)),this.ctx.fillStyle=et(this.getRightColor(o));var c=this.transformPointFromFieldToCanvas(t),d=r*this.zoom,f=i*this.zoom;this.ctx.beginPath(),this.ctx.ellipse(c.x,c.y,d,f,a,0,2*Math.PI),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}},{key:"drawCircle",value:function(t,r){this.drawEllipse(t,r,r,0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn,arguments.length>3&&void 0!==arguments[3]?arguments[3]:yr,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5?arguments[5]:void 0)}},{key:"drawCircleSector",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yr,s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;this.ctx.lineWidth=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,this.ctx.strokeStyle=et(this.getRightColor(a)),this.ctx.fillStyle=et(this.getRightColor(i));var c=this.transformPointFromFieldToCanvas(t),d=r*this.zoom;this.ctx.setLineDash(l?au:[]),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(c.x,c.y),this.ctx.arc(c.x,c.y,d,s,u),this.ctx.lineTo(c.x,c.y),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}},{key:"drawRect",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.ctx.setLineDash((arguments.length>4?arguments[4]:void 0)?au:[]),this.ctx.lineWidth=a,this.ctx.strokeStyle=et(this.getRightColor(i)),this.ctx.fillStyle=et(this.getRightColor(r));var s=this.transformRectFromFieldToCanvas(t);this.ctx.fillRect(s.x,s.y,s.width,s.height)}},{key:"drawImage",value:function(t,r,i,a){var o=this.transformPointFromFieldToCanvas(r);this.ctx.drawImage(t,o.x,o.y,i,a)}}])}(),y3=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"draw",value:function(r){var i;if(void 0===(null===(i=r.config)||void 0===i?void 0:i.showGrid)||r.config.showGrid){var a,o,s,u,l=Jt(r.range),c=99/r.zoom,f=Math.round(Math.log(c)/Math.log(2)+.5),v=Math.round(c/Math.pow(2,f)+.5)*Math.pow(2,f);if(0==v)return;for(var g=null===(a=null===(o=r.config)||void 0===o?void 0:o.showNumbers)||void 0===a||a,p=15/r.zoom,C=HM(l.y+p,-p,l.y+l.height-p),b=C==l.y+p,_=HM(l.x+p,-p,l.x+l.width-p),M=_==l.x+p,P="sans-serif",B=null!==(s=null===(u=r.config)||void 0===u?void 0:u.gridColor)&&void 0!==s?s:{r:100,g:100,b:100},F=l.x-l.x%(v/2);F<l.x+l.width;F+=v/2){var Z=F%v==0;if(r.drawLine({x:F,y:l.y},{x:F,y:l.y+l.height},0===F?3:Z?1:.5,B),0===F){var Q=15/r.zoom,ve=.5/r.zoom;r.drawPath([{x:F+ve,y:l.y+l.height+3/r.zoom},{x:F-Q/4+ve,y:l.y+l.height-Q},{x:F+Q/4+ve,y:l.y+l.height-Q}],0,B,B)}else Z&&g&&r.drawText(F.toLocaleString(),{x:F,y:C},15,P,"center",b?"bottom":"top")}for(var de=l.y-l.y%(v/2);de<l.y+l.height;de+=v/2){var be=de%v==0;if(r.drawLine({x:l.x,y:de},{x:l.x+l.width,y:de},0===de?3:be?1:.5,B),0===de){var je=15/r.zoom,tn=.5/r.zoom;r.drawPath([{x:l.x+l.width+3/r.zoom,y:de+tn},{x:l.x+l.width-je,y:de-je/4+tn},{x:l.x+l.width-je,y:de+je/4+tn}],0,B,B)}else be&&g&&r.drawText(de.toLocaleString(),{x:_,y:de},15,P,M?"left":"right","middle")}l.y<=-p&&l.y+l.height>=-p&&l.x<=-p&&l.x+l.width>=-p&&g&&r.drawText("0",{x:-p,y:-p},15,P,"right","top")}}}])}(NM),_3=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"value",void 0),h(i,"modulo",void 0),i.value=t,i.modulo=r,i.childOperations.push(i.value,i.modulo),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.value.evaluate(r)%this.modulo.evaluate(r)}},{key:"derive",value:function(){throw"not implemented yet"}},{key:"toString",value:function(){return"(".concat(this.value.toString()," % ").concat(this.modulo.toString(),")")}},{key:"simplify",value:function(){return new n(this.value.simplify(),this.modulo.simplify())}}])}(Gn),Jg=function(e){function n(t){return y(this,n),w(this,n,[t,"cos"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.cos(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xe(new Ce(-1),this.operation.derive(r),new nk(this.operation))}},{key:"toString",value:function(){return"cos(".concat(this.operation.toString(),")")}}])}(Tn),nk=function(e){function n(t){return y(this,n),w(this,n,[t,"sin"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.sin(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xe(this.operation.derive(r),new Jg(this.operation))}}])}(Tn),C3=function(e){function n(t){return y(this,n),w(this,n,[t,"tan"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.tan(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xi(this.operation.derive(r),new br(new Jg(this.operation),new Ce(2)))}}])}(Tn),b3=function(e){function n(t){return y(this,n),w(this,n,[t,"sec"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.cos(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),E3=function(e){function n(t){return y(this,n),w(this,n,[t,"csc"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.sin(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),D3=function(e){function n(t){return y(this,n),w(this,n,[t,"cot"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.tan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),M3=function(e){function n(t){return y(this,n),w(this,n,[t,"asin"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.asin(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),w3=function(e){function n(t){return y(this,n),w(this,n,[t,"acos"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.acos(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),k3=function(e){function n(t){return y(this,n),w(this,n,[t,"atan"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.atan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),S3=function(e){function n(t){return y(this,n),w(this,n,[t,"asec"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.acos(1/this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),I3=function(e){function n(t){return y(this,n),w(this,n,[t,"acsc"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.asin(1/this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),T3=function(e){function n(t){return y(this,n),w(this,n,[t,"acot"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.PI/2-Math.atan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),P3=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"base",void 0),h(i,"exponent",void 0),i.base=t,i.exponent=r,i.childOperations.push(i.base,i.exponent),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.pow(this.base.evaluate(r),1/this.exponent.evaluate(r))}},{key:"derive",value:function(r){return new br(this.base,new Xi(new Ce(1),this.exponent)).derive(r)}},{key:"toString",value:function(){return"((".concat(this.base.toString(),") ^ (1 / (").concat(this.exponent.toString(),")))")}},{key:"simplify",value:function(){var r=this.base.simplify(),i=this.exponent.simplify();return i instanceof Ce&&1==i.constant?r:r instanceof Ce&&1==r.constant?new Ce(1):new n(r,i)}}])}(Gn),O3=function(e){function n(){return y(this,n),w(this,n,[Math.PI])}return k(n,e),m(n,[{key:"toString",value:function(){return"pi"}}])}(Ce),A3=function(e){function n(){return y(this,n),w(this,n,[Math.E])}return k(n,e),m(n,[{key:"toString",value:function(){return"e"}}])}(Ce),x3=function(e){function n(t){return y(this,n),w(this,n,[t,"abs"])}return k(n,e),m(n,[{key:"derive",value:function(){throw"not implemented yet"}},{key:"evaluate",value:function(r){return Math.abs(this.operation.evaluate(r))}}])}(Tn),N3=function(e){function n(t){return y(this,n),w(this,n,[t,"sgn"])}return k(n,e),m(n,[{key:"derive",value:function(){throw"not implemented yet"}},{key:"evaluate",value:function(r){return Math.sign(this.operation.evaluate(r))}}])}(Tn),tk=function(e){function n(t){return y(this,n),w(this,n,[t,"cosh"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.cosh(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xe(this.operation.derive(r),new rk(this.operation))}}])}(Tn),rk=function(e){function n(t){return y(this,n),w(this,n,[t,"sinh"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.sinh(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xe(this.operation.derive(r),new tk(this.operation))}}])}(Tn),ik=[["^",function(e,n){return new br(e,n)}]],ak=[["*",function(e,n){return new Xe(e,n)}],["/",function(e,n){return new Xi(e,n)}],["%",function(e,n){return new _3(e,n)}]],ok=[["+",function(e,n){return new vi(e,n)}],["-",function(e,n){return new mo(e,n)}]],sk=[].concat(ik,ak,ok),F3=ik.map(function(e){return e[0]}),R3=ak.map(function(e){return e[0]}),L3=ok.map(function(e){return e[0]}),yo=sk.map(function(e){return e[0]}),V3=[["sin",function(e){return new nk(e)}],["asin",function(e){return new M3(e)}],["csc",function(e){return new E3(e)}],["acsc",function(e){return new I3(e)}],["cos",function(e){return new Jg(e)}],["acos",function(e){return new w3(e)}],["sec",function(e){return new b3(e)}],["asec",function(e){return new S3(e)}],["tan",function(e){return new C3(e)}],["atan",function(e){return new k3(e)}],["cot",function(e){return new D3(e)}],["acot",function(e){return new T3(e)}],["ln",function(e){return new Kw(e)}],["sqrt",function(e){return new P3(e,new Ce(2))}],["abs",function(e){return new x3(e)}],["sgn",function(e){return new N3(e)}],["sinh",function(e){return new rk(e)}],["cosh",function(e){return new tk(e)}]],B3=[["pi",function(){return new O3}],["e",function(){return new A3}]],ou=[" ","\t","\r","\n"],hi=["(","["],Xc=[")","]"],Jc=[].concat(hi,Xc),uk=[].concat(ou,V(yo),V(Jc)),H3=[["**","^"],["\xb2","^2"],["\xb3","^3"]],U3=[["arcsin","asin"],["arccos","acos"],["arctan","atan"],["arcsec","asec"],["arccsc","acsc"],["arccot","acot"],["sign","sgn"]],z3=[["\u03c0","pi"]],Ur="syntax error",lk=function(){return m(function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];y(this,e),h(this,"str",void 0),h(this,"funcProvider",void 0),h(this,"changingVariables",void 0),h(this,"formattedString",void 0),h(this,"stringSplit",void 0),h(this,"parseTree",void 0),h(this,"operation",void 0),this.str=n,this.funcProvider=t,this.changingVariables=r},[{key:"formatString",value:function(){if(!this.formattedString){this.formattedString=this.str.trim();for(var t=0,r=H3;t<r.length;t++){var i=r[t];this.formattedString=jH(this.formattedString,i[0],i[1])}}return this.formattedString}},{key:"splitString",value:function(){if(!this.stringSplit){if(!this.formattedString)throw"string not formatted yet";this.stringSplit=[];for(var t="",r=0;r<this.formattedString.length;r++){var i=!1,a=this.formattedString.charAt(r);(-1!==[].concat(V(yo),ou,V(Jc)).indexOf(a)||-1!==[].concat(V(yo),V(Jc)).indexOf(t)||Qs(t)&&!Qs(t+a))&&(i=!0),i&&""!==t&&(this.stringSplit.push(t),t=""),-1===ou.indexOf(a)&&(t+=a)}""!=t&&this.stringSplit.push(t);for(var o=0;o<this.stringSplit.length-1;o++)o+1==this.stringSplit.length||Wn(hi,this.stringSplit[o])||Wn(Xc,this.stringSplit[o+1])||Wn(hi,this.stringSplit[o+1])&&!Wn(Xc,this.stringSplit[o])&&!Qs(this.stringSplit[o])||Wn(yo,this.stringSplit[o])||Wn(yo,this.stringSplit[o+1])||Qs(this.stringSplit[o+1])?"+"!=this.stringSplit[o]||0!=o&&!Wn(hi,this.stringSplit[o-1])?"-"==this.stringSplit[o]&&(0==o||Wn(hi,this.stringSplit[o-1]))&&this.stringSplit.splice(o,1,"-1","*"):(this.stringSplit.splice(o,1),o--):this.stringSplit.splice(o+1,0,"*")}return this.stringSplit}},{key:"parseToTree",value:function(){if(!this.parseTree){if(!this.stringSplit)throw"string not split yet";this.parseTree=function r(i){if(0==i.length)throw Ur;if(1==i.length){var a=i[0];if("string"==typeof a){if(!Wn(uk,a))return{value:jM(a,z3)};throw Ur}return a}for(var o=V(i);Wn.apply(void 0,[o].concat(hi));){var s=wg.apply(void 0,[o].concat(hi)),u=YH(o,hi,Xc,s,Ur)+1,l=o.splice(s,u-s);o.splice(s,0,r(l.splice(1,u-s-2)))}for(var c=function(B,F){return"string"==typeof B&&"string"!=typeof F&&!Wn(uk,B)};qH(o,c);){var d=WH(o,c);if(d==o.length-1)throw Ur;var f=jM(o[d],U3),v=o[d+1];if(Wn(Jc,v)||Wn(yo,v))throw Ur;o.splice(d,2,{value:f,first:r([v])})}for(var g=0,p=[F3,R3,L3];g<p.length;g++)for(var C=p[g];Wn.apply(void 0,[o].concat(V(C)));){var b=wg.apply(void 0,[o].concat(V(C)));if(-1==b||0==b||b==o.length-1)throw Ur;var _=o.splice(b-1,3),M={value:_[1],first:r([_[0]]),second:r([_[2]])};o.splice(b-1,0,M)}if(1==o.length){var I=o[0];if("string"!=typeof I)return I}throw Ur}(this.stringSplit)}return this.parseTree}},{key:"createOperation",value:function(){var t=this;if(!this.operation){if(!this.parseTree)throw"tree not created yet";this.operation=function i(a){if(void 0!==a.first&&void 0!==a.second){var s,o=x(sk);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(a.value===u[0])return u[1](i(a.first),i(a.second))}}catch(b){o.e(b)}finally{o.f()}}else{if(void 0!==a.first&&void 0===a.second){for(var l=0,c=V3;l<c.length;l++){var d=c[l];if(a.value===d[0])return d[1](i(a.first))}return new Ji(a.value,t.funcProvider,i(a.first))}if(void 0===a.first&&void 0===a.second){if(Qs(a.value))return new Ce(VM(a.value));for(var f=0;f<t.changingVariables.length;f++)if(t.changingVariables[f]===a.value)return new xt(a.value,f);for(var g=0,p=B3;g<p.length;g++){var C=p[g];if(a.value===C[0])return C[1]()}return new xt(a.value)}}throw Ur}(this.parseTree)}return this.operation}},{key:"parse",value:function(){return this.formatString(),this.splitString(),this.parseToTree(),this.createOperation()}}])}(),ck="couldn't split the function",ep=["="],j3=function(){return m(function e(n,t){y(this,e),h(this,"str",void 0),h(this,"funcProvider",void 0),h(this,"funcMetaData",void 0),h(this,"funcOperation",void 0),h(this,"func",void 0),this.str=n,this.funcProvider=t},[{key:"splitString",value:function(){if(!this.funcOperation||!this.funcMetaData)if(Fc.apply(void 0,[this.str].concat(ep))){var t=BM.apply(void 0,[this.str].concat(ep)),r=this.str.slice(0,t).trim(),i=this.str.slice(t+1,this.str.length);if(Fc.apply(void 0,[i].concat(ep))||0===r.length)throw ck;if(this.funcOperation=i,"y"==r)this.funcMetaData={variable:"x"};else{var a=r.split(/(\(|\))/).map(function(o){return o.trim()}).filter(function(o){return""!==o});if(4!==a.length||Fc.apply(void 0,[a[0]].concat(V(ou)))||Fc.apply(void 0,[a[2]].concat(V(ou)))||"("!=a[1]||")"!=a[3]||0===a[0].length||-1==="abcdefghijklmnopqrstuvwxyz_".indexOf(a[0].charAt(0).toLowerCase()))throw ck;this.funcMetaData={name:a[0],variable:a[2]}}}else this.funcOperation=this.str,this.funcMetaData={variable:"x"};return[this.funcMetaData,this.funcOperation]}},{key:"parseOperation",value:function(){if(this.funcOperation&&this.funcMetaData){if(!this.func){var r=new lk(this.funcOperation,this.funcProvider,[this.funcMetaData.variable]).parse();this.func=new fo(r,this.funcMetaData.name,this.funcMetaData.variable)}return this.func}throw"func not split yet!"}},{key:"parse",value:function(){return this.splitString(),this.parseOperation()}}])}(),np=function(){return m(function e(){y(this,e),h(this,"dict",void 0);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];this.dict=t},[{key:"getItem",value:function(t){var i,r=x(this.dict);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a[0]===t)return a[1]}}catch(o){r.e(o)}finally{r.f()}}},{key:"setItem",value:function(t,r){for(var i=0;i<this.dict.length;i++)if(this.dict[i][0]===t)return void(this.dict[i][1]=r);this.dict.push([t,r])}},{key:"delItem",value:function(t){var r=this.indexOfKey(t);return r>=0&&(this.dict.splice(r,1),!0)}},{key:"hasKey",value:function(t){var i,r=x(this.dict);try{for(r.s();!(i=r.n()).done;)if(i.value[0]===t)return!0}catch(o){r.e(o)}finally{r.f()}return!1}},{key:"indexOfKey",value:function(t){for(var r=0;r<this.dict.length;r++)if(this.dict[r][0]===t)return r;return-1}},{key:"keys",get:function(){return this.dict.map(function(t){return t[0]})}},{key:"values",get:function(){return this.dict.map(function(t){return t[1]})}},{key:"empty",value:function(){this.dict=[]}},{key:"size",get:function(){return this.dict.length}}])}(),G3=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"_canvasElement",void 0),h(i,"min",-5),h(i,"max",5),i._canvasElement=new _o("",0),i}return k(r,t),m(r,[{key:"ngOnInit",value:function(){}},{key:"canvasElement",get:function(){return this._canvasElement},set:function(a){var o=this;this._canvasElement=a,a.onChange.addListener(function(){o.setMinMax(o.canvasElement.value)})}},{key:"setMinMax",value:function(a){this.min=Math.min(a,this.min),this.max=Math.max(a,this.max)}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-variable-formula"]],features:[fe],decls:8,vars:5,consts:[[1,"text"],[1,"span"],["type","number","step","any",1,"input",3,"ngModelChange","ngModel"],[1,"iconButton","floatRight",3,"click"],[1,"material-symbols-outlined"],["type","range","step","any",1,"slider",3,"ngModelChange","ngModel","min","max"]],template:function(r,i){1&r&&(E(0,"span",0),S(1),D(),E(2,"span",1)(3,"input",2),G("ngModelChange",function(o){return U(i.canvasElement.value,o)||(i.canvasElement.value=o),o}),D()(),E(4,"button",3),oe("click",function(o){return i.threePointsClicked(o)}),E(5,"span",4),S(6,"more_vert"),D()(),E(7,"input",5),G("ngModelChange",function(o){return U(i.canvasElement.value,o)||(i.canvasElement.value=o),o}),D()),2&r&&(O(),pr("",i.canvasElement.key," = "),O(2),j("ngModel",i.canvasElement.value),O(4),j("ngModel",i.canvasElement.value),X("min",i.min)("max",i.max))},dependencies:[pn,wt,fi,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.text[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{height:30px;font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.text[_ngcontent-%COMP%]{user-select:none}.span[_ngcontent-%COMP%]{--padding: 7px;--border: 1px;display:inline-flex;overflow:hidden;right:0;margin-right:0;padding-right:calc(2 * (var(--padding) + var(--border)))}.input[_ngcontent-%COMP%]{width:200px}.slider[_ngcontent-%COMP%]{width:100%;margin-top:16px}']})),n}(),_o=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"componentType",G3),h(i,"formulaDialogType",void 0),h(i,"_value",void 0),h(i,"_key",void 0),i._key=t,i._value=r,i.visible=!1,i}return k(n,e),m(n,[{key:"draw",value:function(){}},{key:"value",get:function(){return this._value},set:function(r){this._value=r,this.onChange.emit(r)}},{key:"key",get:function(){return this._key},set:function(r){this._key=r,this.onChange.emit(r)}},{key:"serialize",value:function(){return{data:{value:this.value,key:this.key},style:{color:this.color,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a=i.data;this.color=i.style.color,this.visible=i.style.visible,this.key=a.key,this.value=a.value}}],[{key:"getDefaultInstance",value:function(){return new n("",0)}}])}(qi),W3=function(){return m(function e(){y(this,e),h(this,"_ts",[]),h(this,"onSelectionChanged",new dt)},[{key:"empty",value:function(){var t=this._ts;this._ts=[],this.onSelectionChanged.emit(t)}},{key:"set",value:function(t){this._ts=void 0!==t?[t]:[],this.onSelectionChanged.emit(t)}},{key:"add",value:function(t){return void 0!==t&&!this.contains(t)&&(this._ts.push(t),this.onSelectionChanged.emit(t),!0)}},{key:"remove",value:function(t){if(void 0===t)return!1;var r=this._ts.indexOf(t);return r>=0&&(this._ts.splice(r,1),this.onSelectionChanged.emit(t),!0)}},{key:"contains",value:function(t){return void 0===t||-1!==this._ts.indexOf(t)}},{key:"alternate",value:function(t){return void 0!==t&&(this.contains(t)?(this.remove(t),!1):(this.add(t),!0))}},{key:"toArray",value:function(){return this._ts.slice()}},{key:"size",get:function(){return this._ts.length}}])}(),q3=[{r:18,g:128,b:234},{r:214,g:78,b:78},{r:78,g:194,b:98},{r:88,g:88,b:224},{r:255,g:148,b:148},{r:255,g:234,b:38},{r:224,g:48,b:224},{r:48,g:224,b:224},{r:227,g:131,b:30},{r:180,g:180,b:30},{r:113,g:35,b:103}],Z3=m(function e(){y(this,e),h(this,"transformInvisibleColor",void 0)}),zr=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){r.translateX+=(o.x-a.x)/s.pointerCount,r.translateY+=(o.y-a.y)/s.pointerCount}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey)}}])}(Z3);function ed(e,n){if(void 0!==e&&void 0!==n){var t=n.y-e.y,r=e.x-n.x;return{a:t,b:r,c:t*e.x+r*e.y}}}function tp(e){if(void 0!==e&&(0!==e.a||0!==e.b))return 0===e.a?[{x:0,y:e.c/e.b},{x:1,y:e.c/e.b}]:[{x:e.c/e.a,y:0},{x:(e.c-e.b)/e.a,y:1}]}function rp(e,n){var t=e.b,r=-e.a;return{a:t,b:r,c:t*n.x+r*n.y}}function su(e,n){if(void 0!==e&&void 0!==n)return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}function ip(e,n){var t,r=ed(e,n);return void 0===r||void 0===e||void 0===n?[void 0,void 0]:null!==(t=tp(rp(r,su(e,n))))&&void 0!==t?t:[void 0,void 0]}function dk(e,n,t){if(void 0===e||void 0===n||void 0===t)return[[void 0,void 0],[void 0,void 0]];var i=su(e,n),a=ap(n,t,i,ai(i,e));return[[e,a[0]],[e,a[1]]]}function Co(e,n){var t=e.b*n.a-e.a*n.b;if(0!==t){var i=(e.c*n.a-e.a*n.c)/t;return{y:i,x:0!==e.a?(e.c-e.b*i)/e.a:(n.c-n.b*i)/n.a}}}function nd(e,n,t){if(0===e.a){if(0===e.b)return[void 0,void 0];var a=nd({a:e.b,b:e.a,c:e.c},{x:n.y,y:n.x},t);return[void 0===a[0]?void 0:{x:a[0].y,y:a[0].x},void 0===a[1]?void 0:{x:a[1].y,y:a[1].x}]}var o=Math.pow(e.b/e.a,2)+1,s=-2*e.c*e.b/Math.pow(e.a,2)-2*n.y+2*e.b*n.x/e.a,u=Math.pow(e.c,2)/Math.pow(e.a,2)+Math.pow(n.x,2)+Math.pow(n.y,2)-Math.pow(t,2)-2*e.c*n.x/e.a,l=Math.pow(s,2)-4*o*u;if(l<0)return[void 0,void 0];if(0===l){var c=-s/(2*o);return[{x:(e.c-e.b*c)/e.a,y:c},void 0]}var d=(-s-Math.sqrt(l))/(2*o),f=(-s+Math.sqrt(l))/(2*o);return[{x:(e.c-e.b*d)/e.a,y:d},{x:(e.c-e.b*f)/e.a,y:f}]}function ap(e,n,t,r){var i=function(M){var I=Math.pow(n,2)-Math.pow(M,2);return I<0?[void 0,void 0]:0===I?[{x:0,y:M},void 0]:[{x:Math.sqrt(I),y:M},{x:-Math.sqrt(I),y:M}]},a=function(M){return void 0===M?Number.MAX_VALUE:Math.abs(Math.pow(M.x-t.x,2)+Math.pow(M.y-t.y,2)-r*r)};if(0!==e.x||0!==e.y)return ap({x:0,y:0},n,{x:t.x-e.x,y:t.y-e.y},r).map(function(_){if(void 0!==_)return{x:_.x+e.x,y:_.y+e.y}});var s=t.x,u=t.y,l=r*r-n*n-s*s-u*u,c=s*s*4+u*u*4,d=4*l*u,f=s*s*-4*(n*n)+l*l,v=Math.pow(d,2)-4*c*f;if(0===c||v<0)return[void 0,void 0];if(0===v)return[i(-d/(2*c)).sort(function(_,M){return a(_)-a(M)})[0],void 0];var b=[].concat(V(i((-d+Math.sqrt(v))/(2*c))),V(i((-d-Math.sqrt(v))/(2*c)))).sort(function(_,M){return a(_)-a(M)});return[b[0],b[1]]}function gi(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}var X3=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"abcForm",get:function(){var a=this.dialogData.getABCFormLine();if(void 0===a)return"kann nicht konstruiert werden";var o=Math.pow(10,2),s=Math.round(a.a*o)/o,u=Math.round(a.b*o)/o,l=Math.round(a.c*o)/o;return"".concat(s.toLocaleString()," \xb7 x + ").concat(u.toLocaleString()," \xb7 y = ").concat(l.toLocaleString())}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(po);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-abstract-line-element"]],features:[fe],decls:29,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),S(2,"Allgemeine Geradenform:"),D(),E(3,"p",2),Ne(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return U(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"p",4)(8,"span"),S(9),D()(),E(10,"div",5)(11,"input",6),G("ngModelChange",function(o){return U(i.dashed,o)||(i.dashed=o),o}),D(),E(12,"label",7),S(13,"Gestrichelt anzeigen"),D()(),E(14,"div",8)(15,"input",9),G("ngModelChange",function(o){return U(i.latex,o)||(i.latex=o),o}),D(),E(16,"label",10),S(17,"Label als LaTeX rendern"),D()(),E(18,"div",11)(19,"input",12),G("ngModelChange",function(o){return U(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(20,"label",13),S(21,"Label schwarz anzeigen"),D()(),E(22,"div",14)(23,"label",15),S(24,"Labelgr\xf6\xdfe:"),D(),Ne(25,"br"),E(26,"input",16),G("ngModelChange",function(o){return U(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(27,"button",17),oe("click",function(){return i.dialog.close()}),S(28,"Schlie\xdfen"),D()()),2&r&&(O(5),j("ngModel",i.name),O(4),nn(i.abcForm),O(2),j("ngModel",i.dashed),O(4),j("ngModel",i.latex),O(4),j("ngModel",i.displayBlack),O(7),j("ngModel",i.labelSize))},dependencies:[pn,fi,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),Dr=function(e){function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:0,g:0,b:0},o=arguments.length>3?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return y(this,n),h(i=w(this,n,[r]),"lineWidth",void 0),h(i,"formulaDialogType",X3),h(i,"_pointsProvider",void 0),h(i,"_tempPoints",void 0),h(i,"resetTempListener",function(){i._tempPoints=void 0}),i.lineWidth=u,i.configuration.formula=o,i.configuration.showLabel=l,i._color=a,i._visible=s,i._pointsProvider=t,i}return k(n,e),m(n,[{key:"point1",get:function(){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[0]}},{key:"point2",get:function(){return null==this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[1]}},{key:"pointsProvider",get:function(){return this._pointsProvider},set:function(r){this._pointsProvider=r,this.onChange.emit(r)}},{key:"getDistance",value:function(r,i){var a=this.getClosestPointOnLineToPoint(r);if(void 0!==a)return ai(r,a)}},{key:"getABCFormLine",value:function(){return ed(this.point1,this.point2)}},{key:"getClosestPointOnLineToPoint",value:function(r){var i=this.getABCFormLine();if(void 0!==i)return Co(i,rp(i,r))}}])}(Qg),td=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"canvasElement",void 0),i.canvasElement=new vt(function(){return[void 0,void 0]},[],function(){return{subType:"",els:[]}}),i}return k(r,t),m(r,[{key:"ngOnInit",value:function(){}},{key:"labelString",get:function(){var a=this.canvasElement.configuration.formula,o=this.canvasElement.configuration.label;return void 0!==o&&void 0!==a?a+" "+o:void 0!==o?o:void 0!==a?a:" "}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-geometric-formula"]],features:[fe],decls:8,vars:3,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return U(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return U(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"p",2)(3,"span"),S(4),D()(),E(5,"button",3),oe("click",function(o){return i.threePointsClicked(o)}),E(6,"span",4),S(7,"more_vert"),D()()()),2&r&&(O(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(3),nn(i.labelString))},dependencies:[Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;user-select:none;height:var(--buttonSize);line-height:var(--buttonSize)}']})),n}(),ft=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=w(this,n,[t,r,o,s,u,l,c]),"dataProvider",void 0),h(a,"componentType",td),a.dataProvider=i,a}return k(n,e),m(n,[{key:"draw",value:function(r){var i=this.point1,a=this.point2;void 0!==i&&void 0!==a&&!LM(i,a)&&(-1!==r.selection.indexOf(this)&&r.drawPath([i,a],this.lineWidth*vu,Xt(this._color,fu),void 0,this.configuration.dashed),r.drawPath([i,a],this.lineWidth,this.color,void 0,this.configuration.dashed))}},{key:"getDistance",value:function(r,i){var a=this.getClosestPointOnLineToPoint(r),o=this.point1,s=this.point2;if(void 0!==a&&void 0!==o&&void 0!==s)return gn(a.x,o.x,s.x)&&gn(a.y,o.y,s.y)?ai(r,a):Math.min(ai(o,a),ai(s,a))}},{key:"getPositionForLabel",value:function(r){var i=r.zoom,o=su(this.point1,this.point2);if(void 0!==o)return{x:o.x+15/i,y:o.y+15/i}}},{key:"serialize",value:function(){return{data:this.dataProvider(),style:{color:this.color,visible:this.visible,size:this.lineWidth}}}},{key:"loadFrom",value:function(r,i){var a;this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(a=i.style.size)&&void 0!==a?a:this.lineWidth;var o=i.data,s=r[o.p1],u=r[o.p2];s instanceof ge&&u instanceof ge&&(this.pointsProvider=function(){return[s.point,u.point]},this.dataProvider=function(){return{p1:s.id,p2:u.id}},this.addDependency(s,u))}}],[{key:"getDefaultInstance",value:function(){return new n(function(){return[void 0,void 0]},[],function(){return{p1:-1,p2:-1}})}}])}(Dr);function J3(e,n){if(1&e&&(E(0,"table")(1,"tr")(2,"td")(3,"p",15),S(4,"Radius:"),D()(),E(5,"td")(6,"p",16)(7,"span"),S(8),D()()()(),E(9,"tr")(10,"td")(11,"p",15),S(12,"Mittelpunkt:"),D()(),E(13,"td")(14,"p",16),S(15),D()()()()),2&e){var t=en();O(8),nn(t.radius),O(7),Ns("( ",t.pointX," | ",t.pointY," )")}}function ez(e,n){1&e&&(E(0,"div")(1,"p",16),S(2,"Kreis konnte nicht konstruiert werden."),D()())}var bo=Math.pow(10,2),nz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"isDefined",value:function(){return void 0!==this.dialogData.point&&void 0!==this.dialogData.radius}},{key:"radius",get:function(){return(Math.round(this.dialogData.radius*bo)/bo).toLocaleString()}},{key:"pointX",get:function(){return(Math.round(this.dialogData.point.x*bo)/bo).toLocaleString()}},{key:"pointY",get:function(){return(Math.round(this.dialogData.point.y*bo)/bo).toLocaleString()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(po);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-circle-element"]],features:[fe],decls:24,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],[4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"paragraph"],[1,"paragraph","maths","centered"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),S(2,"Kreis:"),D(),E(3,"p",2),Ne(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return U(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"div",4)(8,"input",5),G("ngModelChange",function(o){return U(i.latex,o)||(i.latex=o),o}),D(),E(9,"label",6),S(10,"Label als LaTeX rendern"),D()(),E(11,"div",7)(12,"input",8),G("ngModelChange",function(o){return U(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(13,"label",9),S(14,"Label schwarz anzeigen"),D()(),E(15,"div",10)(16,"label",11),S(17,"Labelgr\xf6\xdfe:"),D(),Ne(18,"br"),E(19,"input",12),G("ngModelChange",function(o){return U(i.labelSize,o)||(i.labelSize=o),o}),D()(),Rn(20,J3,16,3,"table",13)(21,ez,3,0,"div",13),E(22,"button",14),oe("click",function(){return i.dialog.close()}),S(23,"Schlie\xdfen"),D()()),2&r&&(O(5),j("ngModel",i.name),O(3),j("ngModel",i.latex),O(4),j("ngModel",i.displayBlack),O(7),j("ngModel",i.labelSize),O(),X("ngIf",i.isDefined()),O(),X("ngIf",!i.isDefined()))},dependencies:[uo,pn,fi,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}td[_ngcontent-%COMP%]{padding-left:16px;padding-top:7px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),kt=function(e){function n(t,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{r:0,g:0,b:0},u=arguments.length>5?arguments[5]:void 0,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:3,d=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return y(this,n),h(o=w(this,n,[i]),"dataProvider",void 0),h(o,"lineWidth",void 0),h(o,"componentType",td),h(o,"formulaDialogType",nz),h(o,"_pointProvider",void 0),h(o,"_tempPoint",void 0),h(o,"_radiusProvider",void 0),h(o,"_tempRadius",void 0),h(o,"resetTempListener",function(){o._tempPoint=void 0,o._tempRadius=void 0}),o.dataProvider=a,o.lineWidth=c,o.configuration.formula=u,o.configuration.showLabel=d,o._color=s,o._visible=l,o._pointProvider=t,o._radiusProvider=r,o}return k(n,e),m(n,[{key:"point",get:function(){return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),this._tempPoint}},{key:"pointProvider",get:function(){return this._pointProvider},set:function(r){this._pointProvider=r,this.onChange.emit(r)}},{key:"radius",get:function(){return void 0===this._tempRadius&&(this._tempRadius=this._radiusProvider()),this._tempRadius}},{key:"radiusProvider",get:function(){return this._radiusProvider},set:function(r){this._radiusProvider=r,this.onChange.emit(r)}},{key:"draw",value:function(r){var i=this.point,a=this.radius;void 0!==i&&void 0!==a&&(-1!==r.selection.indexOf(this)&&r.drawCircle(i,a,yr,Xt(this._color,fu),this.lineWidth*vu,this.configuration.dashed),r.drawCircle(i,a,yr,this.color,this.lineWidth,this.configuration.dashed))}},{key:"getPositionForLabel",value:function(r){var i=15/r.zoom,a=this.point,o=this.radius;if(void 0!==a&&void 0!==o)return{x:a.x+o/Math.SQRT2+i,y:a.y+o/Math.SQRT2+i}}},{key:"getDistance",value:function(r,i){var a=this.point,o=this.radius;if(void 0!==a&&void 0!==o)return Math.abs(ai(a,r)-o)}},{key:"serialize",value:function(){return{style:{color:this.color,size:this.lineWidth,visible:this.visible},data:this.dataProvider()}}},{key:"loadFrom",value:function(r,i){if(void 0!==i.data.center&&void 0!==i.data.scdPoint){var a,o=r[i.data.center],s=r[i.data.scdPoint];o instanceof ge&&s instanceof ge&&(this.pointProvider=function(){return o.point},this.radiusProvider=function(){return function UH(e,n){if(void 0!==e&&void 0!==n)return ai(e,n)}(o.point,s.point)},this.dataProvider=function(){return{center:o.id,scdPoint:s.id}},this.addDependency(o,s)),this.color=i.style.color,this.lineWidth=null!==(a=i.style.size)&&void 0!==a?a:this.lineWidth,this.visible=i.style.visible}}}],[{key:"getDefaultInstance",value:function(){return new n(function(){},function(){},[],function(){return{center:-1,scdPoint:-1}})}}])}(Qg),fk="angle_bisector",op="bisection",vk="connection",hk="orthogonal",gk="parallel",sp="tangens",vt=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=w(this,n,[t,r,o,s,u,l,c]),"subTypeAndDataProvider",void 0),h(a,"componentType",td),a.subTypeAndDataProvider=i,a}return k(n,e),m(n,[{key:"draw",value:function(r){var i=this.point1,a=this.point2;if(void 0!==i&&void 0!==a&&!LM(i,a)){var u,l,o=r.range,s=this.getABCFormLine();0===s.a?(u={x:o.x,y:s.c/s.b},l={x:o.x+o.width,y:s.c/s.b}):s.a>s.b||0===s.b?(u={x:(s.c-s.b*o.y)/s.a,y:o.y},l={x:(s.c-s.b*(o.y+o.height))/s.a,y:o.y+o.height}):(u={x:o.x,y:(s.c-s.a*o.x)/s.b},l={x:o.x+o.width,y:(s.c-s.a*(o.x+o.width))/s.b}),-1!==r.selection.indexOf(this)&&r.drawPath([u,l],this.lineWidth*vu,Xt(this._color,fu),void 0,this.configuration.dashed),r.drawPath([u,l],this.lineWidth,this.color,void 0,this.configuration.dashed)}}},{key:"getPositionForLabel",value:function(r){var i=Jt(r.range),a=50/r.zoom,o=this.getABCFormLine();if(void 0!==o){var s={x:i.x+a,y:i.y+a,width:i.width-2*a,height:i.height-2*a},u=Co(o,{a:0,b:1,c:s.y}),l=Co(o,{a:0,b:1,c:s.y+s.height}),c=void 0!==l&&gn(l.x,s.x,s.x+s.width),d=Co(o,{a:1,b:0,c:s.x+s.width}),f=void 0!==u&&gn(u.x,s.x,s.x+s.width);if(void 0!==d&&gn(d.y,s.y,s.y+s.height))return d;if(c&&f)return l.x>u.x?l:u;if(c)return l;if(f)return u}}},{key:"serialize",value:function(){var r=this.subTypeAndDataProvider();return{data:{els:r.els,index:r.index},subType:r.subType,style:{color:this.color,size:this.lineWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o,c,v,s=i.data,u=[],l=x(s.els);try{for(l.s();!(c=l.n()).done;){var f=r[c.value];void 0!==f&&this.addDependency(f),u.push(f)}}catch(p){l.e(p)}finally{l.f()}if(this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.size)&&void 0!==o?o:this.lineWidth,i.subType===fk&&3===u.length&&u[0]instanceof ge&&u[1]instanceof ge&&u[2]instanceof ge)v=n.createAngleBisector(u[0],u[1],u[2]);else if(i.subType===op)if(1===u.length&&u[0]instanceof ft)v=n.createBisectionByLineSegment(u[0]);else{if(!(2===u.length&&u[0]instanceof ge&&u[1]instanceof ge))return;v=n.createBisectionByPoints(u[0],u[1])}else if(i.subType===vk&&2===u.length&&u[0]instanceof ge&&u[1]instanceof ge)v=n.createConnection(u[0],u[1]);else if(i.subType===hk&&2===u.length&&u[0]instanceof ge&&u[1]instanceof Dr)v=n.createOrthogonal(u[0],u[1]);else if(i.subType===gk&&2===u.length&&u[0]instanceof ge&&u[1]instanceof Dr)v=n.createParallel(u[0],u[1]);else{if(!(i.subType===sp&&2===u.length&&u[0]instanceof ge&&u[1]instanceof kt))return;var g;v=n.createTangens(u[0],u[1])[null!==(g=s.index)&&void 0!==g?g:0]}this.pointsProvider=v.pointsProvider,this.subTypeAndDataProvider=v.subTypeAndDataProvider}}],[{key:"createAngleBisector",value:function(r,i,a){return new n(function(){return function Q3(e,n,t){var r=ed(n,e),i=ed(t,e);if(void 0===r||void 0===e||void 0===n||void 0===t||void 0===i)return[void 0,void 0];var a=n.y-e.y,o=t.y-e.y,s=Math.sign(a*o),u=(s=0===s?Math.sign(a+o):s)>0?0:1;return ip(nd(r,e,1)[0],nd(i,e,1)[u])}(r.point,i.point,a.point)},[r,i,a],function(){return{subType:fk,els:[r.id,i.id,a.id]}},Ln,"Winkelhalbierende")}},{key:"createBisectionByPoints",value:function(r,i){return new n(function(){return ip(r.point,i.point)},[r,i],function(){return{subType:op,els:[r.id,i.id]}},Ln,"Mittelsenkrechte")}},{key:"createBisectionByLineSegment",value:function(r){return new n(function(){return function K3(e){return ip(e.point1,e.point2)}(r)},[r],function(){return{subType:op,els:[r.id]}},Ln,"Mittelsenkrechte")}},{key:"createConnection",value:function(r,i){return new n(function(){return[r.point,i.point]},[r,i],function(){return{subType:vk,els:[r.id,i.id]}},Ln,"Verbindungsgerade")}},{key:"createOrthogonal",value:function(r,i){return new n(function(){var a,o=i.getABCFormLine(),s=r.point;if(void 0===o||void 0===s)return[void 0,void 0];var u=rp(o,s);if(i instanceof ft){var l=Co(o,u),c=i.point1,d=i.point2;if(void 0===l||void 0===c||void 0===d)return[void 0,void 0];if(!gn(l.x,c.x,d.x)||!gn(l.y,c.y,d.y))return[void 0,void 0]}return null!==(a=tp(u))&&void 0!==a?a:[void 0,void 0]},[r,i],function(){return{subType:hk,els:[r.id,i.id]}},Ln,"Lot")}},{key:"createParallel",value:function(r,i){return new n(function(){return function Y3(e,n){var t;return void 0===e||void 0===n?[void 0,void 0]:null!==(t=tp({a:e.a,b:e.b,c:e.a*n.x+e.b*n.y}))&&void 0!==t?t:[void 0,void 0]}(i.getABCFormLine(),r.point)},[r,i],function(){return{subType:gk,els:[r.id,i.id]}},Ln,"Parallele")}},{key:"createTangens",value:function(r,i){return[new n(function(){return dk(r.point,i.point,i.radius)[0]},[r,i],function(){return{subType:sp,els:[r.id,i.id],index:0}},Ln,"Tangente"),new n(function(){return dk(r.point,i.point,i.radius)[1]},[r,i],function(){return{subType:sp,els:[r.id,i.id],index:1}},Ln,"Tangente")]}},{key:"getDefaultInstance",value:function(){return new n(function(){return[void 0,void 0]},[],function(){return{subType:"",els:[]}})}}])}(Dr),tz=function(n){return{noMargin:n}},rd=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"_from",0),h(this,"fromChange",new fn),h(this,"_to",0),h(this,"toChange",new fn),h(this,"noMargin",!1)},[{key:"fromForTemplate",get:function(){return this._from},set:function(i){this._from=i,this.fromChange.emit(i)}},{key:"from",set:function(i){this._from=i}},{key:"toForTemplate",get:function(){return this._to},set:function(i){this._to=i,this.toChange.emit(i)}},{key:"to",set:function(i){this._to=i}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-interval"]],inputs:{from:"from",to:"to",noMargin:"noMargin"},outputs:{fromChange:"fromChange",toChange:"toChange"},decls:6,vars:5,consts:[[1,"maths",3,"ngClass"],["step","any","type","number","title","Von (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"],["step","any","type","number","title","Bis (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"]],template:function(r,i){1&r&&(E(0,"p",0),S(1," ["),E(2,"input",1),G("ngModelChange",function(o){return U(i.fromForTemplate,o)||(i.fromForTemplate=o),o}),D(),S(3,"; "),E(4,"input",2),G("ngModelChange",function(o){return U(i.toForTemplate,o)||(i.toForTemplate=o),o}),D(),S(5,"]\n"),D()),2&r&&(X("ngClass",wn(3,tz,i.noMargin)),O(2),j("ngModel",i.fromForTemplate),O(2),j("ngModel",i.toForTemplate))},dependencies:[Kt,pn,wt,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.noMargin[_ngcontent-%COMP%]{margin:0}']})),n}();function rz(e,n){if(1&e&&(E(0,"span"),S(1," von "),E(2,"span",12),S(3),D()()),2&e){var t=en(2);O(3),nn(t.canvasElement.graph.func.name)}}function iz(e,n){if(1&e&&(E(0,"p",10),S(1,"Bestimmtes Integral "),Rn(2,rz,4,1,"span",11),D()),2&e){var t=en();O(2),X("ngIf",null==t.canvasElement.graph.func?null:t.canvasElement.graph.func.name)}}function az(e,n){if(1&e&&(E(0,"span"),S(1," von "),E(2,"span",12),S(3),D()()),2&e){var t=en(2);O(3),Ns("",t.canvasElement.graph.func.name,", ",t.canvasElement.secondGraph.func.name,"")}}function oz(e,n){if(1&e&&(E(0,"p",10),S(1,"Fl\xe4che zwischen Graphen "),Rn(2,az,4,2,"span",11),D()),2&e){var t=en();O(2),X("ngIf",(null==t.canvasElement.graph.func?null:t.canvasElement.graph.func.name)&&(null==t.canvasElement.secondGraph.func?null:t.canvasElement.secondGraph.func.name))}}var sz=function(){var e,n=function(t){function r(){var i;y(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return h(i=w(this,r,[].concat(o)),"canvasElement",void 0),i}return k(r,t),m(r)}(oi);return e=n,h(n,"\u0275fac",function(){var t;return function(i){return(t||(t=Nn(e)))(i||e)}}()),h(n,"\u0275cmp",ke({type:e,selectors:[["app-definite-integral-formula"]],features:[fe],decls:17,vars:9,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],["class","paragraph description",4,"ngIf"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","intervalParagraph"],[1,"interval",3,"fromChange","toChange","noMargin","from","to"],[1,"paragraph"],["min","0","step","any","type","number","title","Schrittweite der Integralbestimmung",1,"input",3,"ngModelChange","ngModel"],["title","N\xe4herungsweise bestimmter Wert",1,"maths"],[1,"paragraph","description"],[4,"ngIf"],[1,"maths"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return U(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return U(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),Rn(2,iz,3,1,"p",2)(3,oz,3,1,"p",2),E(4,"button",3),oe("click",function(o){return i.threePointsClicked(o)}),E(5,"span",4),S(6,"more_vert"),D()(),E(7,"p",5),S(8,"Intervall: "),E(9,"app-interval",6),G("fromChange",function(o){return U(i.canvasElement.from,o)||(i.canvasElement.from=o),o})("toChange",function(o){return U(i.canvasElement.to,o)||(i.canvasElement.to=o),o}),D()(),E(10,"p",7),S(11,"Schrittweite: "),E(12,"input",8),G("ngModelChange",function(o){return U(i.canvasElement.h,o)||(i.canvasElement.h=o),o}),D()(),E(13,"p",7),S(14,"\u2192 "),E(15,"span",9),S(16),D()()()),2&r&&(O(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(),X("ngIf",void 0===i.canvasElement.secondGraph),O(),X("ngIf",void 0!==i.canvasElement.secondGraph),O(6),X("noMargin",!0),j("from",i.canvasElement.from)("to",i.canvasElement.to),O(3),j("ngModel",i.canvasElement.h),O(4),nn(i.canvasElement.value.toLocaleString()))},dependencies:[uo,pn,wt,Sn,Yc,mn,Qi,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.interval[_ngcontent-%COMP%]{display:inline-block}.intervalParagraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}.input[_ngcontent-%COMP%]{width:75px;display:unset}']})),n}(),id=function(e){function n(t,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jn,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yr,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return y(this,n),h(o=w(this,n),"componentType",sz),h(o,"formulaDialogType",void 0),h(o,"_value",0),h(o,"rects",[]),h(o,"_graph",void 0),h(o,"_secondGraph",void 0),h(o,"_stroke",void 0),h(o,"_strokeWidth",void 0),h(o,"_h",1),h(o,"_from",void 0),h(o,"_to",void 0),o._graph=t,o._secondGraph=r,o._color=u,o._stroke=l,o._strokeWidth=c,o._visible=d,o._h=s,o._from=i,o._to=a,o}return k(n,e),m(n,[{key:"value",get:function(){return this._value},set:function(r){this._value=r}},{key:"graph",get:function(){return this._graph},set:function(r){this._graph=r,this.onChange.emit(r)}},{key:"secondGraph",get:function(){return this._secondGraph},set:function(r){this._secondGraph=r,this.onChange.emit(r)}},{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(r)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(r)}},{key:"h",get:function(){return this._h},set:function(r){this._h=this.correctH(r),this.onChange.emit(this._h)}},{key:"correctH",value:function(r){return r<0?r=-r:r||(r=1),r}},{key:"from",get:function(){return this._from},set:function(r){this._from=Math.min(r,this.to),this.onChange.emit(this._from)}},{key:"to",get:function(){return this._to},set:function(r){this._to=Math.max(r,this.from),this.onChange.emit(this._to)}},{key:"reload",value:function(r){for(var i=this,a=[],o=0,s=function(d,f){if(0!==f&&void 0!==i.graph.func)try{var v,g,p=i.graph.func.evaluate(d,r),C=null!==(v=null===(g=i.secondGraph)||void 0===g||null===(g=g.func)||void 0===g?void 0:g.evaluate(d,r))&&void 0!==v?v:0;isFinite(p)&&isFinite(C)&&(o+=f*(p-C),a.push({x:d,y:C,width:f,height:p-C}))}catch{}},u=this.from;u<=this.to-this.h;u+=this.h)s(u,this.h);var l=this.to-u;s(this.to-l,l),a=a.map(function(c){return Jt(c)}),this.rects=a,this.value=o}},{key:"draw",value:function(r){this.reload(r.variables);var u,i=-1!==r.selection.indexOf(this),a=r.range,o=Xt(this.color,i?.5:.3),s=x(this.rects);try{for(s.s();!(u=s.n()).done;){var c=HH(u.value,a);c&&r.drawRect(c,o,this.stroke)}}catch(d){s.e(d)}finally{s.f()}}},{key:"getDistance",value:function(r,i){return Math.min.apply(Math,V(this.rects.map(function(a){return RM(r,a)})))}},{key:"serialize",value:function(){return{data:{graph:this.graph.id,secondGraph:void 0===this.secondGraph?void 0:this.secondGraph.id,h:this.h,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a,o;if(void 0!==i.data.graph&&void 0!==i.data.h&&void 0!==i.data.from&&void 0!==i.data.to){var s=r[i.data.graph],u=r[i.data.secondGraph];s instanceof tt&&(this.graph=s),(u instanceof tt||void 0===u)&&(this.secondGraph=u),"number"==typeof i.data.h&&(this.h=i.data.h),"number"==typeof i.data.from&&(this.from=i.data.from),"number"==typeof i.data.to&&(this.to=i.data.to)}this.stroke=null!==(a=i.style.stroke)&&void 0!==a?a:yr,this.strokeWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:0,this.color=i.style.color,this.visible=i.style.visible}}],[{key:"getDefaultInstance",value:function(){return new n(void 0,void 0,0,0)}}])}(qi),Eo="intersection_point",up="middle_point",Vn=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jn,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(a=w(this,n,[{x:0,y:0},o,!0,r,u]),"subTypeAndDataProvider",void 0),h(a,"_pointProvider",void 0),h(a,"_tempPoint",void 0),h(a,"resetTempListener",function(){a._tempPoint=void 0}),a.subTypeAndDataProvider=i,a._pointProvider=t,a}return k(n,e),m(n,[{key:"x",get:function(){var r;return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),null===(r=this._tempPoint)||void 0===r?void 0:r.x}},{key:"y",get:function(){var r;return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),null===(r=this._tempPoint)||void 0===r?void 0:r.y}},{key:"pointProvider",get:function(){return this._pointProvider},set:function(r){this._pointProvider=r,this.onChange.emit(r)}},{key:"serialize",value:function(){var r=this.subTypeAndDataProvider();return{data:{el1:r.el1,el2:r.el2,index:r.index},subType:r.subType,style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data,s=r[o.el1],u=void 0===o.el2?void 0:r[o.el2];if(void 0!==s&&this.addDependency(s),void 0!==u&&this.addDependency(u),this.loadStyle(i.style),i.subType===up){if(s instanceof ge&&u instanceof ge){var l=n.createMiddlePointByPoints(s,u);this.pointProvider=l.pointProvider,this.subTypeAndDataProvider=l.subTypeAndDataProvider}else if(s instanceof ft){var c=n.createMiddlePointByLineSegment(s);this.pointProvider=c.pointProvider,this.subTypeAndDataProvider=c.subTypeAndDataProvider}}else if(i.subType===Eo&&(s instanceof Dr||s instanceof kt)&&(u instanceof Dr||u instanceof kt)){var d,f=n.createIntersectionPoints(s,u)[null!==(d=o.index)&&void 0!==d?d:0];this.pointProvider=f.pointProvider,this.subTypeAndDataProvider=f.subTypeAndDataProvider}}}],[{key:"createMiddlePointByPoints",value:function(r,i){return new n(function(){return su(r.point,i.point)},[r,i],function(){return{subType:up,el1:r.id,el2:i.id}},Ln)}},{key:"createMiddlePointByLineSegment",value:function(r){return new n(function(){return function $3(e){return su(e.point1,e.point2)}(r)},[r],function(){return{subType:up,el1:r.id}},Ln)}},{key:"createIntersectionPoints",value:function(r,i){if(r instanceof Dr&&i instanceof Dr)return[new n(function(){var u=r.getABCFormLine(),l=i.getABCFormLine();if(void 0!==u&&void 0!==l){var c=Co(u,l);if(void 0!==c){if(r instanceof ft){var d=r.point1,f=r.point2;if(void 0===d||void 0===f||!gn(c.x,d.x,f.x)||!gn(c.y,d.y,f.y))return}if(i instanceof ft){var v=i.point1,g=i.point2;if(void 0===v||void 0===g||!gn(c.x,v.x,g.x)||!gn(c.y,v.y,g.y))return}return c}}},[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id}},Ln)];if(r instanceof kt&&i instanceof Dr){var a=r;r=i,i=a}if(r instanceof Dr&&i instanceof kt){var o=function(l){return function(){var c=r.getABCFormLine(),d=i.point,f=i.radius;if(void 0!==c&&void 0!==d&&void 0!==f){var v=nd(c,d,f)[l];if(void 0!==v){if(r instanceof ft){var g=r.point1,p=r.point2;return void 0===g||void 0===p?void 0:gn(v.x,g.x,p.x)&&gn(v.y,g.y,p.y)?v:void 0}return v}}}};return[new n(o(0),[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id,index:0}},Ln),new n(o(1),[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id,index:1}},Ln)]}if(r instanceof kt&&i instanceof kt){var s=function(l){return function(){var c=r.point,d=r.radius,f=i.point,v=i.radius;if(void 0!==c&&void 0!==d&&void 0!==f&&void 0!==v)return ap(c,d,f,v)[l]}};return[new n(s(0),[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id,index:0}},Ln),new n(s(1),[r,i],function(){return{subType:Eo,el1:r.id,el2:i.id,index:1}},Ln)]}return[]}},{key:"getDefaultInstance",value:function(){return new n(function(){},[],function(){return{subType:"",el1:-1}})}}])}(ge),uz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"angle",get:function(){return(Math.floor(1e3*this.dialogData.angle)/1e3).toLocaleString()}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(po);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-angle-element"]],features:[fe],decls:34,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],[1,"rangeDiv","sizeDiv"],["for","si"],["id","si","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),S(2,"Winkel:"),D(),E(3,"p",2),Ne(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return U(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"p",4)(8,"span"),S(9),D()(),E(10,"div",5)(11,"input",6),G("ngModelChange",function(o){return U(i.dashed,o)||(i.dashed=o),o}),D(),E(12,"label",7),S(13,"Gestrichelt anzeigen"),D()(),E(14,"div",8)(15,"input",9),G("ngModelChange",function(o){return U(i.latex,o)||(i.latex=o),o}),D(),E(16,"label",10),S(17,"Label als LaTeX rendern"),D()(),E(18,"div",11)(19,"input",12),G("ngModelChange",function(o){return U(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(20,"label",13),S(21,"Label schwarz anzeigen"),D()(),E(22,"div",14)(23,"label",15),S(24,"Labelgr\xf6\xdfe:"),D(),Ne(25,"br"),E(26,"input",16),G("ngModelChange",function(o){return U(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(27,"div",17)(28,"label",18),S(29,"Darstellungsgr\xf6\xdfe:"),D(),Ne(30,"br"),E(31,"input",19),G("ngModelChange",function(o){return U(i.dialogData.size,o)||(i.dialogData.size=o),o}),D()(),E(32,"button",20),oe("click",function(){return i.dialog.close()}),S(33,"Schlie\xdfen"),D()()),2&r&&(O(5),j("ngModel",i.name),O(4),pr("",i.angle,"\xb0"),O(2),j("ngModel",i.dashed),O(4),j("ngModel",i.latex),O(4),j("ngModel",i.displayBlack),O(7),j("ngModel",i.labelSize),O(5),j("ngModel",i.dialogData.size))},dependencies:[pn,fi,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%], #si[_ngcontent-%COMP%]{width:100%}']})),n}(),uu=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=w(this,n),"_size",void 0),h(r,"lineWidth",void 0),h(r,"componentType",td),h(r,"formulaDialogType",uz),h(r,"_points",void 0),r._size=o,r.lineWidth=s,r._color=i,r._visible=a,r._points=t,r.configuration.formula="Winkel",r.configuration.showLabel=u,r}return k(n,e),m(n,[{key:"points",get:function(){return this._points.slice()},set:function(r){this._points=r.slice(),this.onChange.emit()}},{key:"size",get:function(){return this._size},set:function(r){this._size=r,this.onChange.emit(r)}},{key:"angle",get:function(){if(3!==this.points.length)return Number.NaN;var r=this.points[0].point,i=this.points[1].point,a=this.points[2].point;if(r&&i&&a){var o={x:r.x-i.x,y:r.y-i.y},s={x:a.x-i.x,y:a.y-i.y},u={x:0,y:0},l=(o.x*s.x+o.y*s.y)/(gi(u,o)*gi(u,s));return Math.acos(l)/Math.PI*180}return Number.NaN}},{key:"angles",get:function(){if(3===this._points.length){var r=this._points[0].point,i=this._points[1].point,a=this._points[2].point;if(void 0!==r&&void 0!==i&&void 0!==a){var o={x:1,y:0},s={x:0,y:0},l=function(p,C){return Math.acos(function(p,C){return p.x*C.x+p.y*C.y}(p,C)/gi(s,p)/gi(s,C))},d={x:a.x-i.x,y:a.y-i.y},f=l(o,{x:r.x-i.x,y:r.y-i.y}),v=l(o,d);return r.y>i.y&&(f=-f),a.y>i.y&&(v=-v),[f,v]}}}},{key:"serialize",value:function(){return{data:{points:this.points.map(function(r){return r.id})},style:{color:this.color,visible:this.visible,size:this.size,strokeWidth:this.lineWidth}}}},{key:"loadFrom",value:function(r,i,a){var o,s;this.points=i.data.points.map(function(l){return r[l]}).filter(function(l){return l instanceof ge}),this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:this.lineWidth,this.size=null!==(s=i.style.size)&&void 0!==s?s:this.size}},{key:"draw",value:function(r){var i=this.angles,a=this._points;if(i&&3===a.length){var o=a[1].point;void 0!==o&&(r.drawCircleSector(o,this.size/r.zoom,Xt(this.color,.3),this.color,this.lineWidth,i[1],i[0],this.configuration.dashed),-1!==r.selection.indexOf(this)&&r.drawCircleSector(o,this.size/r.zoom,yr,Xt(this.color,.3),2.5*this.lineWidth,i[1],i[0],this.configuration.dashed))}}},{key:"getPositionForLabel",value:function(r){if(3===this._points.length){var a=this._points[0].point,o=this._points[1].point,s=this._points[2].point;if(void 0!==a&&void 0!==o&&void 0!==s){var u={x:a.x-o.x,y:a.y-o.y},l={x:s.x-o.x,y:s.y-o.y},c={x:u.x+l.x,y:u.y+l.y},d=this.size/r.zoom/2/gi({x:0,y:0},c),f={x:c.x*d,y:c.y*d};return{x:f.x+o.x,y:f.y+o.y}}}}},{key:"getDistance",value:function(r,i){var a=this.size/i.zoom;if(3===this._points.length){var o=this._points[0].point,s=this._points[1].point,u=this._points[2].point;if(void 0!==o&&void 0!==s&&void 0!==u){var l={x:1,y:0},c={x:0,y:0},f=function(I,P){return Math.acos(function(I,P){return I.x*P.x+I.y*P.y}(I,P)/gi(c,I)/gi(c,P))},g={x:u.x-s.x,y:u.y-s.y},p=f(l,{x:o.x-s.x,y:o.y-s.y}),C=f(l,g),b={x:r.x-s.x,y:r.y-s.y},_=f(l,b);if(o.y>s.y&&(p=-p+2*Math.PI),u.y>s.y&&(C=-C+2*Math.PI),r.y>s.y&&(_=-_+2*Math.PI),gi(c,b)<=a&&(C<_&&p>_||C>_&&p>_&&C>p||p<_&&C<_&&C>p))return 0}}return Number.MAX_VALUE}}],[{key:"getDefaultInstance",value:function(){return new n([])}}])}(qi),pk=function(n){return{error:n}},cz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"canvasElement",void 0),i.canvasElement=lu.getDefaultInstance(),i}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}},{key:"errorMessageX",get:function(){return this.canvasElement.xErrorText}},{key:"errorMessageY",get:function(){return this.canvasElement.yErrorText}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-compiled-point-formula"]],features:[fe],decls:15,vars:13,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){var a,o;1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(u){return U(i.canvasElement.color,u)||(i.canvasElement.color=u),u})("visibleChange",function(u){return U(i.canvasElement.visible,u)||(i.canvasElement.visible=u),u}),D(),E(2,"div")(3,"p",2),Ne(4,"span"),S(5),E(6,"span")(7,"input",3),G("ngModelChange",function(u){return U(i.canvasElement.xText,u)||(i.canvasElement.xText=u),u}),D()(),S(8," | "),E(9,"span")(10,"input",3),G("ngModelChange",function(u){return U(i.canvasElement.yText,u)||(i.canvasElement.yText=u),u}),D()(),S(11," ) "),D()(),E(12,"button",4),oe("click",function(u){return i.threePointsClicked(u)}),E(13,"span",5),S(14,"more_vert"),D()()()),2&r&&(O(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(4),pr(" ",i.name,"( "),O(2),X("ngClass",wn(9,pk,void 0!==i.errorMessageX))("title",null!==(a=i.errorMessageX)&&void 0!==a?a:""),j("ngModel",i.canvasElement.xText),O(3),X("ngClass",wn(11,pk,void 0!==i.errorMessageY))("title",null!==(o=i.errorMessageY)&&void 0!==o?o:""),j("ngModel",i.canvasElement.yText))},dependencies:[Kt,pn,Sn,mn,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:100px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}input.error[_ngcontent-%COMP%]{background:#fcc!important}']})),n}(),lu=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2?arguments[2]:void 0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return y(this,n),h(r=w(this,n,[null,[],null,i,a,o]),"parseAndValidateProvider",void 0),h(r,"componentType",cz),h(r,"_xText","0"),h(r,"_xOperation",void 0),h(r,"_xErrorText",void 0),h(r,"_yText","0"),h(r,"_yOperation",void 0),h(r,"_yErrorText",void 0),h(r,"_tempVariables",void 0),h(r,"evaluate",function(){if((r.error||void 0===r._xOperation||void 0===r._yOperation)&&r.reparse(),!r.error&&void 0!==r._xOperation&&void 0!==r._yOperation)try{return{x:r._xOperation.evaluate(r._tempVariables),y:r._yOperation.evaluate(r._tempVariables)}}catch{return}}),h(r,"resetTempListener",function(s){var u;r._tempPoint=void 0,void 0!==s&&(r._tempVariables=null!==(u=s.variables)&&void 0!==u?u:{})}),r.parseAndValidateProvider=t,r._pointProvider=r.evaluate,r}return k(n,e),m(n,[{key:"xText",get:function(){return this._xText},set:function(r){this._xText=r,this.reparseX(),this.onChange.emit(r)}},{key:"yText",get:function(){return this._yText},set:function(r){this._yText=r,this.reparseY(),this.onChange.emit(r)}},{key:"xErrorText",get:function(){return this._xErrorText}},{key:"xError",get:function(){return void 0!==this._xErrorText}},{key:"yErrorText",get:function(){return this._yErrorText}},{key:"yError",get:function(){return void 0!==this._yErrorText}},{key:"error",get:function(){return this.yError||this.xError}},{key:"xOperation",get:function(){return this._xOperation}},{key:"yOperation",get:function(){return this._yOperation}},{key:"reparseX",value:function(){var r=this.parseAndValidateProvider(this._xText);return r instanceof Gn?(this._xOperation=r,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=r,!1)}},{key:"reparseY",value:function(){var r=this.parseAndValidateProvider(this._yText);return r instanceof Gn?(this._yOperation=r,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=r,!1)}},{key:"reparse",value:function(){var r=this.reparseX(),i=this.reparseY();return r&&i}},{key:"serialize",value:function(){return{data:{xText:this.xText,yText:this.yText},style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data;this.loadStyle(i.style),this._xText=o.xText,this._yText=o.yText}},{key:"draw",value:function(r){We(Oe(n.prototype),"draw",this).call(this,r)}}],[{key:"getDefaultInstance",value:function(){return new n(function(){})}},{key:"getDefaultInstanceWithDrawerService",value:function(r){return new n(function(i){return r.parseAndValidateOperation(i)})}}])}(Vn),ad=function(n){return{error:n}},dz=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=w(this,r),"drawerService",void 0),h(a,"canvasElement",void 0),a.drawerService=i,a.canvasElement=cu.getDefaultInstance(i),a}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?" "+this.canvasElement.configuration.name:""}},{key:"contextMenu",get:function(){var a=this;return{elements:function(){return[{header:"Duplizieren",icon:"content_copy",disabled:a.canvasElement.error,click:function(){a.duplicate()},title:"Diese Funktion duplizieren."}]},additionalEvent:this.threePointsClickedEvent}}},{key:"duplicate",value:function(){var a=this.canvasElement.clone();this.drawerService.addCanvasElements(a)}},{key:"errorMessageX",get:function(){return this.canvasElement.xErrorText}},{key:"errorMessageY",get:function(){return this.canvasElement.yErrorText}},{key:"errorMessageBottom",get:function(){return this.canvasElement.bottomErrorText}},{key:"errorMessageTop",get:function(){return this.canvasElement.topErrorText}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-curve-formula"]],features:[fe],decls:52,vars:25,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph","description"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"alignEnd","paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],["autocomplete","off","type","text","step","any",1,"input","parameter",3,"ngModelChange","ngModel"],["autocomplete","off","type","number","step","any",1,"input","steps",3,"ngModelChange","ngModel"]],template:function(r,i){var a,o,s,u;1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(c){return U(i.canvasElement.color,c)||(i.canvasElement.color=c),c})("visibleChange",function(c){return U(i.canvasElement.visible,c)||(i.canvasElement.visible=c),c}),D(),E(2,"div")(3,"p",2),Ne(4,"span"),S(5),D(),E(6,"button",3),oe("click",function(c){return i.threePointsClicked(c)}),E(7,"span",4),S(8,"more_vert"),D()(),E(9,"table")(10,"tr")(11,"td")(12,"p",5),S(13,"x = "),D()(),E(14,"td")(15,"span")(16,"input",6),G("ngModelChange",function(c){return U(i.canvasElement.xText,c)||(i.canvasElement.xText=c),c}),D()()()(),E(17,"tr")(18,"td")(19,"p",5),S(20,"y = "),D()(),E(21,"td")(22,"span")(23,"input",6),G("ngModelChange",function(c){return U(i.canvasElement.yText,c)||(i.canvasElement.yText=c),c}),D()()()(),E(24,"tr")(25,"td")(26,"p",5),S(27,"Parameter: "),D()(),E(28,"td")(29,"span")(30,"input",7),G("ngModelChange",function(c){return U(i.canvasElement.parameter,c)||(i.canvasElement.parameter=c),c}),D()()()(),E(31,"tr")(32,"td")(33,"p",5),S(34,"Schritte: "),D()(),E(35,"td")(36,"span")(37,"input",8),G("ngModelChange",function(c){return U(i.canvasElement.steps,c)||(i.canvasElement.steps=c),c}),D()()()(),E(38,"tr")(39,"td")(40,"p",5),S(41,"Untere Grenze: "),D()(),E(42,"td")(43,"span")(44,"input",6),G("ngModelChange",function(c){return U(i.canvasElement.bottomText,c)||(i.canvasElement.bottomText=c),c}),D()()()(),E(45,"tr")(46,"td")(47,"p",5),S(48,"Obere Grenze: "),D()(),E(49,"td")(50,"span")(51,"input",6),G("ngModelChange",function(c){return U(i.canvasElement.topText,c)||(i.canvasElement.topText=c),c}),D()()()()()()()),2&r&&(O(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(4),pr(" Kurve",i.name,": "),O(11),X("ngClass",wn(17,ad,void 0!==i.errorMessageX))("title",null!==(a=i.errorMessageX)&&void 0!==a?a:""),j("ngModel",i.canvasElement.xText),O(7),X("ngClass",wn(19,ad,void 0!==i.errorMessageY))("title",null!==(o=i.errorMessageY)&&void 0!==o?o:""),j("ngModel",i.canvasElement.yText),O(7),j("ngModel",i.canvasElement.parameter),O(7),j("ngModel",i.canvasElement.steps),O(7),X("ngClass",wn(21,ad,void 0!==i.errorMessageBottom))("title",null!==(s=i.errorMessageBottom)&&void 0!==s?s:""),j("ngModel",i.canvasElement.bottomText),O(7),X("ngClass",wn(23,ad,void 0!==i.errorMessageTop))("title",null!==(u=i.errorMessageTop)&&void 0!==u?u:""),j("ngModel",i.canvasElement.topText))},dependencies:[Kt,pn,wt,Sn,mn,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.input[_ngcontent-%COMP%]{width:150px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none;margin-bottom:0}.alignEnd[_ngcontent-%COMP%]{text-align:end}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}input.error[_ngcontent-%COMP%]{background:#fcc!important}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}']})),n}(),fz=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=w(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}},{key:"labelSize",get:function(){var a;return null!==(a=this.dialogData.configuration.labelSizeFactor)&&void 0!==a?a:1},set:function(a){this.dialogData.configuration.labelSizeFactor=a,this.dialogData.onChange.emit()}}])}(po);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-curve-element"]],features:[fe],decls:26,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"rangeDiv","labelSizeDiv"],["for","lsi"],["min","0","max","5","step","any","id","lsi","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),S(2,"Kurve:"),D(),E(3,"p",2),Ne(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return U(i.name,o)||(i.name=o),o}),D(),S(6," : "),D(),E(7,"div",4)(8,"input",5),G("ngModelChange",function(o){return U(i.dashed,o)||(i.dashed=o),o}),D(),E(9,"label",6),S(10,"Gestrichelt anzeigen"),D()(),E(11,"div",7)(12,"input",8),G("ngModelChange",function(o){return U(i.latex,o)||(i.latex=o),o}),D(),E(13,"label",9),S(14,"Label als LaTeX rendern"),D()(),E(15,"div",10)(16,"input",11),G("ngModelChange",function(o){return U(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(17,"label",12),S(18,"Label schwarz anzeigen"),D()(),E(19,"div",13)(20,"label",14),S(21,"Labelgr\xf6\xdfe:"),D(),Ne(22,"br"),E(23,"input",15),G("ngModelChange",function(o){return U(i.labelSize,o)||(i.labelSize=o),o}),D()(),E(24,"button",16),oe("click",function(){return i.dialog.close()}),S(25,"Schlie\xdfen"),D()()),2&r&&(O(5),j("ngModel",i.name),O(3),j("ngModel",i.dashed),O(4),j("ngModel",i.latex),O(4),j("ngModel",i.displayBlack),O(7),j("ngModel",i.labelSize))},dependencies:[pn,fi,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rangeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#lsi[_ngcontent-%COMP%]{margin-top:6px}#lsi[_ngcontent-%COMP%]{width:100%}']})),n}(),cu=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=w(this,n),"parseAndValidateProvider",void 0),h(r,"componentType",dz),h(r,"formulaDialogType",fz),h(r,"_lineWidth",void 0),h(r,"_parameter","t"),h(r,"_steps",1e3),h(r,"_xText","0"),h(r,"_xErrorText",void 0),h(r,"_xOperation",void 0),h(r,"_yText","0"),h(r,"_yErrorText",void 0),h(r,"_yOperation",void 0),h(r,"_bottomText","0"),h(r,"_bottomErrorText",void 0),h(r,"_bottomOperation",void 0),h(r,"_topText","1"),h(r,"_topErrorText",void 0),h(r,"_topOperation",void 0),r.parseAndValidateProvider=t,r._color=i,r._lineWidth=a,r.configuration.name=o,r.configuration.showLabel=u,r.svgLabel=void 0,r._visible=s,r}return k(n,e),m(n,[{key:"lineWidth",get:function(){return this._lineWidth},set:function(r){this._lineWidth=r,this.onChange.emit(r)}},{key:"dashed",get:function(){return 1==this.configuration.dashed},set:function(r){this.configuration.dashed=r,this.onChange.emit(r)}},{key:"parameter",get:function(){return this._parameter},set:function(r){this._parameter=r,this.onChange.emit(r)}},{key:"steps",get:function(){return this._steps},set:function(r){this._steps=Math.floor(Math.abs(r)),this.onChange.emit(r)}},{key:"xText",get:function(){return this._xText},set:function(r){this._xText=r,this.reparseX(),this.onChange.emit(r)}},{key:"xError",get:function(){return void 0!==this._xErrorText}},{key:"xErrorText",get:function(){return this._xErrorText}},{key:"xOperation",get:function(){return this._xOperation}},{key:"yText",get:function(){return this._yText},set:function(r){this._yText=r,this.reparseY(),this.onChange.emit(r)}},{key:"yError",get:function(){return void 0!==this._yErrorText}},{key:"yErrorText",get:function(){return this._yErrorText}},{key:"yOperation",get:function(){return this._yOperation}},{key:"bottomText",get:function(){return this._bottomText},set:function(r){this._bottomText=r,this.reparseBottom(),this.onChange.emit(r)}},{key:"bottomError",get:function(){return void 0!==this._bottomErrorText}},{key:"bottomErrorText",get:function(){return this._bottomErrorText}},{key:"bottomOperation",get:function(){return this._bottomOperation}},{key:"topText",get:function(){return this._topText},set:function(r){this._topText=r,this.reparseTop(),this.onChange.emit(r)}},{key:"topError",get:function(){return void 0!==this._topErrorText}},{key:"topErrorText",get:function(){return this._topErrorText}},{key:"topOperation",get:function(){return this._topOperation}},{key:"error",get:function(){return this.topError||this.bottomError||this.yError||this.xError}},{key:"reparseX",value:function(){var r=this.parseAndValidateProvider(this._xText,[this.parameter]);return r instanceof Gn?(this._xOperation=r,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=r,!1)}},{key:"reparseY",value:function(){var r=this.parseAndValidateProvider(this._yText,[this.parameter]);return r instanceof Gn?(this._yOperation=r,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=r,!1)}},{key:"reparseBottom",value:function(){var r=this.parseAndValidateProvider(this._bottomText,[]);return r instanceof Gn?(this._bottomOperation=r,this._bottomErrorText=void 0,!0):(this._bottomOperation=void 0,this._bottomErrorText=r,!1)}},{key:"reparseTop",value:function(){var r=this.parseAndValidateProvider(this._topText,[]);return r instanceof Gn?(this._topOperation=r,this._topErrorText=void 0,!0):(this._topOperation=void 0,this._topErrorText=r,!1)}},{key:"reparse",value:function(){var r=this.reparseX(),i=this.reparseY(),a=this.reparseBottom(),o=this.reparseTop();return r&&i&&a&&o}},{key:"parseIfNecessary",value:function(){void 0===this.bottomOperation&&this.reparseBottom(),void 0===this.topOperation&&this.reparseTop(),void 0===this.xOperation&&this.reparseX(),void 0===this.yOperation&&this.reparseY()}},{key:"draw",value:function(r){var i=this.getPoints(r);if(void 0!==i){var a=Xt(this._color,fu),o=this.lineWidth*vu;r.drawPath(i,this.lineWidth,this.color,void 0,this.dashed),-1!==r.selection.indexOf(this)&&r.drawPath(i,o,a,void 0,this.dashed)}}},{key:"getPoints",value:function(r){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){var i=r.variables,a=this.bottomOperation.evaluate(i),o=this.topOperation.evaluate(i);if(o<a){var s=a;a=o,o=s}for(var u=[],l=this.steps,c=(o-a)/l,d=0;d<=l;d++){var f=a+c*d;try{i[this.parameter]=f;var v=this.xOperation.evaluate(i),g=this.yOperation.evaluate(i);u.push({x:v,y:g})}catch{}}return u}}},{key:"loadFrom",value:function(r,i,a){var o,s=i.data;this._xText=s.xText,this._yText=s.yText,this._bottomText=s.bottomText,this._topText=s.topText,this._parameter=s.parameter,this._steps=s.steps,this._color=i.style.color,this._lineWidth=null!==(o=i.style.size)&&void 0!==o?o:3,this._visible=i.style.visible,this.onChange.emit()}},{key:"serialize",value:function(){return{data:{xText:this.xText,yText:this.yText,parameter:this.parameter,bottomText:this.bottomText,topText:this.topText,steps:this.steps},style:{color:this.color,size:this.lineWidth,visible:this.visible}}}},{key:"getDistance",value:function(r,i){var a=this.getPoints(i);if(void 0!==a){var o=a.map(function(l){return ai(l,r)});if(0!==o.length){for(var s=o[0],u=1;u<o.length;u++)o[u]<s&&(s=o[u]);return s}}}},{key:"getPositionForLabel",value:function(r){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){var a=r.variables,o=this.bottomOperation.evaluate(a),s=this.topOperation.evaluate(a);a[this.parameter]=(o+s)/2;try{var u=this.xOperation.evaluate(a),l=this.yOperation.evaluate(a);return{x:u+15/r.zoom,y:l+15/r.zoom}}catch{}}}},{key:"clone",value:function(){var r=new n(this.parseAndValidateProvider,this.color,this.lineWidth,void 0,this.visible);return r._steps=this._steps,r._parameter=this._parameter,r._xText=this._xText,r._yText=this._yText,r._bottomText=this._bottomText,r._topText=this._topText,r.configuration=te({},this.configuration),r}}],[{key:"getDefaultInstance",value:function(r){return new n(function(i,a){return r.parseAndValidateOperation(i,!0,a)})}}])}(qi),yk="definite_integral",_k="dependency_points",Ck="linesegment",Ek="dynamic_point",Dk="compiled_point",kk="variable";function gz(e){return e instanceof tt?"graph":e instanceof vt?"line":e instanceof kt?"circle":e instanceof id?yk:e instanceof lu?Dk:e instanceof Do?_k:e instanceof ft?Ck:e instanceof Vn?Ek:e instanceof ge?"point":e instanceof _o?kk:e instanceof uu?"angle":e instanceof cu?"curve":"undefined"}var Tk="serialized",Pk='"Cambria Math", Cambria, "CMU Serif", serif',Ok="Ung\xfcltige Eingabe.",Ak="Referenz einer unbekannten Funktion.",er=function(){var e,n=function(){return m(function t(){var r=this;y(this,t),h(this,"_mode",new zr),h(this,"_backgroundColor",{r:255,g:255,b:255}),h(this,"_canvasElements",[]),h(this,"_metaDrawers",[]),h(this,"_transformations",{translateX:7,translateY:-5,zoom:100}),h(this,"_showGrid",!0),h(this,"_showGridNumbers",!0),h(this,"_drawPointsEqually",!1),h(this,"selection",new W3),h(this,"canvas",void 0),h(this,"onBackgroundColorChanged",new dt),h(this,"onCanvasElementChanged",new dt),h(this,"onMetaDrawersChanged",new dt),h(this,"onTransformationsChanged",new dt),h(this,"onCanvasConfigChanged",new dt),h(this,"onBeforeRedraw",new dt),h(this,"onBeforeElementsDraw",new dt),h(this,"onAfterRedraw",new dt),h(this,"onModeChanged",new dt),h(this,"redrawListener",function(){r.redraw()}),h(this,"canvasElementOnChangeListener",function(i){r.onCanvasElementChanged.emit(i)}),h(this,"emptyCacheListener",function(){r.funcCache.empty()}),h(this,"saveListener",function(){localStorage[Tk]=JSON.stringify(r.serialize())}),h(this,"funcCache",new np),h(this,"funcProvider",function(i){var a=r.funcCache.getItem(i);if(a)return a;var s,o=x(r.graphs);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(void 0!==u.func&&Kc(i)===Kc(u.func.name)){var l=u.func,c=Qc(l.name),d=Qc(i);if(c>d)continue;for(var f=0;f<d-c;f++)l=l.derive();return r.funcCache.setItem(i,l),l}}}catch(v){o.e(v)}finally{o.f()}}),this.addMetaDrawer(new y3),this.onBackgroundColorChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.redrawListener),this.onTransformationsChanged.addListener(this.redrawListener),this.onMetaDrawersChanged.addListener(this.redrawListener),this.onCanvasConfigChanged.addListener(this.redrawListener),this.onModeChanged.addListener(this.redrawListener),this.selection.onSelectionChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onAfterRedraw.addListener(this.saveListener)},[{key:"mode",get:function(){return this._mode},set:function(i){this._mode=i,this.onModeChanged.emit(i)}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this.onBackgroundColorChanged.emit(i)}},{key:"addCanvasElements",value:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=0,u=a;s<u.length;s++){var l=u[s];this._canvasElements.push(l),l.onChange.addListener(this.canvasElementOnChangeListener),l.onAdd.emit(this)}this.onCanvasElementChanged.emit(a)}},{key:"removeCanvasElements",value:function(){for(var i=!0,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];for(var u=0,l=o;u<l.length;u++){var c=l[u],d=this._canvasElements.indexOf(c);d>=0?(this._canvasElements.splice(d,1),c.onChange.removeListener(this.canvasElementOnChangeListener),c.onRemove.emit(this)):i=!1}return this.onCanvasElementChanged.emit(o),i}},{key:"emptyCanvasElements",value:function(){var a,i=x(this._canvasElements);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.onChange.removeListener(this.canvasElementOnChangeListener),o.onRemove.emit(this)}}catch(s){i.e(s)}finally{i.f()}this._canvasElements=[],this.onCanvasElementChanged.emit()}},{key:"canvasElements",get:function(){return this._canvasElements.slice()}},{key:"addMetaDrawer",value:function(i){this._metaDrawers.push(i),this.onMetaDrawersChanged.emit(i)}},{key:"removeMetaDrawer",value:function(i){var a=this._metaDrawers.indexOf(i);return a>=0&&(this._metaDrawers.splice(a,1),this.onMetaDrawersChanged.emit(i),!0)}},{key:"emptyMetaDrawers",value:function(){this._metaDrawers=[],this.onMetaDrawersChanged.emit()}},{key:"metaDrawers",get:function(){return this._metaDrawers.slice()}},{key:"translateX",get:function(){return this._transformations.translateX},set:function(i){this._transformations.translateX=i,this.onTransformationsChanged.emit(i)}},{key:"translateY",get:function(){return this._transformations.translateY},set:function(i){this._transformations.translateY=i,this.onTransformationsChanged.emit(i)}},{key:"zoom",get:function(){return this._transformations.zoom},set:function(i){this._transformations.zoom=i,this.onTransformationsChanged.emit(i)}},{key:"transformations",get:function(){return{translateX:this.translateX,translateY:this.translateY,zoom:this.zoom}},set:function(i){this._transformations.zoom=i.zoom,this._transformations.translateX=i.translateX,this._transformations.translateY=i.translateY,this.onTransformationsChanged.emit(i)}},{key:"showGrid",get:function(){return this._showGrid},set:function(i){this._showGrid=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"showGridNumbers",get:function(){return this._showGridNumbers},set:function(i){this._showGridNumbers=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"drawPointsEqually",get:function(){return this._drawPointsEqually},set:function(i){this._drawPointsEqually=!0===i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"canvasConfig",get:function(){return{showNumbers:this.showGridNumbers,showGrid:this.showGrid,drawPointsEqually:this.drawPointsEqually}}},{key:"renderingContext",get:function(){var i;return this.getRenderingContextFor(null===(i=this.canvas)||void 0===i?void 0:i.ctx,this._transformations)}},{key:"getRenderingContextFor",value:function(i,a){return new m3(i,a,this.getVariables(),this.selection.toArray(),this.canvasConfig)}},{key:"redraw",value:function(){this.canvas&&this.canvas.canvasEl&&this.canvas.wrapperEl&&this.canvas.ctx&&(this.onBeforeRedraw.emit(),this.drawToCanvas(this.canvas.canvasEl,this.canvas.wrapperEl.getBoundingClientRect(),this._transformations,!0),this.onAfterRedraw.emit())}},{key:"tex2svg",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,o=MathJax.tex2svg(i).firstElementChild;return o.setAttributeNS(null,"color",et(a)),o}},{key:"drawToCanvas",value:function(i,a,o){var s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=i.getContext("2d");l.canvas.width=a.width,l.canvas.height=a.height,l.fillStyle=et(this.backgroundColor),l.fillRect(0,0,i.width,i.height);var c=this.getRenderingContextFor(l,o);this.onBeforeElementsDraw.emit(c);var f,g,d=x(this._metaDrawers);try{for(d.s();!(f=d.n()).done;)f.value.draw(c)}catch(P){d.e(P)}finally{d.f()}if(this.drawPointsEqually)g=this._canvasElements;else{var p=this._canvasElements.filter(function(P){return P instanceof ge}),C=this._canvasElements.filter(function(P){return P instanceof uu}),b=this._canvasElements.filter(function(P){return!(P instanceof ge||P instanceof uu)});g=C.concat(b).concat(p)}var M,_=x(g);try{var I=function(){var B,F=M.value;if(c.config&&u)if(F.visible)c.config.transformColor=void 0;else{var Z;c.config.transformColor=null===(Z=s.mode)||void 0===Z?void 0:Z.transformInvisibleColor}if(F.visible||null!==(B=c.config)&&void 0!==B&&B.transformColor){F.draw(c);var Q=s.getLabelPoint(F,c),ve=F.configuration.label;if(void 0!==Q&&void 0!==ve&&""!==ve){var ye,de,be=F.configuration.displayBlackLabel?jn:F.color,je=null===(ye=!F.configuration.dontUseLaTeX)||void 0===ye||ye,tn=null!==(de=F.configuration.labelSizeFactor)&&void 0!==de?de:1,z=function(){c.drawText(ve,Q,18*tn,Pk,"start","alphabetic","inherit",be,s.selection.contains(F)?Xt(be,.2):RH,3)};if(MathJax&&je)try{var N=function(K){c.drawImage(K,Q,K.naturalWidth*tn,K.naturalHeight*tn)};if(void 0===F.svgLabel){var H=s.tex2svg(ve,be),J=document.createElement("img");J.src="data:image/svg+xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n'+H.outerHTML),J.onload=function(se){var K;F.svgLabel=null!==(K=se.target)&&void 0!==K?K:void 0,F.svgLabel?N(F.svgLabel):z()}}else N(F.svgLabel)}catch{F.svgLabel=void 0,console.log("nenenenenene"),z()}else z()}}};for(_.s();!(M=_.n()).done;)I()}catch(P){_.e(P)}finally{_.f()}}},{key:"zoomToBy",value:function(i,a){var o_y=-i.y/this.zoom*(1-1/a);this._transformations.translateX-=i.x/this.zoom*(1-1/a),this._transformations.translateY-=o_y,this.zoom*=a}},{key:"graphs",get:function(){return this.canvasElements.filter(function(i){return i instanceof tt})}},{key:"points",get:function(){return this.canvasElements.filter(function(i){return i instanceof ge})}},{key:"parseAndValidateOperation",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var s=new lk(i,this.funcProvider).parse();try{var u=Xg(s);if(a){var c,l=x(u.variableNames);try{for(l.s();!(c=l.n()).done;){var d=c.value;-1===o.indexOf(d)&&this.addVariable(d)}}catch(f){l.e(f)}finally{l.f()}}return s}catch{return Ak}}catch{return Ok}}},{key:"parseAndValidateFunc",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var o=new j3(i,this.funcProvider).parse();try{if(Xw(o))return"Eine Funktion darf nicht auf sich selbst verweisen.";var s=function d3(e){return Xg(e.operation)}(o);if(a){var l,u=x(s.variableNames);try{for(u.s();!(l=u.n()).done;){var c=l.value;c!==o.variable&&(void 0!==o.variable||"x"!==c)&&this.addVariable(c)}}catch(d){u.e(d)}finally{u.f()}}return o}catch{return Ak}}catch{return Ok}}},{key:"parseAndValidateProviderGraph",get:function(){var i=this;return function(a){return i.parseAndValidateFunc(a)}}},{key:"addVariable",value:function(i){var a=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.hasVariable(i)){var s=new _o(i,0);return this.addCanvasElements(s),o&&this.onCanvasElementChanged.addListener(function l(){var f,c=!1,d=x(a.canvasElements);try{for(d.s();!(f=d.n()).done;){var v=f.value;if(v instanceof tt?c=c||void 0!==v.func&&v.func.variable!==s.key&&(void 0!==v.func.variable||"x"!==s.key)&&Er(v.func,s.key):v instanceof lu?c=c||Er(v.xOperation,s.key)||Er(v.yOperation,s.key):v instanceof cu&&(c=(c=(c=c||Er(v.topOperation,s.key)||Er(v.bottomOperation,s.key))||v.parameter!==s.key&&Er(v.xOperation,s.key))||v.parameter!==s.key&&Er(v.yOperation,s.key)),c)return}}catch(g){d.e(g)}finally{d.f()}c||(a.onCanvasElementChanged.removeListener(l),a.removeCanvasElements(s))}),s}}},{key:"getNewColor",value:function(){return function KH(e,n,t){for(var r=n.slice(),i=0,a=function(u){return t(e[i%e.length],u)};UM(r,a);i++){var o=ZH(r,a);r.splice(o,1)}return e[i%e.length]}(q3,this.canvasElements.map(function(i){return i.color}),function(i,a){return function $H(e,n){return e.r==n.r&&e.g==n.g&&e.b==n.b&&(e.a==n.a||!e.a&&!n.a)}(i,a)})}},{key:"getVariables",value:function(){var o,i={},a=x(this.canvasElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;s instanceof _o&&(i[s.key]=s.value)}}catch(u){a.e(u)}finally{a.f()}return i}},{key:"hasVariable",value:function(i){var o,a=x(this.canvasElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s instanceof _o&&s.key===i)return!0}}catch(u){a.e(u)}finally{a.f()}return!1}},{key:"getLabelPoint",value:function(i,a){var o=i.getPositionForLabel(a);if(void 0!==o&&void 0!==i.configuration.label&&i.configuration.showLabel){var s=a.range,u={x:Math.abs(s.width)*i.labelTranslate.x,y:Math.abs(s.height)*i.labelTranslate.y};return{x:o.x+u.x,y:o.y+u.y}}}},{key:"getSelection",value:function(i){var c,v,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=this.renderingContext,l=void 0,d=function(M){var I,P=a.getLabelPoint(M,u);if(void 0!==M.configuration.label&&void 0!==P){var B=null!==(I=M.configuration.labelSizeFactor)&&void 0!==I?I:1,F=0,Z=0;return M.configuration.dontUseLaTeX||void 0===M.svgLabel?(F=u.measureText(M.configuration.label,18,Pk).width/u.zoom*B,Z=18/u.zoom*B):(F=M.svgLabel.width/u.zoom*B,Z=-M.svgLabel.height/u.zoom*B),RM(i,te(te({},P),{},{width:F,height:Z}))}},f=x(this.canvasElements);try{for(f.s();!(v=f.n()).done;){var g=v.value,p=zH(g.getDistance(i,u),d(g));if(null!=p&&isFinite(p)&&o(g)&&(g.visible||!s)){var C=void 0===l;(C=C||p<=l)&&(l=p,c=g)}}}catch(_){f.e(_)}finally{f.f()}return void 0!==l&&10<l*this.zoom&&(c=void 0,l=void 0),c}},{key:"setSelection",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.getSelection(i,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0});a?this.selection.set(s):this.selection.alternate(s)}},{key:"serialize",value:function(){return function vz(e){var r,n=[],t=x(e.canvasElements);try{for(t.s();!(r=t.n()).done;){var i=r.value,o=te(te({},i.serialize()),{},{id:i.id,configuration:i.configuration,type:gz(i),translateLabel:i.labelTranslate});n.push(o)}}catch(s){t.e(s)}finally{t.f()}return{canvasElements:n,backgroundColor:e.backgroundColor,transformations:e.transformations,showGrid:e.showGrid,showGridNumbers:e.showGridNumbers,drawPointsEqually:e.drawPointsEqually}}(this)}},{key:"loadFrom",value:function(i){!function pz(e,n){e.showGridNumbers=n.showGridNumbers,e.showGrid=n.showGrid,e.drawPointsEqually=n.drawPointsEqually,e.transformations=n.transformations,e.backgroundColor=n.backgroundColor,e.emptyCanvasElements();var i,t={},r=x(n.canvasElements);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=void 0;"circle"===a.type?o=kt.getDefaultInstance():a.type===yk?o=id.getDefaultInstance():a.type===Dk?o=lu.getDefaultInstanceWithDrawerService(e):a.type===_k?o=Do.getDefaultInstance(e):a.type===Ck?o=ft.getDefaultInstance():"graph"===a.type?o=tt.getDefaultInstance(e):a.type===Ek?o=Vn.getDefaultInstance():"point"===a.type?o=ge.getDefaultInstance():"line"===a.type?o=vt.getDefaultInstance():a.type===kk?o=_o.getDefaultInstance():"angle"===a.type?o=uu.getDefaultInstance():"curve"===a.type&&(o=cu.getDefaultInstance(e)),void 0!==o&&(o.configuration=a.configuration,o.labelTranslate=a.translateLabel,o.svgLabel=void 0,t[a.id]=o)}}catch(g){r.e(g)}finally{r.f()}var u,s=x(n.canvasElements);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=t[l.id];void 0!==c&&c.loadFrom(t,l,e)}}catch(g){s.e(g)}finally{s.f()}e.addCanvasElements.apply(e,V(Object.values(t).filter(function(g){return void 0!==g})));var f,d=x(e.graphs);try{for(d.s();!(f=d.n()).done;)f.value.reparseIfNecessary()}catch(g){d.e(g)}finally{d.f()}e.redraw()}(this,i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",he({token:e,factory:e.\u0275fac,providedIn:"root"})),n}(),yz=function(n){return{notLast:n}};function _z(e,n){if(1&e&&(E(0,"span"),S(1," von "),E(2,"span",12),S(3),D()()),2&e){var t=en(2);O(3),nn(t.dialogData.description[1]())}}function Cz(e,n){if(1&e){var t=Lr();E(0,"div",15)(1,"p",16),S(2),D(),E(3,"button",17),oe("click",function(){var o=Ye(t).$implicit;return $e(en(3).addPointToDrawerService(o))}),E(4,"span",18),S(5,"add"),D()()()}if(2&e){var r=n.$implicit;X("ngClass",wn(3,yz,!n.last)),O(2),Ns("(",r.x.toLocaleString(),"|",r.y.toLocaleString(),")")}}function bz(e,n){if(1&e&&(E(0,"div",13)(1,"p",4),S(2,"Ergebnisse:"),D(),Rn(3,Cz,6,5,"div",14),D()),2&e){var t=en(2);O(3),X("ngForOf",t.dialogData.points)}}function Ez(e,n){1&e&&(E(0,"div",19),S(1,"Es wurden keine Elemente gefunden."),D())}function Dz(e,n){if(1&e){var t=Lr();E(0,"div",1)(1,"p",2),S(2),Rn(3,_z,4,1,"span",3),D(),E(4,"p",4),S(5,"Im Intervall"),D(),E(6,"p",5)(7,"app-interval",6),G("fromChange",function(a){Ye(t);var o=en();return U(o.dialogData.from,a)||(o.dialogData.from=a),$e(a)})("toChange",function(a){Ye(t);var o=en();return U(o.dialogData.to,a)||(o.dialogData.to=a),$e(a)}),D()(),E(8,"p",4),S(9,"mit der Suchtiefe:"),D(),E(10,"p",7)(11,"input",8),G("ngModelChange",function(a){Ye(t);var o=en();return U(o.dialogData.depth,a)||(o.dialogData.depth=a),$e(a)}),D()(),Rn(12,bz,4,1,"div",9)(13,Ez,2,0,"div",10),E(14,"button",11),oe("click",function(){return Ye(t),$e(en().dialog.close())}),S(15,"Schlie\xdfen"),D()()}if(2&e){var r=en();O(2),pr(" ",r.dialogData.description[0],""),O(),X("ngIf",void 0!==r.dialogData.description[1]()),O(4),j("from",r.dialogData.from)("to",r.dialogData.to),O(4),j("ngModel",r.dialogData.depth),O(),X("ngIf",0!==r.dialogData.size),O(),X("ngIf",0===r.dialogData.size)}}var Mz=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=w(this,r),"drawerService",void 0),h(a,"dialogData",void 0),a.drawerService=i,a}return k(r,t),m(r,[{key:"addPointToDrawerService",value:function(a){this.drawerService.addCanvasElements(new ge(a,this.drawerService.getNewColor()))}}])}(po);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-dependency-point-elements-dialog"]],features:[fe],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"paragraph","heading"],[4,"ngIf"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],[1,"centered","maths"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["class","pointWrappers",4,"ngIf"],["class","paragraph defaultMargin pointsNotFoundMessage",4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"maths"],[1,"pointWrappers"],["class","point",3,"ngClass",4,"ngFor","ngForOf"],[1,"point",3,"ngClass"],[1,"maths","paragraph","pointParagraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","defaultMargin","pointsNotFoundMessage"]],template:function(r,i){1&r&&Rn(0,Dz,16,7,"div",0),2&r&&X("ngIf",void 0!==i.dialogData)},dependencies:[Kt,so,uo,pn,wt,Sn,mn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.defaultMargin[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.pointParagraph[_ngcontent-%COMP%]{line-height:46px;margin-top:0;margin-bottom:0}.maths[_ngcontent-%COMP%]{font-size:16pt!important}.point[_ngcontent-%COMP%]{width:290px;padding:7px}.notLast[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.pointWrappers[_ngcontent-%COMP%]{margin-bottom:16px;max-height:400px;overflow-y:auto}.iconButton[_ngcontent-%COMP%]{background-color:#fff}.input[_ngcontent-%COMP%]{width:50px;display:unset}.pointsNotFoundMessage[_ngcontent-%COMP%]{width:290px;padding:7px}']})),n}(),du="__dependencyPointElements__",xk="intersectionpoints",Nk="zeropoints",Fk="extremumpoints",Rk="inflectionpoints",Do=function(e){function n(t,r,i,a,o,s,u,l){var c,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:jn,f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],v=arguments.length>10?arguments[10]:void 0,g=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];return y(this,n),h(c=w(this,n),"drawerService",void 0),h(c,"pointsProvider",void 0),h(c,"dependencyStillActive",void 0),h(c,"description",void 0),h(c,"subTypeAndGraphsProvider",void 0),h(c,"firstInit",void 0),h(c,"componentType",l3),h(c,"formulaDialogType",Mz),h(c,"pointElements",[]),h(c,"initializedYet",!1),h(c,"correctVersion",0),h(c,"drawnVersion",0),h(c,"_stroke",{r:100,g:100,b:100}),h(c,"_strokeWidth",3),h(c,"_radius",5),h(c,"_from",void 0),h(c,"_to",void 0),h(c,"_depth",void 0),h(c,"reloadListener",function(p){p!==du&&p!==c&&c.reload().catch(function(C){return console.error(C)})}),h(c,"removeListener",function(){c.drawerService.onCanvasElementChanged.removeListener(c.reloadListener)}),c.drawerService=t,c.pointsProvider=r,c.dependencyStillActive=s,c.description=u,c.subTypeAndGraphsProvider=l,c.firstInit=v,c._color=d,c._visible=f,c._from=i,c._to=a,c._depth=o,g&&(c.onRemove.addListener(c.removeListener),c.drawerService.onCanvasElementChanged.addListener(c.reloadListener)),c}return k(n,e),m(n,[{key:"points",get:function(){return this.pointElements.map(function(r){return r.point})}},{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(du)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(du)}},{key:"radius",get:function(){return this._radius},set:function(r){this._radius=r,this.onChange.emit(du)}},{key:"size",get:function(){return this.pointElements.length}},{key:"from",get:function(){return this._from},set:function(r){this._from=r,this.onChange.emit(r)}},{key:"to",get:function(){return this._to},set:function(r){this._to=r,this.onChange.emit(r)}},{key:"depth",get:function(){return this._depth},set:function(r){this._depth=r,this.onChange.emit(r)}},{key:"reload",value:(t=function n5(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function o(u){GM(a,r,i,o,s,"next",u)}function s(u){GM(a,r,i,o,s,"throw",u)}o(void 0)})}}(Zi().mark(function i(){var a=this;return Zi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.dependencyStillActive()){s.next=5;break}return this.correctVersion++,s.abrupt("return",new Promise(function(u,l){setTimeout(function(){try{var c=a.pointsProvider(a.from,a.to,a.depth);if(!a.initializedYet&&a.firstInit&&a.firstInit(c),a.initializedYet=!0,a.pointElements.length<c.length)for(var d=c.length-a.pointElements.length,f=0;f<d;f++)a.createPointElement();else if(a.pointElements.length>c.length)for(var v=a.pointElements.length-c.length,g=0;g<v;g++)a.pointElements.pop();for(var p=0;p<c.length;p++)a.pointElements[p].forceSetPoint(c[p]);a.drawnVersion++,a.onChange.emit(du),u()}catch(C){a.drawnVersion++,l(C)}})}));case 5:this.drawerService.removeCanvasElements(this);case 6:case"end":return s.stop()}},i,this)})),function r(){return t.apply(this,arguments)})},{key:"createPointElement",value:function(){var i=new ge(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},this.color,!0);return i.radius=this.radius,i.stroke=this.stroke,i.strokeWidth=this.strokeWidth,this.pointElements.push(i),i}},{key:"draw",value:function(r){if(this.correctVersion===this.drawnVersion){var o,i=-1!==r.selection.indexOf(this),a=x(this.pointElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.color=this.color,s.radius=this.radius,s.stroke=this.stroke,s.strokeWidth=this.strokeWidth,s.selected=i,s.draw(r)}}catch(u){a.e(u)}finally{a.f()}}}},{key:"getDistance",value:function(r,i){return Math.min.apply(Math,V(this.pointElements.map(function(a){return a.getDistance(r,i)}).filter(function(a){return void 0!==a})))}},{key:"serialize",value:function(){var r=this.subTypeAndGraphsProvider();return{subType:r.subType,data:{graph:r.graph,secondGraph:r.secondGraph,depth:this.depth,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,size:this.radius,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a=i.data;this.color=i.style.color,this.stroke=i.style.stroke,this.radius=i.style.size,this.strokeWidth=i.style.strokeWidth,this.visible=i.style.visible,this.depth=a.depth,this.from=a.from,this.to=a.to;var u,o=r[a.graph],s=void 0===a.secondGraph?void 0:r[a.secondGraph];if(i.subType===xk&&o instanceof tt&&s instanceof tt)u=n.createIntersectionPoints(this.drawerService,o,s,a.from,a.to,a.depth,void 0,void 0,!1);else if(i.subType===Nk&&o instanceof tt)u=n.createZeroPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1);else if(i.subType===Fk&&o instanceof tt)u=n.createExtremumPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1);else{if(!(i.subType===Rk&&o instanceof tt))throw"not known subtype";u=n.createInflectionPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1)}this.pointsProvider=u.pointsProvider,this.dependencyStillActive=u.dependencyStillActive,this.description=u.description,this.subTypeAndGraphsProvider=u.subTypeAndGraphsProvider,this.draw=u.draw}}],[{key:"createIntersectionPoints",value:function(r,i,a,o,s,u,l,c){var d,f=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];l=null!==(d=l)&&void 0!==d?d:r.getNewColor();var v=Mg+0;return new n(r,function(g,p,C){var b,_,M,I;if(void 0===i.func)return[];var P=function(Q){return function(ve){if(void 0===Q.func)throw"can't use bad function";var ye=Q.func,je=Qc(ve)-(Q.func.name?Qc(Q.func.name):0);if(je<0)throw"can't integrate";for(var tn=0;tn<je;tn++)ye=ye.derive();return ye}},B=new fo(new mo(new Ji(null!==(b=null===(_=i.func)||void 0===_?void 0:_.name)&&void 0!==b?b:"",P(i),new xt(v)),new Ji(null!==(M=null===(I=a.func)||void 0===I?void 0:I.name)&&void 0!==M?M:"",P(a),new xt(v))),void 0,"x"),F=r.getVariables();return iu(B,F,g,p,C).map(function(Z){return{x:Z,y:i.func.evaluate(Z,F)}})},o,s,u,function(){var b,g=!1,p=!1,C=x(r.canvasElements);try{for(C.s();!(b=C.n()).done;){var _=b.value;_===i?g=!0:_===a&&(p=!0)}}catch(M){C.e(M)}finally{C.f()}return g&&p},["Schnittpunkte",function(){var g;return void 0!==i.func&&i.func.name&&null!==(g=a.func)&&void 0!==g&&g.name?"".concat(i.func.name,", ").concat(a.func.name):void 0}],function(){return{graph:i.id,secondGraph:a.id,subType:xk}},l,!0,c,f)}},{key:"createZeroPoints",value:function(r,i,a,o,s,u){return n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function v3(e,n,t,r,i){return iu(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,Nk,"Nullpunkt",u,!(arguments.length>6&&void 0!==arguments[6])||arguments[6])}},{key:"createExtremumPoints",value:function(r,i,a,o,s,u){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.func.derive(),n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function h3(e,n,t,r,i){return ek(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,Fk,"Extrempunkt",u,l)}},{key:"createInflectionPoints",value:function(r,i,a,o,s,u){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.func.derive(),n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function p3(e,n,t,r,i){return function g3(e,n,t,r,i){return ek(e.derive(),n,t,r,i)}(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,Rk,"Wendepunkt",u,l)}},{key:"createDependencyPointElements",value:function(r,i,a,o,s,u,l,c,d){var f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];return new n(r,a,o,s,u,function JH(e,n){return function(){var r,t=x(e.canvasElements);try{for(t.s();!(r=t.n()).done;)if(r.value===n)return!0}catch(a){t.e(a)}finally{t.f()}return!1}}(r,i),function e5(e,n){return[e,function(){var t;return null===(t=n.func)||void 0===t?void 0:t.name}]}("".concat(c,"e"),i),function(){return{graph:i.id,subType:l}},i.color,!0,d,f)}},{key:"getDefaultInstance",value:function(r){return new n(r,function(){return[]},0,0,1,function(){return!0},["",function(){}],function(){return{subType:"",graph:-1}},jn,!0,void 0,!0)}}]);var t}(qi),wz=["snackbar"],kz=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"wrapper",void 0),h(this,"snackbarConfig",void 0),h(this,"message",void 0)},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var i,a,o,s,u=this.wrapper.nativeElement;u.textContent=this.message,u.style.background=null!==(i=null===(a=this.snackbarConfig)||void 0===a?void 0:a.background)&&void 0!==i?i:"#333",u.style.color=null!==(o=null===(s=this.snackbarConfig)||void 0===s?void 0:s.color)&&void 0!==o?o:"white"}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-snackbar"]],viewQuery:function(r,i){var a;1&r&&bt(wz,5),2&r&&Et(a=Dt())&&(i.wrapper=a.first)},decls:3,vars:0,consts:[["snackbar",""],[1,"filler"],[1,"snackbar"]],template:function(r,i){1&r&&(E(0,"div",1),Ne(1,"div",2,0),D())},styles:['@keyframes _ngcontent-%COMP%_animateWrapperSnackbar{0%{transform:translateY(100px)}to{transform:translateY(0)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;pointer-events:none;align-items:flex-end;justify-content:center;display:flex}.snackbar[_ngcontent-%COMP%]{padding:10px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperSnackbar .2s ease-in-out;font-size:13pt;text-align:center;font-family:Segoe UI,Calibri,"sans-serif";user-select:none;pointer-events:all;margin-bottom:10px;box-shadow:0 0 10px #9997}']})),n}(),cp=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"rootViewContainerRef",void 0)},[{key:"openSnackbar",value:function(i,a){var o=this;return new Promise(function(s,u){var l,c;if(o.rootViewContainerRef){var d=null!==(l=a?.duration)&&void 0!==l?l:4e3,f=null===(c=o.rootViewContainerRef)||void 0===c?void 0:c.createComponent(kz);f?(f.instance.message=i,f.instance.snackbarConfig=a,setTimeout(function(){f.destroy(),s()},d)):u()}else u()})}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",he({token:e,factory:e.\u0275fac,providedIn:"root"})),n}(),Sz=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"snackbarService",void 0),h(this,"dialogData",void 0),h(this,"dialog",void 0),h(this,"from",-1),h(this,"to",1),h(this,"_depth",10),this.drawerService=r,this.snackbarService=i},[{key:"depth",get:function(){return this._depth},set:function(i){this._depth=Math.floor(i)}},{key:"evaluateZeroPoints",value:function(){var i=this;try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Do.createZeroPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(a){Rc(i.snackbarService,"Nullpunkt",a.length)}))}catch{Lc(this.snackbarService)}this.dialog.close()}},{key:"evaluateExtremumPoints",value:function(){var i=this;try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Do.createExtremumPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(a){Rc(i.snackbarService,"Extrempunkt",a.length)}))}catch{Lc(this.snackbarService)}this.dialog.close()}},{key:"evaluateInflectionPoints",value:function(){var i=this;try{if(this.dialogData&&this.dialogData.graph){var a=Do.createInflectionPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(o){Rc(i.snackbarService,"Wendepunkt",o.length)});this.drawerService.addCanvasElements(a)}}catch{Lc(this.snackbarService)}this.dialog.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(cp))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-func-analyser-dialog"]],decls:24,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"maths","heading"],[1,"centered","maths"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Extrempunkte berechnen",1,"button","floatRight",3,"click"],["title","Nullpunkte berechnen",1,"button","floatRight",3,"click"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Wendepunkte berechnen",1,"button","floatRight",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),S(2,"Funktion "),E(3,"span",2),S(4),D(),S(5,"analysieren:"),D(),E(6,"p",3),S(7),D(),E(8,"p",4),S(9,"Im Intervall"),D(),E(10,"p",5)(11,"app-interval",6),G("fromChange",function(o){return U(i.from,o)||(i.from=o),o})("toChange",function(o){return U(i.to,o)||(i.to=o),o}),D()(),E(12,"p",4),S(13,"mit der Suchtiefe:"),D(),E(14,"p",3)(15,"input",7),G("ngModelChange",function(o){return U(i.depth,o)||(i.depth=o),o}),D()(),E(16,"button",8),oe("click",function(){return i.evaluateExtremumPoints()}),S(17,"Extrempunkte"),D(),E(18,"button",9),oe("click",function(){return i.evaluateZeroPoints()}),S(19,"Nullpunkte"),D(),E(20,"button",10),oe("click",function(){return i.dialog.close()}),S(21,"Schlie\xdfen"),D(),E(22,"button",11),oe("click",function(){return i.evaluateInflectionPoints()}),S(23,"Wendepunkte"),D()()),2&r&&(O(4),nn(null!=i.dialogData&&null!=i.dialogData.graph&&null!=i.dialogData.graph.func&&i.dialogData.graph.func.name?(null==i.dialogData||null==i.dialogData.graph||null==i.dialogData.graph.func?null:i.dialogData.graph.func.name)+" ":""),O(3),nn(null==i.dialogData||null==i.dialogData.graph||null==i.dialogData.graph.func?null:i.dialogData.graph.func.operationAsString),O(4),j("from",i.from)("to",i.to),O(4),j("ngModel",i.depth))},dependencies:[pn,wt,Sn,mn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})),n}(),Iz=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"snackbarService",void 0),h(this,"dialogData",void 0),h(this,"dialog",void 0),h(this,"from",-1),h(this,"to",1),h(this,"_depth",10),this.drawerService=r,this.snackbarService=i},[{key:"depth",get:function(){return this._depth},set:function(i){this._depth=Math.floor(i)}},{key:"getFuncName",value:function(i){return i&&void 0!==i.func&&i.func.name?" ".concat(i.func.name):""}},{key:"evaluateIntersectionPoints",value:function(){var i=this,a=!1;try{this.dialogData&&this.dialogData.graph1&&this.dialogData.graph2?this.drawerService.addCanvasElements(Do.createIntersectionPoints(this.drawerService,this.dialogData.graph1,this.dialogData.graph2,this.from,this.to,this.depth,this.dialogData.color,function(l){Rc(i.snackbarService,"Schnittpunkt",l.length)})):a=!0}catch{a=!0}a&&Lc(this.snackbarService),this.dialog.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(cp))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-intersection-dialog"]],decls:29,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"maths"],[1,"centered","maths"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Schnittpunkte berechnen",1,"button","floatRight",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),S(2,"Schnittpunkte berechnen"),D(),E(3,"p",2),S(4,"Von"),E(5,"span",3),S(6),D(),S(7,":"),D(),E(8,"p",4),S(9),D(),E(10,"p",2),S(11,"Und"),E(12,"span",3),S(13),D(),S(14,":"),D(),E(15,"p",4),S(16),D(),E(17,"p",2),S(18,"Im Intervall"),D(),E(19,"p",5)(20,"app-interval",6),G("fromChange",function(o){return U(i.from,o)||(i.from=o),o})("toChange",function(o){return U(i.to,o)||(i.to=o),o}),D()(),E(21,"p",2),S(22,"mit der Suchtiefe:"),D(),E(23,"p",4)(24,"input",7),G("ngModelChange",function(o){return U(i.depth,o)||(i.depth=o),o}),D()(),E(25,"button",8),oe("click",function(){return i.dialog.close()}),S(26,"Schlie\xdfen"),D(),E(27,"button",9),oe("click",function(){return i.evaluateIntersectionPoints()}),S(28,"Schnittpunkte"),D()()),2&r&&(O(6),nn(i.getFuncName(null==i.dialogData?null:i.dialogData.graph1)),O(3),nn(null==i.dialogData||null==i.dialogData.graph1||null==i.dialogData.graph1.func?null:i.dialogData.graph1.func.operationAsString),O(4),nn(i.getFuncName(null==i.dialogData?null:i.dialogData.graph2)),O(3),nn(null==i.dialogData||null==i.dialogData.graph2||null==i.dialogData.graph2.func?null:i.dialogData.graph2.func.operationAsString),O(4),j("from",i.from)("to",i.to),O(4),j("ngModel",i.depth))},dependencies:[pn,wt,Sn,mn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})),n}(),Tz=function(n){return{error:n}},Pz=function(){var e,n=function(t){function r(i,a){var o;return y(this,r),h(o=w(this,r),"drawerService",void 0),h(o,"dialogService",void 0),h(o,"canvasElement",void 0),o.drawerService=i,o.dialogService=a,o.canvasElement=tt.getDefaultInstance(i),o}return k(r,t),m(r,[{key:"contextMenu",get:function(){var a=this;return{elements:function(){var s=a.drawerService.selection.toArray(),u=-1!==s.indexOf(a.canvasElement)&&2===s.length&&s[0]instanceof tt&&s[1]instanceof tt;return[{header:"Ableiten",click:function(){var d=a.canvasElement.derive(a.drawerService.getNewColor());void 0!==d&&a.drawerService.addCanvasElements(d)},disabled:!a.canvasElement.canDerive()||a.canvasElement.funcError,icon:"south_east",title:"Diese Funktion ableiten."},{header:"Duplizieren",icon:"content_copy",disabled:a.canvasElement.funcError,click:function(){try{a.drawerService.addCanvasElements(a.canvasElement.clone())}catch{}},title:"Diese Funktion duplizieren."},{header:"Analysieren",icon:"query_stats",click:function(){var d;null===(d=a.dialogService.createDialog(Sz))||void 0===d||d.open({graph:a.canvasElement})},title:"Nullpunkte, Extrempunkte oder Wendepunkte dieser Funktion bestimmen."},{header:"Bestimmtes Integral",click:function(){a.drawerService.addCanvasElements(new id(a.canvasElement,void 0,-1,1,.1,a.canvasElement.color))},icon:"monitoring"},{header:"Schnittpunkte bestimmen",disabled:!u,click:function(){var d;u&&(null===(d=a.dialogService.createDialog(Iz))||void 0===d||d.open({graph1:s[0],graph2:s[1]}))},title:u?"Schnittpunkte der beiden ausgew\xe4hlten Funktionen berechnen.":"Um Schnittpunkte zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"multiline_chart"},{header:"Fl\xe4che zwischen Graphen",disabled:!u,click:function(){u&&a.drawerService.addCanvasElements(new id(s[0],s[1],-1,1,.1,a.drawerService.getNewColor()))},title:u?"Fl\xe4che zwischen den Graphen der beiden ausgew\xe4hlten Funktionen berechnen.":"Um die Fl\xe4che zwischen den Graphen zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"stacked_line_chart"}]},additionalEvent:this.threePointsClickedEvent}}},{key:"color",get:function(){return et(this.canvasElement.color)}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(ru))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-graph-formula"]],features:[fe],decls:7,vars:8,consts:[["inp",""],[1,"wrapper",3,"ngClass"],[3,"colorChange","visibleChange","color","visible"],["autocomplete","off",1,"input",3,"ngModelChange","title","ngModel","disabled"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){if(1&r){var a=Lr();E(0,"div",1)(1,"app-color-circle",2),G("colorChange",function(u){return Ye(a),U(i.canvasElement.color,u)||(i.canvasElement.color=u),$e(u)})("visibleChange",function(u){return Ye(a),U(i.canvasElement.visible,u)||(i.canvasElement.visible=u),$e(u)}),D(),E(2,"input",3,0),G("ngModelChange",function(u){return Ye(a),U(i.canvasElement.funcText,u)||(i.canvasElement.funcText=u),$e(u)}),D(),E(4,"button",4),oe("click",function(u){return Ye(a),$e(i.threePointsClicked(u))}),E(5,"span",5),S(6,"more_vert"),D()()()}var o;2&r&&(X("ngClass",wn(6,Tz,i.canvasElement.funcError)),O(),j("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(),X("title",null!==(o=i.canvasElement.funcErrorText)&&void 0!==o?o:""),j("ngModel",i.canvasElement.funcText),X("disabled",!i.canvasElement.configuration.editable))},dependencies:[Kt,pn,Sn,mn,Qi],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--margin: 16px}.wrapper.error[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:#fcc!important}.input[_ngcontent-%COMP%]{--padding: 7px;width:calc(100% - 2 * (var(--padding) + var(--buttonSize) + var(--margin)));margin-left:calc(var(--margin) + var(--buttonSize))}']})),n}();function Lk(e,n,t){var r=(n.y-t.y)/(n.x-t.x),i=(e.y+e.x/r-n.y+r*n.x)/(r+1/r),a_y=r*i+n.y-r*n.x;return Math.sqrt(Math.pow(e.x-i,2)+Math.pow(e.y-a_y,2))}var fu=.3,vu=2.5,tt=function(e){function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:0,g:0,b:0},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(i=w(this,n),"parseAndValidateProvider",void 0),h(i,"lineWidth",void 0),h(i,"componentType",Pz),h(i,"formulaDialogType",void 0),h(i,"_funcText","0"),h(i,"_funcErrorText",void 0),h(i,"_func",void 0),i.parseAndValidateProvider=t,i.lineWidth=s,r instanceof fo?(i._func=r,i.configuration.label=r?.name,i._funcText=r.operationAsString):"string"==typeof r&&(i._funcText=r),i.configuration.showLabel=u,i.svgLabel=void 0,i._color=a,i._visible=o,i}return k(n,e),m(n,[{key:"func",get:function(){return this._func}},{key:"funcText",get:function(){return this._funcText},set:function(r){this._funcText=r,this.reparse(),this.onChange.emit(r)}},{key:"funcErrorText",get:function(){return this._funcErrorText}},{key:"funcError",get:function(){return void 0!==this.funcErrorText}},{key:"draw",value:function(r){var i=this;if((this.funcError||void 0===this.func)&&this.reparse(),!this.funcError&&void 0!==this.func){for(var a=[],o=[],s=r.range,u=r.step,l=u,c=-1!==r.selection.indexOf(this),d=Xt(this._color,fu),f=this.lineWidth*vu,v=function(de,be){if(void 0!==be){var je=de/(0===be?1:be);if(Math.abs(de)>10){if(je<0)return!0;if(je>15)return!0}}return!1},g=function(de){try{var be=i._func.evaluate(de,r.variables);if(isFinite(be))return{x:de,y:be}}catch{}},p=void 0,C=void 0,b=void 0,_=s.x;_<s.x+s.width;_+=l){var M=!1,I=g(_);if(I||(M=!0,b=void 0),I&&C){var P=(I.y-C.y)/(I.x-C.x);p=(M=M||v(P,p))?void 0:P,l=u/Math.min(Math.max(1,Math.abs(P/5)),15)}if(I&&!Ks(I,s)){if(b||_===s.x){if(!M&&b&&gn(s.y,b.y,I.y)){var F=g((b.x+I.x)/2);F&&gn(F.y,b.y,I.y)&&o.push(b,F,I)}M=!0}b=I}else I&&(b&&void 0!==p&&!M&&(o.push(b),p=(I.y-b.y)/(I.x-b.x)),b=void 0);I&&!M&&o.push(I),C=I,M&&0!=o.length&&(a.push(o),o=[])}0!=o.length&&a.push(o);for(var Z=0,Q=a;Z<Q.length;Z++){var ve=Q[Z];r.drawPath(ve,this.lineWidth,this._color,void 0,this.configuration.dashed),c&&r.drawPath(ve,f,d,void 0,this.configuration.dashed)}}}},{key:"getDistance",value:function(r,i){try{var a=r.x-i.step,o=r.x,s=r.x+i.step,u={x:a,y:this.func.evaluate(a,i.variables)},l={x:o,y:this.func.evaluate(o,i.variables)},c={x:s,y:this.func.evaluate(s,i.variables)},d=Lk(r,u,l),f=Lk(r,l,c);if(d=isFinite(d)?d:1/0,f=isFinite(f)?f:1/0,d!==1/0||f!==1/0)return Math.min(d,f)}catch{}try{return Math.abs(r.y-this.func.evaluate(r.x,i.variables))}catch{}}},{key:"serialize",value:function(){return{data:{formula:this.funcText},style:{color:this.color,visible:this.visible,size:this.lineWidth}}}},{key:"loadFrom",value:function(r,i,a){var o;this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.size)&&void 0!==o?o:this.lineWidth;var s=i.data;try{void 0!==s.formula&&(this._funcText=s.formula)}catch{}}},{key:"reparse",value:function(){var r=this.parseAndValidateProvider(this._funcText);return r instanceof fo?(this._func=r,this._funcErrorText=void 0,this.configuration.label=r.name,this.svgLabel=void 0,!0):(this._func=void 0,this._funcErrorText=r,this.configuration.label=void 0,this.svgLabel=void 0,!1)}},{key:"reparseIfNecessary",value:function(){return!this.funcError&&void 0!==this.func||this.reparse()}},{key:"getPositionForLabel",value:function(r){var i=Jt(r.range);try{var s=i.x+.6*i.width;return{x:s,y:this.func.evaluate(s)+.05*i.height}}catch{return}}},{key:"clone",value:function(){var r=new n(this.parseAndValidateProvider,this.funcText,this.color,this.visible,this.lineWidth,this.configuration.showLabel);return r.configuration=te({},this.configuration),r.svgLabel=void 0,r}},{key:"derive",value:function(r){try{var i,a=new n(this.parseAndValidateProvider,null===(i=this.func)||void 0===i?void 0:i.derive(),r??this.color);return a.configuration.editable=!0,a}catch{return}}},{key:"canDerive",value:function(){try{return void 0!==this.func&&(this.func.derive(),!0)}catch{return!1}}}],[{key:"getDefaultInstance",value:function(r){return new n(r.parseAndValidateProviderGraph)}}])}(qi),Oz=["wrapper"],Az=function(n){return{color:n}},xz=function(n){return{disabled:n}};function Nz(e,n){if(1&e){var t=Lr();E(0,"div",3),oe("click",function(s){var u=Ye(t).$implicit;return $e(en().click(s,u))})("keydown",function(s){var u=Ye(t).$implicit;return $e(en().onTabKeyboard(s,u))}),E(1,"p"),S(2),D(),E(3,"span",4),S(4),D()()}if(2&e){var r,i,a=n.$implicit;X("title",null!==(r=a.title)&&void 0!==r?r:"")("ngStyle",wn(5,Az,null!==(i=a.color)&&void 0!==i?i:"black"))("ngClass",wn(7,xz,a.disabled)),O(2),nn(a.header),O(2),nn(a.icon)}}var Fz=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"wrapper",void 0),h(this,"wrapperElement",void 0),h(this,"elements",[]),h(this,"_contextMenu",{elements:function(){return[]}}),h(this,"_position",{x:0,y:0})},[{key:"contextMenu",get:function(){return this._contextMenu},set:function(i){this._contextMenu=i,this.elements=i.elements()}},{key:"position",get:function(){if(this.wrapperElement){var i={width:window.innerWidth,height:window.innerHeight},a=this.wrapperElement.getBoundingClientRect();return{x:Math.min(this._position.x,i.width-a.width),y:Math.min(this._position.y,i.height-a.height)}}return this._position},set:function(i){this._position=i}},{key:"ngAfterViewInit",value:function(){this.wrapperElement=this.wrapper.nativeElement,this.setPosition()}},{key:"setPosition",value:function(){if(this.wrapperElement){var i=this.position;this.wrapperElement.style.left="".concat(i.x,"px"),this.wrapperElement.style.top="".concat(i.y,"px")}}},{key:"click",value:function(i,a){!a.disabled&&a.click&&a.click(i)}},{key:"onTabKeyboard",value:function(i,a){("Enter"==i.key||" "==i.key)&&this.click(i,a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-context-menu"]],viewQuery:function(r,i){var a;1&r&&bt(Oz,5),2&r&&Et(a=Dt())&&(i.wrapper=a.first)},decls:3,vars:1,consts:[["wrapper",""],[1,"wrapper"],["class","element","tabindex","0",3,"title","ngStyle","ngClass","click","keydown",4,"ngFor","ngForOf"],["tabindex","0",1,"element",3,"click","keydown","title","ngStyle","ngClass"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(E(0,"div",1,0),Rn(2,Nz,5,9,"div",2),D()),2&r&&(O(2),X("ngForOf",i.elements))},dependencies:[Kt,so,lo],styles:['.element[_ngcontent-%COMP%]{--height: 30px;--sizeIcon: 30px;--marginToIcon: 5px;height:var(--height);user-select:none;line-height:var(--height);padding:7px;font-size:12pt;font-family:Segoe UI,sans-serif;border-radius:var(--borderRadius);background:#fff;transition:.1s all ease-in-out}.element[_ngcontent-%COMP%]:hover{background:#eee}.element[_ngcontent-%COMP%]:active{background:#ccc}.element.disabled[_ngcontent-%COMP%]{color:gray!important}.element.disabled[_ngcontent-%COMP%]:hover, .element.disabled[_ngcontent-%COMP%]:active{background:#fff}.element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:calc(var(--sizeIcon) + var(--marginToIcon));margin-top:0;margin-bottom:0}@keyframes _ngcontent-%COMP%_start{0%{opacity:0;transform:scale(1)}to{opacity:1}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;transform-origin:top left;animation:.1s start ease-in-out;z-index:1}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translateY(-27.5px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})),n}(),Vk=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"vc",void 0),h(this,"contextMenu",void 0),h(this,"_appContextMenu",void 0),h(this,"element",void 0),h(this,"contextmenuDocumentEventListener",function(a){(a instanceof PointerEvent||a instanceof MouseEvent)&&-1===a.composedPath().indexOf(i.element)&&i.destroyContextMenu()}),h(this,"keyboardDocumentEventListener",function(a){a instanceof KeyboardEvent&&"Escape"==a.key&&i.destroyContextMenu()}),h(this,"closeContextMenuEventListener",function(a){a!==i.skipEvent&&i.destroyContextMenu(),i.skipEvent=void 0}),h(this,"contextmenuEventListener",function(a){(a instanceof PointerEvent||a instanceof MouseEvent)&&(a.preventDefault(),i.showContextMenuAt({x:a.x,y:a.y}))}),h(this,"skipEvent",void 0),h(this,"customContextMenuActivateListener",function(a){var s,o=a?a[0]:void 0;i.skipEvent=a?a[1]:void 0,!o&&i._appContextMenu&&(o=i._appContextMenu.defaultPopUpPosition),o||(o=null!==(s=i.element.getBoundingClientRect())&&void 0!==s?s:{x:0,y:0}),i.showContextMenuAt(o)}),this.vc=r,this.element=r.element.nativeElement,this.element.addEventListener("contextmenu",this.contextmenuEventListener)},[{key:"appContextMenu",get:function(){return this._appContextMenu},set:function(i){this._appContextMenu&&this._appContextMenu.additionalEvent&&this._appContextMenu.additionalEvent.removeListener(this.customContextMenuActivateListener),i&&i.additionalEvent&&i.additionalEvent.addListener(this.customContextMenuActivateListener),this._appContextMenu=i}},{key:"ngOnDestroy",value:function(){this.element.removeEventListener("contextmenu",this.contextmenuEventListener),this.destroyContextMenu()}},{key:"showContextMenuAt",value:function(i){this.destroyContextMenu(),this._appContextMenu&&(this.contextMenu=this.vc.createComponent(Fz),this.contextMenu.instance.position=i,this.contextMenu.instance.contextMenu=this._appContextMenu,document.addEventListener("click",this.closeContextMenuEventListener),document.addEventListener("wheel",this.closeContextMenuEventListener),document.addEventListener("contextmenu",this.contextmenuDocumentEventListener),document.addEventListener("keydown",this.keyboardDocumentEventListener))}},{key:"destroyContextMenu",value:function(){this.contextMenu&&(this.contextMenu.destroy(),this.contextMenu=void 0,document.removeEventListener("click",this.closeContextMenuEventListener),document.removeEventListener("wheel",this.closeContextMenuEventListener),document.removeEventListener("contextmenu",this.contextmenuDocumentEventListener),document.removeEventListener("keydown",this.keyboardDocumentEventListener))}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(Fn))}),h(n,"\u0275dir",ue({type:e,selectors:[["","appContextMenu",""]],inputs:{appContextMenu:"appContextMenu"}})),n}(),Rz=["formula"],Lz=function(n){return{selected:n}},Vz=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"dialogService",void 0),h(this,"canvasElement",void 0),h(this,"formula",void 0),h(this,"formulaElementComp",void 0),this.drawerService=r,this.dialogService=i},[{key:"ngAfterViewInit",value:function(){var i=this;setTimeout(function(){i.formulaElementComp=i.formula.createComponent(i.canvasElement.componentType).instance,i.formulaElementComp.canvasElement=i.canvasElement})}},{key:"selected",get:function(){return this.drawerService.selection.contains(this.canvasElement||void 0)}},{key:"getContextMenuElementsFromFormulaElement",value:function(){return this.formulaElementComp?this.formulaElementComp.contextMenu.elements():[]}},{key:"completeContextMenu",get:function(){var a,o,i=this;return{elements:function(){var u=void 0!==i.canvasElement.formulaDialogType?[{header:"Anzeigen",click:function(){var f;null===(f=i.dialogService.createDialog(i.canvasElement.formulaDialogType))||void 0===f||f.open(i.canvasElement)},icon:"visibility",title:"Element anzeigen und bearbeiten."}]:[],l=i.selected,c=[].concat(u,V(i.getContextMenuElementsFromFormulaElement()),[{header:l?"Auswahl entfernen":"Ausw\xe4hlen",click:function(){i.drawerService.selection.alternate(i.canvasElement||void 0)},icon:l?"remove_done":"done",title:"Dieses Element ausw\xe4hlen."},{header:"L\xf6schen",color:"red",click:function(){i.drawerService.removeCanvasElements(i.canvasElement)},icon:"delete",title:"Dieses Element l\xf6schen."}]);return l&&c.push({header:"Auswahl l\xf6schen",click:function(){var f;(f=i.drawerService).removeCanvasElements.apply(f,V(i.drawerService.selection.toArray()))},color:"red",icon:"delete_sweep",title:"Alle ausgew\xe4hlten Elemente l\xf6schen."}),c},additionalEvent:null===(a=this.formulaElementComp)||void 0===a?void 0:a.contextMenu.additionalEvent,defaultPopUpPosition:null===(o=this.formulaElementComp)||void 0===o?void 0:o.contextMenu.defaultPopUpPosition}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(ru))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-formula-element"]],viewQuery:function(r,i){var a;1&r&&bt(Rz,5,Fn),2&r&&Et(a=Dt())&&(i.formula=a.first)},inputs:{canvasElement:"canvasElement"},decls:3,vars:4,consts:[["formula",""],[1,"wrapper",3,"appContextMenu","ngClass"],[1,"formula"]],template:function(r,i){1&r&&(E(0,"div",1),Ne(1,"div",2,0),D()),2&r&&X("appContextMenu",i.completeContextMenu)("ngClass",wn(2,Lz,i.selected))},dependencies:[Kt,Vk],styles:[".wrapper[_ngcontent-%COMP%]{padding:15px;background:#fcfcfc;border:1px solid transparent;border-bottom:1px solid #ccc}.selected[_ngcontent-%COMP%]{border:1px solid black;border-radius:7px}.formula[_ngcontent-%COMP%]{display:none}"]})),n}();function Bz(e,n){1&e&&Ne(0,"app-formula-element",3),2&e&&X("canvasElement",n.$implicit)}var Hz=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"drawerService",void 0),h(this,"contextMenu",{elements:function(){return[{header:"Funktion hinzuf\xfcgen",click:function(){i.addGraph()},icon:"show_chart",title:"Eine Funktion hinzuf\xfcgen."},{header:"Punkt hinzuf\xfcgen",click:function(){i.addPoint()},icon:"radio_button_checked",title:"Einen Punkt hinzuf\xfcgen."},{header:"Kurve hinzuf\xfcgen",click:function(){i.addCurve()},icon:"gesture",title:"Eine Kurve hinzuf\xfcgen."},{header:"Alle l\xf6schen",click:function(){i.drawerService.emptyCanvasElements()},icon:"delete",color:"red",title:"Alle Elemente l\xf6schen."}]}}),this.drawerService=r},[{key:"ngOnInit",value:function(){}},{key:"addClick",value:function(){this.addGraph()}},{key:"keyboardAdd",value:function(i){("Enter"==i.key||" "==i.key)&&this.addClick()}},{key:"addGraph",value:function(){var i=new tt(this.drawerService.parseAndValidateProviderGraph,void 0,this.drawerService.getNewColor());i.configuration.formula="0",i.configuration.editable=!0,this.drawerService.addCanvasElements(i)}},{key:"addPoint",value:function(){var i=this,a=new lu(function(o){return i.drawerService.parseAndValidateOperation(o)},this.drawerService.getNewColor());this.drawerService.addCanvasElements(a)}},{key:"addCurve",value:function(){var i=this,a=new cu(function(o,s){return i.drawerService.parseAndValidateOperation(o,!0,s)},this.drawerService.getNewColor());this.drawerService.addCanvasElements(a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-formula-tab"]],decls:6,vars:2,consts:[[3,"canvasElement",4,"ngFor","ngForOf"],["tabindex","0",1,"addDiv",3,"click","keydown","appContextMenu"],[1,"material-symbols-outlined"],[3,"canvasElement"]],template:function(r,i){1&r&&(Rn(0,Bz,1,1,"app-formula-element",0),E(1,"div",1),oe("click",function(){return i.addClick()})("keydown",function(o){return i.keyboardAdd(o)}),E(2,"p")(3,"span",2),S(4,"add"),D(),S(5," Hinzuf\xfcgen "),D()()),2&r&&(X("ngForOf",i.drawerService.canvasElements),O(),X("appContextMenu",i.contextMenu))},dependencies:[so,Vk,Vz],styles:['.addDiv[_ngcontent-%COMP%]{height:62px;background:#fcfcfc;transition:.1s all ease-in-out;line-height:62px}.addDiv[_ngcontent-%COMP%]:hover{background:#eee}.addDiv[_ngcontent-%COMP%]:active{background:#ddd}p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;user-select:none;margin:0;height:100%;width:100%;display:inline-block;font-family:Segoe UI,Calibri,"sans-serif";font-size:13pt}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translate(-5px,6px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})),n}(),Uz=["canvas"],zz=["wrapper"],dp="screenshot_range",fp="screenshot_zoom",jz=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"drawerService",void 0),h(this,"canvas",void 0),h(this,"canvasEl",void 0),h(this,"wrapper",void 0),h(this,"wrapperEl",void 0),h(this,"dialog",void 0),h(this,"_range",{x:0,y:0,width:0,height:0}),h(this,"_zoom",1),this.drawerService=r,this.load()},[{key:"x",get:function(){return this._range.x},set:function(i){this._range.x=i,this.save(),this.reload()}},{key:"y",get:function(){return this._range.y},set:function(i){this._range.y=i,this.save(),this.reload()}},{key:"width",get:function(){return Math.abs(this._range.width)},set:function(i){this._range.width=Math.abs(i),this.save(),this.reload()}},{key:"height",get:function(){return Math.abs(this._range.height)},set:function(i){this._range.height=Math.abs(i),this.save(),this.reload()}},{key:"zoom",get:function(){return this._zoom},set:function(i){i>0&&(this._zoom=i,this.save(),this.reload())}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.reload()}},{key:"download",value:function(){var i=document.createElement("canvas");this.drawToCanvas(i);var a=document.createElement("a");a.download="export.png",a.href=i.toDataURL(),a.click(),this.dialog.close()}},{key:"reset",value:function(){sessionStorage.removeItem(dp),sessionStorage.removeItem(fp),this.load()}},{key:"load",value:function(){var i,a;this._range=null!==(i=JSON.parse(sessionStorage[dp]))&&void 0!==i?i:this.drawerService.renderingContext.range,this._zoom=null!==(a=JSON.parse(sessionStorage[fp]))&&void 0!==a?a:this.drawerService.zoom,this.reload()}},{key:"save",value:function(){sessionStorage[dp]=JSON.stringify(this._range),sessionStorage[fp]=JSON.stringify(this._zoom)}},{key:"drawToCanvas",value:function(i){this.drawerService.drawToCanvas(i,{x:0,y:0,width:this.width*this.zoom,height:this.height*this.zoom},{translateX:-this.x,translateY:-this.y,zoom:this.zoom})}},{key:"reload",value:function(){this.canvasEl&&this.drawToCanvas(this.canvasEl)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-screenshot-dialog"]],viewQuery:function(r,i){var a;1&r&&(bt(Uz,5),bt(zz,5)),2&r&&(Et(a=Dt())&&(i.canvas=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:30,vars:5,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"centered","maths"],["type","number","title","x",1,"input",3,"ngModelChange","ngModel"],["type","number","title","y",1,"input",3,"ngModelChange","ngModel"],["type","number","title","Breite",1,"input",3,"ngModelChange","ngModel"],["type","number","title","H\xf6he",1,"input","leftMargin",3,"ngModelChange","ngModel"],["type","number","title","Zoom",1,"input",3,"ngModelChange","ngModel"],[1,"canvasWrapper"],["id","canvas",1,"canvas"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Download",1,"button","floatRight",3,"click"],["title","Ausschnitt zur\xfccksetzen",1,"button","floatRight",3,"click"]],template:function(r,i){if(1&r){var a=Lr();E(0,"div",2)(1,"p",3),S(2,"Screenshot machen"),D(),E(3,"p",4),S(4,"Startpunkt:"),D(),E(5,"p",5),S(6," ("),E(7,"input",6),G("ngModelChange",function(s){return Ye(a),U(i.x,s)||(i.x=s),$e(s)}),D(),S(8,"| "),E(9,"input",7),G("ngModelChange",function(s){return Ye(a),U(i.y,s)||(i.y=s),$e(s)}),D(),S(10,") "),D(),E(11,"p",4),S(12,"Breite und H\xf6he:"),D(),E(13,"p",5)(14,"input",8),G("ngModelChange",function(s){return Ye(a),U(i.width,s)||(i.width=s),$e(s)}),D(),E(15,"input",9),G("ngModelChange",function(s){return Ye(a),U(i.height,s)||(i.height=s),$e(s)}),D()(),E(16,"p",4),S(17,"Zoom:"),D(),E(18,"p",5)(19,"input",10),G("ngModelChange",function(s){return Ye(a),U(i.zoom,s)||(i.zoom=s),$e(s)}),D()(),E(20,"div",11,0),Ne(22,"canvas",12,1),D(),E(24,"button",13),oe("click",function(){return Ye(a),$e(i.dialog.close())}),S(25,"Schlie\xdfen"),D(),E(26,"button",14),oe("click",function(){return Ye(a),$e(i.download())}),S(27,"Download"),D(),E(28,"button",15),oe("click",function(){return Ye(a),$e(i.reset())}),S(29,"Zur\xfccksetzen"),D()()}2&r&&(O(7),j("ngModel",i.x),O(2),j("ngModel",i.y),O(5),j("ngModel",i.width),O(),j("ngModel",i.height),O(4),j("ngModel",i.zoom))},dependencies:[pn,wt,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:100px;display:unset}.leftMargin[_ngcontent-%COMP%]{margin-left:15px}.canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.canvasWrapper[_ngcontent-%COMP%]{padding:0;max-width:75vw}']})),n}(),Wz=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"dialogService",void 0),this.drawerService=r,this.dialogService=i},[{key:"ngOnInit",value:function(){}},{key:"screenshot",value:function(){var i;null===(i=this.dialogService.createDialog(jz))||void 0===i||i.open()}},{key:"download",value:function(){var i="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.drawerService.serialize())),a=document.createElement("a");a.href=i,a.download="download.json",a.click(),localStorage.setItem("serialized",JSON.stringify(this.drawerService.serialize()))}},{key:"openFile",value:function(){var i=this,a=document.getElementById("inp");if(a.files){var o,s=null===(o=a.files)||void 0===o?void 0:o.item(0);s?.text().then(function(u){try{i.drawerService.loadFrom(JSON.parse(u))}catch(l){console.error(l)}})}}},{key:"reset",value:function(){try{this.drawerService.loadFrom({canvasElements:[],backgroundColor:{r:255,g:255,b:255},transformations:{translateX:7,translateY:-5,zoom:100},showGrid:!0,showGridNumbers:!0})}catch{}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(ru))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-settings-tab"]],decls:26,vars:4,consts:[[1,"wrapper"],[1,"showGrid","settingsContainer"],["type","checkbox","id","showGrid",3,"ngModelChange","ngModel"],["for","showGrid"],[1,"showGridNumbers","settingsContainer"],["type","checkbox","id","showGridNumbers",3,"ngModelChange","ngModel","disabled"],["for","showGridNumbers"],[1,"drawPointsEqually","settingsContainer"],["type","checkbox","id","drawPointsEqually",3,"ngModelChange","ngModel"],["for","drawPointsEqually"],[1,"screenshotDiv","settingsContainer"],["title","Mache ein Screenshot",1,"button",3,"click"],[1,"downloadDiv","settingsContainer"],["title","Speicher in einer Datei",1,"button",3,"click"],[1,"openDiv","settingsContainer"],[1,"button","inpButton"],["title","Lade aus einer Datei","id","inp","type","file","accept",".json",3,"change"],[1,"resetDiv","settingsContainer"],["title","Alles zur\xfccksetzen",1,"button",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"input",2),G("ngModelChange",function(o){return U(i.drawerService.showGrid,o)||(i.drawerService.showGrid=o),o}),D(),E(3,"label",3),S(4,"Koordinatengitter anzeigen"),D()(),E(5,"div",4)(6,"input",5),G("ngModelChange",function(o){return U(i.drawerService.showGridNumbers,o)||(i.drawerService.showGridNumbers=o),o}),D(),E(7,"label",6),S(8,"Achsenbeschriftung anzeigen"),D()(),E(9,"div",7)(10,"input",8),G("ngModelChange",function(o){return U(i.drawerService.drawPointsEqually,o)||(i.drawerService.drawPointsEqually=o),o}),D(),E(11,"label",9),S(12,"Punkte auf gleicher Ebene zeichnen"),D()(),E(13,"div",10)(14,"button",11),oe("click",function(){return i.screenshot()}),S(15,"Screenshot"),D()(),E(16,"div",12)(17,"button",13),oe("click",function(){return i.download()}),S(18,"Herunterladen"),D()(),E(19,"div",14)(20,"button",15),S(21," \xd6ffnen "),E(22,"input",16),oe("change",function(){return i.openFile()}),D()()(),E(23,"div",17)(24,"button",18),oe("click",function(){return i.reset()}),S(25,"Zur\xfccksetzen"),D()()()),2&r&&(O(2),j("ngModel",i.drawerService.showGrid),O(4),j("ngModel",i.drawerService.showGridNumbers),X("disabled",!i.drawerService.showGrid),O(4),j("ngModel",i.drawerService.drawPointsEqually))},dependencies:[ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{padding:16px;font-family:Segoe UI,Calibri,"sans-serif";font-size:11pt;user-select:none}.settingsContainer[_ngcontent-%COMP%]{margin-bottom:7px}.settingsContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:7px}.inpButton[_ngcontent-%COMP%]{position:relative}#inp[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}']})),n}(),qz=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){r.addCanvasElements(new ge(a,r.getNewColor()))}}])}(zr),Zz=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){if(0===r.selection.size)We(Oe(n.prototype),"pointerMove",this).call(this,r,i,a,o,s);else{var l,u=x(r.selection.toArray());try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof ge&&void 0!==c.x&&void 0!==c.y&&!c.dependent&&(c.x+=o.x-a.x,c.y+=o.y-a.y)}}catch(d){u.e(d)}finally{u.f()}}}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey,function(s){return s instanceof ge&&!s.dependent})}}])}(zr),pi=function(e){function n(t,r){var i;return y(this,n),h(i=w(this,n),"types1",void 0),h(i,"types2",void 0),h(i,"selectedElement",void 0),i.types1=t,i.types2=r,i}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=this;r.selection.empty();var u=r.getSelection(a,function(l){return void 0===s.selectedElement&&(Mr.apply(void 0,[l].concat(V(s.types1)))||Mr.apply(void 0,[l].concat(V(s.types2))))||Mr.apply(void 0,[s.selectedElement].concat(V(s.types1)))&&Mr.apply(void 0,[l].concat(V(s.types2)))||Mr.apply(void 0,[s.selectedElement].concat(V(s.types2)))&&Mr.apply(void 0,[l].concat(V(s.types1)))});void 0!==u&&u!==this.selectedElement?void 0!==this.selectedElement?(Mr.apply(void 0,[this.selectedElement].concat(V(this.types1)))&&Mr.apply(void 0,[u].concat(V(this.types2)))?this.addCanvasElement(r,this.selectedElement,u):Mr.apply(void 0,[this.selectedElement].concat(V(this.types2)))&&Mr.apply(void 0,[u].concat(V(this.types1)))&&this.addCanvasElement(r,u,this.selectedElement),this.selectedElement=void 0):(this.selectedElement=u,r.selection.set(u)):this.selectedElement=void 0}}])}(zr);function Mr(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0,a=t;i<a.length;i++)if(e instanceof a[i])return!0;return!1}var Yz=function(e){function n(){return y(this,n),w(this,n,[[ge,Vn],[ge,Vn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createConnection(i,a))}}])}(pi),$z=function(e){function n(){return y(this,n),w(this,n,[[ge,Vn],[ge,Vn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(new ft(function(){return[i.point,a.point]},[i,a],function(){return{p1:i.id,p2:a.id}},Ln,"Verbindungsstrecke"))}}])}(pi),Kz=function(e){function n(){return y(this,n),w(this,n,[[ge,Vn],[ge,Vn]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(new kt(function(){return i.point},function(){return void 0!==i.point&&void 0!==a.point?Math.sqrt(Math.pow(i.point.x-a.point.x,2)+Math.pow(i.point.y-a.point.y,2)):void 0},[i,a],function(){return{center:i.id,scdPoint:a.id}},Ln,"Verbindungskreis"))}}])}(pi),Bk=function(e){function n(){return y(this,n),w(this,n,[[ge,Vn],[ge,Vn]])}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(u){return u instanceof ft});void 0!==s?this.addCanvasElementFromLineSegment(r,s):We(Oe(n.prototype),"click",this).call(this,r,i,a,o)}}])}(pi),Qz=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createBisectionByPoints(i,a))}},{key:"addCanvasElementFromLineSegment",value:function(r,i){r.addCanvasElements(vt.createBisectionByLineSegment(i))}}])}(Bk),Xz=function(e){function n(){return y(this,n),w(this,n,[[ge,Vn],[vt,ft]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createParallel(i,a))}}])}(pi),Jz=function(e){function n(){return y(this,n),w(this,n,[[ge,Vn],[vt,ft]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createOrthogonal(i,a))}}])}(pi),ej=function(e){function n(){return y(this,n),w(this,n,[[vt,ft,kt],[vt,ft,kt]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){var o=Vn.createIntersectionPoints(i,a);r.addCanvasElements.apply(r,V(o))}}])}(pi),nj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(Vn.createMiddlePointByPoints(i,a))}},{key:"addCanvasElementFromLineSegment",value:function(r,i){r.addCanvasElements(Vn.createMiddlePointByLineSegment(i))}}])}(Bk),Hk=function(e){function n(){var t;y(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return h(t=w(this,n,[].concat(i)),"clickedElement1",void 0),h(t,"clickedElement2",void 0),t}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(d){return d instanceof ge});if(void 0!==s){if(s===this.clickedElement1)return this.clickedElement1=this.clickedElement2,this.clickedElement2=void 0,void r.selection.remove(s);if(s===this.clickedElement2)return this.clickedElement2=void 0,void r.selection.remove(s);if((void 0===this.clickedElement1&&void 0===this.clickedElement2||void 0!==this.clickedElement1&&void 0!==this.clickedElement2)&&r.selection.empty(),void 0===this.clickedElement1)return this.clickedElement1=s,void r.selection.set(s);if(void 0===this.clickedElement2)return this.clickedElement2=s,void r.selection.alternate(s);this.addCanvasElement(r,this.clickedElement1,this.clickedElement2,s)}else r.selection.empty(),this.clickedElement1=void 0,this.clickedElement2=void 0}}])}(zr),tj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a,o){r.addCanvasElements(vt.createAngleBisector(a,i,o))}}])}(Hk),rj=function(e){function n(){return y(this,n),w(this,n,[[ge,Vn],[kt]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements.apply(r,V(vt.createTangens(i,a)))}}])}(pi),ij=function(e){function n(){var t;y(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return h(t=w(this,n,[].concat(i)),"transformInvisibleColor",function(o){return Xt(o)}),t}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(){return!0},!1);void 0!==s&&(s.visible=!s.visible)}}])}(zr),aj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a);void 0!==s&&(s.configuration.showLabel=!0!==s.configuration.showLabel,r.onCanvasElementChanged.emit(s))}}])}(zr),oj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){if(0===r.selection.size)We(Oe(n.prototype),"pointerMove",this).call(this,r,i,a,o,s);else{var l,u=x(r.selection.toArray());try{for(u.s();!(l=u.n()).done;){var c=l.value;if(c.configuration.showLabel&&c.configuration.label){var d=i.range,f=(o.x-a.x)/Math.abs(d.width),v=(o.y-a.y)/Math.abs(d.height);c.labelTranslateX+=f,c.labelTranslateY+=v}}}catch(g){u.e(g)}finally{u.f()}}}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey)}}])}(zr),sj=function(e){function n(){return y(this,n),w(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a,o){r.addCanvasElements(new uu([i,a,o],r.getNewColor()))}}])}(Hk),uj=function(n){return{active:n}};function lj(e,n){if(1&e){var t=Lr();E(0,"div",5),oe("click",function(){return $e(Ye(t).$implicit.click())}),Ne(1,"img",6),E(2,"p"),S(3),D()()}if(2&e){var r=n.$implicit;X("title",r.tooltip)("ngClass",wn(4,uj,r.isActivated())),O(),X("src","./assets/"+r.icon+".svg",Jf),O(2),nn(r.title)}}function cj(e,n){if(1&e&&(E(0,"div",2)(1,"p",3),S(2),D(),Rn(3,lj,4,6,"div",4),D()),2&e){var t=n.$implicit;O(2),nn(t.name),O(),X("ngForOf",t.modes)}}var dj=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"drawerService",void 0),h(this,"groups",[{name:"Bewegungen und Sichtbarkeiten",modes:[new Bn(function(){return i.drawerService},function(){return new zr},"Bewegen","Bewege den Canvas und w\xe4hle Elemente aus","move"),new Bn(function(){return i.drawerService},function(){return new Zz},"Verschieben","Verschiebe Punkte","movePoints"),new Bn(function(){return i.drawerService},function(){return new ij},"Anzeigen","Mache Elemente (un-)sichtbar","changeVisibility"),new Bn(function(){return i.drawerService},function(){return new aj},"Label anzeigen","Mache Labels (un-)sichtbar","showLabelVisibility"),new Bn(function(){return i.drawerService},function(){return new oj},"Label bewegen","Verschiebe Labels","moveLabels")]},{name:"Einfache Konstruktionen",modes:[new Bn(function(){return i.drawerService},function(){return new qz},"Punkte","Erstelle neue Punkte","points"),new Bn(function(){return i.drawerService},function(){return new Yz},"Gerade","Erstelle eine neue Gerade mit zwei Punkten","line"),new Bn(function(){return i.drawerService},function(){return new $z},"Strecke","Erstelle eine neue Strecke zwischen zwei Punkten","lineSegment"),new Bn(function(){return i.drawerService},function(){return new Kz},"Kreis","Erstelle einen neuen Kreis mit zwei Punkten","circle")]},{name:"Weiter Konstruktionen",modes:[new Bn(function(){return i.drawerService},function(){return new ej},"Schnittpunkt","Mache den Schnittpunkt zwischen Geraden, Strecken und Kreisen","intersection"),new Bn(function(){return i.drawerService},function(){return new nj},"Mittelpunkt","Mache den Mittelpunkt einer Strecke oder zwischen zwei Punkten","middlePoint"),new Bn(function(){return i.drawerService},function(){return new Qz},"Mittelsenk.","Mache die Mittelsenkrechte einer Strecke oder zwischen zwei Punkten","bisection"),new Bn(function(){return i.drawerService},function(){return new sj},"Winkel","Lege einen Winkel durch drei Punkte","angle"),new Bn(function(){return i.drawerService},function(){return new tj},"Winkelhalb.","Mache die Winkelhalbierende von drei Punkten","angleBisector"),new Bn(function(){return i.drawerService},function(){return new Xz},"Parallel","Mache die Parallele zu einer Geraden durch einen Punkt","parallel"),new Bn(function(){return i.drawerService},function(){return new Jz},"Lot","Mache den Lot zu eine Geraden durch einen Punkt","orthogonal"),new Bn(function(){return i.drawerService},function(){return new rj},"Tangente","Mache die Tangente an einen Kreis durch einen Punkt","tangens")]}]),this.drawerService=r},[{key:"ngOnInit",value:function(){}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-geometry-tab"]],decls:2,vars:1,consts:[[1,"wrapper"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"groupName"],["class","tabHeader","tabindex","0",3,"title","ngClass","click",4,"ngFor","ngForOf"],["tabindex","0",1,"tabHeader",3,"click","title","ngClass"],[1,"icon",3,"src"]],template:function(r,i){1&r&&(E(0,"div",0),Rn(1,cj,4,2,"div",1),D()),2&r&&(O(),X("ngForOf",i.groups))},dependencies:[Kt,so],styles:['.wrapper[_ngcontent-%COMP%]{--size: 70px;--margin: 9px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;display:inline-block}.tabHeader[_ngcontent-%COMP%], .groupName[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.groupName[_ngcontent-%COMP%]{font-weight:700;font-size:large;margin-top:50px;margin-bottom:0}.group[_ngcontent-%COMP%]:first-child   .groupName[_ngcontent-%COMP%]{margin-top:0}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:-20px;text-align:center;line-height:2.5;font-size:smaller}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.wrapper[_ngcontent-%COMP%]{margin:16px}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;user-select:none;pointer-events:none}']})),n}(),Bn=function(){return m(function e(n,t,r,i,a){y(this,e),h(this,"drawerServiceProvider",void 0),h(this,"getInstance",void 0),h(this,"title",void 0),h(this,"tooltip",void 0),h(this,"icon",void 0),this.drawerServiceProvider=n,this.getInstance=t,this.title=r,this.tooltip=i,this.icon=a},[{key:"click",value:function(){this.drawerServiceProvider().mode=this.getInstance(!0)}},{key:"isActivated",value:function(){var t=this.drawerServiceProvider().mode;return void 0!==t&&t.constructor===this.getInstance(!1).constructor}}])}(),fj=function(){var e=function(){function n(t,r){var i=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y(this,n),h(this,"element",void 0),h(this,"pointerControllerEvents",void 0),h(this,"preventDefault",void 0),h(this,"_active",!1),h(this,"pointerCache",new np),h(this,"pointerMoveCountCache",new np),h(this,"startEvent",function(o){if(o instanceof PointerEvent){var s=Nc(o,i.element);i.pointerCache.setItem(o.pointerId,s),i.pointerMoveCountCache.setItem(o.pointerId,0),i.pointerControllerEvents.pointerStart&&i.pointerControllerEvents.pointerStart(s,i.getPointerContext(o))}}),h(this,"moveEvent",function(o){if(o instanceof PointerEvent){var s=Nc(o,i.element);i.pointerMoveCountCache.hasKey(o.pointerId)&&i.pointerMoveCountCache.setItem(o.pointerId,i.pointerMoveCountCache.getItem(o.pointerId)+1),i.pointerCache.hasKey(o.pointerId)&&(i.pointerControllerEvents.pointerMove&&i.pointerControllerEvents.pointerMove(i.pointerCache.getItem(o.pointerId),s,i.getPointerContext(o)),i.pointerCache.setItem(o.pointerId,s))}}),h(this,"endEvent",function(o){if(o instanceof PointerEvent){var s=Nc(o,i.element),u=i.getPointerContext(o);i.pointerControllerEvents.pointerEnd&&i.pointerCache.hasKey(o.pointerId)&&i.pointerControllerEvents.pointerEnd(s,u),i.pointerControllerEvents.click&&0===i.pointerMoveCountCache.getItem(o.pointerId)&&i.pointerControllerEvents.click(s,u),i.pointerCache.delItem(o.pointerId),i.pointerMoveCountCache.delItem(o.pointerId)}}),h(this,"mouseWheelHandler",function(o){if(o instanceof WheelEvent){o.preventDefault();var s=Nc(o,i.element),u=Math.sqrt(Math.pow(o.deltaY,2)+Math.pow(o.deltaX,2)+Math.pow(o.deltaZ,2))*Math.sign((o.deltaX?o.deltaX:1)*(o.deltaY?o.deltaY:1)*(o.deltaZ?o.deltaZ:1));i.pointerControllerEvents.scroll&&i.pointerControllerEvents.scroll(s,u)}}),h(this,"preventDefaultEvent",function(o){o.preventDefault()}),h(this,"mainTouchEventId",void 0),h(this,"evCache",[]),h(this,"prevDiff",-1),h(this,"startPinchZoomEvent",function(o){o instanceof PointerEvent&&"touch"==o.pointerType&&(i.evCache.push(o),null==i.mainTouchEventId&&(i.mainTouchEventId=o.pointerId))}),h(this,"movePinchZoomEvent",function(o){if(o instanceof PointerEvent&&"touch"==o.pointerType){for(var s=0;s<i.evCache.length;s++)if(o.pointerId==i.evCache[s].pointerId){i.evCache[s]=o;break}if(2==i.evCache.length){var u={x:i.evCache[0].clientX,y:i.evCache[0].clientY},l={x:i.evCache[1].clientX,y:i.evCache[1].clientY},c=Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2)),d=i.element.getBoundingClientRect();i.prevDiff>0&&c>0&&i.pointerControllerEvents.pinchZoom&&i.pointerControllerEvents.pinchZoom({x:(u.x+l.x)/2-d.left,y:(u.y+l.y)/2-d.top},c/i.prevDiff),i.prevDiff=c}else i.evCache.length<2&&(i.prevDiff=-1)}}),h(this,"endPinchZoomEvent",function(o){o instanceof PointerEvent&&"touch"==o.pointerType&&(i.removeEventPinchZoom(o),i.evCache.length<2&&(i.prevDiff=-1),i.mainTouchEventId==o.pointerId&&(i.mainTouchEventId=void 0))}),h(this,"removeEventPinchZoom",function(o){for(var s=0;s<i.evCache.length;s++)if(i.evCache[s].pointerId==o.pointerId){i.evCache.splice(s,1);break}}),this.element=t,this.pointerControllerEvents=r,this.preventDefault=a,this.start()}return m(n,[{key:"active",get:function(){return this._active}},{key:"getPointerContext",value:function(r){return{id:r.pointerId,pointerCount:this.pointerCache.size,ctrlKey:r.ctrlKey,moveEventsFired:this.pointerMoveCountCache.getItem(r.pointerId)}}},{key:"start",value:function(){if(!this.active){var i,r=x(n.starts);try{for(r.s();!(i=r.n()).done;){var a=i.value;this.element.addEventListener(a,this.startEvent),this.element.addEventListener(a,this.startPinchZoomEvent)}}catch(_){r.e(_)}finally{r.f()}var s,o=x(n.moves);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.element.addEventListener(u,this.moveEvent),this.element.addEventListener(u,this.movePinchZoomEvent)}}catch(_){o.e(_)}finally{o.f()}var c,l=x(n.ends);try{for(l.s();!(c=l.n()).done;){var d=c.value;this.element.addEventListener(d,this.endEvent),this.element.addEventListener(d,this.endPinchZoomEvent)}}catch(_){l.e(_)}finally{l.f()}var v,f=x(n.scrolls);try{for(f.s();!(v=f.n()).done;)this.element.addEventListener(v.value,this.mouseWheelHandler)}catch(_){f.e(_)}finally{f.f()}if(this.preventDefault){var C,p=x(n.prevents);try{for(p.s();!(C=p.n()).done;)this.element.addEventListener(C.value,this.preventDefaultEvent)}catch(_){p.e(_)}finally{p.f()}}this._active=!0,this.pointerCache.empty()}}},{key:"end",value:function(){if(this.active){var i,r=x(n.starts);try{for(r.s();!(i=r.n()).done;){var a=i.value;try{this.element.removeEventListener(a,this.startEvent)}catch{}try{this.element.removeEventListener(a,this.startPinchZoomEvent)}catch{}}}catch(_){r.e(_)}finally{r.f()}var s,o=x(n.moves);try{for(o.s();!(s=o.n()).done;){var u=s.value;try{this.element.removeEventListener(u,this.moveEvent)}catch{}try{this.element.removeEventListener(u,this.movePinchZoomEvent)}catch{}}}catch(_){o.e(_)}finally{o.f()}var c,l=x(n.ends);try{for(l.s();!(c=l.n()).done;){var d=c.value;try{this.element.removeEventListener(d,this.endEvent)}catch{}try{this.element.removeEventListener(d,this.endPinchZoomEvent)}catch{}}}catch(_){l.e(_)}finally{l.f()}var v,f=x(n.scrolls);try{for(f.s();!(v=f.n()).done;){var g=v.value;try{this.element.removeEventListener(g,this.mouseWheelHandler)}catch{}}}catch(_){f.e(_)}finally{f.f()}if(this.preventDefault){var C,p=x(n.prevents);try{for(p.s();!(C=p.n()).done;){var b=C.value;try{this.element.removeEventListener(b,this.preventDefaultEvent)}catch{}}}catch(_){p.e(_)}finally{p.f()}}this._active=!1,this.pointerCache.empty()}}}])}();return h(e,"starts",["pointerdown"]),h(e,"moves",["pointermove"]),h(e,"ends",["pointerup","pointerleave","pointercancel","pointerout"]),h(e,"scrolls",["wheel"]),h(e,"prevents",["pointerdown","pointermove","pointerup","pointerleave","pointercancel","pointerout","pointerover","pointerenter","contextmenu"]),e}(),vj=["canvas"],hj=["wrapper"],gj=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"drawerService",void 0),h(this,"canvas",void 0),h(this,"canvasEl",void 0),h(this,"ctx",void 0),h(this,"wrapper",void 0),h(this,"wrapperEl",void 0),this.drawerService=r,this.drawerService.canvas=this},[{key:"ngAfterViewInit",value:function(){var i,a=this;this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.ctx=null===(i=this.canvasEl)||void 0===i?void 0:i.getContext("2d"),window.onresize=function(){a.drawerService.redraw()},new fj(this.canvasEl,{pointerMove:function(s,u,l){var c,d=a.drawerService.renderingContext,f=d.transformPointFromCanvasToField(s),v=d.transformPointFromCanvasToField(u);null===(c=a.drawerService.mode)||void 0===c||c.pointerMove(a.drawerService,d,f,v,l)},click:function(s,u){var l,c=a.drawerService.renderingContext,d=c.transformPointFromCanvasToField(s);null===(l=a.drawerService.mode)||void 0===l||l.click(a.drawerService,c,d,u)},scroll:function(s,u){0!=u&&(u*=-.008333333333333333,u+=Math.sign(u),a.drawerService.zoomToBy(s,u>0?u:1/-u))},pinchZoom:function(s,u){a.drawerService.zoomToBy(s,u)}});try{this.drawerService.loadFrom(JSON.parse(localStorage[Tk]))}catch{}this.drawerService.redraw()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-canvas"]],viewQuery:function(r,i){var a;1&r&&(bt(vj,5),bt(hj,5)),2&r&&(Et(a=Dt())&&(i.canvas=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:4,vars:0,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],["id","canvas",1,"canvas"]],template:function(r,i){1&r&&(E(0,"div",2,0),Ne(2,"canvas",3,1),D())},styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0;touch-action:none}.wrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}"]})),n}(),pj=["tabPage"],mj=function(n){return{empty:n}},yj=function(n){return{active:n}};function _j(e,n){if(1&e&&(E(0,"p"),S(1),D()),2&e){var t=en().$implicit;O(),nn(t.title)}}function Cj(e,n){if(1&e&&(E(0,"span",10),S(1),D()),2&e){var t=en().$implicit;O(),nn(t.icon)}}function bj(e,n){if(1&e){var t=Lr();E(0,"div",7),oe("click",function(){var o=Ye(t).$implicit;return $e(en().onTabClick(o))})("keydown",function(o){var s=Ye(t).$implicit;return $e(en().onTabKeyboard(o,s))}),Rn(1,_j,2,1,"p",8)(2,Cj,2,1,"span",9),D()}if(2&e){var r=n.$implicit,i=en();X("title",r.title)("ngClass",wn(4,yj,i.currentTab==r)),O(),X("ngIf",!r.icon),O(),X("ngIf",r.icon)}}var Ej=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"currentComponent",void 0),h(this,"_currentTab",void 0),h(this,"tabs",[]),h(this,"tabPage",void 0)},[{key:"currentTab",get:function(){return this._currentTab},set:function(i){i!=this.currentTab&&(this.currentComponent&&this.currentComponent.destroy(),i&&(this.currentComponent=this.tabPage.createComponent(i.componentType)),this._currentTab=i)}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var i=this;setTimeout(function(){i.currentTab=i.tabs[0]},0)}},{key:"onTabClick",value:function(i){this.currentTab=this.currentTab==i?void 0:i}},{key:"onTabKeyboard",value:function(i,a){("Enter"==i.key||" "==i.key)&&this.onTabClick(a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-tab-group"]],viewQuery:function(r,i){var a;1&r&&bt(pj,5,Fn),2&r&&Et(a=Dt())&&(i.tabPage=a.first)},inputs:{tabs:"tabs"},decls:7,vars:4,consts:[["tabPage",""],[1,"wrapper",3,"ngClass"],[1,"table"],[1,"tabHeaders"],["class","tabHeader","tabindex","0",3,"title","ngClass","click","keydown",4,"ngFor","ngForOf"],[1,"tabContainer"],[1,"tabPage"],["tabindex","0",1,"tabHeader",3,"click","keydown","title","ngClass"],[4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(E(0,"div",1)(1,"div",2)(2,"div",3),Rn(3,bj,3,6,"div",4),D(),E(4,"div",5),Ne(5,"div",6,0),D()()()),2&r&&(X("ngClass",wn(2,mj,null==i.currentTab)),O(3),X("ngForOf",i.tabs))},dependencies:[Kt,so,uo],styles:['.wrapper[_ngcontent-%COMP%]{--size: 60px;--margin: 3px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeaders[_ngcontent-%COMP%]{left:0;top:0;bottom:0;width:var(--width);padding:var(--padding);position:absolute;float:left;border-right:var(--border) solid var(--borderColor);border-bottom-right-radius:var(--borderRadius);border-top-right-radius:var(--borderRadius);background:#fff;box-shadow:0 0 7px #555;user-select:none;overflow:auto;scrollbar-width:none}.tabHeaders[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;font-family:Segoe UI,Calibri,"sans-serif"}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.tabContainer[_ngcontent-%COMP%]{inset:0;float:right;height:100%;width:calc(100% - var(--width) - 2 * var(--padding));background:var(--background);overflow:auto;border-right:1px solid #ccc}.empty[_ngcontent-%COMP%]   .tabContainer[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--background)}.empty.wrapper[_ngcontent-%COMP%]{width:calc(var(--width) + 2 * var(--padding))}.table[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;clear:both;box-sizing:border-box;background-color:transparent;overflow:hidden}.material-symbols-outlined[_ngcontent-%COMP%]{transform:scale(1.5) translateY(4px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.tabPage[_ngcontent-%COMP%]{display:none}']})),n}(),Dj=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),h(this,"dialogService",void 0),h(this,"snackbarService",void 0),h(this,"viewContainerRef",void 0),h(this,"tabs",[{title:"Formeln",icon:"functions",componentType:Hz},{title:"Geometrie",icon:"radio_button_unchecked",componentType:dj},{title:"Einstellungen",icon:"settings",componentType:Wz}]),this.dialogService=r,this.snackbarService=i,this.viewContainerRef=a,this.dialogService.rootViewContainerRef=this.viewContainerRef,this.snackbarService.rootViewContainerRef=this.viewContainerRef},[{key:"renderMathToSvg",value:function(i){var a=this;MathJax.Hub.Queue(["Typeset",MathJax.Hub,function(){var o=MathJax.Hub.getAllJax()[0];MathJax.Hub.Queue(["Text",o,i]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,function(){var s=o.root.toSVG();a.displaySvg(s)}])}])}},{key:"displaySvg",value:function(i){console.log(i);var a=document.getElementById("svg-container");a&&(a.innerHTML=i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(ru),A(cp),A(Fn))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"barWrapper"],[3,"tabs"],[1,"canvas"]],template:function(r,i){1&r&&(E(0,"div",0),Ne(1,"app-tab-group",1),D(),Ne(2,"app-canvas",2)),2&r&&(O(),X("tabs",i.tabs))},dependencies:[gj,Ej],styles:[".canvas[_ngcontent-%COMP%]{padding:0;margin:0}.barWrapper[_ngcontent-%COMP%]{width:30%;min-width:min(100%,500px);position:absolute;height:100%;pointer-events:none;overflow:hidden}.barWrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}"]})),n}();function Uk(e){return new un(function(n){_r(e()).subscribe(n)})}function od(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Se(n)?od(function(r,i){return Rt(function(a,o){return n(r,a,i,o)})(_r(e(r,i)))},t):("number"==typeof n&&(t=n),Ft(function(r,i){return function wj(e,n,t,r,i,a,o,s){var u=[],l=0,c=0,d=!1,f=function(){d&&!u.length&&!l&&n.complete()},v=function(C){return l<r?g(C):u.push(C)},g=function p(C){a&&n.next(C),l++;var b=!1;_r(t(C,c++)).subscribe(new ht(n,function(_){i?.(_),a?v(_):n.next(_)},function(){b=!0},void 0,function(){if(b)try{l--;for(var _=function(){var I=u.shift();o?si(n,o,function(){return p(I)}):p(I)};u.length&&l<r;)_();f()}catch(M){n.error(M)}}))};return e.subscribe(new ht(n,v,function(){d=!0,f()})),function(){s?.()}}(r,i,e,t)}))}var kj=["addListener","removeListener"],Sj=["addEventListener","removeEventListener"],Ij=["on","off"];function sd(e,n,t,r){if(Se(t)&&(r=t,t=void 0),r)return sd(e,n,t).pipe(sw(r));var a=it(function Oj(e){return Se(e.addEventListener)&&Se(e.removeEventListener)}(e)?Sj.map(function(u){return function(l){return e[u](n,l,t)}}):function Tj(e){return Se(e.addListener)&&Se(e.removeListener)}(e)?kj.map(zk(e,n)):function Pj(e){return Se(e.on)&&Se(e.off)}(e)?Ij.map(zk(e,n)):[],2),o=a[0],s=a[1];if(!o&&Sg(e))return od(function(u){return sd(u,n,t)})(_r(e));if(!o)throw new TypeError("Invalid event target");return new un(function(u){var l=function(){for(var d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return u.next(1<f.length?f:f[0])};return o(l),function(){return s(l)}})}function zk(e,n){return function(t){return function(r){return e[t](n,r)}}}function vp(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Xs(n,Tg(n))}function jk(){return od(Sd,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0)}function Gk(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function Aj(){return jk(1)}()(Xs(n,Tg(n)))}var Mo=new un(na),hp=new un(function(e){return e.complete()});function Wk(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=Tg(n),i=function S5(e,n){return"number"==typeof Ig(e)?e.pop():n}(n,1/0),a=n;return a.length?1===a.length?_r(a[0]):jk(i)(Xs(a,r)):hp}function hu(e,n){return Ft(function(t,r){var i=0;t.subscribe(new ht(r,function(a){return e.call(n,a,i++)&&r.next(a)}))})}function ud(e,n){return Ft(function(t,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};t.subscribe(new ht(r,function(u){i?.unsubscribe();var l=0,c=a++;_r(e(u,c)).subscribe(i=new ht(r,function(d){return r.next(n?n(u,d,c,l++):d)},function(){i=null,s()}))},function(){o=!0,s()}))})}var Fj=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n)).source=t,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,Zp(t)&&(i.lift=t.lift),i}return k(n,e),m(n,[{key:"_subscribe",value:function(r){return this.getSubject().subscribe(r)}},{key:"getSubject",value:function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()}},{key:"connect",value:function(){var r=this,i=this._connection;if(!i){i=this._connection=new St;var a=this.getSubject();i.add(this.source.subscribe(new ht(a,void 0,function(){r._teardown(),a.complete()},function(o){r._teardown(),a.error(o)},function(){return r._teardown()}))),i.closed&&(this._connection=null,i=St.EMPTY)}return i}},{key:"refCount",value:function(){return function Nj(){return Ft(function(e,n){var t=null;e._refCount++;var r=new ht(n,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)t=null;else{var i=e._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()}});e.subscribe(r),r.closed||(t=e.connect())})}()(this)}}])}(un),Lj={connector:function(){return new wr}};function qk(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lj).connector;return Ft(function(r,i){var a=t();Xs(e(function Rj(e){return new un(function(n){return e.subscribe(n)})}(a))).subscribe(i),i.add(r.subscribe(a))})}function mi(e){return e<=0?function(){return hp}:Ft(function(n,t){var r=0;n.subscribe(new ht(t,function(i){++r<=e&&(t.next(i),e<=r&&t.complete())}))})}var Uj=function(e){function n(t,r){return y(this,n),w(this,n)}return k(n,e),m(n,[{key:"schedule",value:function(r){return this}}])}(St),ld={setInterval:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var e=ld.delegate;return(e?.setInterval||setInterval).apply(void 0,arguments)}),clearInterval:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=ld.delegate;return(n?.clearInterval||clearInterval)(e)}),delegate:void 0},zj=function(e){function n(t,r){var i;return y(this,n),(i=w(this,n,[t,r])).scheduler=t,i.work=r,i.pending=!1,i}return k(n,e),m(n,[{key:"schedule",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=r;var a=this.id,o=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(o,a,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(o,this.id,i),this}},{key:"requestAsyncId",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ld.setInterval(r.flush.bind(r,this),a)}},{key:"recycleAsyncId",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=a&&this.delay===a&&!1===this.pending)return i;ld.clearInterval(i)}},{key:"execute",value:function(r,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(r,i);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(r,i){var o,a=!1;try{this.work(r)}catch(s){a=!0,o=s||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),o}},{key:"unsubscribe",value:function(){if(!this.closed){var r=this.id,i=this.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Mu(a,this),null!=r&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,We(Oe(n.prototype),"unsubscribe",this).call(this)}}}])}(Uj),Zk={now:function(){return(Zk.delegate||Date).now()},delegate:void 0},gp=function(){return m(function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;y(this,e),this.schedulerActionCtor=n,this.now=t},[{key:"schedule",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,t).schedule(i,r)}}])}();gp.now=Zk.now;var jj=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gp.now;return y(this,n),(r=w(this,n,[t,i])).actions=[],r._active=!1,r._scheduled=void 0,r}return k(n,e),m(n,[{key:"flush",value:function(r){var i=this.actions;if(this._active)i.push(r);else{var a;this._active=!0;do{if(a=r.execute(r.state,r.delay))break}while(r=i.shift());if(this._active=!1,a){for(;r=i.shift();)r.unsubscribe();throw a}}}}])}(gp),Yk=new jj(zj),Gj=Yk;function $k(e,n){return n?function(t){return Gk(n.pipe(mi(1),function Wj(){return Ft(function(e,n){e.subscribe(new ht(n,na))})}()),t.pipe($k(e)))}:od(function(t,r){return e(t,r).pipe(mi(1),function qj(e){return Rt(function(){return e})}(t))})}var gu="Service workers are disabled or not supported by this browser";var cd=function(){return m(function e(n){if(y(this,e),this.serviceWorker=n,n){var r=sd(n,"controllerchange").pipe(Rt(function(){return n.controller})),a=Gk(Uk(function(){return vp(n.controller)}),r);this.worker=a.pipe(hu(function(c){return!!c})),this.registration=this.worker.pipe(ud(function(){return n.getRegistration()}));var l=sd(n,"message").pipe(Rt(function(c){return c.data})).pipe(hu(function(c){return c&&c.type})).pipe(function Bj(e){return e?function(n){return qk(e)(n)}:function(n){return function Vj(e,n){var t=Se(e)?e:function(){return e};return Se(n)?qk(n,{connector:t}):function(r){return new Fj(r,t)}}(new wr)(n)}}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function Kj(e){return Uk(function(){return function Mj(e,n){var t=Se(e)?e:function(){return e},r=function(a){return a.error(t())};return new un(n?function(i){return n.schedule(r,0,i)}:r)}(new Error(e))})}(gu)},[{key:"postMessage",value:function(t,r){return this.worker.pipe(mi(1),function Hj(e,n,t){var r=Se(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ft(function(i,a){var o;null===(o=r.subscribe)||void 0===o||o.call(r);var s=!0;i.subscribe(new ht(a,function(u){var l;null===(l=r.next)||void 0===l||l.call(r,u),a.next(u)},function(){var u;s=!1,null===(u=r.complete)||void 0===u||u.call(r),a.complete()},function(u){var l;s=!1,null===(l=r.error)||void 0===l||l.call(r,u),a.error(u)},function(){var u,l;s&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Sd}(function(i){i.postMessage(te({action:t},r))})).toPromise().then(function(){})}},{key:"postMessageWithOperation",value:function(t,r,i){var a=this.waitForOperationCompleted(i),o=this.postMessage(t,r);return Promise.all([o,a]).then(function(s){return it(s,2)[1]})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(t){return this.events.pipe(hu("string"==typeof t?function(a){return a.type===t}:function(a){return t.includes(a.type)}))}},{key:"nextEventOfType",value:function(t){return this.eventsOfType(t).pipe(mi(1))}},{key:"waitForOperationCompleted",value:function(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(hu(function(r){return r.nonce===t}),mi(1),Rt(function(r){if(void 0!==r.result)return r.result;throw new Error(r.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}])}(),Kk=function(){var e,n=function(){return m(function t(r){if(y(this,t),this.sw=r,this.pushManager=null,this.subscriptionChanges=new wr,!r.isEnabled)return this.messages=Mo,this.notificationClicks=Mo,void(this.subscription=Mo);this.messages=this.sw.eventsOfType("PUSH").pipe(Rt(function(a){return a.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Rt(function(a){return a.data})),this.pushManager=this.sw.registration.pipe(Rt(function(a){return a.pushManager}));var i=this.pushManager.pipe(ud(function(a){return a.getSubscription()}));this.subscription=Wk(i,this.subscriptionChanges)},[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(i){var a=this;if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(gu));for(var o={userVisibleOnly:!0},s=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),u=new Uint8Array(new ArrayBuffer(s.length)),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return o.applicationServerKey=u,this.pushManager.pipe(ud(function(c){return c.subscribe(o)}),mi(1)).toPromise().then(function(c){return a.subscriptionChanges.next(c),c})}},{key:"unsubscribe",value:function(){var i=this;return this.sw.isEnabled?this.subscription.pipe(mi(1),ud(function(s){if(null===s)throw new Error("Not subscribed to push notifications.");return s.unsubscribe().then(function(u){if(!u)throw new Error("Unsubscribe failed!");i.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(gu))}},{key:"decodeBase64",value:function(i){return atob(i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(Ee(cd))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Qk=function(){var e,n=function(){return m(function t(r){if(y(this,t),this.sw=r,!r.isEnabled)return this.versionUpdates=Mo,void(this.unrecoverable=Mo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")},[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(gu));var i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(gu));var i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(Ee(cd))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Xk=new W("");function Qj(e,n,t,r){return function(){if(lM(r)&&"serviceWorker"in navigator&&!1!==t.enabled){var o,i=e.get(Ge),a=e.get(Yt);if(i.runOutsideAngular(function(){var d=navigator.serviceWorker,f=function(){var g;return null===(g=d.controller)||void 0===g?void 0:g.postMessage({action:"INITIALIZE"})};d.addEventListener("controllerchange",f),a.onDestroy(function(){d.removeEventListener("controllerchange",f)})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{var u=function Dp(e){return Cp(e)||Ep(e)||pu(e)||bp()}((t.registrationStrategy||"registerWhenStable:30000").split(":")),l=u[0],c=u.slice(1);switch(l){case"registerImmediately":o=vp(null);break;case"registerWithDelay":o=Jk(+c[0]||0);break;case"registerWhenStable":o=c[0]?Wk(eS(e),Jk(+c[0])):eS(e);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(t.registrationStrategy))}}i.runOutsideAngular(function(){return o.pipe(mi(1)).subscribe(function(){return navigator.serviceWorker.register(n,{scope:t.scope}).catch(function(d){return console.error("Service worker registration failed with:",d)})})})}}}function Jk(e){return vp(null).pipe(function $j(e){var t=function Yj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gj,r=-1;return null!=n&&(ow(n)?t=n:r=n),new un(function(i){var a=function Zj(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;a<0&&(a=0);var o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yk);return $k(function(){return t})}(e))}function eS(e){return e.get(Yt).isStable.pipe(hu(function(t){return t}))}function Xj(e,n){return new cd(lM(n)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var pp=m(function e(){y(this,e)});function Jj(e){return function xo(e){return{\u0275providers:e}}([Kk,Qk,{provide:Xk,useValue:e},{provide:pp,useValue:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},{provide:cd,useFactory:Xj,deps:[pp,Qr]},{provide:JD,useFactory:Qj,deps:[Dn,Xk,pp,Qr],multi:!0}])}var e4=function(){var e,n=function(){function t(){y(this,t)}return m(t,null,[{key:"register",value:function(i){return{ngModule:t,providers:[Jj(i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({providers:[Kk,Qk]}),n}(),n4=function(){var e,n=m(function t(){y(this,t)});return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275mod",Zr({type:e,bootstrap:[Dj]})),h(n,"\u0275inj",Sr({imports:[NH,WU,e4.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})),n}();AH().bootstrapModule(n4).catch(function(e){return console.error(e)})}},Oe=>{Oe(Oe.s=524)}]);