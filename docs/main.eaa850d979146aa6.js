"use strict";(self.webpackChunkgraph=self.webpackChunkgraph||[]).push([[792],{524:()=>{function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function Ge(){return Ge=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=function dd(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=Oe(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}},Ge.apply(null,arguments)}function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function gp(e){var n=function Jk(e,n){if("object"!=tr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==tr(n)?n:n+""}function h(e,n,t){return(n=gp(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function pp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pp(Object(t),!0).forEach(function(r){h(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pp(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function fd(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function gu(e,n){if(e){if("string"==typeof e)return fd(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fd(e,n):void 0}}function x(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=gu(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function mp(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gp(r.key),r)}}function m(e,n,t){return n&&mp(e.prototype,n),t&&mp(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vd=function(){return!!e})()}function M(e,n,t){return n=Oe(n),function nS(e,n){if(n&&("object"==tr(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function eS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vd()?Reflect.construct(n,t||[],Oe(e).constructor):n.apply(e,t))}function wo(e,n){return(wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(e,n)}function k(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&wo(e,n)}function yp(e){if(Array.isArray(e))return e}function _p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function it(e,n){return yp(e)||function tS(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,n)||gu(e,n)||_p()}function Cp(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function V(e){return function rS(e){if(Array.isArray(e))return fd(e)}(e)||Cp(e)||gu(e)||function iS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,n,t){if(vd())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,n);var i=new(e.bind.apply(e,r));return t&&wo(i,t.prototype),i}function hd(e){var n="function"==typeof Map?new Map:void 0;return hd=function(r){if(null===r||!function aS(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch{return"function"==typeof e}}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(r))return n.get(r);n.set(r,i)}function i(){return Je(r,arguments,Oe(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),wo(i,r)},hd(e)}function Ep(e,n){return Object.is(e,n)}var yn=null,Mo=!1,pu=1,Nt=Symbol("SIGNAL");function pe(e){var n=yn;return yn=e,n}var mu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:function(){return!1},producerRecomputeValue:function(){},consumerMarkedDirty:function(){},consumerOnSignalRead:function(){}};function gd(e){if(Mo)throw new Error("");if(null!==yn){yn.consumerOnSignalRead(e);var n=yn.nextProducerIndex++;Cu(yn),n<yn.producerNode.length&&yn.producerNode[n]!==e&&ko(yn)&&_u(yn.producerNode[n],yn.producerIndexOfThis[n]),yn.producerNode[n]!==e&&(yn.producerNode[n]=e,yn.producerIndexOfThis[n]=ko(yn)?Ip(e,yn,n):0),yn.producerLastReadVersion[n]=e.version}}function wp(e){if((!ko(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==pu)){if(!e.producerMustRecompute(e)&&!md(e))return e.dirty=!1,void(e.lastCleanEpoch=pu);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=pu}}function Mp(e){if(void 0!==e.liveConsumerNode){var n=Mo;Mo=!0;try{var r,t=x(e.liveConsumerNode);try{for(t.s();!(r=t.n()).done;){var i=r.value;i.dirty||Sp(i)}}catch(a){t.e(a)}finally{t.f()}}finally{Mo=n}}}function kp(){var e;return!1!==(null===(e=yn)||void 0===e?void 0:e.consumerAllowSignalWrites)}function Sp(e){var n;e.dirty=!0,Mp(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function yu(e){return e&&(e.nextProducerIndex=0),pe(e)}function pd(e,n){if(pe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ko(e))for(var t=e.nextProducerIndex;t<e.producerNode.length;t++)_u(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function md(e){Cu(e);for(var n=0;n<e.producerNode.length;n++){var t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(wp(t),r!==t.version))return!0}return!1}function yd(e){if(Cu(e),ko(e))for(var n=0;n<e.producerNode.length;n++)_u(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ip(e,n,t){if(Tp(e),0===e.liveConsumerNode.length&&Pp(e))for(var r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Ip(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function _u(e,n){if(Tp(e),1===e.liveConsumerNode.length&&Pp(e))for(var t=0;t<e.producerNode.length;t++)_u(e.producerNode[t],e.producerIndexOfThis[t]);var r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){var i=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];Cu(a),a.producerIndexOfThis[i]=n}}function ko(e){var n,t;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(t=e.liveConsumerNode)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0}function Cu(e){var n,t,r;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(t=e.producerIndexOfThis)&&void 0!==t||(e.producerIndexOfThis=[]),null!==(r=e.producerLastReadVersion)&&void 0!==r||(e.producerLastReadVersion=[])}function Tp(e){var n,t;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(t=e.liveConsumerIndexOfThis)&&void 0!==t||(e.liveConsumerIndexOfThis=[])}function Pp(e){return void 0!==e.producerNode}var _d=Symbol("UNSET"),Cd=Symbol("COMPUTING"),bu=Symbol("ERRORED"),lS=function(){return re(re({},mu),{},{value:_d,dirty:!0,error:null,equal:Ep,producerMustRecompute:function(n){return n.value===_d||n.value===Cd},producerRecomputeValue:function(n){if(n.value===Cd)throw new Error("Detected cycle in computations.");var t=n.value;n.value=Cd;var i,r=yu(n);try{i=n.computation()}catch(a){i=bu,n.error=a}finally{pd(n,r)}t!==_d&&t!==bu&&i!==bu&&n.equal(t,i)?n.value=t:(n.value=i,n.version++)}})}(),Op=function cS(){throw new Error};function Ap(){Op()}var Eu=null;function xp(e,n){kp()||Ap(),e.equal(e.value,n)||(e.value=n,function gS(e){var n;e.version++,function sS(){pu++}(),Mp(e),null===(n=Eu)||void 0===n||n()}(e))}var hS=function(){return re(re({},mu),{},{equal:Ep,value:void 0})}();function Se(e){return"function"==typeof e}function Fp(e){var t=e(function(i){Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var bd=Fp(function(e){return function(t){e(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(r,i){return"".concat(i+1,") ").concat(r.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t}});function Du(e,n){if(e){var t=e.indexOf(n);0<=t&&e.splice(t,1)}}var e,St=function(){function e(n){y(this,e),this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}return m(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r)){var a,i=x(r);try{for(i.s();!(a=i.n()).done;)a.value.remove(this)}catch(f){i.e(f)}finally{i.f()}}else r.remove(this);var s=this.initialTeardown;if(Se(s))try{s()}catch(f){t=f instanceof bd?f.errors:[f]}var u=this._teardowns;if(u){this._teardowns=null;var c,l=x(u);try{for(l.s();!(c=l.n()).done;){var d=c.value;try{Vp(d)}catch(f){t=t??[],f instanceof bd?t=[].concat(V(t),V(f.errors)):t.push(f)}}}catch(f){l.e(f)}finally{l.f()}}if(t)throw new bd(t)}}},{key:"add",value:function(t){var r;if(t&&t!==this)if(this.closed)Vp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(t)}}},{key:"_hasParent",value:function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)}},{key:"_addParent",value:function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}},{key:"_removeParent",value:function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Du(r,t)}},{key:"remove",value:function(t){var r=this._teardowns;r&&Du(r,t),t instanceof e&&t._removeParent(this)}}])}();St.EMPTY=((e=new St).closed=!0,e);var Rp=St.EMPTY;function Lp(e){return e instanceof St||e&&"closed"in e&&Se(e.remove)&&Se(e.add)&&Se(e.unsubscribe)}function Vp(e){Se(e)?e():e.unsubscribe()}var mi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wu={setTimeout:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var e=wu.delegate;return(e?.setTimeout||setTimeout).apply(void 0,arguments)}),clearTimeout:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=wu.delegate;return(n?.clearTimeout||clearTimeout)(e)}),delegate:void 0};function Bp(e){wu.setTimeout(function(){var n=mi.onUnhandledError;if(!n)throw e;n(e)})}function ea(){}var mS=Ed("C",void 0,void 0);function Ed(e,n,t){return{kind:e,value:n,error:t}}var yi=null;function Mu(e){if(mi.useDeprecatedSynchronousErrorHandling){var n=!yi;if(n&&(yi={errorThrown:!1,error:null}),e(),n){var t=yi;if(yi=null,t.errorThrown)throw t.error}}else e()}var Dd=function(e){function n(t){var r;return y(this,n),(r=M(this,n)).isStopped=!1,t?(r.destination=t,Lp(t)&&t.add(r)):r.destination=bS,r}return k(n,e),m(n,[{key:"next",value:function(r){this.isStopped?Md(function _S(e){return Ed("N",e,void 0)}(r),this):this._next(r)}},{key:"error",value:function(r){this.isStopped?Md(function yS(e){return Ed("E",void 0,e)}(r),this):(this.isStopped=!0,this._error(r))}},{key:"complete",value:function(){this.isStopped?Md(mS,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Ge(Oe(n.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(r){this.destination.next(r)}},{key:"_error",value:function(r){try{this.destination.error(r)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(r,i,a){return new Hp(r,i,a)}}])}(St),Hp=function(e){function n(t,r,i){var a,o;if(y(this,n),a=M(this,n),Se(t))o=t;else if(t){var s;o=t.next,r=t.error,i=t.complete,a&&mi.useDeprecatedNextContext?(s=Object.create(t)).unsubscribe=function(){return a.unsubscribe()}:s=t,o=o?.bind(s),r=r?.bind(s),i=i?.bind(s)}return a.destination={next:o?wd(o):ea,error:wd(r??Up),complete:i?wd(i):ea},a}return k(n,e),m(n)}(Dd);function wd(e,n){return function(){try{e.apply(void 0,arguments)}catch(t){mi.useDeprecatedSynchronousErrorHandling?function CS(e){mi.useDeprecatedSynchronousErrorHandling&&yi&&(yi.errorThrown=!0,yi.error=e)}(t):Bp(t)}}}function Up(e){throw e}function Md(e,n){var t=mi.onStoppedNotification;t&&wu.setTimeout(function(){return t(e,n)})}var bS={closed:!0,next:ea,error:Up,complete:ea},kd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Sd(e){return e}var un=function(){var e=function(){function n(t){y(this,n),t&&(this._subscribe=t)}return m(n,[{key:"lift",value:function(r){var i=new n;return i.source=this,i.operator=r,i}},{key:"subscribe",value:function(r,i,a){var o=this,s=function DS(e){return e&&e instanceof Dd||function ES(e){return e&&Se(e.next)&&Se(e.error)&&Se(e.complete)}(e)&&Lp(e)}(r)?r:new Hp(r,i,a);return Mu(function(){var u=o.operator,l=o.source;s.add(u?u.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s}},{key:"_trySubscribe",value:function(r){try{return this._subscribe(r)}catch(i){r.error(i)}}},{key:"forEach",value:function(r,i){var a=this;return new(i=zp(i))(function(o,s){var u;u=a.subscribe(function(l){try{r(l)}catch(c){s(c),u?.unsubscribe()}},s,o)})}},{key:"_subscribe",value:function(r){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(r)}},{key:kd,value:function(){return this}},{key:"pipe",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return function jp(e){return 0===e.length?Sd:1===e.length?e[0]:function(t){return e.reduce(function(r,i){return i(r)},t)}}(i)(this)}},{key:"toPromise",value:function(r){var i=this;return new(r=zp(r))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}])}();return e.create=function(n){return new e(n)},e}();function zp(e){var n;return null!==(n=e??mi.Promise)&&void 0!==n?n:Promise}var wS=Fp(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Mr=function(){var e=function(n){function t(){var r;return y(this,t),(r=M(this,t)).closed=!1,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return k(t,n),m(t,[{key:"lift",value:function(i){var a=new Gp(this,this);return a.operator=i,a}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new wS}},{key:"next",value:function(i){var a=this;Mu(function(){if(a._throwIfClosed(),!a.isStopped){var u,s=x(a.observers.slice());try{for(s.s();!(u=s.n()).done;)u.value.next(i)}catch(c){s.e(c)}finally{s.f()}}})}},{key:"error",value:function(i){var a=this;Mu(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=i;for(var o=a.observers;o.length;)o.shift().error(i)}})}},{key:"complete",value:function(){var i=this;Mu(function(){if(i._throwIfClosed(),!i.isStopped){i.isStopped=!0;for(var a=i.observers;a.length;)a.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=null}},{key:"observed",get:function(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}},{key:"_trySubscribe",value:function(i){return this._throwIfClosed(),Ge(Oe(t.prototype),"_trySubscribe",this).call(this,i)}},{key:"_subscribe",value:function(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}},{key:"_innerSubscribe",value:function(i){var s=this.observers;return this.hasError||this.isStopped?Rp:(s.push(i),new St(function(){return Du(s,i)}))}},{key:"_checkFinalizedStatuses",value:function(i){var s=this.isStopped;this.hasError?i.error(this.thrownError):s&&i.complete()}},{key:"asObservable",value:function(){var i=new un;return i.source=this,i}}])}(un);return e.create=function(n,t){return new Gp(n,t)},e}(),Gp=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n)).destination=t,i.source=r,i}return k(n,e),m(n,[{key:"next",value:function(r){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===a||a.call(i,r)}},{key:"error",value:function(r){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===a||a.call(i,r)}},{key:"complete",value:function(){var r,i;null===(i=null===(r=this.destination)||void 0===r?void 0:r.complete)||void 0===i||i.call(r)}},{key:"_subscribe",value:function(r){var i,a;return null!==(a=null===(i=this.source)||void 0===i?void 0:i.subscribe(r))&&void 0!==a?a:Rp}}])}(Mr),MS=function(e){function n(t){var r;return y(this,n),(r=M(this,n))._value=t,r}return k(n,e),m(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(r){var i=Ge(Oe(n.prototype),"_subscribe",this).call(this,r);return!i.closed&&r.next(this._value),i}},{key:"getValue",value:function(){var a=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),a}},{key:"next",value:function(r){Ge(Oe(n.prototype),"next",this).call(this,this._value=r)}}])}(Mr);function Wp(e){return Se(e?.lift)}function Ft(e){return function(n){if(Wp(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var na,ht=function(e){function n(t,r,i,a,o){var s;return y(this,n),(s=M(this,n,[t])).onFinalize=o,s._next=r?function(u){try{r(u)}catch(l){t.error(l)}}:Ge(Oe(n.prototype),"_next",s),s._error=a?function(u){try{a(u)}catch(l){t.error(l)}finally{this.unsubscribe()}}:Ge(Oe(n.prototype),"_error",s),s._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:Ge(Oe(n.prototype),"_complete",s),s}return k(n,e),m(n,[{key:"unsubscribe",value:function(){var r,i=this.closed;Ge(Oe(n.prototype),"unsubscribe",this).call(this),!i&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}}])}(Dd);function Rt(e,n){return Ft(function(t,r){var i=0;t.subscribe(new ht(r,function(a){r.next(e.call(n,a,i++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;var em="https://g.co/ng/security#xss",F=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n,[ta(t,r)])).code=t,i}return k(n,e),m(n)}(hd(Error));function ta(e,n){var t="NG0".concat(Math.abs(e));return"".concat(t).concat(n?": "+n:"")}function kr(e){return{toString:e}.toString()}var ia="__parameters__";function oa(e,n,t){return kr(function(){var r=function Od(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var r in t)this[r]=t[r]}}}(n);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return r.apply(this,o),this;var u=Je(i,o);return l.annotation=u,l;function l(c,d,f){for(var v=c.hasOwnProperty(ia)?c[ia]:Object.defineProperty(c,ia,{value:[]})[ia];v.length<=f;)v.push(null);return(v[f]=v[f]||[]).push(u),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Fe=globalThis;function Ae(e){for(var n in e)if(e[n]===Ae)return n;throw Error("Could not find renamed property on target object.")}function eI(e,n){for(var t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function _n(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_n).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var n=e.toString();if(null==n)return""+n;var t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Ad(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}var nI=Ae({__forward_ref__:Ae});function Ve(e){return e.__forward_ref__=Ve,e.toString=function(){return _n(this())},e}function ne(e){return Iu(e)?e():e}function Iu(e){return"function"==typeof e&&e.hasOwnProperty(nI)&&e.__forward_ref__===Ve}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Tu(e){return im(e,Ou)||im(e,am)}function im(e,n){return e.hasOwnProperty(n)?e[n]:null}function Pu(e){return e&&(e.hasOwnProperty(xd)||e.hasOwnProperty(oI))?e[xd]:null}var Ou=Ae({\u0275prov:Ae}),xd=Ae({\u0275inj:Ae}),am=Ae({ngInjectableDef:Ae}),oI=Ae({ngInjectorDef:Ae}),W=function(){return m(function e(n,t){y(this,e),this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))},[{key:"multi",get:function(){return this}},{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}])}();function Vd(e){return e&&!!e.\u0275providers}var So=Ae({\u0275cmp:Ae}),Bd=Ae({\u0275dir:Ae}),Hd=Ae({\u0275pipe:Ae}),sm=Ae({\u0275mod:Ae}),Ir=Ae({\u0275fac:Ae}),Io=Ae({__NG_ELEMENT_ID__:Ae}),um=Ae({__NG_ENV_ID__:Ae});function le(e){return"string"==typeof e?e:null==e?"":String(e)}function Ud(e,n){throw new F(-201,!1)}var jd,Ee=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ee||{});function lm(){return jd}function at(e){var n=jd;return jd=e,n}function cm(e,n,t){var r=Tu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ee.Optional?null:void 0!==n?n:void Ud()}var To={},zd="__NG_DI_FLAG__",Au="ngTempTokenPath",vI=/\n/gm,dm="__source",sa=void 0;function Wr(e){var n=sa;return sa=e,n}function pI(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.Default;if(void 0===sa)throw new F(-203,!1);return null===sa?cm(e,void 0,n):sa.get(e,n&Ee.Optional?null:void 0,n)}function be(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.Default;return(lm()||pI)(ne(e),n)}function Z(e){return be(e,xu(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.Default))}function xu(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Gd(e){for(var n=[],t=0;t<e.length;t++){var r=ne(e[t]);if(Array.isArray(r)){if(0===r.length)throw new F(900,!1);for(var i=void 0,a=Ee.Default,o=0;o<r.length;o++){var s=r[o],u=mI(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}n.push(be(i,a))}else n.push(be(r))}return n}function Po(e,n){return e[zd]=n,e.prototype[zd]=n,e}function mI(e){return e[zd]}var Wd=Po(oa("Optional"),8),qd=Po(oa("SkipSelf"),4);function Ci(e,n){return e.hasOwnProperty(Ir)?e[Ir]:null}function ua(e,n){e.forEach(function(t){return Array.isArray(t)?ua(t,n):n(t)})}function vm(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Nu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function mt(e,n,t){var r=la(e,n);return r>=0?e[1|r]=t:function hm(e,n,t,r){var i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r=~r,n,t),r}function Yd(e,n){var t=la(e,n);if(t>=0)return e[1|t]}function la(e,n){return function gm(e,n,t){for(var r=0,i=e.length>>t;i!==r;){var a=r+(i-r>>1),o=e[a<<t];if(n===o)return a<<t;o>n?i=a:r=a+1}return~(i<<t)}(e,n,1)}var rr={},we=[],ir=new W(""),pm=new W("",-1),Kd=new W(""),Ru=function(){return m(function e(){y(this,e)},[{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:To;if(r===To){var i=new Error("NullInjectorError: No provider for ".concat(_n(t),"!"));throw i.name="NullInjectorError",i}return r}}])}(),Lu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Lu||{}),Lt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Lt||{}),qr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(qr||{});function wI(e,n,t){for(var r=e.length;;){var i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=n.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}t=i+1}}function $d(e,n,t){for(var r=0;r<t.length;){var i=t[r];if("number"==typeof i){if(0!==i)break;r++;var a=t[r++],o=t[r++],s=t[r++];e.setAttribute(n,o,s,a)}else{var u=i,l=t[++r];ym(u)?e.setProperty(n,u,l):e.setAttribute(n,u,l),r++}}return r}function mm(e){return 3===e||4===e||6===e}function ym(e){return 64===e.charCodeAt(0)}function Oo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else for(var t=-1,r=0;r<n.length;r++){var i=n[r];"number"==typeof i?t=i:0===t||_m(e,t,i,null,-1===t||2===t?n[++r]:null)}return e}function _m(e,n,t,r,i){var a=0,o=e.length;if(-1===n)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===n){o=-1;break}if(s>n){o=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===t){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,n),a=o+1),e.splice(a++,0,t),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}var Cm="ng-template";function MI(e,n,t,r){var i=0;if(r){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==wI(n[i+1].toLowerCase(),t,0))return!0}else if(Qd(e))return!1;if((i=n.indexOf(1,i))>-1)for(var a;++i<n.length&&"string"==typeof(a=n[i]);)if(a.toLowerCase()===t)return!0;return!1}function Qd(e){return 4===e.type&&e.value!==Cm}function kI(e,n,t){return n===(4!==e.type||t?e.value:Cm)}function SI(e,n,t){for(var r=4,i=e.attrs,a=null!==i?function PI(e){for(var n=0;n<e.length;n++)if(mm(e[n]))return n;return e.length}(i):0,o=!1,s=0;s<n.length;s++){var u=n[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!kI(e,u,t)||""===u&&1===n.length){if(Vt(r))return!1;o=!0}}else if(8&r){if(null===i||!MI(e,i,u,t)){if(Vt(r))return!1;o=!0}}else{var l=n[++s],c=II(u,i,Qd(e),t);if(-1===c){if(Vt(r))return!1;o=!0;continue}if(""!==l){var d;if(d=c>a?"":i[c+1].toLowerCase(),2&r&&l!==d){if(Vt(r))return!1;o=!0}}}}else{if(!o&&!Vt(r)&&!Vt(u))return!1;if(o&&Vt(u))continue;o=!1,r=u|1&r}}return Vt(r)||o}function Vt(e){return!(1&e)}function II(e,n,t,r){if(null===n)return-1;var i=0;if(r||!t){for(var a=!1;i<n.length;){var o=n[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=n[++i];"string"==typeof s;)s=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function OI(e,n){var t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){var r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function bm(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<n.length;r++)if(SI(e,n[r],t))return!0;return!1}function Em(e,n){return e?":not("+n.trim()+")":n}function xI(e){for(var n=e[0],t=1,r=2,i="",a=!1;t<e.length;){var o=e[t];if("string"==typeof o)if(2&r){var s=e[++t];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Vt(o)&&(n+=Em(a,i),i=""),r=o,a=a||!Vt(r);t++}return""!==i&&(n+=Em(a,i)),n}function ke(e){return kr(function(){var n,t=wm(e),r=re(re({},t),{},{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Lu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Lt.Emulated,styles:e.styles||we,_:null,schemas:e.schemas||null,tView:null,id:""});Mm(r);var i=e.dependencies;return r.directiveDefs=Vu(i,!1),r.pipeDefs=Vu(i,!0),r.id=function BI(e){var i,n=0,r=x([e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|"));try{for(r.s();!(i=r.n()).done;){var a=i.value;n=Math.imul(31,n)+a.charCodeAt(0)|0}}catch(u){r.e(u)}finally{r.f()}return"c"+(n+=2147483648)}(r),r})}function RI(e){return _e(e)||Cn(e)}function LI(e){return null!==e}function Zr(e){return kr(function(){return{type:e.type,bootstrap:e.bootstrap||we,declarations:e.declarations||we,imports:e.imports||we,exports:e.exports||we,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}})}function Dm(e,n){if(null==e)return rr;var t={};for(var r in e)if(e.hasOwnProperty(r)){var u,i=e[r],a=void 0,o=void 0,s=qr.None;Array.isArray(i)?(s=i[0],a=i[1],o=null!==(u=i[2])&&void 0!==u?u:a):(a=i,o=i),n?(t[a]=s!==qr.None?[r,s]:r,n[a]=o):t[a]=r}return t}function ue(e){return kr(function(){var n=wm(e);return Mm(n),n})}function _e(e){return e[So]||null}function Cn(e){return e[Bd]||null}function Pn(e){return e[Hd]||null}function wm(e){var n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||rr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||we,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dm(e.inputs,n),outputs:Dm(e.outputs),debugInfo:null}}function Mm(e){var n;null===(n=e.features)||void 0===n||n.forEach(function(t){return t(e)})}function Vu(e,n){if(!e)return null;var t=n?Pn:RI;return function(){return("function"==typeof e?e():e).map(function(r){return t(r)}).filter(LI)}}function HI(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{\u0275providers:Xd(!0,n),\u0275fromNgModule:!0}}function Xd(e){for(var r,n=[],t=new Set,i=function(l){n.push(l)},a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return ua(o,function(u){var c=u;Bu(c,i,[],t)&&(r||(r=[]),r.push(c))}),void 0!==r&&km(r,i),n}function km(e,n){for(var t=function(){var a=e[r],o=a.ngModule;Jd(a.providers,function(u){n(u,o)})},r=0;r<e.length;r++)t()}function Bu(e,n,t,r){if(!(e=ne(e)))return!1;var i=null,a=Pu(e),o=!a&&_e(e);if(a||o){if(o&&!o.standalone)return!1;i=e}else{var s=e.ngModule;if(!(a=Pu(s)))return!1;i=s}var c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){var v,f=x("function"==typeof o.dependencies?o.dependencies():o.dependencies);try{for(f.s();!(v=f.n()).done;)Bu(v.value,n,t,r)}catch(w){f.e(w)}finally{f.f()}}}else{if(!a)return!1;if(null!=a.imports&&!c){var p;r.add(i);try{ua(a.imports,function(w){Bu(w,n,t,r)&&(p||(p=[]),p.push(w))})}finally{}void 0!==p&&km(p,n)}if(!c){var C=Ci(i)||function(){return new i};n({provide:i,useFactory:C,deps:we},i),n({provide:Kd,useValue:i,multi:!0},i),n({provide:ir,useValue:function(){return be(i)},multi:!0},i)}var b=a.providers;if(null!=b&&!c){var _=e;Jd(b,function(w){n(w,_)})}}return i!==e&&void 0!==e.providers}function Jd(e,n){var r,t=x(e);try{for(t.s();!(r=t.n()).done;){var i=r.value;Vd(i)&&(i=i.\u0275providers),Array.isArray(i)?Jd(i,n):n(i)}}catch(a){t.e(a)}finally{t.f()}}var UI=Ae({provide:String,useValue:Ae});function ef(e){return null!==e&&"object"==typeof e&&UI in e}function Ei(e){return"function"==typeof e}var nf=new W(""),Hu={},zI={},tf=void 0;function Uu(){return void 0===tf&&(tf=new Ru),tf}var ar=m(function e(){y(this,e)}),ca=function(e){function n(t,r,i,a){var o;y(this,n),(o=M(this,n)).parent=r,o.source=i,o.scopes=a,o.records=new Map,o._ngOnDestroyHooks=new Set,o._onDestroyHooks=[],o._destroyed=!1,af(t,function(u){return o.processProvider(u)}),o.records.set(pm,da(void 0,o)),a.has("environment")&&o.records.set(ar,da(void 0,o));var s=o.records.get(nf);return null!=s&&"string"==typeof s.value&&o.scopes.add(s.value),o.injectorDefTypes=new Set(o.get(Kd,we,Ee.Self)),o}return k(n,e),m(n,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;var r=pe(null);try{var a,i=x(this._ngOnDestroyHooks);try{for(i.s();!(a=i.n()).done;)a.value.ngOnDestroy()}catch(d){i.e(d)}finally{i.f()}var s=this._onDestroyHooks;this._onDestroyHooks=[];var l,u=x(s);try{for(u.s();!(l=u.n()).done;)(0,l.value)()}catch(d){u.e(d)}finally{u.f()}}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(r)}}},{key:"onDestroy",value:function(r){var i=this;return this.assertNotDestroyed(),this._onDestroyHooks.push(r),function(){return i.removeOnDestroy(r)}}},{key:"runInContext",value:function(r){this.assertNotDestroyed();var i=Wr(this),a=at(void 0);try{return r()}finally{Wr(i),at(a)}}},{key:"get",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:To,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee.Default;if(this.assertNotDestroyed(),r.hasOwnProperty(um))return r[um](this);a=xu(a);var s=Wr(this),u=at(void 0);try{if(!(a&Ee.SkipSelf)){var l=this.records.get(r);if(void 0===l){var c=function YI(e){return"function"==typeof e||"object"==typeof e&&e instanceof W}(r)&&Tu(r);l=c&&this.injectableDefInScope(c)?da(rf(r),Hu):null,this.records.set(r,l)}if(null!=l)return this.hydrate(r,l)}return(a&Ee.Self?Uu():this.parent).get(r,i=a&Ee.Optional&&i===To?null:i)}catch(v){if("NullInjectorError"===v.name){if((v[Au]=v[Au]||[]).unshift(_n(r)),s)throw v;return function yI(e,n,t,r){var i=e[Au];throw n[dm]&&i.unshift(n[dm]),e.message=function _I(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;var i=_n(n);if(Array.isArray(n))i=n.map(_n).join(" -> ");else if("object"==typeof n){var a=[];for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):_n(s)))}i="{".concat(a.join(", "),"}")}return"".concat(t).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(vI,"\n  "))}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Au]=null,e}(v,r,"R3InjectorError",this.source)}throw v}finally{at(u),Wr(s)}}},{key:"resolveInjectorInitializers",value:function(){var r=pe(null),i=Wr(this),a=at(void 0);try{var l,u=x(this.get(ir,we,Ee.Self));try{for(u.s();!(l=u.n()).done;)(0,l.value)()}catch(d){u.e(d)}finally{u.f()}}finally{Wr(i),at(a),pe(r)}}},{key:"toString",value:function(){var o,r=[],a=x(this.records.keys());try{for(a.s();!(o=a.n()).done;)r.push(_n(o.value))}catch(u){a.e(u)}finally{a.f()}return"R3Injector[".concat(r.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new F(205,!1)}},{key:"processProvider",value:function(r){var i=Ei(r=ne(r))?r:ne(r&&r.provide),a=function WI(e){return ef(e)?da(void 0,e.useValue):da(Tm(e),Hu)}(r);if(Ei(r)||!0!==r.multi);else{var o=this.records.get(i);o||((o=da(void 0,Hu,!0)).factory=function(){return Gd(o.multi)},this.records.set(i,o)),i=r,o.multi.push(r)}this.records.set(i,a)}},{key:"hydrate",value:function(r,i){var a=pe(null);try{return i.value===Hu&&(i.value=zI,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ZI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{pe(a)}}},{key:"injectableDefInScope",value:function(r){if(!r.providedIn)return!1;var i=ne(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}},{key:"removeOnDestroy",value:function(r){var i=this._onDestroyHooks.indexOf(r);-1!==i&&this._onDestroyHooks.splice(i,1)}}])}(ar);function rf(e){var n=Tu(e),t=null!==n?n.factory:Ci(e);if(null!==t)return t;if(e instanceof W)throw new F(204,!1);if(e instanceof Function)return function GI(e){if(e.length>0)throw new F(204,!1);var t=function aI(e){return e&&(e[Ou]||e[am])||null}(e);return null!==t?function(){return t.factory(e)}:function(){return new e}}(e);throw new F(204,!1)}function Tm(e,n,t){var r=void 0;if(Ei(e)){var i=ne(e);return Ci(i)||rf(i)}if(ef(e))r=function(){return ne(e.useValue)};else if(function Im(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,V(Gd(e.deps||[])))};else if(function Sm(e){return!(!e||!e.useExisting)}(e))r=function(){return be(ne(e.useExisting))};else{var a=ne(e&&(e.useClass||e.provide));if(!function qI(e){return!!e.deps}(e))return Ci(a)||rf(a);r=function(){return Je(a,V(Gd(e.deps)))}}return r}function da(e,n){return{factory:e,value:n,multi:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:void 0}}function af(e,n){var r,t=x(e);try{for(t.s();!(r=t.n()).done;){var i=r.value;Array.isArray(i)?af(i,n):i&&Vd(i)?af(i.\u0275providers,n):n(i)}}catch(a){t.e(a)}finally{t.f()}}var We=0,L=1,K=2,cn=3,Bt=4,On=5,Zn=6,Di=7,Be=8,dn=9,or=10,ae=11,No=12,Am=13,va=14,qe=15,wi=16,ha=17,sr=18,ga=19,xm=20,Yr=21,Fo=22,It=23,q=25,sf=1,ur=7,pa=9,tn=10,Wu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Wu||{});function In(e){return Array.isArray(e)&&"object"==typeof e[sf]}function Hn(e){return Array.isArray(e)&&!0===e[sf]}function uf(e){return!!(4&e.flags)}function Mi(e){return e.componentOffset>-1}function qu(e){return!(1&~e.flags)}function Ht(e){return!!e.template}function Lo(e){return!!(512&e[K])}var uT=function(){return m(function e(n,t,r){y(this,e),this.previousValue=n,this.currentValue=t,this.firstChange=r},[{key:"isFirstChange",value:function(){return this.firstChange}}])}();function Lm(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}function Tr(){return Vm}function Vm(e){return e.type.prototype.ngOnChanges&&(e.setInput=cT),lT}function lT(){var e=Hm(this),n=e?.current;if(n){var t=e.previous;if(t===rr)e.previous=n;else for(var r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function cT(e,n,t,r,i){var a=this.declaredInputs[r],o=Hm(e)||function dT(e,n){return e[Bm]=n}(e,{previous:rr,current:null}),s=o.current||(o.current={}),u=o.previous,l=u[a];s[a]=new uT(l&&l.currentValue,t,u===rr),Lm(e,n,i,t)}Tr.ngInherit=!0;var Bm="__ngSimpleChanges__";function Hm(e){return e[Bm]||null}var lr=function(n,t,r){};function Me(e){for(;Array.isArray(e);)e=e[We];return e}function Vo(e,n){return Me(n[e])}function Yn(e,n){return Me(n[e.index])}function Bo(e,n){return e.data[n]}function yt(e,n){var t=n[e];return In(t)?t:t[We]}function vf(e){return!(128&~e[K])}function Tt(e,n){return null==n?null:e[n]}function zm(e){e[ha]=0}function Gm(e){1024&e[K]||(e[K]|=1024,vf(e)&&Zu(e))}function Ho(e){var n;return!!(9216&e[K]||null!==(n=e[It])&&void 0!==n&&n.dirty)}function hf(e){var n;null===(n=e[or].changeDetectionScheduler)||void 0===n||n.notify(7),64&e[K]&&(e[K]|=1024),Ho(e)&&Zu(e)}function Zu(e){var n;null===(n=e[or].changeDetectionScheduler)||void 0===n||n.notify(0);for(var t=Pr(e);null!==t&&!(8192&t[K])&&(t[K]|=8192,vf(t));)t=Pr(t)}function Yu(e,n){if(!(256&~e[K]))throw new F(911,!1);null===e[Yr]&&(e[Yr]=[]),e[Yr].push(n)}function Pr(e){var n=e[cn];return Hn(n)?n[cn]:n}var oe={lFrame:ry(null),bindingsEnabled:!0,skipHydrationRootTNode:null},qm=!1;function Zm(){return oe.bindingsEnabled}function T(){return oe.lFrame.lView}function me(){return oe.lFrame.tView}function Ke(e){return oe.lFrame.contextLView=e,e[Be]}function $e(e){return oe.lFrame.contextLView=null,e}function xe(){for(var e=Ym();null!==e&&64===e.type;)e=e.parent;return e}function Ym(){return oe.lFrame.currentTNode}function Ut(e,n){var t=oe.lFrame;t.currentTNode=e,t.isParent=n}function mf(){return oe.lFrame.isParent}function Qm(){return qm}function Xm(e){qm=e}function Kn(){var e=oe.lFrame,n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function jt(){return oe.lFrame.bindingIndex++}function Ar(e){var n=oe.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function MT(e,n){var t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=e,_f(n)}function _f(e){oe.lFrame.currentDirectiveIndex=e}function bf(){return oe.lFrame.currentQueryIndex}function $u(e){oe.lFrame.currentQueryIndex=e}function ST(e){var n=e[L];return 2===n.type?n.declTNode:1===n.type?e[On]:null}function ny(e,n,t){if(t&Ee.SkipSelf){for(var r=n,i=e;!(null!==(r=r.parent)||t&Ee.Host||null===(r=ST(i))||(i=i[va],10&r.type)););if(null===r)return!1;n=r,e=i}var a=oe.lFrame=ty();return a.currentTNode=n,a.lView=e,!0}function Ef(e){var n=ty(),t=e[L];oe.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function ty(){var e=oe.lFrame,n=null===e?null:e.child;return null===n?ry(e):n}function ry(e){var n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function iy(){var e=oe.lFrame;return oe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ay=iy;function Df(){var e=iy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function An(){return oe.lFrame.selectedIndex}function Ii(e){oe.lFrame.selectedIndex=e}function He(){var e=oe.lFrame;return Bo(e.tView,e.selectedIndex)}var sy=!0;function jo(){return sy}function cr(e){sy=e}function Qu(e,n){for(var t=n.directiveStart,r=n.directiveEnd;t<r;t++){var d,f,v,g,p,C,b,a=e.data[t].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(null!==(d=e.contentHooks)&&void 0!==d?d:e.contentHooks=[]).push(-t,o),s&&((null!==(f=e.contentHooks)&&void 0!==f?f:e.contentHooks=[]).push(t,s),(null!==(v=e.contentCheckHooks)&&void 0!==v?v:e.contentCheckHooks=[]).push(t,s)),u&&(null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push(-t,u),l&&((null!==(p=e.viewHooks)&&void 0!==p?p:e.viewHooks=[]).push(t,l),(null!==(C=e.viewCheckHooks)&&void 0!==C?C:e.viewCheckHooks=[]).push(t,l)),null!=c&&(null!==(b=e.destroyHooks)&&void 0!==b?b:e.destroyHooks=[]).push(t,c)}}function Xu(e,n,t){uy(e,n,3,t)}function Ju(e,n,t,r){(3&e[K])===t&&uy(e,n,t,r)}function wf(e,n){var t=e[K];(3&t)===n&&(t&=16383,e[K]=t+=1)}function uy(e,n,t,r){for(var a=r??-1,o=n.length-1,s=0,u=void 0!==r?65535&e[ha]:0;u<o;u++)if("number"==typeof n[u+1]){if(s=n[u],null!=r&&s>=r)break}else n[u]<0&&(e[ha]+=65536),(s<a||-1==a)&&(NT(e,t,n,u),e[ha]=(4294901760&e[ha])+u+2),u++}function ly(e,n){lr(4,e,n);var t=pe(null);try{n.call(e)}finally{pe(t),lr(5,e,n)}}function NT(e,n,t,r){var i=t[r]<0,a=t[r+1],s=e[i?-t[r]:t[r]];i?e[K]>>14<e[ha]>>16&&(3&e[K])===n&&(e[K]+=16384,ly(s,a)):ly(s,a)}var ma=-1,zo=m(function e(n,t,r){y(this,e),this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}),kf={},Ti=function(){return m(function e(n,t){y(this,e),this.injector=n,this.parentInjector=t},[{key:"get",value:function(t,r,i){i=xu(i);var a=this.injector.get(t,kf,i);return a!==kf||r===kf?a:this.parentInjector.get(t,r,i)}}])}();function Sf(e){return e!==ma}function Go(e){return 32767&e}function Wo(e,n){for(var t=function VT(e){return e>>16}(e),r=n;t>0;)r=r[va],t--;return r}var If=!0;function el(e){var n=If;return If=e,n}var dy=255,fy=5,UT=0,dr={};function nl(e,n){var t=vy(e,n);if(-1!==t)return t;var r=n[L];r.firstCreatePass&&(e.injectorIndex=n.length,Tf(r.data,e),Tf(n,null),Tf(r.blueprint,null));var i=tl(e,n),a=e.injectorIndex;if(Sf(i))for(var o=Go(i),s=Wo(i,n),u=s[L].data,l=0;l<8;l++)n[a+l]=s[o+l]|u[o+l];return n[a+8]=i,a}function Tf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function vy(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function tl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var t=0,r=null,i=n;null!==i;){if(null===(r=Cy(i)))return ma;if(t++,i=i[va],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ma}function Pf(e,n,t){!function jT(e,n,t){var r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Io)&&(r=t[Io]),null==r&&(r=t[Io]=UT++);var i=r&dy;n.data[e+(i>>fy)]|=1<<i}(e,n,t)}function hy(e,n,t){if(t&Ee.Optional||void 0!==e)return e;Ud()}function gy(e,n,t,r){if(t&Ee.Optional&&void 0===r&&(r=null),!(t&(Ee.Self|Ee.Host))){var i=e[dn],a=at(void 0);try{return i?i.get(n,r,t&Ee.Optional):cm(n,r,t&Ee.Optional)}finally{at(a)}}return hy(r,0,t)}function py(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){if(2048&n[K]&&!(r&Ee.Self)){var a=function ZT(e,n,t,r,i){for(var a=e,o=n;null!==a&&null!==o&&2048&o[K]&&!(512&o[K]);){var s=my(a,o,t,r|Ee.Self,dr);if(s!==dr)return s;var u=a.parent;if(!u){var l=o[xm];if(l){var c=l.get(t,dr,r);if(c!==dr)return c}u=Cy(o),o=o[va]}a=u}return i}(e,n,t,r,dr);if(a!==dr)return a}var o=my(e,n,t,r,dr);if(o!==dr)return o}return gy(n,t,r,i)}function my(e,n,t,r,i){var a=function WT(e){if("string"==typeof e)return e.charCodeAt(0)||0;var n=e.hasOwnProperty(Io)?e[Io]:void 0;return"number"==typeof n?n>=0?n&dy:qT:n}(t);if("function"==typeof a){if(!ny(n,e,r))return r&Ee.Host?hy(i,0,r):gy(n,t,r,i);try{var o;if(null!=(o=a(r))||r&Ee.Optional)return o;Ud()}finally{ay()}}else if("number"==typeof a){var s=null,u=vy(e,n),l=ma,c=r&Ee.Host?n[qe][On]:null;for((-1===u||r&Ee.SkipSelf)&&((l=-1===u?tl(e,n):n[u+8])!==ma&&_y(r,!1)?(s=n[L],u=Go(l),n=Wo(l,n)):u=-1);-1!==u;){var d=n[L];if(yy(a,u,d.data)){var f=GT(u,n,t,s,r,c);if(f!==dr)return f}(l=n[u+8])!==ma&&_y(r,n[L].data[u+8]===c)&&yy(a,u,n)?(s=d,u=Go(l),n=Wo(l,n)):u=-1}}return i}function GT(e,n,t,r,i,a){var o=n[L],s=o.data[e+8],c=rl(s,o,t,null==r?Mi(s)&&If:r!=o&&!!(3&s.type),i&Ee.Host&&a===s);return null!==c?Pi(n,o,c,s):dr}function rl(e,n,t,r,i){for(var a=e.providerIndexes,o=n.data,s=1048575&a,u=e.directiveStart,c=a>>20,f=i?s+c:e.directiveEnd,v=r?s:s+c;v<f;v++){var g=o[v];if(v<u&&t===g||v>=u&&g.type===t)return v}if(i){var p=o[u];if(p&&Ht(p)&&p.type===t)return u}return null}function Pi(e,n,t,r){var i=e[t],a=n.data;if(function FT(e){return e instanceof zo}(i)){var o=i;o.resolving&&function lI(e,n){throw n&&". Dependency path: ".concat(n.join(" > ")," > ").concat(e),new F(-200,e)}(function Ie(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():le(e)}(a[t]));var s=el(o.canSeeViewProviders);o.resolving=!0;var d=o.injectImpl?at(o.injectImpl):null;ny(e,r,Ee.Default);try{i=e[t]=o.factory(void 0,a,e,r),n.firstCreatePass&&t>=r.directiveStart&&function xT(e,n,t){var c,d,f,r=n.type.prototype,a=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var s,u,l=Vm(n);(null!==(s=t.preOrderHooks)&&void 0!==s?s:t.preOrderHooks=[]).push(e,l),(null!==(u=t.preOrderCheckHooks)&&void 0!==u?u:t.preOrderCheckHooks=[]).push(e,l)}a&&(null!==(c=t.preOrderHooks)&&void 0!==c?c:t.preOrderHooks=[]).push(0-e,a),o&&((null!==(d=t.preOrderHooks)&&void 0!==d?d:t.preOrderHooks=[]).push(e,o),(null!==(f=t.preOrderCheckHooks)&&void 0!==f?f:t.preOrderCheckHooks=[]).push(e,o))}(t,a[t],n)}finally{null!==d&&at(d),el(s),o.resolving=!1,ay()}}return i}function yy(e,n,t){return!!(t[n+(e>>fy)]&1<<e)}function _y(e,n){return!(e&Ee.Self||e&Ee.Host&&n)}var En=function(){return m(function e(n,t){y(this,e),this._tNode=n,this._lView=t},[{key:"get",value:function(t,r,i){return py(this._tNode,this._lView,t,xu(i),r)}}])}();function qT(){return new En(xe(),T())}function xn(e){return kr(function(){for(var n=e.prototype.constructor,t=n[Ir]||Of(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var a=i[Ir]||Of(i);if(a&&a!==t)return a;i=Object.getPrototypeOf(i)}return function(o){return new o}})}function Of(e){return Iu(e)?function(){var n=Of(ne(e));return n&&n()}:Ci(e)}function Cy(e){var n=e[L],t=n.type;return 2===t?n.declTNode:1===t?e[On]:null}function My(e){var i=ky(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return i.resolveInjectorInitializers(),i}function ky(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set,a=[t||we,HI(e)];return r=r||("object"==typeof e?void 0:_n(e)),new ca(a,n||Uu(),r||null,i)}var Dn=function(){return m(function e(){y(this,e)},null,[{key:"create",value:function(t,r){if(Array.isArray(t))return My({name:""},r,t,"");var i,a=null!==(i=t.name)&&void 0!==i?i:"";return My({name:a},t.parent,t.providers,a)}}])}();(na=Dn).THROW_IF_NOT_FOUND=To,na.NULL=new Ru,na.\u0275prov=he({token:na,providedIn:"any",factory:function(){return be(pm)}}),na.__NG_ELEMENT_ID__=-1,new W("").__NG_ELEMENT_ID__=function(e){var n=xe();if(null===n)throw new F(204,!1);if(2&n.type)return n.value;if(e&Ee.Optional)return null;throw new F(204,!1)};function Nf(e){return e.ngOriginalError}var Kr=function(){return m(function e(){y(this,e),this._console=console},[{key:"handleError",value:function(t){var r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}},{key:"_findOriginalError",value:function(t){for(var r=t&&Nf(t);r&&Nf(r);)r=Nf(r);return r||null}}])}(),Iy=new W("",{providedIn:"root",factory:function(){return Z(Kr).handleError.bind(void 0)}}),al=function(){var e,n=m(function t(){y(this,t)});return(e=n).__NG_ELEMENT_ID__=r1,e.__NG_ENV_ID__=function(t){return t},n}(),t1=function(e){function n(t){var r;return y(this,n),(r=M(this,n))._lView=t,r}return k(n,e),m(n,[{key:"onDestroy",value:function(r){var i=this;return Yu(this._lView,r),function(){return function gf(e,n){if(null!==e[Yr]){var t=e[Yr].indexOf(n);-1!==t&&e[Yr].splice(t,1)}}(i._lView,r)}}}])}(al);function r1(){return new t1(T())}function i1(){return Ca(xe(),T())}function Ca(e,n){return new zt(Yn(e,n))}var zt=function(){var n=m(function t(r){y(this,t),this.nativeElement=r});return n.__NG_ELEMENT_ID__=i1,n}();function Py(e){return e instanceof zt?e.nativeElement:e}var ba=function(){var e,n=function(){return m(function t(){y(this,t),this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new MS(!1)},[{key:"_hasPendingTasks",get:function(){return this.hasPendingTasks.value}},{key:"add",value:function(){this._hasPendingTasks||this.hasPendingTasks.next(!0);var i=this.taskId++;return this.pendingTasks.add(i),i}},{key:"remove",value:function(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}},{key:"ngOnDestroy",value:function(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}])}();return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e}}),n}(),a1=function(e){function n(){var t,i,a,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y(this,n),(t=M(this,n)).destroyRef=void 0,t.pendingTasks=void 0,t.__isAsync=r,function Pm(){return void 0!==lm()||null!=function gI(){return sa}()}()&&(t.destroyRef=null!==(i=Z(al,{optional:!0}))&&void 0!==i?i:void 0,t.pendingTasks=null!==(a=Z(ba,{optional:!0}))&&void 0!==a?a:void 0),t}return k(n,e),m(n,[{key:"emit",value:function(r){var i=pe(null);try{Ge(Oe(n.prototype),"next",this).call(this,r)}finally{pe(i)}}},{key:"subscribe",value:function(r,i,a){var o=r,s=i||function(){return null},u=a;if(r&&"object"==typeof r){var l,c,d,f=r;o=null===(l=f.next)||void 0===l?void 0:l.bind(f),s=null===(c=f.error)||void 0===c?void 0:c.bind(f),u=null===(d=f.complete)||void 0===d?void 0:d.bind(f)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),u&&(u=this.wrapInTimeout(u)));var v=Ge(Oe(n.prototype),"subscribe",this).call(this,{next:o,error:s,complete:u});return r instanceof St&&r.add(v),v}},{key:"wrapInTimeout",value:function(r){var i=this;return function(a){var o,s=null===(o=i.pendingTasks)||void 0===o?void 0:o.add();setTimeout(function(){var u;r(a),void 0!==s&&(null===(u=i.pendingTasks)||void 0===u||u.remove(s))})}}}])}(Mr),fn=a1;function o1(){return this._results[Symbol.iterator]()}var s1=function(){return m(function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(this,e),this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;var t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=o1)},[{key:"changes",get:function(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new fn}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,r){return this._results.reduce(t,r)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,r){this.dirty=!1;var i=function ot(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function DI(e,n,t){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],a=n[r];if(t&&(i=t(i),a=t(a)),a!==i)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}},{key:"notifyOnChanges",value:function(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"onDirty",value:function(t){this._onDirty=t}},{key:"setDirty",value:function(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}},{key:"destroy",value:function(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}])}();function ol(e){return!(128&~e.flags)}var Ff=new Map,l1=0,ul="__ngContext__";function Un(e,n){In(n)?(e[ul]=n[ga],function d1(e){Ff.set(e[ga],e)}(n)):e[ul]=n}function Hy(e){return jy(e[No])}function Uy(e){return jy(e[Bt])}function jy(e){for(;null!==e&&!Hn(e);)e=e[Bt];return e}var Lf=void 0;var Da=new W("",{providedIn:"root",factory:function(){return O1}}),O1="ng",Zy=new W(""),Qr=new W("",{providedIn:"platform",factory:function(){return"unknown"}}),Yy=new W("",{providedIn:"root",factory:function(){var n;return(null===(n=function $r(){if(void 0!==Lf)return Lf;if(typeof document<"u")return document;throw new F(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}}),Ky=function(){return null};function jf(e,n){return Ky(e,n,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}var r_=new W("",{providedIn:"root",factory:function(){return!1}}),l_=function(){return m(function e(n){y(this,e),this.changingThisBreaksApplicationSecurity=n},[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see ".concat(em,")")}}])}();function Xr(e){return e instanceof l_?e.changingThisBreaksApplicationSecurity:e}var eP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ta=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ta||{});function Jf(e){var n=function ts(){var e=T();return e&&e[or].sanitizer}();return n?n.sanitize(Ta.URL,e)||"":function es(e,n){var t=function $1(e){return e instanceof l_&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error("Required a safe ".concat(n,", got a ").concat(t," (see ").concat(em,")"))}return t===n}(e,"URL")?Xr(e):function Kf(e){return(e=String(e)).match(eP)?e:"unsafe:"+e}(le(e))}var tv,Jr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Jr||{});function rv(e,n){return tv(e,n)}function Oa(e,n,t,r,i){if(null!=r){var a,o=!1;Hn(r)?a=r:In(r)&&(o=!0,r=r[We]);var s=Me(r);0===e&&null!==t?null==i?O_(n,t,s):Oi(n,t,s,i||null,!0):1===e&&null!==t?Oi(n,t,s,i||null,!0):2===e?function is(e,n,t){var r=El(e,n);r&&function jP(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,s,o):3===e&&n.destroyNode(s),null!=a&&function WP(e,n,t,r,i){var a=t[ur];a!==Me(t)&&Oa(n,e,r,a,i);for(var s=tn;s<t.length;s++){var u=t[s];wl(u[L],u,e,n,r,a)}}(n,e,a,t,i)}}function Cl(e,n,t){return e.createElement(n,t)}function I_(e,n){var t;null===(t=n[or].changeDetectionScheduler)||void 0===t||t.notify(8),wl(e,n,n[ae],2,null,null)}function T_(e,n){var t=e[pa],r=n[cn];(In(r)||n[qe]!==r[cn][qe])&&(e[K]|=Wu.HasTransplantedViews),null===t?e[pa]=[n]:t.push(n)}function ov(e,n){var t=e[pa],r=t.indexOf(n);t.splice(r,1)}function rs(e,n){if(!(e.length<=tn)){var t=tn+n,r=e[t];if(r){var i=r[wi];null!==i&&i!==e&&ov(i,r),n>0&&(e[t-1][Bt]=r[Bt]);var a=Nu(e,tn+n);!function RP(e,n){I_(e,n),n[We]=null,n[On]=null}(r[L],r);var o=a[sr];null!==o&&o.detachView(a[L]),r[cn]=null,r[Bt]=null,r[K]&=-129}return r}}function bl(e,n){if(!(256&n[K])){var t=n[ae];t.destroyNode&&wl(e,n,t,3,null,null),function VP(e){var n=e[No];if(!n)return sv(e[L],e);for(;n;){var t=null;if(In(n))t=n[No];else{var r=n[tn];r&&(t=r)}if(!t){for(;n&&!n[Bt]&&n!==e;)In(n)&&sv(n[L],n),n=n[cn];null===n&&(n=e),In(n)&&sv(n[L],n),t=n&&n[Bt]}n=t}}(n)}}function sv(e,n){if(!(256&n[K])){var t=pe(null);try{n[K]&=-129,n[K]|=256,n[It]&&yd(n[It]),function UP(e,n){var t;if(null!=e&&null!=(t=e.destroyHooks))for(var r=0;r<t.length;r+=2){var i=n[t[r]];if(!(i instanceof zo)){var a=t[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];lr(4,s,u);try{u.call(s)}finally{lr(5,s,u)}}else{lr(4,i,a);try{a.call(i)}finally{lr(5,i,a)}}}}}(e,n),function HP(e,n){var t=e.cleanup,r=n[Di];if(null!==t)for(var i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){var a=t[i+3];a>=0?r[a]():r[-a].unsubscribe(),i+=2}else t[i].call(r[t[i+1]]);null!==r&&(n[Di]=null);var s=n[Yr];if(null!==s){n[Yr]=null;for(var u=0;u<s.length;u++)(0,s[u])()}}(e,n),1===n[L].type&&n[ae].destroy();var r=n[wi];if(null!==r&&Hn(n[cn])){r!==n[cn]&&ov(r,n);var i=n[sr];null!==i&&i.detachView(e)}!function f1(e){Ff.delete(e[ga])}(n)}finally{pe(t)}}}function uv(e,n,t){return function P_(e,n,t){for(var r=n;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return t[We];var a=r.componentOffset;if(a>-1){var o=e.data[r.directiveStart+a].encapsulation;if(o===Lt.None||o===Lt.Emulated)return null}return Yn(r,t)}(e,n.parent,t)}function Oi(e,n,t,r,i){e.insertBefore(n,t,r,i)}function O_(e,n,t){e.appendChild(n,t)}function A_(e,n,t,r,i){null!==r?Oi(e,n,t,r,i):O_(e,n,t)}function El(e,n){return e.parentNode(n)}var lv,F_=function N_(e,n,t){return 40&e.type?Yn(e,t):null};function Dl(e,n,t,r){var i=uv(e,r,n),a=n[ae],s=function x_(e,n,t){return F_(e,n,t)}(r.parent||n[On],r,n);if(null!=i)if(Array.isArray(t))for(var u=0;u<t.length;u++)A_(a,i,t[u],s,!1);else A_(a,i,t,s,!1);void 0!==lv&&lv(a,r,n,t,i)}function Aa(e,n){if(null!==n){var t=n.type;if(3&t)return Yn(n,e);if(4&t)return cv(-1,e[n.index]);if(8&t){var r=n.child;if(null!==r)return Aa(e,r);var i=e[n.index];return Hn(i)?cv(-1,i):Me(i)}if(32&t)return rv(n,e)()||Me(e[n.index]);var s=L_(e,n);return null!==s?Array.isArray(s)?s[0]:Aa(Pr(e[qe]),s):Aa(e,n.next)}return null}function L_(e,n){return null!==n?e[qe][On].projection[n.projection]:null}function cv(e,n){var t=tn+e+1;if(t<n.length){var r=n[t],i=r[L].firstChild;if(null!==i)return Aa(r,i)}return n[ur]}function dv(e,n,t,r,i,a,o){for(;null!=t;)if(128!==t.type){var s=r[t.index],u=t.type;if(o&&0===n&&(s&&Un(Me(s),r),t.flags|=2),32&~t.flags)if(8&u)dv(e,n,t.child,r,i,a,!1),Oa(n,e,i,s,a);else if(32&u){for(var l=rv(t,r),c=void 0;c=l();)Oa(n,e,i,c,a);Oa(n,e,i,s,a)}else 16&u?B_(e,n,r,t,i,a):Oa(n,e,i,s,a);t=o?t.projectionNext:t.next}else t=t.next}function wl(e,n,t,r,i,a){dv(t,r,e.firstChild,n,i,a,!1)}function B_(e,n,t,r,i,a){var o=t[qe],u=o[On].projection[r.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)Oa(n,e,i,u[l],a);else{var d=u,f=o[cn];ol(r)&&(d.flags|=128),dv(e,n,d,f,i,a,!0)}}function H_(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function U_(e,n,t){var r=t.mergedAttrs,i=t.classes,a=t.styles;null!==r&&$d(e,n,r),null!==i&&H_(e,n,i),null!==a&&function ZP(e,n,t){e.setAttribute(n,"style",t)}(e,n,a)}var ce={};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;j_(me(),T(),An()+e,!1)}function j_(e,n,t,r){if(!r)if(3&~n[K]){var o=e.preOrderHooks;null!==o&&Ju(n,o,0,t)}else{var a=e.preOrderCheckHooks;null!==a&&Xu(n,a,t)}Ii(t)}function A(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.Default,t=T();return null===t?be(e,n):py(xe(),t,ne(e),n)}function z_(e,n,t,r,i,a){var o=pe(null);try{var s=null;i&qr.SignalBased&&(s=n[r][Nt]),null!==s&&void 0!==s.transformFn&&(a=s.transformFn(a)),i&qr.HasDecoratorInputTransform&&(a=e.inputTransforms[r].call(n,a)),null!==e.setInput?e.setInput(n,s,a,t,r):Lm(n,s,r,a)}finally{pe(o)}}function Ml(e,n,t,r,i,a,o,s,u,l,c){var d=n.blueprint.slice();return d[We]=i,d[K]=204|r,(null!==l||e&&2048&e[K])&&(d[K]|=2048),zm(d),d[cn]=d[va]=e,d[Be]=t,d[or]=o||e&&e[or],d[ae]=s||e&&e[ae],d[dn]=u||e&&e[dn]||null,d[On]=a,d[ga]=function c1(){return l1++}(),d[Zn]=c,d[xm]=l,d[qe]=2==n.type?e[qe]:d,d}function Ai(e,n,t,r,i){var a=e.data[n];if(null===a)a=function fv(e,n,t,r,i){var a=Ym(),o=mf(),u=e.data[n]=function tO(e,n,t,r,i,a){var o=n?n.injectorIndex:-1,s=0;return function Si(){return null!==oe.skipHydrationRootTNode}()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u,u.prev=a)),u}(e,n,t,r,i),function wT(){return oe.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=t,a.value=r,a.attrs=i;var o=function Uo(){var e=oe.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Ut(a,!0),a}function as(e,n,t,r){if(0===t)return-1;for(var i=n.length,a=0;a<t;a++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function G_(e,n,t,r,i){var a=An(),o=2&r;try{Ii(-1),o&&n.length>q&&j_(e,n,q,!1),lr(o?2:0,i),t(r,i)}finally{Ii(a),lr(o?3:1,i)}}function vv(e,n,t){if(uf(n)){var r=pe(null);try{for(var a=n.directiveEnd,o=n.directiveStart;o<a;o++){var s=e.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}finally{pe(r)}}}function hv(e,n,t){Zm()&&(function lO(e,n,t,r){var i=t.directiveStart,a=t.directiveEnd;Mi(t)&&function pO(e,n,t){var r=Yn(n,e),i=W_(t),o=16;t.signals?o=4096:t.onPush&&(o=64);var s=kl(e,Ml(e,i,null,o,r,n,null,e[or].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=s}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||nl(t,n),Un(r,n);for(var o=t.initialInputs,s=i;s<a;s++){var u=e.data[s],l=Pi(n,e,s,t);Un(l,n),null!==o&&mO(0,s-i,l,u,0,o),Ht(u)&&(yt(t.index,n)[Be]=Pi(n,e,s,t))}}(e,n,t,Yn(t,n)),!(64&~t.flags)&&$_(e,n,t))}function gv(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yn,r=n.localNames;if(null!==r)for(var i=n.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?t(n,e):e[o];e[i++]=s}}function W_(e){var n=e.tView;return null===n||n.incompleteFirstPass?e.tView=pv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function pv(e,n,t,r,i,a,o,s,u,l,c){var d=q+r,f=d+i,v=function $P(e,n){for(var t=[],r=0;r<n;r++)t.push(r<e?null:ce);return t}(d,f),g="function"==typeof l?l():l;return v[L]={type:e,blueprint:v,template:t,queries:null,viewQuery:s,declTNode:n,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:c}}var q_=function(){return null};function Z_(e,n,t,r,i){for(var a in n){var o;if(n.hasOwnProperty(a)){var s=n[a];if(void 0!==s){null!==(o=r)&&void 0!==o||(r={});var u=void 0,l=qr.None;Array.isArray(s)?(u=s[0],l=s[1]):u=s;var c=a;if(null!==i){if(!i.hasOwnProperty(a))continue;c=i[a]}0===e?Y_(r,t,c,u,l):Y_(r,t,c,u)}}}return r}function Y_(e,n,t,r,i){var a;e.hasOwnProperty(t)?(a=e[t]).push(n,r):a=e[t]=[n,r],void 0!==i&&a.push(i)}function lt(e,n,t,r,i,a,o,s){var c,u=Yn(n,t),l=n.inputs;!s&&null!=l&&(c=l[r])?(bv(e,t,c,r,i),Mi(n)&&function aO(e,n){var t=yt(n,e);16&t[K]||(t[K]|=64)}(t,n.index)):3&n.type&&(r=function iO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,a.setProperty(u,r,i))}function mv(e,n,t,r){if(Zm()){var o,s,i=null===r?null:{"":-1},a=function dO(e,n){var t=e.directiveRegistry,r=null,i=null;if(t)for(var a=0;a<t.length;a++){var o=t[a];if(bm(n,o.selectors,!1))if(r||(r=[]),Ht(o))if(null!==o.findHostDirectiveDefs){var s,u=[];o.findHostDirectiveDefs(o,u,i=i||new Map),(s=r).unshift.apply(s,u.concat([o])),yv(e,n,u.length)}else r.unshift(o),yv(e,n,0);else{var c;i=i||new Map,null===(c=o.findHostDirectiveDefs)||void 0===c||c.call(o,o,r,i),r.push(o)}}return null===r?null:[r,i]}(e,t);if(null===a)o=s=null;else{var u=it(a,2);o=u[0],s=u[1]}null!==o&&K_(e,n,t,o,i,s),i&&function fO(e,n,t){if(n)for(var r=e.localNames=[],i=0;i<n.length;i+=2){var a=t[n[i+1]];if(null==a)throw new F(-301,!1);r.push(n[i],a)}}(t,r,i)}t.mergedAttrs=Oo(t.mergedAttrs,t.attrs)}function K_(e,n,t,r,i,a){for(var o=0;o<r.length;o++)Pf(nl(t,n),e,r[o].type);!function hO(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(var s=0;s<r.length;s++){var u=r[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,d=as(e,n,r.length,null),f=0;f<r.length;f++){var v=r[f];t.mergedAttrs=Oo(t.mergedAttrs,v.hostAttrs),gO(e,t,n,d,v),vO(d,v,i),null!==v.contentQueries&&(t.flags|=4),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(t.flags|=64);var p,C,g=v.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((null!==(p=e.preOrderHooks)&&void 0!==p?p:e.preOrderHooks=[]).push(t.index),l=!0),c||!g.ngOnChanges&&!g.ngDoCheck||((null!==(C=e.preOrderCheckHooks)&&void 0!==C?C:e.preOrderCheckHooks=[]).push(t.index),c=!0),d++}!function rO(e,n,t){for(var i=n.directiveEnd,a=e.data,o=n.attrs,s=[],u=null,l=null,c=n.directiveStart;c<i;c++){var d=a[c],f=t?t.get(d):null,g=f?f.outputs:null;u=Z_(0,d.inputs,c,u,f?f.inputs:null),l=Z_(1,d.outputs,c,l,g);var p=null===u||null===o||Qd(n)?null:yO(u,c,o);s.push(p)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=s,n.inputs=u,n.outputs=l}(e,t,a)}function $_(e,n,t){var r=t.directiveStart,i=t.directiveEnd,a=t.index,o=function kT(){return oe.lFrame.currentDirectiveIndex}();try{Ii(a);for(var s=r;s<i;s++){var u=e.data[s],l=n[s];_f(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&cO(u,l)}}finally{Ii(-1),_f(o)}}function cO(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function yv(e,n,t){var r;n.componentOffset=t,(null!==(r=e.components)&&void 0!==r?r:e.components=[]).push(n.index)}function vO(e,n,t){if(t){if(n.exportAs)for(var r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ht(n)&&(t[""]=e)}}function gO(e,n,t,r,i){e.data[r]=i;var a=i.factory||(i.factory=Ci(i.type)),o=new zo(a,Ht(i),A);e.blueprint[r]=o,t[r]=o,function sO(e,n,t,r,i){var a=i.hostBindings;if(a){var o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);var s=~n.index;(function uO(e){for(var n=e.length;n>0;){var t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=s&&o.push(s),o.push(t,r,a)}}(e,n,r,as(e,t,i.hostVars,ce),i)}function fr(e,n,t,r,i,a){var o=Yn(e,n);!function _v(e,n,t,r,i,a,o){if(null==a)e.removeAttribute(n,i,t);else{var s=null==o?le(a):o(a,r||"",i);e.setAttribute(n,i,s,t)}}(n[ae],o,a,e.value,t,r,i)}function mO(e,n,t,r,i,a){var o=a[n];if(null!==o)for(var s=0;s<o.length;)z_(r,t,o[s++],o[s++],o[s++],o[s++])}function yO(e,n,t){for(var r=null,i=0;i<t.length;){var a=t[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);for(var o=e[a],s=0;s<o.length;s+=3)if(o[s]===n){r.push(a,o[s+1],o[s+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Q_(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function X_(e,n){var t=e.contentQueries;if(null!==t){var r=pe(null);try{for(var i=0;i<t.length;i+=2){var o=t[i+1];if(-1!==o){var s=e.data[o];$u(t[i]),s.contentQueries(2,n[o],o)}}}finally{pe(r)}}}function kl(e,n){return e[No]?e[Am][Bt]=n:e[No]=n,e[Am]=n,n}function Cv(e,n,t){$u(0);var r=pe(null);try{n(e,t)}finally{pe(r)}}function J_(e){var n;return null!==(n=e[Di])&&void 0!==n?n:e[Di]=[]}function eC(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function Sl(e,n){var t=e[dn],r=t?t.get(Kr,null):null;r&&r.handleError(n)}function bv(e,n,t,r,i){for(var a=0;a<t.length;){var o=t[a++],s=t[a++],u=t[a++];z_(e.data[o],n[o],r,s,u,i)}}function Nr(e,n,t){var r=Vo(n,e);!function S_(e,n,t){e.setValue(n,t)}(e[ae],r,t)}function _O(e,n){var t=yt(n,e),r=t[L];!function CO(e,n){for(var t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);var i=t[We];null!==i&&null===t[Zn]&&(t[Zn]=jf(i,t[dn])),Ev(r,t,t[Be])}function Ev(e,n,t){Ef(n);try{var r,i=e.viewQuery;null!==i&&Cv(1,i,t);var a=e.template;null!==a&&G_(e,n,a,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),null===(r=n[sr])||void 0===r||r.finishViewCreation(e),e.staticContentQueries&&X_(e,n),e.staticViewQueries&&Cv(2,e.viewQuery,t);var o=e.components;null!==o&&function bO(e,n){for(var t=0;t<n.length;t++)_O(e,n[t])}(n,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[K]&=-5,Df()}}function xi(e,n){return!n||null===n.firstChild||ol(e)}function os(e,n,t,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==t;)if(128!==t.type){var a=n[t.index];null!==a&&r.push(Me(a)),Hn(a)&&rC(a,r);var o=t.type;if(8&o)os(e,n,t.child,r);else if(32&o)for(var s=rv(t,n),u=void 0;u=s();)r.push(u);else if(16&o){var l=L_(n,t);if(Array.isArray(l))r.push.apply(r,V(l));else{var c=Pr(n[qe]);os(c[L],c,l,r,!0)}}t=i?t.projectionNext:t.next}else t=i?t.projectionNext:t.next;return r}function rC(e,n){for(var t=tn;t<e.length;t++){var r=e[t],i=r[L].firstChild;null!==i&&os(r[L],r,i,n)}e[ur]!==e[We]&&n.push(e[ur])}var iC=[];var MO=re(re({},mu),{},{consumerIsAlwaysLive:!0,consumerMarkedDirty:function(n){Zu(n.lView)},consumerOnSignalRead:function(){this.lView[It]=this}}),SO=re(re({},mu),{},{consumerIsAlwaysLive:!0,consumerMarkedDirty:function(n){for(var t=Pr(n.lView);t&&!aC(t[L]);)t=Pr(t);t&&Gm(t)},consumerOnSignalRead:function(){this.lView[It]=this}});function aC(e){return 2!==e.type}var IO=100;function Il(e){var o,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e[or],i=r.rendererFactory;null===(o=i.begin)||void 0===o||o.call(i);try{!function TO(e,n){var t=Qm();try{Xm(!0),wv(e,n);for(var r=0;Ho(e);){if(r===IO)throw new F(103,!1);r++,wv(e,1)}}finally{Xm(t)}}(e,t)}catch(l){throw n&&Sl(e,l),l}finally{var s,u;null===(s=i.end)||void 0===s||s.call(i),null===(u=r.inlineEffectRunner)||void 0===u||u.flush()}}function OO(e,n,t,r){var i,a=n[K];if(256&~a){null===(i=n[or].inlineEffectRunner)||void 0===i||i.flush(),Ef(n);var u=!0,l=null,c=null;aC(e)?l=yu(c=function EO(e){var n;return null!==(n=e[It])&&void 0!==n?n:function DO(e){var n,t=null!==(n=iC.pop())&&void 0!==n?n:Object.create(MO);return t.lView=e,t}(e)}(n)):null===function Dp(){return yn}()?(u=!1,c=function kO(e){var n,t=null!==(n=e[It])&&void 0!==n?n:Object.create(SO);return t.lView=e,t}(n),l=yu(c)):n[It]&&(yd(n[It]),n[It]=null);try{zm(n),function Jm(e){return oe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&G_(e,n,t,2,r);var d=!(3&~a);if(d){var f=e.preOrderCheckHooks;null!==f&&Xu(n,f,null)}else{var v=e.preOrderHooks;null!==v&&Ju(n,v,0,null),wf(n,0)}if(function AO(e){for(var n=Hy(e);null!==n;n=Uy(n))if(n[K]&Wu.HasTransplantedViews)for(var t=n[pa],r=0;r<t.length;r++)Gm(t[r])}(n),oC(n,0),null!==e.contentQueries&&X_(e,n),d){var g=e.contentCheckHooks;null!==g&&Xu(n,g)}else{var p=e.contentHooks;null!==p&&Ju(n,p,1),wf(n,1)}!function KP(e,n){var t=e.hostBindingOpCodes;if(null!==t)try{for(var r=0;r<t.length;r++){var i=t[r];if(i<0)Ii(~i);else{var a=i,o=t[++r],s=t[++r];MT(o,a),s(2,n[a])}}}finally{Ii(-1)}}(e,n);var C=e.components;null!==C&&uC(n,C,0);var b=e.viewQuery;if(null!==b&&Cv(2,b,r),d){var _=e.viewCheckHooks;null!==_&&Xu(n,_)}else{var w=e.viewHooks;null!==w&&Ju(n,w,2),wf(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Fo]){var P,S=x(n[Fo]);try{for(S.s();!(P=S.n()).done;)(0,P.value)()}catch(R){S.e(R)}finally{S.f()}n[Fo]=null}n[K]&=-73}catch(R){throw Zu(n),R}finally{null!==c&&(pd(c,l),u&&function wO(e){e.lView[It]!==e&&(e.lView=null,iC.push(e))}(c)),Df()}}}function oC(e,n){for(var t=Hy(e);null!==t;t=Uy(t))for(var r=tn;r<t.length;r++)sC(t[r],n)}function xO(e,n,t){sC(yt(n,e),t)}function sC(e,n){vf(e)&&wv(e,n)}function wv(e,n){var r=e[L],i=e[K],a=e[It],o=!!(0===n&&16&i);if(o||(o=!!(64&i&&0===n)),o||(o=!!(1024&i)),o||(o=!(null==a||!a.dirty||!md(a))),o||(o=!1),a&&(a.dirty=!1),e[K]&=-9217,o)OO(r,e,r.template,e[Be]);else if(8192&i){oC(e,1);var s=r.components;null!==s&&uC(e,s,1)}}function uC(e,n,t){for(var r=0;r<n.length;r++)xO(e,n[r],t)}function ss(e,n){var t,r=Qm()?64:1088;for(null===(t=e[or].changeDetectionScheduler)||void 0===t||t.notify(n);e;){e[K]|=r;var i=Pr(e);if(Lo(e)&&!i)return e;e=i}return null}var us=function(){return m(function e(n,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y(this,e),this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1},[{key:"rootNodes",get:function(){var t=this._lView,r=t[L];return os(r,t,r.firstChild,[])}},{key:"context",get:function(){return this._lView[Be]},set:function(t){this._lView[Be]=t}},{key:"destroyed",get:function(){return!(256&~this._lView[K])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[cn];if(Hn(t)){var r=t[8],i=r?r.indexOf(this):-1;i>-1&&(rs(t,i),Nu(r,i))}this._attachedToViewContainer=!1}bl(this._lView[L],this._lView)}},{key:"onDestroy",value:function(t){Yu(this._lView,t)}},{key:"markForCheck",value:function(){ss(this._cdRefInjectingView||this._lView,4)}},{key:"detach",value:function(){this._lView[K]&=-129}},{key:"reattach",value:function(){hf(this._lView),this._lView[K]|=128}},{key:"detectChanges",value:function(){this._lView[K]|=1024,Il(this._lView,this.notifyErrorHandler)}},{key:"checkNoChanges",value:function(){}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null;var t=Lo(this._lView),r=this._lView[wi];null!==r&&!t&&ov(r,this._lView),I_(this._lView[L],this._lView)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=t;var r=Lo(this._lView),i=this._lView[wi];null!==i&&!r&&T_(i,this._lView),hf(this._lView)}}])}(),Fr=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=RO,n}(),FO=function(e){function n(t,r,i){var a;return y(this,n),(a=M(this,n))._declarationLView=t,a._declarationTContainer=r,a.elementRef=i,a}return k(n,e),m(n,[{key:"ssrId",get:function(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}},{key:"createEmbeddedView",value:function(r,i){return this.createEmbeddedViewImpl(r,i)}},{key:"createEmbeddedViewImpl",value:function(r,i,a){var o=function xa(e,n,t,r){var i=pe(null);try{var a,o,s,u=n.tView,d=Ml(e,u,t,4096&e[K]?4096:16,null,n,null,null,null!==(a=r?.injector)&&void 0!==a?a:null,null!==(o=r?.embeddedViewInjector)&&void 0!==o?o:null,null!==(s=r?.dehydratedView)&&void 0!==s?s:null);d[wi]=e[n.index];var v=e[sr];return null!==v&&(d[sr]=v.createEmbeddedView(u)),Ev(u,d,t),d}finally{pe(i)}}(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:i,dehydratedView:a});return new us(o)}}])}(Fr);function RO(){return Tl(xe(),T())}function Tl(e,n){return 4&e.type?new FO(n,e,Ca(e,n)):null}var ps=m(function e(){y(this,e)}),Fl=new W("",{providedIn:"root",factory:function(){return!1}}),PC=new W(""),IA=m(function e(){y(this,e)}),OC=m(function e(){y(this,e)}),PA=function(){return m(function e(){y(this,e)},[{key:"resolveComponentFactory",value:function(t){throw function TA(e){var n=Error("No component factory found for ".concat(_n(e),"."));return n.ngComponent=e,n}(t)}}])}(),ms=m(function e(){y(this,e)});ms.NULL=new PA;var Fv=m(function e(){y(this,e)}),Ri=function(){var n=m(function t(){y(this,t),this.destroyNode=null});return n.__NG_ELEMENT_ID__=function(){return function OA(){var e=T(),t=yt(xe().index,e);return(In(t)?t:e)[ae]}()},n}(),AA=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:function(){return null}}),n}(),xC=new Set;function $n(e){var n,t;xC.has(e)||(xC.add(e),null===(n=performance)||void 0===n||null===(t=n.mark)||void 0===t||t.call(n,"mark_feature_usage",{detail:{feature:e}}))}function NC(e){var n=!0;return setTimeout(function(){n&&(n=!1,e())}),"function"==typeof Fe.requestAnimationFrame&&Fe.requestAnimationFrame(function(){n&&(n=!1,e())}),function(){n=!1}}function FC(e){var n=!0;return queueMicrotask(function(){n&&e()}),function(){n=!1}}function RC(){}var ze=function(){function e(n){var t=n.enableLongStackTrace,r=void 0!==t&&t,i=n.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=n.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(y(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fn(!1),this.onMicrotaskEmpty=new fn(!1),this.onStable=new fn(!1),this.onError=new fn(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.callbackScheduled=!1,function FA(e){var n=function(){!function NA(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(function(){NC(function(){e.callbackScheduled=!1,Lv(e),e.isCheckStableRunning=!0,Rv(e),e.isCheckStableRunning=!1})}),Lv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(r,i,a,o,s,u){if(function RA(e){return BC(e,"__ignore_ng_zone__")}(u))return r.invokeTask(a,o,s,u);try{return LC(e),r.invokeTask(a,o,s,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),VC(e)}},onInvoke:function(r,i,a,o,s,u,l){try{return LC(e),r.invoke(a,o,s,u,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function LA(e){return BC(e,"__scheduler_tick__")}(u)&&n(),VC(e)}},onHasTask:function(r,i,a,o){r.hasTask(a,o),i===a&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Lv(e),Rv(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(r,i,a,o){return r.handleError(a,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}(u)}return m(e,[{key:"run",value:function(t,r,i){return this._inner.run(t,r,i)}},{key:"runTask",value:function(t,r,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,t,xA,RC,RC);try{return o.runTask(s,r,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(t,r,i){return this._inner.runGuarded(t,r,i)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new F(909,!1)}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new F(909,!1)}}])}(),xA={};function Rv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Lv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function LC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function VC(e){e._nesting--,Rv(e)}var Vv=function(){return m(function e(){y(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn,this.onMicrotaskEmpty=new fn,this.onStable=new fn,this.onError=new fn},[{key:"run",value:function(t,r,i){return t.apply(r,i)}},{key:"runGuarded",value:function(t,r,i){return t.apply(r,i)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,r,i,a){return t.apply(r,i)}}])}();function BC(e,n){var t;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(t=e[0])||void 0===t||null===(t=t.data)||void 0===t?void 0:t[n])}var Rl=function(){var e,n=function(){return m(function t(){y(this,t),this.handler=null,this.internalCallbacks=[]},[{key:"execute",value:function(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}},{key:"executeInternalCallbacks",value:function(){var i=V(this.internalCallbacks);this.internalCallbacks.length=0;var o,a=x(i);try{for(a.s();!(o=a.n()).done;)(0,o.value)()}catch(u){a.e(u)}finally{a.f()}}},{key:"ngOnDestroy",value:function(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}])}();return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e}}),n}();function Vl(e,n,t){var r=t?e.styles:null,i=t?e.classes:null,a=0;if(null!==n)for(var o=0;o<n.length;o++){var s=n[o];"number"==typeof s?a=s:1==a?i=Ad(i,s):2==a&&(r=Ad(r,s+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}var GC=function(e){function n(t){var r;return y(this,n),(r=M(this,n)).ngModule=t,r}return k(n,e),m(n,[{key:"resolveComponentFactory",value:function(r){var i=_e(r);return new Cs(i,this.ngModule)}}])}(ms);function WC(e,n){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(void 0!==i){var a=Array.isArray(i),o=a?i[0]:i;t.push(n?{propName:o,templateName:r,isSignal:!!((a?i[1]:qr.None)&qr.SignalBased)}:{propName:o,templateName:r})}}return t}var Cs=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=function NI(e){return e.map(xI).join(",")}(t.selectors),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return k(n,e),m(n,[{key:"inputs",get:function(){var r=this.componentDef,i=r.inputTransforms,a=WC(r.inputs,!0);if(null!==i){var s,o=x(a);try{for(o.s();!(s=o.n()).done;){var u=s.value;i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName])}}catch(l){o.e(l)}finally{o.f()}}return a}},{key:"outputs",get:function(){return WC(this.componentDef.outputs,!1)}},{key:"create",value:function(r,i,a,o){var s=pe(null);try{var l,c=(o=o||this.ngModule)instanceof ar?o:null===(l=o)||void 0===l?void 0:l.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);var d=c?new Ti(r,c):r,f=d.get(Fv,null);if(null===f)throw new F(407,!1);var C={rendererFactory:f,sanitizer:d.get(AA,null),inlineEffectRunner:null,afterRenderEventManager:d.get(Rl,null),changeDetectionScheduler:d.get(ps,null)},b=f.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",w=a?function QP(e,n,t,r){var i=r.get(r_,!1),o=e.selectRootElement(n,i||t===Lt.ShadowDom);return function XP(e){q_(e)}(o),o}(b,a,this.componentDef.encapsulation,d):Cl(b,_,function qA(e){var n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(_)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);var P=null;null!==w&&(P=jf(w,d,!0));var Y,J,B=pv(0,null,null,1,0,null,null,null,null,null,null),R=Ml(null,B,null,S,null,null,C,b,d,null,P);Ef(R);try{var ye,ve=this.componentDef,de=null;ve.findHostDirectiveDefs?(ve.findHostDirectiveDefs(ve,ye=[],de=new Map),ye.push(ve)):ye=[ve];var De=function YA(e,n){var t=e[L],r=q;return e[r]=n,Ai(t,r,2,"#host",null)}(R,w),Ne=function KA(e,n,t,r,i,a,o){var s=i[L];!function $A(e,n,t,r){var a,i=x(e);try{for(i.s();!(a=i.n()).done;)n.mergedAttrs=Oo(n.mergedAttrs,a.value.hostAttrs)}catch(s){i.e(s)}finally{i.f()}null!==n.mergedAttrs&&(Vl(n,n.mergedAttrs,!0),null!==t&&U_(r,t,n))}(r,e,n,o);var u=null;null!==n&&(u=jf(n,i[dn]));var l=a.rendererFactory.createRenderer(n,t),c=16;t.signals?c=4096:t.onPush&&(c=64);var d=Ml(i,W_(t),null,c,i[e.index],e,a,l,null,null,u);return s.firstCreatePass&&yv(s,e,r.length-1),kl(i,d),i[e.index]=d}(De,w,ve,ye,R,C,b);J=Bo(B,q),w&&function XA(e,n,t,r){if(r)$d(e,t,["ng-version","18.1.1"]);else{var i=function FI(e){for(var n=[],t=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&n.push(a,e[++r]):8===i&&t.push(a);else{if(!Vt(i))break;i=a}r++}return{attrs:n,classes:t}}(n.selectors[0]),a=i.attrs,o=i.classes;a&&$d(e,t,a),o&&o.length>0&&H_(e,t,o.join(" "))}}(b,ve,w,a),void 0!==i&&function JA(e,n,t){for(var r=e.projection=[],i=0;i<n.length;i++){var a=t[i];r.push(null!=a?Array.from(a):null)}}(J,this.ngContentSelectors,i),Y=function QA(e,n,t,r,i,a){var o=xe(),s=i[L],u=Yn(o,i);K_(s,i,o,t,null,r);for(var l=0;l<t.length;l++)Un(Pi(i,s,o.directiveStart+l,o),i);$_(s,i,o),u&&Un(u,i);var f=Pi(i,s,o.directiveStart+o.componentOffset,o);if(e[Be]=i[Be]=f,null!==a){var g,v=x(a);try{for(v.s();!(g=v.n()).done;)(0,g.value)(f,n)}catch(C){v.e(C)}finally{v.f()}}return vv(s,o,i),f}(Ne,ve,ye,de,R,[ex]),Ev(B,R,null)}finally{Df()}return new ZA(this.componentType,Y,Ca(J,R),R,J)}finally{pe(s)}}}])}(OC),ZA=function(e){function n(t,r,i,a,o){var s;return y(this,n),(s=M(this,n)).location=i,s._rootLView=a,s._tNode=o,s.previousInputValues=null,s.instance=r,s.hostView=s.changeDetectorRef=new us(a,void 0,!1),s.componentType=t,s}return k(n,e),m(n,[{key:"setInput",value:function(r,i){var o,a=this._tNode.inputs;if(null!==a&&(o=a[r])){var s;if(null!==(s=this.previousInputValues)&&void 0!==s||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),i))return;var u=this._rootLView;bv(u[L],u,o,r,i),this.previousInputValues.set(r,i),ss(yt(this._tNode.index,u),1)}}},{key:"injector",get:function(){return new En(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(r){this.hostView.onDestroy(r)}}])}(IA);function ex(){var e=xe();Qu(T()[L],e)}var Nn=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=nx,n}();function nx(){return YC(xe(),T())}var qC=function(e){function n(t,r,i){var a;return y(this,n),(a=M(this,n))._lContainer=t,a._hostTNode=r,a._hostLView=i,a}return k(n,e),m(n,[{key:"element",get:function(){return Ca(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new En(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var r=tl(this._hostTNode,this._hostLView);if(Sf(r)){var i=Wo(r,this._hostLView),a=Go(r);return new En(i[L].data[a+8],i)}return new En(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(r){var i=ZC(this._lContainer);return null!==i&&i[r]||null}},{key:"length",get:function(){return this._lContainer.length-tn}},{key:"createEmbeddedView",value:function(r,i,a){var o,s;"number"==typeof a?o=a:null!=a&&(o=a.index,s=a.injector);var l=r.createEmbeddedViewImpl(i||{},s,null);return this.insertImpl(l,o,xi(this._hostTNode,null)),l}},{key:"createComponent",value:function(r,i,a,o,s){var u,c,f,d=r&&!function xo(e){return"function"==typeof e}(r);if(d)f=i;else{var v=i||{};f=v.index,a=v.injector,o=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}var g=d?r:new Cs(_e(r)),p=a||this.parentInjector;if(!s&&null==g.ngModule){var b=(d?p:this.parentInjector).get(ar,null);b&&(s=b)}var _=_e(null!==(u=g.componentType)&&void 0!==u?u:{}),w=(_?.id,null),S=null!==(c=w?.firstChild)&&void 0!==c?c:null,P=g.create(p,o,S,s);return this.insertImpl(P.hostView,f,xi(this._hostTNode,w)),P}},{key:"insert",value:function(r,i){return this.insertImpl(r,i,!0)}},{key:"insertImpl",value:function(r,i,a){var o=r._lView;if(function gT(e){return Hn(e[cn])}(o)){var s=this.indexOf(r);if(-1!==s)this.detach(s);else{var u=o[cn],l=new qC(u,u[On],u[cn]);l.detach(l.indexOf(r))}}var c=this._adjustIndex(i),d=this._lContainer;return function Na(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=n[L];if(function BP(e,n,t,r){var i=tn+r,a=t.length;r>0&&(t[i-1][Bt]=n),r<a-tn?(n[Bt]=t[i],vm(t,tn+r,n)):(t.push(n),n[Bt]=null),n[cn]=t;var o=n[wi];null!==o&&t!==o&&T_(o,n);var s=n[sr];null!==s&&s.insertView(e),hf(n),n[K]|=128}(i,n,e,t),r){var a=cv(t,e),o=n[ae],s=El(o,e[ur]);null!==s&&function LP(e,n,t,r,i,a){r[We]=i,r[On]=n,wl(e,r,t,1,i,a)}(i,e[On],o,n,s,a)}var u=n[Zn];null!==u&&null!==u.firstChild&&(u.firstChild=null)}(d,o,c,a),r.attachToViewContainerRef(),vm(jv(d),c,r),r}},{key:"move",value:function(r,i){return this.insert(r,i)}},{key:"indexOf",value:function(r){var i=ZC(this._lContainer);return null!==i?i.indexOf(r):-1}},{key:"remove",value:function(r){var i=this._adjustIndex(r,-1),a=rs(this._lContainer,i);a&&(Nu(jv(this._lContainer),i),bl(a[L],a))}},{key:"detach",value:function(r){var i=this._adjustIndex(r,-1),a=rs(this._lContainer,i);return a&&null!=Nu(jv(this._lContainer),i)?new us(a):null}},{key:"_adjustIndex",value:function(r){return r??this.length+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}}])}(Nn);function ZC(e){return e[8]}function jv(e){return e[8]||(e[8]=[])}function YC(e,n){var t,r=n[e.index];return Hn(r)?t=r:(t=Q_(r,n,null,e),n[e.index]=t,kl(n,t)),KC(t,n,e,r),new qC(t,e,n)}var KC=function QC(e,n,t,r){var i;e[ur]||(i=8&t.type?Me(r):function rx(e,n){var t=e[ae],r=t.createComment(""),i=Yn(n,e);return Oi(t,El(t,i),r,function zP(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[ur]=i)},zv=function(){return!1};var sx=function(){function e(n){y(this,e),this.queryList=n,this.matches=null}return m(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}])}(),ux=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.queries=n}return m(e,[{key:"createEmbeddedView",value:function(t){var r=t.queries;if(null!==r){for(var i=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[],o=0;o<i;o++){var s=r.getByIndex(o);a.push(this.queries[s.indexInDeclarationView].clone())}return new e(a)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"finishViewCreation",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var r=0;r<this.queries.length;r++)null!==qv(t,r).matches&&this.queries[r].setDirty()}}])}(),XC=m(function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;y(this,e),this.flags=t,this.read=r,this.predicate="string"==typeof n?function gx(e){return e.split(",").map(function(n){return n.trim()})}(n):n}),lx=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this.queries=n}return m(e,[{key:"elementStart",value:function(t,r){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,r)}},{key:"elementEnd",value:function(t){for(var r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}},{key:"embeddedTView",value:function(t){for(var r=null,i=0;i<this.length;i++){var a=null!==r?r.length:0,o=this.getByIndex(i).embeddedTView(t,a);o&&(o.indexInDeclarationView=i,null!==r?r.push(o):r=[o])}return null!==r?new e(r):null}},{key:"template",value:function(t,r){for(var i=0;i<this.queries.length;i++)this.queries[i].template(t,r)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}])}(),cx=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;y(this,e),this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}return m(e,[{key:"elementStart",value:function(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,r){this.elementStart(t,r)}},{key:"embeddedTView",value:function(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1&~this.metadata.flags){for(var r=this._declarationNodeIndex,i=t.parent;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,r){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var o=i[a];this.matchTNodeWithReadOption(t,r,dx(r,o)),this.matchTNodeWithReadOption(t,r,rl(r,t,o,!1,!1))}else i===Fr?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,rl(r,t,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,r,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===zt||a===Nn||a===Fr&&4&r.type)this.addMatch(r.index,-2);else{var o=rl(r,t,a,!1,!1);null!==o&&this.addMatch(r.index,o)}else this.addMatch(r.index,i)}}},{key:"addMatch",value:function(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}])}();function dx(e,n){var t=e.localNames;if(null!==t)for(var r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function vx(e,n,t,r){return-1===t?function fx(e,n){return 11&e.type?Ca(e,n):4&e.type?Tl(e,n):null}(n,e):-2===t?function hx(e,n,t){return t===zt?Ca(n,e):t===Fr?Tl(n,e):t===Nn?YC(n,e):void 0}(e,n,r):Pi(e,e[L],t,n)}function JC(e,n,t,r){var i=n[sr].queries[r];if(null===i.matches){for(var a=e.data,o=t.matches,s=[],u=0;null!==o&&u<o.length;u+=2){var l=o[u];s.push(l<0?null:vx(n,a[l],o[u+1],t.metadata.read))}i.matches=s}return i.matches}function Gv(e,n,t,r){var i=e.queries.getByIndex(t),a=i.matches;if(null!==a)for(var o=JC(e,n,i,t),s=0;s<a.length;s+=2){var u=a[s];if(u>0)r.push(o[s/2]);else{for(var l=a[s+1],c=n[-u],d=tn;d<c.length;d++){var f=c[d];f[wi]===f[cn]&&Gv(f[L],f,l,r)}if(null!==c[pa])for(var v=c[pa],g=0;g<v.length;g++){var p=v[g];Gv(p[L],p,l,r)}}}return r}function nb(e,n,t){var r=me();return r.firstCreatePass&&(function rb(e,n,t){null===e.queries&&(e.queries=new lx),e.queries.track(new cx(n,t))}(r,new XC(e,n,t),-1),!(2&~n)&&(r.staticViewQueries=!0)),function eb(e,n,t){var r,i=new s1(!(4&~t));return function nO(e,n,t,r){var i=J_(n);i.push(t),e.firstCreatePass&&eC(e).push(r,i.length-1)}(e,n,i,i.destroy),(null!==(r=n[sr])&&void 0!==r?r:n[sr]=new ux).queries.push(new sx(i))-1}(r,T(),n)}function qv(e,n){return e.queries.getByIndex(n)}function ib(e,n){var t=e[L],r=qv(t,n);return r.crossesNgTemplate?Gv(t,e,n,[]):JC(t,e,r,n)}function Ra(e,n){$n("NgSignals");var t=function fS(e){var n=Object.create(hS);n.value=e;var t=function(){return gd(n),n.value};return t[Nt]=n,t}(e),r=t[Nt];return null!=n&&n.equal&&(r.equal=n.equal),t.set=function(i){return xp(r,i)},t.update=function(i){return function vS(e,n){kp()||Ap(),xp(e,n(e.value))}(r,i)},t.asReadonly=ob.bind(t),t}function ob(){var e=this,n=this[Nt];if(void 0===n.readonlyFn){var t=function(){return e()};t[Nt]=n,n.readonlyFn=t}return n.readonlyFn}function sb(e){return function ab(e){return"function"==typeof e&&void 0!==e[Nt]}(e)&&"function"==typeof e.set}function fe(e){for(var n=function yb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0,r=[e];n;){var i=void 0;if(Ht(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new F(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);var a=e;a.inputs=Hl(e.inputs),a.inputTransforms=Hl(e.inputTransforms),a.declaredInputs=Hl(e.declaredInputs),a.outputs=Hl(e.outputs);var o=i.hostBindings;o&&Px(e,o);var s=i.viewQuery,u=i.contentQueries;if(s&&Ix(e,s),u&&Tx(e,u),kx(e,i),eI(e.outputs,i.outputs),Ht(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var d=0;d<c.length;d++){var f=c[d];f&&f.ngInherit&&f(e),f===fe&&(t=!1)}}n=Object.getPrototypeOf(n)}!function Sx(e){for(var n=0,t=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Oo(i.hostAttrs,t=Oo(t,i.hostAttrs))}}(r)}function kx(e,n){for(var t in n.inputs)if(n.inputs.hasOwnProperty(t)&&!e.inputs.hasOwnProperty(t)){var r=n.inputs[t];if(void 0!==r&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],null!==n.inputTransforms)){var i,a=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(a))continue;null!==(i=e.inputTransforms)&&void 0!==i||(e.inputTransforms={}),e.inputTransforms[a]=n.inputTransforms[a]}}}function Hl(e){return e===rr?{}:e===we?[]:e}function Ix(e,n){var t=e.viewQuery;e.viewQuery=t?function(r,i){n(r,i),t(r,i)}:n}function Tx(e,n){var t=e.contentQueries;e.contentQueries=t?function(r,i,a){n(r,i,a),t(r,i,a)}:n}function Px(e,n){var t=e.hostBindings;e.hostBindings=t?function(r,i){n(r,i),t(r,i)}:n}var Vi=m(function e(){y(this,e)}),Lx=m(function e(){y(this,e)}),Yv=function(e){function n(t,r,i){var a;y(this,n),(a=M(this,n))._parent=r,a._bootstrapComponents=[],a.destroyCbs=[],a.componentFactoryResolver=new GC(a);var o=function Bn(e,n){var t=e[sm]||null;if(!t&&!0===n)throw new Error("Type ".concat(_n(e)," does not have '\u0275mod' property."));return t}(t);return a._bootstrapComponents=function _t(e){return e instanceof Function?e():e}(o.bootstrap),a._r3Injector=ky(t,r,[{provide:Vi,useValue:a},{provide:ms,useValue:a.componentFactoryResolver}].concat(V(i)),_n(t),new Set(["environment"])),a._r3Injector.resolveInjectorInitializers(),a.instance=a._r3Injector.get(t),a}return k(n,e),m(n,[{key:"injector",get:function(){return this._r3Injector}},{key:"destroy",value:function(){var r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(function(i){return i()}),this.destroyCbs=null}},{key:"onDestroy",value:function(r){this.destroyCbs.push(r)}}])}(Vi),Kv=function(e){function n(t){var r;return y(this,n),(r=M(this,n)).moduleType=t,r}return k(n,e),m(n,[{key:"create",value:function(r){return new Yv(this.moduleType,r,[])}}])}(Lx);function Ul(e){return!!$v(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function $v(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vr(e,n,t){return e[n]=t}function rn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Bi(e,n,t,r){var i=rn(e,n,t);return rn(e,n+1,r)||i}function Ds(e,n,t,r,i,a,o,s,u,l){var c=t+q,d=n.firstCreatePass?function Gx(e,n,t,r,i,a,o,s,u){var l=n.consts,c=Ai(n,e,4,o||null,s||null);mv(n,t,c,Tt(l,u)),Qu(n,c);var d=c.tView=pv(2,c,r,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,n,e,r,i,a,o,s,u):n.data[c];Ut(d,!1);var f=wb(n,e,d,t);jo()&&Dl(n,e,f,d),Un(f,e);var v=Q_(f,e,f,d);return e[c]=v,kl(e,v),function $C(e,n,t){return zv(e,n,t)}(v,d,e),qu(d)&&hv(n,e,d),null!=u&&gv(e,d,l),d}function Fn(e,n,t,r,i,a,o,s){var u=T(),l=me();return Ds(u,l,e,n,t,r,i,Tt(l.consts,a),o,s),Fn}var wb=function Mb(e,n,t,r){return cr(!0),n[ae].createComment("")};function Rr(e,n,t,r){var i=T();return rn(i,jt(),n)&&(me(),fr(He(),i,e,n,t,r)),Rr}function Za(e,n,t,r,i,a){var s=Bi(e,function Or(){return oe.lFrame.bindingIndex}(),t,i);return Ar(2),s?n+le(t)+r+le(i)+a:ce}function Yl(e,n){return e<<17|n<<2}function ti(e){return e>>17&32767}function sh(e){return 2|e}function Ui(e){return(131068&e)>>2}function uh(e,n){return-131069&e|n<<2}function lh(e){return 1|e}function tE(e,n,t,r){for(var i=e[t+1],a=null===n,o=r?ti(i):Ui(i),s=!1;0!==o&&(!1===s||a);){var l=e[o+1];TN(e[o],n)&&(s=!0,e[o+1]=r?lh(l):sh(l)),o=r?ti(l):Ui(l)}s&&(e[t+1]=r?sh(i):lh(i))}function TN(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&la(e,n)>=0}function Q(e,n,t){var r=T();return rn(r,jt(),n)&&lt(me(),He(),r,e,n,r[ae],t,!1),Q}function ch(e,n,t,r,i){var o=i?"class":"style";bv(e,t,n.inputs[o],o,r)}function Kl(e,n){return function qt(e,n,t,r){var i=T(),a=me(),o=Ar(2);a.firstUpdatePass&&function dE(e,n,t,r){var i=e.data;if(null===i[t+1]){var a=i[An()],o=function cE(e,n){return n>=e.expandoStartIndex}(e,t);(function gE(e,n){return!!(e.flags&(n?8:16))})(a,r)&&null===n&&!o&&(n=!1),n=function VN(e,n,t,r){var i=function Cf(e){var n=oe.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e),a=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Ss(t=dh(null,e,n,t,r),n.attrs,r),a=null);else{var s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=dh(i,e,n,t,r),null===a){var l=function BN(e,n,t){var r=t?n.classBindings:n.styleBindings;if(0!==Ui(r))return e[ti(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&function HN(e,n,t,r){e[ti(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l=Ss(l=dh(null,e,n,l[1],r),n.attrs,r))}else a=function UN(e,n,t){for(var r=void 0,i=n.directiveEnd,a=1+n.directiveStylingLast;a<i;a++)r=Ss(r,e[a].hostAttrs,t);return Ss(r,n.attrs,t)}(e,n,r)}return void 0!==a&&(r?n.residualClasses=a:n.residualStyles=a),t}(i,a,n,r),function SN(e,n,t,r,i,a){var o=a?n.classBindings:n.styleBindings,s=ti(o),u=Ui(o);e[r]=t;var c,l=!1;if(Array.isArray(t)?(null===(c=t[1])||la(t,c)>0)&&(l=!0):c=t,i)if(0!==u){var v=ti(e[s+1]);e[r+1]=Yl(v,s),0!==v&&(e[v+1]=uh(e[v+1],r)),e[s+1]=function MN(e,n){return 131071&e|n<<17}(e[s+1],r)}else e[r+1]=Yl(s,0),0!==s&&(e[s+1]=uh(e[s+1],r)),s=r;else e[r+1]=Yl(u,0),0===s?s=r:e[u+1]=uh(e[u+1],r),u=r;l&&(e[r+1]=sh(e[r+1])),tE(e,c,r,!0),tE(e,c,r,!1),function IN(e,n,t,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof n&&la(a,n)>=0&&(t[r+1]=lh(t[r+1]))}(n,c,e,r,a),o=Yl(s,u),a?n.classBindings=o:n.styleBindings=o}(i,a,n,t,o,r)}}(a,e,o,r),n!==ce&&rn(i,o,n)&&function vE(e,n,t,r,i,a,o,s){if(3&n.type){var u=e.data,l=u[s+1],c=function kN(e){return!(1&~e)}(l)?hE(u,n,t,i,Ui(l),o):void 0;$l(c)||($l(a)||function wN(e){return!(2&~e)}(l)&&(a=hE(u,null,t,i,s,o)),function qP(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{var a=-1===r.indexOf("-")?void 0:Jr.DashCase;null==i?e.removeStyle(t,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=Jr.Important),e.setStyle(t,r,i,a))}}(r,o,Vo(An(),t),i,a))}}(a,a.data[An()],i,i[ae],e,i[o+1]=function WN(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=_n(Xr(e)))),e}(n,t),r,o)}(e,n,null,!0),Kl}function dh(e,n,t,r,i){var a=null,o=t.directiveEnd,s=t.directiveStylingLast;for(-1===s?s=t.directiveStart:s++;s<o&&(r=Ss(r,(a=n[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(t.directiveStylingLast=s),r}function Ss(e,n,t){var r=t?1:2,i=-1;if(null!==n)for(var a=0;a<n.length;a++){var o=n[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),mt(e,o,!!t||n[++a]))}return void 0===e?null:e}function hE(e,n,t,r,i,a){for(var o=null===n,s=void 0;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c,f=t[i+1];f===ce&&(f=d?we:void 0);var v=d?Yd(f,r):c===r?f:void 0;if(l&&!$l(v)&&(v=Yd(u,r)),$l(v)&&(s=v,o))return s;var g=e[i+1];i=o?ti(g):Ui(g)}if(null!==n){var p=a?n.residualClasses:n.residualStyles;null!=p&&(s=Yd(p,r))}return s}function $l(e){return void 0!==e}function E(e,n,t,r){var i=T(),a=me(),o=q+e,s=i[ae],u=a.firstCreatePass?function hF(e,n,t,r,i,a){var o=n.consts,u=Ai(n,e,2,r,Tt(o,i));return mv(n,t,u,Tt(o,a)),null!==u.attrs&&Vl(u,u.attrs,!1),null!==u.mergedAttrs&&Vl(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(o,a,i,n,t,r):a.data[o],l=_E(a,i,u,s,n,e);i[o]=l;var c=qu(u);return Ut(u,!0),U_(s,l,u),!function Va(e){return!(32&~e.flags)}(u)&&jo()&&Dl(a,i,l,u),0===function pT(){return oe.lFrame.elementDepthCount}()&&Un(l,i),function mT(){oe.lFrame.elementDepthCount++}(),c&&(hv(a,i,u),vv(a,u,i)),null!==r&&gv(i,u),E}function D(){var e=xe();mf()?function yf(){oe.lFrame.isParent=!1}():Ut(e=e.parent,!1);var n=e;(function _T(e){return oe.skipHydrationRootTNode===e})(n)&&function DT(){oe.skipHydrationRootTNode=null}(),function yT(){oe.lFrame.elementDepthCount--}();var t=me();return t.firstCreatePass&&(Qu(t,e),uf(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function RT(e){return!!(8&e.flags)}(n)&&ch(t,n,T(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function LT(e){return!!(16&e.flags)}(n)&&ch(t,n,T(),n.stylesWithoutHost,!1),D}function Qe(e,n,t,r){return E(e,n,t,r),D(),Qe}var _E=function(n,t,r,i,a,o){return cr(!0),Cl(i,a,function oy(){return oe.lFrame.currentNamespace}())};function Lr(){return T()}var to="en-US";var WE=function(n,t,r){};function se(e,n,t,r){var i=T(),a=me(),o=xe();return Ch(a,i,i[ae],o,e,n,r),se}function Ch(e,n,t,r,i,a,o){var s=qu(r),l=e.firstCreatePass&&eC(e),c=n[Be],d=J_(n),f=!0;if(3&r.type||o){var v=Yn(r,n),g=o?o(v):v,p=d.length,C=o?function(Ne){return o(Me(Ne[r.index]))}:r.index,b=null;if(!o&&s&&(b=function lR(e,n,t,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===t&&i[a+1]===r){var s=n[Di],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(e,n,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=a,b.__ngLastListenerFn__=a,f=!1;else{a=YE(r,n,c,a),WE(v,i,a);var w=t.listen(g,i,a);d.push(a,w),l&&l.push(i,C,p,p+1)}}else a=YE(r,n,c,a);var P,S=r.outputs;if(f&&null!==S&&(P=S[i])){var B=P.length;if(B)for(var R=0;R<B;R+=2){var de=n[P[R]][P[R+1]].subscribe(a),De=d.length;d.push(a,de),l&&l.push(i,r.index,De,-(De+1))}}}function ZE(e,n,t,r){var i=pe(null);try{return lr(6,n,t),!1!==t(r)}catch(a){return Sl(e,a),!1}finally{lr(7,n,t),pe(i)}}function YE(e,n,t,r){return function i(a){if(a===Function)return r;ss(e.componentOffset>-1?yt(e.index,n):n,5);for(var s=ZE(n,t,r,a),u=i.__ngNextListenerFn__;u;)s=ZE(n,t,u,a)&&s,u=u.__ngNextListenerFn__;return s}}function en(){return function IT(e){return(oe.lFrame.contextLView=function Wm(e,n){for(;e>0;)n=n[va],e--;return n}(e,oe.lFrame.contextLView))[Be]}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}function bt(e,n,t){nb(e,n,t)}function Et(e){var n=T(),t=me(),r=bf();$u(r+1);var i=qv(t,r);if(e.dirty&&function hT(e){return!(4&~e[K])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{var a=ib(n,r);e.reset(a,Py),e.notifyOnChanges()}return!0}return!1}function Dt(){return function Wv(e,n){return e[sr].queries[n].queryList}(T(),bf())}function I(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=T(),r=me(),i=e+q,a=r.firstCreatePass?Ai(r,i,1,n,null):r.data[i],o=vD(r,t,a,n,e);t[i]=o,jo()&&Dl(r,t,o,a),Ut(a,!1)}var vD=function(n,t,r,i,a){return cr(!0),function iv(e,n){return e.createText(n)}(t[ae],i)};function nn(e){return pr("",e,""),nn}function pr(e,n,t){var r=T(),i=function qa(e,n,t,r){return rn(e,jt(),t)?n+le(t)+r:ce}(r,e,n,t);return i!==ce&&Nr(r,An(),i),pr}function xs(e,n,t,r,i){var a=T(),o=Za(a,e,n,t,r,i);return o!==ce&&Nr(a,An(),o),xs}function z(e,n,t){sb(n)&&(n=n());var r=T();return rn(r,jt(),n)&&lt(me(),He(),r,e,n,r[ae],t,!1),z}function j(e,n){var t=sb(e);return t&&e.set(n),t}function G(e,n){var t=T(),r=me(),i=xe();return Ch(r,t,t[ae],i,e,n),G}function Dh(e,n,t,r,i){if(e=ne(e),Array.isArray(e))for(var a=0;a<e.length;a++)Dh(e[a],n,t,r,i);else{var o=me(),s=T(),u=xe(),l=Ei(e)?e:ne(e.provide),c=Tm(e),f=1048575&u.providerIndexes,v=u.directiveStart,g=u.providerIndexes>>20;if(Ei(e)||!e.multi){var p=new zo(c,i,A),C=Mh(l,n,i?f:f+g,v);-1===C?(Pf(nl(u,s),o,l),wh(o,e,n.length),n.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(p),s.push(p)):(t[C]=p,s[C]=p)}else{var b=Mh(l,n,f+g,v),_=Mh(l,n,f,f+g),S=_>=0&&t[_];if(i&&!S||!i&&!(b>=0&&t[b])){Pf(nl(u,s),o,l);var P=function FR(e,n,t,r,i){var a=new zo(e,t,A);return a.multi=[],a.index=n,a.componentProviders=0,DD(a,i,r&&!t),a}(i?NR:xR,t.length,i,r,c);!i&&S&&(t[_].providerFactory=P),wh(o,e,n.length,0),n.push(l),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(P),s.push(P)}else wh(o,e,b>-1?b:_,DD(t[i?_:b],c,!i&&r));!i&&r&&S&&t[_].componentProviders++}}}function wh(e,n,t,r){var i=Ei(n),a=function jI(e){return!!e.useClass}(n);if(i||a){var u=(a?ne(n.useClass):n).prototype.ngOnDestroy;if(u){var l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){var c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function DD(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Mh(e,n,t,r){for(var i=t;i<r;i++)if(n[i]===e)return i;return-1}function xR(e,n,t,r){return kh(this.multi,[])}function NR(e,n,t,r){var a,i=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Pi(t,t[L],this.providerFactory.index,r);kh(i,a=s.slice(0,o));for(var u=o;u<s.length;u++)a.push(s[u])}else kh(i,a=[]);return a}function kh(e,n){for(var t=0;t<e.length;t++)n.push((0,e[t])());return n}function Ze(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(t){t.providersResolver=function(r,i){return function AR(e,n,t){var r=me();if(r.firstCreatePass){var i=Ht(e);Dh(t,r.data,r.blueprint,i,!0),Dh(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}}function Mn(e,n,t,r){return function kD(e,n,t,r,i,a){var o=n+t;return rn(e,o,i)?vr(e,o+1,a?r.call(a,i):r(i)):Ns(e,o+1)}(T(),Kn(),e,n,t,r)}function Sh(e,n,t,r,i){return function SD(e,n,t,r,i,a,o){var s=n+t;return Bi(e,s,i,a)?vr(e,s+2,o?r.call(o,i,a):r(i,a)):Ns(e,s+2)}(T(),Kn(),e,n,t,r,i)}function Ns(e,n){var t=e[n];return t===ce?void 0:t}var Rh,KD=new W(""),oc=new W(""),Nh=function(){var e,n=function(){return m(function t(r,i,a){var o=this;y(this,t),this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Rh||(function $L(e){Rh=e}(a),a.addToWindow(i)),this._watchAngularEvents(),r.run(function(){o.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})},[{key:"_watchAngularEvents",value:function(){var i=this;this._ngZone.onUnstable.subscribe({next:function(){i._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){i._ngZone.onStable.subscribe({next:function(){ze.assertNotInAngularZone(),queueMicrotask(function(){i._isZoneStable=!0,i._runCallbacksIfReady()})}})})}},{key:"isStable",value:function(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var i=this;if(this.isStable())queueMicrotask(function(){for(;0!==i._callbacks.length;){var o=i._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{var a=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(o){return!o.updateCb||!o.updateCb(a)||(clearTimeout(o.timeoutId),!1)})}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(i){return{source:i.source,creationLocation:i.creationLocation,data:i.data}}):[]}},{key:"addCallback",value:function(i,a,o){var s=this,u=-1;a&&a>0&&(u=setTimeout(function(){s._callbacks=s._callbacks.filter(function(l){return l.timeoutId!==u}),i()},a)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:o})}},{key:"whenStable",value:function(i,a,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,o),this._runCallbacksIfReady()}},{key:"registerApplication",value:function(i){this.registry.registerApplication(i,this)}},{key:"unregisterApplication",value:function(i){this.registry.unregisterApplication(i)}},{key:"findProviders",value:function(i,a,o){return[]}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(be(ze),be(Fh),be(oc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Fh=function(){var e,n=function(){return m(function t(){y(this,t),this._applications=new Map},[{key:"registerApplication",value:function(i,a){this._applications.set(i,a)}},{key:"unregisterApplication",value:function(i){this._applications.delete(i)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(i){return this._applications.get(i)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(i){var a,o;return null!==(a=null===(o=Rh)||void 0===o?void 0:o.findTestabilityInTree(this,i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))&&void 0!==a?a:null}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"}),n}();function sc(e){return!!e&&"function"==typeof e.then}var QD=new W(""),Lh=function(){var e,n=function(){return m(function t(){var i,r=this;y(this,t),this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(a,o){r.resolve=a,r.reject=o}),this.appInits=null!==(i=Z(QD,{optional:!0}))&&void 0!==i?i:[]},[{key:"runInitializers",value:function(){var i=this;if(!this.initialized){var s,a=[],o=x(this.appInits);try{var u=function(){var f=(0,s.value)();if(sc(f))a.push(f);else if(function $D(e){return!!e&&"function"==typeof e.subscribe}(f)){var v=new Promise(function(g,p){f.subscribe({complete:g,error:p})});a.push(v)}};for(o.s();!(s=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}var l=function(){i.done=!0,i.resolve()};Promise.all(a).then(function(){l()}).catch(function(c){i.reject(c)}),0===a.length&&l(),this.initialized=!0}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),Vh=new W("");function e0(e,n){return Array.isArray(n)?n.reduce(e0,e):re(re({},e),n)}var Yt=function(){var e,n=function(){return m(function t(){y(this,t),this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(Iy),this.afterRenderEffectManager=Z(Rl),this.zonelessEnabled=Z(Fl),this.externalTestViews=new Set,this.beforeRender=new Mr,this.afterTick=new Mr,this.componentTypes=[],this.components=[],this.isStable=Z(ba).hasPendingTasks.pipe(Rt(function(r){return!r})),this._injector=Z(ar)},[{key:"allViews",get:function(){return[].concat(V(this.externalTestViews.keys()),V(this._views))}},{key:"destroyed",get:function(){return this._destroyed}},{key:"injector",get:function(){return this._injector}},{key:"bootstrap",value:function(i,a){var d,o=this,s=i instanceof OC;if(!this._injector.get(Lh).done)throw!s&&function bi(e){var n=_e(e)||Cn(e)||Pn(e);return null!==n&&n.standalone}(i),new F(405,!1);d=s?i:this._injector.get(ms).resolveComponentFactory(i),this.componentTypes.push(d.componentType);var v=function QL(e){return e.isBoundToModule}(d)?void 0:this._injector.get(Vi),p=d.create(Dn.NULL,[],a||d.selector,v),C=p.location.nativeElement,b=p.injector.get(KD,null);return b?.registerApplication(C),p.onDestroy(function(){o.detachView(p.hostView),uc(o.components,p),b?.unregisterApplication(C)}),this._loadComponent(p),p}},{key:"tick",value:function(){this._tick(!0)}},{key:"_tick",value:function(i){if(this._runningTick)throw new F(101,!1);var a=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,pe(a),this.afterTick.next()}}},{key:"detectChangesInAttachedViews",value:function(i){var a=null;this._injector.destroyed||(a=this._injector.get(Fv,null,{optional:!0}));for(var o=0,s=this.afterRenderEffectManager;o<10;){var u=0===o;if(i||!u){this.beforeRender.next(u);var c,l=x(this._views);try{for(l.s();!(c=l.n()).done;){var d=c.value;JL(d._lView,d.notifyErrorHandler,u,this.zonelessEnabled)}}catch(S){l.e(S)}finally{l.f()}}else{var g,p,C,b,_,w;null===(g=a)||void 0===g||null===(p=(C=g).begin)||void 0===p||p.call(C),null===(b=a)||void 0===b||null===(_=(w=b).end)||void 0===_||_.call(w)}if(o++,s.executeInternalCallbacks(),!this.allViews.some(function(S){return Ho(S._lView)})&&(s.execute(),!this.allViews.some(function(S){return Ho(S._lView)})))break}}},{key:"attachView",value:function(i){var a=i;this._views.push(a),a.attachToAppRef(this)}},{key:"detachView",value:function(i){var a=i;uc(this._views,a),a.detachFromAppRef()}},{key:"_loadComponent",value:function(i){this.attachView(i.hostView),this.tick(),this.components.push(i);var a=this._injector.get(Vh,[]);[].concat(V(this._bootstrapListeners),V(a)).forEach(function(o){return o(i)})}},{key:"ngOnDestroy",value:function(){if(!this._destroyed)try{this._destroyListeners.forEach(function(i){return i()}),this._views.slice().forEach(function(i){return i.destroy()})}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}},{key:"onDestroy",value:function(i){var a=this;return this._destroyListeners.push(i),function(){return uc(a._destroyListeners,i)}}},{key:"destroy",value:function(){if(this._destroyed)throw new F(406,!1);var i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}},{key:"viewCount",get:function(){return this._views.length}},{key:"warnIfDestroyed",value:function(){}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}();function uc(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}function JL(e,n,t,r){(t||Ho(e))&&Il(e,n,t&&!r?0:1)}var r2=function(){var e,n=function(){return m(function t(){y(this,t),this.zone=Z(ze),this.changeDetectionScheduler=Z(ps),this.applicationRef=Z(Yt)},[{key:"initialize",value:function(){var i=this;this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:function(){i.changeDetectionScheduler.runningTick||i.zone.run(function(){i.applicationRef.tick()})}}))}},{key:"ngOnDestroy",value:function(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}();function a2(){var e=Z(ze),n=Z(Kr);return function(t){return e.runOutsideAngular(function(){return n.handleError(t)})}}function Hh(e){var n,t;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=e?.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(t=e?.runCoalescing)&&void 0!==t&&t}}var o2=function(){var e,n=function(){return m(function t(){y(this,t),this.subscription=new St,this.initialized=!1,this.zone=Z(ze),this.pendingTasks=Z(ba)},[{key:"initialize",value:function(){var i=this;if(!this.initialized){this.initialized=!0;var a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(function(){i.subscription.add(i.zone.onStable.subscribe(function(){ze.assertNotInAngularZone(),queueMicrotask(function(){null!==a&&!i.zone.hasPendingMacrotasks&&!i.zone.hasPendingMicrotasks&&(i.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(function(){var o;ze.assertInAngularZone(),null!==(o=a)&&void 0!==o||(a=i.pendingTasks.add())}))}}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),lc=function(){var e,n=function(){return m(function t(){var r,i=this;y(this,t),this.appRef=Z(Yt),this.taskService=Z(ba),this.ngZone=Z(ze),this.zonelessEnabled=Z(Fl),this.disableScheduling=null!==(r=Z(PC,{optional:!0}))&&void 0!==r&&r,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new St,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(function(){i.runningTick||i.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(function(){i.runningTick||i.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Vv||!this.zoneIsDefined))},[{key:"notify",value:function(i){var a=this;if(this.zonelessEnabled||5!==i){switch(i){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(this.shouldScheduleTick()){var o=this.useMicrotaskScheduler?FC:NC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(function(){a.cancelScheduledCallback=o(function(){a.tick(a.shouldRefreshViews)})}):this.cancelScheduledCallback=o(function(){a.tick(a.shouldRefreshViews)})}}}},{key:"shouldScheduleTick",value:function(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ze.isInAngularZone())}},{key:"tick",value:function(i){var a=this;if(!this.runningTick&&!this.appRef.destroyed){var o=this.taskService.add();try{this.ngZone.run(function(){a.runningTick=!0,a.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(o),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,FC(function(){a.useMicrotaskScheduler=!1,a.taskService.remove(o)})}}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.cleanup()}},{key:"cleanup",value:function(){var i;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(i=this.cancelScheduledCallback)||void 0===i||i.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){var a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),n}(),Vr=new W("",{providedIn:"root",factory:function(){return Z(Vr,Ee.Optional|Ee.SkipSelf)||function s2(){return typeof $localize<"u"&&$localize.locale||to}()}}),jh=new W(""),o0=function(){var e,n=function(){return m(function t(r){y(this,t),this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1},[{key:"bootstrapModuleFactory",value:function(i,a){var o=this,s=function VA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zone.js",n=arguments.length>1?arguments[1]:void 0;return"noop"===e?new Vv:"zone.js"===e?new ze(n):e}(a?.ngZone,Hh({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return s.run(function(){var u=a?.ignoreChangesOutsideZone,l=function Bx(e,n,t){return new Yv(e,n,t)}(i.moduleType,o.injector,[].concat(V(function Bh(e){var n,t=e.ngZoneFactory;return null!==(n=t)&&void 0!==n||(t=function(){return new ze(Hh())}),[{provide:ze,useFactory:t},{provide:ir,multi:!0,useFactory:function(){var a=Z(r2,{optional:!0});return function(){return a.initialize()}}},{provide:ir,multi:!0,useFactory:function(){var a=Z(o2);return function(){a.initialize()}}},{provide:Iy,useFactory:a2},!0===e.ignoreChangesOutsideZone?{provide:PC,useValue:!0}:[]]}({ngZoneFactory:function(){return s},ignoreChangesOutsideZone:u})),[{provide:ps,useExisting:lc}])),c=l.injector.get(Kr,null);return s.runOutsideAngular(function(){var d=s.onError.subscribe({next:function(v){c.handleError(v)}});l.onDestroy(function(){uc(o._modules,l),d.unsubscribe()})}),function JD(e,n,t){try{var r=t();return sc(r)?r.catch(function(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}):r}catch(i){throw n.runOutsideAngular(function(){return e.handleError(i)}),i}}(c,s,function(){var d=l.injector.get(Lh);return d.runInitializers(),d.donePromise.then(function(){return function SE(e){"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(l.injector.get(Vr,to)||to),o._moduleDoBootstrap(l),l})})})}},{key:"bootstrapModule",value:function(i){var a=this,s=e0({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return function t2(e,n,t){var r=new Kv(t);return Promise.resolve(r)}(0,0,i).then(function(u){return a.bootstrapModuleFactory(u,s)})}},{key:"_moduleDoBootstrap",value:function(i){var a=i.injector.get(Yt);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(function(o){return a.bootstrap(o)});else{if(!i.instance.ngDoBootstrap)throw new F(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}},{key:"onDestroy",value:function(i){this._destroyListeners.push(i)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(function(a){return a.destroy()}),this._destroyListeners.forEach(function(a){return a()});var i=this._injector.get(jh,null);i&&(i.forEach(function(a){return a()}),i.clear()),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(be(Dn))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"}),n}(),ri=null,s0=new W("");function u0(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(n),i=new W(r);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=zh();if(!o||o.injector.get(s0,!1)){var s=[].concat(V(t),V(a),[{provide:i,useValue:!0}]);e?e(s):function c2(e){if(ri&&!ri.get(s0,!1))throw new F(400,!1);(function XD(){!function dS(e){Op=e}(function(){throw new F(600,!1)})})(),ri=e;var n=e.get(o0);(function c0(e){var n=e.get(Zy,null);n?.forEach(function(t){return t()})})(e)}(function l0(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Dn.create({name:arguments.length>1?arguments[1]:void 0,providers:[{provide:nf,useValue:"platform"},{provide:jh,useValue:new Set([function(){return ri=null}])}].concat(V(e))})}(s,r))}return function d2(e){var n=zh();if(!n)throw new F(401,!1);return n}()}}function zh(){var e,n;return null!==(e=null===(n=ri)||void 0===n?void 0:n.get(o0))&&void 0!==e?e:null}var cc=function(){var n=m(function t(){y(this,t)});return n.__NG_ELEMENT_ID__=h2,n}();function h2(e){return function g2(e,n,t){if(Mi(e)&&!t){var r=yt(e.index,n);return new us(r,r)}return 175&e.type?new us(n[qe],n):null}(xe(),T(),!(16&~e))}var h0=function(){return m(function e(){y(this,e)},[{key:"supports",value:function(t){return Ul(t)}},{key:"create",value:function(t){return new _2(t)}}])}(),y2=function(n,t){return t},_2=function(){return m(function e(n){y(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||y2},[{key:"forEachItem",value:function(t){var r;for(r=this._itHead;null!==r;r=r._next)t(r)}},{key:"forEachOperation",value:function(t){for(var r=this._itHead,i=this._removalsHead,a=0,o=null;r||i;){var s=!i||r&&r.currentIndex<p0(i,a,o)?r:i,u=p0(s,a,o),l=s.currentIndex;if(s===i)a--,i=i._nextRemoved;else if(r=r._next,null==s.previousIndex)a++;else{o||(o=[]);var c=u-a,d=l-a;if(c!=d){for(var f=0;f<c;f++){var v=f<o.length?o[f]:o[f]=0,g=v+f;d<=g&&g<c&&(o[f]=v+1)}o[s.previousIndex]=d-c}}u!==l&&t(s,u,l)}}},{key:"forEachPreviousItem",value:function(t){var r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}},{key:"forEachAddedItem",value:function(t){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}},{key:"forEachMovedItem",value:function(t){var r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}},{key:"forEachRemovedItem",value:function(t){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}},{key:"forEachIdentityChange",value:function(t){var r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ul(t))throw new F(900,!1);return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var r=this;this._reset();var o,s,u,i=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,s=t[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,s,u,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,u,l),a=!0),i=i._next}else o=0,function jx(e,n){if(Array.isArray(e))for(var t=0;t<e.length;t++)n(e[t]);else for(var i,r=e[Symbol.iterator]();!(i=r.next()).done;)n(i.value)}(t,function(c){u=r._trackByFn(o,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=r._verifyReinsertion(i,c,u,o)),Object.is(i.item,c)||r._addIdentityChange(i,c)):(i=r._mismatch(i,c,u,o),a=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,r,i,a){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,o,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,o,a)):t=this._addAfter(new C2(r,i),o,a),t}},{key:"_verifyReinsertion",value:function(t,r,i,a){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var a=t._prevRemoved,o=t._nextRemoved;return null===a?this._removalsHead=o:a._nextRemoved=o,null===o?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(t,r,i),this._addToMoves(t,i),t}},{key:"_moveAfter",value:function(t,r,i){return this._unlink(t),this._insertAfter(t,r,i),this._addToMoves(t,i),t}},{key:"_addAfter",value:function(t,r,i){return this._insertAfter(t,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,r,i){var a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new g0),this._linkedRecords.put(t),t.currentIndex=i,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var r=t._prev,i=t._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,t}},{key:"_addToMoves",value:function(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new g0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}])}(),C2=m(function e(n,t){y(this,e),this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),b2=function(){return m(function e(){y(this,e),this._head=null,this._tail=null},[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,r){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}},{key:"remove",value:function(t){var r=t._prevDup,i=t._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}])}(),g0=function(){return m(function e(){y(this,e),this.map=new Map},[{key:"put",value:function(t){var r=t.trackById,i=this.map.get(r);i||(i=new b2,this.map.set(r,i)),i.add(t)}},{key:"get",value:function(t,r){var a=this.map.get(t);return a?a.get(t,r):null}},{key:"remove",value:function(t){var r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}])}();function p0(e,n,t){var r=e.previousIndex;if(null===r)return r;var i=0;return t&&r<t.length&&(i=t[r]),r+n+i}var m0=function(){return m(function e(){y(this,e)},[{key:"supports",value:function(t){return t instanceof Map||$v(t)}},{key:"create",value:function(){return new E2}}])}(),E2=function(){return m(function e(){y(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null},[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var r;for(r=this._mapHead;null!==r;r=r._next)t(r)}},{key:"forEachPreviousItem",value:function(t){var r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}},{key:"forEachChangedItem",value:function(t){var r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}},{key:"forEachAddedItem",value:function(t){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}},{key:"forEachRemovedItem",value:function(t){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||$v(t)))throw new F(900,!1)}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var r=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(o,s){if(i&&i.key===s)r._maybeAddToChanges(i,o),r._appendAfter=i,i=i._next;else{var u=r._getOrCreateRecordForKey(s,o);i=r._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,r){if(t){var i=t._prev;return r._next=t,r._prev=i,t._prev=r,i&&(i._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}},{key:"_getOrCreateRecordForKey",value:function(t,r){if(this._records.has(t)){var i=this._records.get(t);this._maybeAddToChanges(i,r);var a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}var s=new D2(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(function(i){return r(t[i],i)})}}])}(),D2=m(function e(n){y(this,e),this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function y0(){return new Kh([new h0])}var Kh=function(){var e,n=function(){function t(r){y(this,t),this.factories=r}return m(t,[{key:"find",value:function(i){var a=this.factories.find(function(o){return o.supports(i)});if(null!=a)return a;throw new F(901,!1)}}],[{key:"create",value:function(i,a){if(null!=a){var o=a.factories.slice();i=i.concat(o)}return new t(i)}},{key:"extend",value:function(i){return{provide:t,useFactory:function(o){return t.create(i,o||y0())},deps:[[t,new qd,new Wd]]}}}])}();return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:y0}),n}();function _0(){return new dc([new m0])}var dc=function(){var e,n=function(){function t(r){y(this,t),this.factories=r}return m(t,[{key:"find",value:function(i){var a=this.factories.find(function(o){return o.supports(i)});if(a)return a;throw new F(901,!1)}}],[{key:"create",value:function(i,a){if(a){var o=a.factories.slice();i=i.concat(o)}return new t(i)}},{key:"extend",value:function(i){return{provide:t,useFactory:function(o){return t.create(i,o||_0())},deps:[[t,new qd,new Wd]]}}}])}();return(e=n).\u0275prov=he({token:e,providedIn:"root",factory:_0}),n}(),k2=u0(null,"core",[]),S2=function(){var e,n=m(function t(r){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)(be(Yt))},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({}),n}(),R0=new W("");function js(e,n){$n("NgSignals");var t=function uS(e){var n=Object.create(lS);n.computation=e;var t=function(){if(wp(n),gd(n),n.value===bu)throw n.error;return n.value};return t[Nt]=n,t}(e);return null!=n&&n.equal&&(t[Nt].equal=n.equal),t}function mr(e){var n=pe(null);try{return e()}finally{pe(n)}}var eg=null;function zs(){return eg}var gV=m(function e(){y(this,e)}),ii=new W(""),cg=/\s+/,ew=[],$t=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._ngEl=r,this._renderer=i,this.initialClasses=ew,this.stateMap=new Map},[{key:"klass",set:function(i){this.initialClasses=null!=i?i.trim().split(cg):ew}},{key:"ngClass",set:function(i){this.rawClass="string"==typeof i?i.trim().split(cg):i}},{key:"ngDoCheck",value:function(){var a,i=x(this.initialClasses);try{for(i.s();!(a=i.n()).done;)this._updateState(a.value,!0)}catch(g){i.e(g)}finally{i.f()}var s=this.rawClass;if(Array.isArray(s)||s instanceof Set){var l,u=x(s);try{for(u.s();!(l=u.n()).done;)this._updateState(l.value,!0)}catch(g){u.e(g)}finally{u.f()}}else if(null!=s)for(var d=0,f=Object.keys(s);d<f.length;d++){var v=f[d];this._updateState(v,!!s[v])}this._applyStateDiff()}},{key:"_updateState",value:function(i,a){var o=this.stateMap.get(i);void 0!==o?(o.enabled!==a&&(o.changed=!0,o.enabled=a),o.touched=!0):this.stateMap.set(i,{enabled:a,changed:!0,touched:!0})}},{key:"_applyStateDiff",value:function(){var a,i=x(this.stateMap);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o[0],u=o[1];u.changed?(this._toggleClass(s,u.enabled),u.changed=!1):u.touched||(u.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),u.touched=!1}}catch(l){i.e(l)}finally{i.f()}}},{key:"_toggleClass",value:function(i,a){var o=this;(i=i.trim()).length>0&&i.split(cg).forEach(function(s){a?o._renderer.addClass(o._ngEl.nativeElement,s):o._renderer.removeClass(o._ngEl.nativeElement,s)})}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(zt),A(Ri))},e.\u0275dir=ue({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),n}(),rB=function(){return m(function e(n,t,r,i){y(this,e),this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i},[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}])}(),oo=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),this._viewContainer=r,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null},[{key:"ngForOf",set:function(i){this._ngForOf=i,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(i){this._trackByFn=i}},{key:"ngForTemplate",set:function(i){i&&(this._template=i)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){var o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}}},{key:"_applyChanges",value:function(i){var a=this,o=this._viewContainer;i.forEachOperation(function(d,f,v){if(null==d.previousIndex)o.createEmbeddedView(a._template,new rB(d.item,a._ngForOf,-1,-1),null===v?void 0:v);else if(null==v)o.remove(null===f?void 0:f);else if(null!==f){var g=o.get(f);o.move(g,v),tw(g,d)}});for(var s=0,u=o.length;s<u;s++){var c=o.get(s).context;c.index=s,c.count=u,c.ngForOf=this._ngForOf}i.forEachIdentityChange(function(d){tw(o.get(d.currentIndex),d)})}}],[{key:"ngTemplateContextGuard",value:function(i,a){return!0}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(Nn),A(Fr),A(Kh))},e.\u0275dir=ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n}();function tw(e,n){e.context.$implicit=n.item}var so=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._viewContainer=r,this._context=new iB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i},[{key:"ngIf",set:function(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}},{key:"ngIfThen",set:function(i){rw("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(i){rw("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(i,a){return!0}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(Nn),A(Fr))},e.\u0275dir=ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n}(),iB=m(function e(){y(this,e),this.$implicit=null,this.ngIf=null});function rw(e,n){if(n&&!n.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(_n(n),"'."))}var uo=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),this._ngEl=r,this._differs=i,this._renderer=a,this._ngStyle=null,this._differ=null},[{key:"ngStyle",set:function(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}},{key:"_setStyle",value:function(i,a){var s=it(i.split("."),2),u=s[0],l=s[1],c=-1===u.indexOf("-")?void 0:Jr.DashCase;null!=a?this._renderer.setStyle(this._ngEl.nativeElement,u,l?"".concat(a).concat(l):a,c):this._renderer.removeStyle(this._ngEl.nativeElement,u,c)}},{key:"_applyChanges",value:function(i){var a=this;i.forEachRemovedItem(function(o){return a._setStyle(o.key,null)}),i.forEachAddedItem(function(o){return a._setStyle(o.key,o.currentValue)}),i.forEachChangedItem(function(o){return a._setStyle(o.key,o.currentValue)})}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(zt),A(dc),A(Ri))},e.\u0275dir=ue({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n}(),AB=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({}),n}(),ow="browser";function sw(e){return e===ow}function uw(e){return"server"===e}var NB=m(function e(){y(this,e)}),uH=function(e){function n(){var t;return y(this,n),(t=M(this,n,arguments)).supportsDOMEvents=!0,t}return k(n,e),m(n)}(gV),lH=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"onAndCancel",value:function(r,i,a){return r.addEventListener(i,a),function(){r.removeEventListener(i,a)}}},{key:"dispatchEvent",value:function(r,i){r.dispatchEvent(i)}},{key:"remove",value:function(r){r.parentNode&&r.parentNode.removeChild(r)}},{key:"createElement",value:function(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(r){return r.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(r){return r instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}},{key:"getBaseHref",value:function(r){var i=function cH(){return(Ys=Ys||document.querySelector("base"))?Ys.getAttribute("href"):null}();return null==i?null:function dH(e){return new URL(e,document.baseURI).pathname}(i)}},{key:"resetBaseElement",value:function(){Ys=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(r){return function nB(e,n){n=encodeURIComponent(n);var r,t=x(e.split(";"));try{for(t.s();!(r=t.n()).done;){var i=r.value,a=i.indexOf("="),s=it(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===n)return decodeURIComponent(l)}}catch(c){t.e(c)}finally{t.f()}return null}(document.cookie,r)}}],[{key:"makeCurrent",value:function(){!function hV(e){var n;null!==(n=eg)&&void 0!==n||(eg=e)}(new n)}}])}(uH),Ys=null,fH=function(){return m(function e(){y(this,e)},[{key:"addToWindow",value:function(t){Fe.getAngularTestability=function(i){var o=t.findTestabilityInTree(i,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);if(null==o)throw new F(5103,!1);return o},Fe.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Fe.getAllAngularRootElements=function(){return t.getAllRootElements()},Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(function(a){var o=Fe.getAllAngularTestabilities(),s=o.length,u=function(){0==--s&&a()};o.forEach(function(l){l.whenStable(u)})})}},{key:"findTestabilityInTree",value:function(t,r,i){return null==r?null:t.getTestability(r)??(i?zs().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}}])}(),vH=function(){var e,n=function(){return m(function t(){y(this,t)},[{key:"build",value:function(){return new XMLHttpRequest}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Oc=new W(""),yw=function(){var e,n=function(){return m(function t(r,i){var a=this;y(this,t),this._zone=i,this._eventNameToPlugin=new Map,r.forEach(function(o){o.manager=a}),this._plugins=r.slice().reverse()},[{key:"addEventListener",value:function(i,a,o){return this._findPluginFor(a).addEventListener(i,a,o)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(i){var a=this._eventNameToPlugin.get(i);if(a)return a;if(!(a=this._plugins.find(function(s){return s.supports(i)})))throw new F(5101,!1);return this._eventNameToPlugin.set(i,a),a}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(be(Oc),be(ze))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),yg=m(function e(n){y(this,e),this._doc=n}),_g="ng-app-id",_w=function(){var e,n=function(){return m(function t(r,i,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};y(this,t),this.doc=r,this.appId=i,this.nonce=a,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uw(o),this.resetHostNodes()},[{key:"addStyles",value:function(i){var o,a=x(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"removeStyles",value:function(i){var o,a=x(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}}catch(l){a.e(l)}finally{a.f()}}},{key:"ngOnDestroy",value:function(){var i=this.styleNodesInDOM;i&&(i.forEach(function(u){return u.remove()}),i.clear());var o,a=x(this.getAllStyles());try{for(a.s();!(o=a.n()).done;)this.onStyleRemoved(o.value)}catch(u){a.e(u)}finally{a.f()}this.resetHostNodes()}},{key:"addHost",value:function(i){this.hostNodes.add(i);var o,a=x(this.getAllStyles());try{for(a.s();!(o=a.n()).done;)this.addStyleToHost(i,o.value)}catch(u){a.e(u)}finally{a.f()}}},{key:"removeHost",value:function(i){this.hostNodes.delete(i)}},{key:"getAllStyles",value:function(){return this.styleRef.keys()}},{key:"onStyleAdded",value:function(i){var o,a=x(this.hostNodes);try{for(a.s();!(o=a.n()).done;)this.addStyleToHost(o.value,i)}catch(u){a.e(u)}finally{a.f()}}},{key:"onStyleRemoved",value:function(i){var a,o=this.styleRef;null===(a=o.get(i))||void 0===a||null===(a=a.elements)||void 0===a||a.forEach(function(s){return s.remove()}),o.delete(i)}},{key:"collectServerRenderedStyles",value:function(){var i,a=null===(i=this.doc.head)||void 0===i?void 0:i.querySelectorAll("style[".concat(_g,'="').concat(this.appId,'"]'));if(null!=a&&a.length){var o=new Map;return a.forEach(function(s){null!=s.textContent&&o.set(s.textContent,s)}),o}return null}},{key:"changeUsageCount",value:function(i,a){var o=this.styleRef;if(o.has(i)){var s=o.get(i);return s.usage+=a,s.usage}return o.set(i,{usage:a,elements:[]}),a}},{key:"getStyleElement",value:function(i,a){var o=this.styleNodesInDOM,s=o?.get(a);if(s?.parentNode===i)return o.delete(a),s.removeAttribute(_g),s;var u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=a,this.platformIsServer&&u.setAttribute(_g,this.appId),i.appendChild(u),u}},{key:"addStyleToHost",value:function(i,a){var o,s=this.getStyleElement(i,a),u=this.styleRef,l=null===(o=u.get(a))||void 0===o?void 0:o.elements;l?l.push(s):u.set(a,{elements:[s],usage:1})}},{key:"resetHostNodes",value:function(){var i=this.hostNodes;i.clear(),i.add(this.doc.head)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(be(ii),be(Da),be(Yy,8),be(Qr))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Cg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bg=/%COMP%/g,hH="_nghost-".concat("%COMP%"),gH="_ngcontent-".concat("%COMP%"),mH=new W("",{providedIn:"root",factory:function(){return!0}});function bw(e,n){return n.map(function(t){return t.replace(bg,e)})}var Ew=function(){var e,n=function(){return m(function t(r,i,a,o,s,u,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,t),this.eventManager=r,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=u,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=uw(u),this.defaultRenderer=new Eg(r,s,l,this.platformIsServer)},[{key:"createRenderer",value:function(i,a){if(!i||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===Lt.ShadowDom&&(a=re(re({},a),{},{encapsulation:Lt.Emulated}));var o=this.getOrCreateRenderer(i,a);return o instanceof ww?o.applyToHost(i):o instanceof Dg&&o.applyStyles(),o}},{key:"getOrCreateRenderer",value:function(i,a){var o=this.rendererByCompId,s=o.get(a.id);if(!s){var u=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(a.encapsulation){case Lt.Emulated:s=new ww(c,d,a,this.appId,f,u,l,v);break;case Lt.ShadowDom:return new bH(c,d,i,a,u,l,this.nonce,v);default:s=new Dg(c,d,a,f,u,l,v)}o.set(a.id,s)}return s}},{key:"ngOnDestroy",value:function(){this.rendererByCompId.clear()}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(be(yw),be(_w),be(Da),be(mH),be(ii),be(Qr),be(ze),be(Yy))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Eg=function(){return m(function e(n,t,r,i){y(this,e),this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null},[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,r){return r?this.doc.createElementNS(Cg[r]||r,t):this.doc.createElement(t)}},{key:"createComment",value:function(t){return this.doc.createComment(t)}},{key:"createText",value:function(t){return this.doc.createTextNode(t)}},{key:"appendChild",value:function(t,r){(Dw(t)?t.content:t).appendChild(r)}},{key:"insertBefore",value:function(t,r,i){t&&(Dw(t)?t.content:t).insertBefore(r,i)}},{key:"removeChild",value:function(t,r){t&&t.removeChild(r)}},{key:"selectRootElement",value:function(t,r){var i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new F(-5104,!1);return r||(i.textContent=""),i}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,r,i,a){if(a){r=a+":"+r;var o=Cg[a];o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}},{key:"removeAttribute",value:function(t,r,i){if(i){var a=Cg[i];a?t.removeAttributeNS(a,r):t.removeAttribute("".concat(i,":").concat(r))}else t.removeAttribute(r)}},{key:"addClass",value:function(t,r){t.classList.add(r)}},{key:"removeClass",value:function(t,r){t.classList.remove(r)}},{key:"setStyle",value:function(t,r,i,a){a&(Jr.DashCase|Jr.Important)?t.style.setProperty(r,i,a&Jr.Important?"important":""):t.style[r]=i}},{key:"removeStyle",value:function(t,r,i){i&Jr.DashCase?t.style.removeProperty(r):t.style[r]=""}},{key:"setProperty",value:function(t,r,i){null!=t&&(t[r]=i)}},{key:"setValue",value:function(t,r){t.nodeValue=r}},{key:"listen",value:function(t,r,i){if("string"==typeof t&&!(t=zs().getGlobalEventTarget(this.doc,t)))throw new Error("Unsupported event target ".concat(t," for event ").concat(r));return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(i))}},{key:"decoratePreventDefault",value:function(t){var r=this;return function(i){if("__ngUnwrap__"===i)return t;!1===(r.platformIsServer?r.ngZone.runGuarded(function(){return t(i)}):t(i))&&i.preventDefault()}}}])}();function Dw(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}var bH=function(e){function n(t,r,i,a,o,s,u,l){var c;y(this,n),(c=M(this,n,[t,o,s,l])).sharedStylesHost=r,c.hostEl=i,c.shadowRoot=i.attachShadow({mode:"open"}),c.sharedStylesHost.addHost(c.shadowRoot);var v,f=x(bw(a.id,a.styles));try{for(f.s();!(v=f.n()).done;){var g=v.value,p=document.createElement("style");u&&p.setAttribute("nonce",u),p.textContent=g,c.shadowRoot.appendChild(p)}}catch(C){f.e(C)}finally{f.f()}return c}return k(n,e),m(n,[{key:"nodeOrShadowRoot",value:function(r){return r===this.hostEl?this.shadowRoot:r}},{key:"appendChild",value:function(r,i){return Ge(Oe(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(r),i)}},{key:"insertBefore",value:function(r,i,a){return Ge(Oe(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(r),i,a)}},{key:"removeChild",value:function(r,i){return Ge(Oe(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(r),i)}},{key:"parentNode",value:function(r){return this.nodeOrShadowRoot(Ge(Oe(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(r)))}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}}])}(Eg),Dg=function(e){function n(t,r,i,a,o,s,u,l){var c;return y(this,n),(c=M(this,n,[t,o,s,u])).sharedStylesHost=r,c.removeStylesOnCompDestroy=a,c.styles=l?bw(l,i.styles):i.styles,c}return k(n,e),m(n,[{key:"applyStyles",value:function(){this.sharedStylesHost.addStyles(this.styles)}},{key:"destroy",value:function(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}])}(Eg),ww=function(e){function n(t,r,i,a,o,s,u,l){var c;y(this,n);var d=a+"-"+i.id;return(c=M(this,n,[t,r,i,o,s,u,l,d])).contentAttr=function yH(e){return gH.replace(bg,e)}(d),c.hostAttr=function _H(e){return hH.replace(bg,e)}(d),c}return k(n,e),m(n,[{key:"applyToHost",value:function(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}},{key:"createElement",value:function(r,i){var a=Ge(Oe(n.prototype),"createElement",this).call(this,r,i);return Ge(Oe(n.prototype),"setAttribute",this).call(this,a,this.contentAttr,""),a}}])}(Dg),EH=function(){var e,n=function(t){function r(i){return y(this,r),M(this,r,[i])}return k(r,t),m(r,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}])}(yg);return(e=n).\u0275fac=function(r){return new(r||e)(be(ii))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),DH=function(){var e,n=function(t){function r(i){var a;return y(this,r),(a=M(this,r,[i])).delegate=Z(R0,{optional:!0}),a}return k(r,t),m(r,[{key:"supports",value:function(a){return!!this.delegate&&this.delegate.supports(a)}},{key:"addEventListener",value:function(a,o,s){return this.delegate.addEventListener(a,o,s)}},{key:"removeEventListener",value:function(a,o,s){return this.delegate.removeEventListener(a,o,s)}}])}(yg);return(e=n).\u0275fac=function(r){return new(r||e)(be(ii))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Mw=["alt","control","meta","shift"],wH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MH={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},kH=function(){var e,n=function(t){function r(i){return y(this,r),M(this,r,[i])}return k(r,t),m(r,[{key:"supports",value:function(a){return null!=r.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=r.parseEventName(o),l=r.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return zs().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=r._normalizeKey(o.pop()),l="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),l="code."),Mw.forEach(function(f){var v=o.indexOf(f);v>-1&&(o.splice(v,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var d={};return d.domEventName=s,d.fullKey=l,d}},{key:"matchEventFullKeyCode",value:function(a,o){var s=wH[a.key]||a.key,u="";return o.indexOf("code.")>-1&&(s=a.code,u="code."),!(null==s||!s)&&(" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),Mw.forEach(function(l){l!==s&&(0,MH[l])(a)&&(u+=l+".")}),(u+=s)===o)}},{key:"eventCallback",value:function(a,o,s){return function(u){r.matchEventFullKeyCode(u,a)&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}])}(yg);return(e=n).\u0275fac=function(r){return new(r||e)(be(ii))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Sw=[{provide:Qr,useValue:ow},{provide:Zy,useValue:function SH(){lH.makeCurrent()},multi:!0},{provide:ii,useFactory:function TH(){return function P1(e){Lf=e}(document),document},deps:[]}],PH=u0(k2,"browser",Sw),OH=new W(""),Iw=[{provide:oc,useClass:fH,deps:[]},{provide:KD,useClass:Nh,deps:[ze,Fh,oc]},{provide:Nh,useClass:Nh,deps:[ze,Fh,oc]}],Tw=[{provide:nf,useValue:"root"},{provide:Kr,useFactory:function IH(){return new Kr},deps:[]},{provide:Oc,useClass:EH,multi:!0,deps:[ii,ze,Qr]},{provide:Oc,useClass:kH,multi:!0,deps:[ii]},{provide:Oc,useClass:DH,multi:!0},Ew,_w,yw,{provide:Fv,useExisting:Ew},{provide:NB,useClass:vH,deps:[]},[]],AH=function(){var e,n=function(){function t(r){y(this,t)}return m(t,null,[{key:"withServerTransition",value:function(i){return{ngModule:t,providers:[{provide:Da,useValue:i.appId}]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(be(OH,12))},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({providers:[].concat(Tw,Iw),imports:[AB,S2]}),n}(),dt=function(){return m(function e(){y(this,e),h(this,"listeners",[])},[{key:"addListener",value:function(t){this.listeners.push(t)}},{key:"removeListener",value:function(t){var r=this.listeners.indexOf(t);return r>=0&&(this.listeners.splice(r,1),!0)}},{key:"emit",value:function(t){var i,r=x(this.listeners);try{for(r.s();!(i=r.n()).done;)(0,i.value)(t)}catch(o){r.e(o)}finally{r.f()}}},{key:"empty",get:function(){return 0==this.listeners.length}}])}(),Aw=m(function e(){y(this,e)});function et(e){return void 0!==e.a?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}function Xt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return{r:e.r,g:e.g,b:e.b,a:void 0===e.a?n:e.a*n}}var jn={r:0,g:0,b:0},NH={r:255,g:255,b:255},yr={r:0,g:0,b:0,a:0},Rn={r:127,g:127,b:127},xw=[],Wi=function(e){function n(){var t;return y(this,n),h(t=M(this,n),"id",void 0),h(t,"onChange",new dt),h(t,"onRemove",new dt),h(t,"onAdd",new dt),h(t,"configuration",{}),h(t,"_color",jn),h(t,"_visible",!0),h(t,"svgLabel",void 0),h(t,"_labelTranslate",{x:0,y:0}),t.id=function FH(){for(var e=0;;e++)if(-1===xw.indexOf(e))return xw.push(e),e;return Number.NaN}(),t}return k(n,e),m(n,[{key:"getDistance",value:function(r,i){}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this.onChange.emit(r)}},{key:"visible",get:function(){return this._visible},set:function(r){this._visible=r,this.onChange.emit(r)}},{key:"labelTranslateX",get:function(){return this._labelTranslate.x},set:function(r){this._labelTranslate.x=r,this.onChange.emit(r)}},{key:"labelTranslateY",get:function(){return this._labelTranslate.y},set:function(r){this._labelTranslate.y=r,this.onChange.emit(r)}},{key:"labelTranslate",get:function(){return{x:this._labelTranslate.x,y:this._labelTranslate.y}},set:function(r){this._labelTranslate={x:r.x,y:r.y},this.onChange.emit(r)}},{key:"getPositionForLabel",value:function(r){}}])}(Aw),RH=function(){function e(){y(this,e),h(this,"_ts",[]);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];this._ts=t}return m(e,[{key:"getItem",value:function(t){return this._ts[t]}},{key:"setItem",value:function(t,r){this._ts[t]=r}},{key:"push",value:function(){var t;(t=this._ts).push.apply(t,arguments)}},{key:"remove",value:function(t){var r=this._ts.indexOf(t);return r>=0&&(this._ts.splice(r,1),!0)}},{key:"pop",value:function(){return this._ts.pop()}},{key:"forEach",value:function(t){for(var r=0;r<this._ts.length;r++)t(this._ts[r],r)}},{key:"filter",value:function(t){for(var r=[],i=0;i<this._ts.length;i++){var a=this._ts[i];t(a,i)&&r.push(a)}return Je(e,r)}},{key:"map",value:function(t){for(var r=[],i=0;i<this._ts.length;i++)r.push(t(this._ts[i],i));return Je(e,r)}},{key:"find",value:function(t){for(var r=0;r<this._ts.length;r++){var i=this._ts[r];if(t(i,r))return i}}}])}(),zn=function(){return m(function e(){y(this,e),h(this,"childOperations",new RH)},[{key:"simplify",value:function(){return this}}])}(),Ce=function(e){function n(t){var r;return y(this,n),h(r=M(this,n),"constant",void 0),r.constant=t,r}return k(n,e),m(n,[{key:"evaluate",value:function(){return this.constant}},{key:"derive",value:function(){return new n(0)}},{key:"toString",value:function(){return this.constant==Math.PI?"pi":this.constant==Math.E?"e":this.constant>=0?this.constant.toString():"(".concat(this.constant.toString(),")")}}])}(zn),wg="$VAR_",xt=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return y(this,n),h(r=M(this,n),"key",void 0),h(r,"changingVariable",void 0),r.key=t,r.changingVariable=i,r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var i=void 0===this.changingVariable?r[this.key]:r[wg+this.changingVariable];if("number"==typeof i)return i;throw"no number found"}},{key:"derive",value:function(r){return new Ce(r===this.key?1:0)}},{key:"toString",value:function(){return this.key}}])}(zn),co=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";y(this,e),h(this,"operation",void 0),h(this,"name",void 0),h(this,"variable",void 0),h(this,"stopEvaluation",!1),this.operation=n,this.name=t,this.variable=r}return m(e,[{key:"evaluate",value:function(t,r){var i;if(this.stopEvaluation)throw"evaluation stopped";return(r=null!==(i=r)&&void 0!==i?i:{})[wg+0]=t,this.operation.evaluate(r)}},{key:"derive",value:function(){var t=void 0;return this.name&&(t=this.name+"'"),new e(this.operation.derive(this.variable),t,this.variable).simplify()}},{key:"simplify",value:function(){return new e(this.operation.simplify(),this.name,this.variable)}},{key:"operationAsString",get:function(){var t;return this.name?"".concat(this.name,"(").concat(null!==(t=this.variable)&&void 0!==t?t:"x",") = ").concat(this.operation.toString()):this.operation.toString()}}])}();function Ks(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=n=Jt(n),i_y=n.y+n.height;return gn(e.x,r.x-t,n.x+n.width+t)&&gn(e.y,r.y-t,i_y+t)}function gn(e,n,t){return t<n?gn(e,t,n):e>=n&&e<=t}function Jt(e){return e.width<0?Jt({x:e.x+e.width,y:e.y,width:-e.width,height:e.height}):e.height<0?Jt({x:e.x,y:e.y+e.height,width:e.width,height:-e.height}):e}function VH(e,n){if(function LH(e,n){return e=Jt(e),n=Jt(n),!(e.x+e.width<n.x||n.x+n.width<e.x||e.y+e.height<n.y||n.y+n.height<e.y)}(e=Jt(e),n=Jt(n))){var t=Math.max(e.x,n.x),r=Math.min(e.x+e.width,n.x+n.width),i=Math.max(e.y,n.y);return{x:t,y:i,width:r-t,height:Math.min(e.y+e.height,n.y+n.height)-i}}}function Nw(e,n){if(Ks(e,n))return 0;var t=Math.min(Math.abs(e.x-n.x),Math.abs(e.x-n.x-n.width)),r=Math.min(Math.abs(e.y-n.y),Math.abs(e.y-n.y-n.height));return gn(e.x,n.x,n.x+n.width)?r:gn(e.y,n.y,n.y+n.height)?t:Math.sqrt(Math.pow(r,2)+Math.pow(t,2))}function ai(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function HH(){for(var e=void 0,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];for(var i=0,a=t;i<a.length;i++){var o=a[i];(null==e||isNaN(e)||null!=o&&!isNaN(o)&&o<e)&&(e=o)}return e}function Fw(e,n){return e.x===n.x&&e.y===n.y}function xc(e,n){var t=n.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function Rw(e){var n=void 0;if(null!==e){for(;-1!==e.indexOf(",");)e=e.replace(",",".");e.length>0&&isFinite(e)&&(n=parseFloat(e))}return n}function $s(e){return void 0!==Rw(e)}function UH(e,n,t){for(var r=e;-1!=r.indexOf(n);)r=r.replace(n,t);return r}function Mg(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0;i<e.length;i++)if(-1!=t.indexOf(e[i]))return i;return-1}function Lw(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=t.map(function(s){return e.indexOf(s)}).filter(function(s){return-1!==s});if(0===i.length)return-1;for(var a=i[0],o=1;o<i.length;o++)i[o]<a&&(a=i[o]);return a}function Gn(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return-1!=Mg.apply(void 0,[e].concat(t))}function zH(e,n){for(var t=e.length-2;t>=0;t--)if(n(e[t],e[t+1]))return t;return-1}function GH(e,n){return-1!==function jH(e,n){for(var t=0;t<e.length-1;t++)if(n(e[t],e[t+1]))return t;return-1}(e,n)}function Nc(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return-1!==Lw.apply(void 0,[e].concat(t))}function Vw(e,n,t){return e>n?e:t<n?t:n}function Bw(e,n){var r,t=x(e);try{for(t.s();!(r=t.n()).done;)if(n(r.value))return!0}catch(a){t.e(a)}finally{t.f()}return!1}function WH(e,n){for(var t=0;t<e.length;t++)if(n(e[t]))return t;return-1}function qH(e,n,t,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=0,s=r??0;s>=0&&s<e.length;s+=a){var u=e[s];if(Gn(n,u)&&o++,Gn(t,u)&&o--,0==o)return s}if(0==o)return r??0;throw i}function Hw(e){return V(new Set(e))}function Uw(e,n){var r,t=x(n);try{for(t.s();!(r=t.n()).done;){var i=r.value;if(i[0]===e)return i[1]}}catch(a){t.e(a)}finally{t.f()}return e}var oi=function(){return m(function e(){y(this,e),h(this,"threePointsClickedEvent",new dt)},[{key:"contextMenu",get:function(){return{elements:function(){return[]},additionalEvent:this.threePointsClickedEvent}}},{key:"threePointsClicked",value:function(t){var r=t.target;r instanceof HTMLSpanElement&&(r=r.parentElement);var i=r.getBoundingClientRect();this.threePointsClickedEvent.emit([{x:i.x+i.width/2,y:i.y+i.height/2},t])}}])}();function Fc(e,n,t){e.openSnackbar(function $H(e,n){return 1!==n&&(e+="e"),0===n?"Keine ".concat(e," gefunden."):1===n?"Ein ".concat(e," gefunden."):"".concat(n," ").concat(e," gefunden.")}(n,t))}function Rc(e){e.openSnackbar(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ein unerwarteter Fehler ist aufgetreten!",{color:"white",background:"#c44"})}function qi(){qi=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(U,N,H){U[N]=H.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(U,N,H){return Object.defineProperty(U,N,{value:H,enumerable:!0,configurable:!0,writable:!0}),U[N]}try{l({},"")}catch{l=function(H,$,ee){return H[$]=ee}}function c(U,N,H,$){var te=Object.create((N&&N.prototype instanceof b?N:b).prototype),Ye=new Ne($||[]);return i(te,"_invoke",{value:ve(U,H,Ye)}),te}function d(U,N,H){try{return{type:"normal",arg:U.call(N,H)}}catch($){return{type:"throw",arg:$}}}n.wrap=c;var f="suspendedStart",v="suspendedYield",g="executing",p="completed",C={};function b(){}function _(){}function w(){}var S={};l(S,o,function(){return this});var P=Object.getPrototypeOf,B=P&&P(P(sn([])));B&&B!==t&&r.call(B,o)&&(S=B);var R=w.prototype=b.prototype=Object.create(S);function Y(U){["next","throw","return"].forEach(function(N){l(U,N,function(H){return this._invoke(N,H)})})}function J(U,N){function H(ee,te,Ye,qn){var rt=d(U[ee],U,te);if("throw"!==rt.type){var nr=rt.arg,zr=nr.value;return zr&&"object"==tr(zr)&&r.call(zr,"__await")?N.resolve(zr.__await).then(function(Ji){H("next",Ji,Ye,qn)},function(Ji){H("throw",Ji,Ye,qn)}):N.resolve(zr).then(function(Ji){nr.value=Ji,Ye(nr)},function(Ji){return H("throw",Ji,Ye,qn)})}qn(rt.arg)}var $;i(this,"_invoke",{value:function(te,Ye){function qn(){return new N(function(rt,nr){H(te,Ye,rt,nr)})}return $=$?$.then(qn,qn):qn()}})}function ve(U,N,H){var $=f;return function(ee,te){if($===g)throw Error("Generator is already running");if($===p){if("throw"===ee)throw te;return{value:e,done:!0}}for(H.method=ee,H.arg=te;;){var Ye=H.delegate;if(Ye){var qn=ye(Ye,H);if(qn){if(qn===C)continue;return qn}}if("next"===H.method)H.sent=H._sent=H.arg;else if("throw"===H.method){if($===f)throw $=p,H.arg;H.dispatchException(H.arg)}else"return"===H.method&&H.abrupt("return",H.arg);$=g;var rt=d(U,N,H);if("normal"===rt.type){if($=H.done?p:v,rt.arg===C)continue;return{value:rt.arg,done:H.done}}"throw"===rt.type&&($=p,H.method="throw",H.arg=rt.arg)}}}function ye(U,N){var H=N.method,$=U.iterator[H];if($===e)return N.delegate=null,"throw"===H&&U.iterator.return&&(N.method="return",N.arg=e,ye(U,N),"throw"===N.method)||"return"!==H&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+H+"' method")),C;var ee=d($,U.iterator,N.arg);if("throw"===ee.type)return N.method="throw",N.arg=ee.arg,N.delegate=null,C;var te=ee.arg;return te?te.done?(N[U.resultName]=te.value,N.next=U.nextLoc,"return"!==N.method&&(N.method="next",N.arg=e),N.delegate=null,C):te:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,C)}function de(U){var N={tryLoc:U[0]};1 in U&&(N.catchLoc=U[1]),2 in U&&(N.finallyLoc=U[2],N.afterLoc=U[3]),this.tryEntries.push(N)}function De(U){var N=U.completion||{};N.type="normal",delete N.arg,U.completion=N}function Ne(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(de,this),this.reset(!0)}function sn(U){if(U||""===U){var N=U[o];if(N)return N.call(U);if("function"==typeof U.next)return U;if(!isNaN(U.length)){var H=-1,$=function ee(){for(;++H<U.length;)if(r.call(U,H))return ee.value=U[H],ee.done=!1,ee;return ee.value=e,ee.done=!0,ee};return $.next=$}}throw new TypeError(tr(U)+" is not iterable")}return _.prototype=w,i(R,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=l(w,u,"GeneratorFunction"),n.isGeneratorFunction=function(U){var N="function"==typeof U&&U.constructor;return!!N&&(N===_||"GeneratorFunction"===(N.displayName||N.name))},n.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,w):(U.__proto__=w,l(U,u,"GeneratorFunction")),U.prototype=Object.create(R),U},n.awrap=function(U){return{__await:U}},Y(J.prototype),l(J.prototype,s,function(){return this}),n.AsyncIterator=J,n.async=function(U,N,H,$,ee){void 0===ee&&(ee=Promise);var te=new J(c(U,N,H,$),ee);return n.isGeneratorFunction(N)?te:te.next().then(function(Ye){return Ye.done?Ye.value:te.next()})},Y(R),l(R,u,"Generator"),l(R,o,function(){return this}),l(R,"toString",function(){return"[object Generator]"}),n.keys=function(U){var N=Object(U),H=[];for(var $ in N)H.push($);return H.reverse(),function ee(){for(;H.length;){var te=H.pop();if(te in N)return ee.value=te,ee.done=!1,ee}return ee.done=!0,ee}},n.values=sn,Ne.prototype={constructor:Ne,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(De),!N)for(var H in this)"t"===H.charAt(0)&&r.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=e)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if("throw"===N.type)throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var H=this;function $(nr,zr){return Ye.type="throw",Ye.arg=N,H.next=nr,zr&&(H.method="next",H.arg=e),!!zr}for(var ee=this.tryEntries.length-1;ee>=0;--ee){var te=this.tryEntries[ee],Ye=te.completion;if("root"===te.tryLoc)return $("end");if(te.tryLoc<=this.prev){var qn=r.call(te,"catchLoc"),rt=r.call(te,"finallyLoc");if(qn&&rt){if(this.prev<te.catchLoc)return $(te.catchLoc,!0);if(this.prev<te.finallyLoc)return $(te.finallyLoc)}else if(qn){if(this.prev<te.catchLoc)return $(te.catchLoc,!0)}else{if(!rt)throw Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return $(te.finallyLoc)}}}},abrupt:function(N,H){for(var $=this.tryEntries.length-1;$>=0;--$){var ee=this.tryEntries[$];if(ee.tryLoc<=this.prev&&r.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var te=ee;break}}te&&("break"===N||"continue"===N)&&te.tryLoc<=H&&H<=te.finallyLoc&&(te=null);var Ye=te?te.completion:{};return Ye.type=N,Ye.arg=H,te?(this.method="next",this.next=te.finallyLoc,C):this.complete(Ye)},complete:function(N,H){if("throw"===N.type)throw N.arg;return"break"===N.type||"continue"===N.type?this.next=N.arg:"return"===N.type?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):"normal"===N.type&&H&&(this.next=H),C},finish:function(N){for(var H=this.tryEntries.length-1;H>=0;--H){var $=this.tryEntries[H];if($.finallyLoc===N)return this.complete($.completion,$.afterLoc),De($),C}},catch:function(N){for(var H=this.tryEntries.length-1;H>=0;--H){var $=this.tryEntries[H];if($.tryLoc===N){var ee=$.completion;if("throw"===ee.type){var te=ee.arg;De($)}return te}}throw Error("illegal catch attempt")},delegateYield:function(N,H,$){return this.delegate={iterator:sn(N),resultName:H,nextLoc:$},"next"===this.method&&(this.arg=e),C}},n}function jw(e,n,t,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void t(l)}s.done?n(u):Promise.resolve(u).then(r,i)}function Zi(e){return this instanceof Zi?(this.v=e,this):new Zi(e)}function r5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Ww(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(o){return new Promise(function(s,u){!function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}(s,u,(o=e[a](o)).done,o.value)})}}}var Sg=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function qw(e){return Se(e?.then)}function Zw(e){return Se(e[kd])}function Yw(e){return Symbol.asyncIterator&&Se(e?.[Symbol.asyncIterator])}function Kw(e){return new TypeError("You provided ".concat(null!==e&&"object"==typeof e?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var $w=function a5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Qw(e){return Se(e?.[$w])}function Xw(e){return function t5(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(v){return new Promise(function(g,p){a.push([f,v,g,p])>1||s(f,v)})})}function s(f,v){try{!function u(f){f.value instanceof Zi?Promise.resolve(f.value.v).then(l,c):d(a[0][2],f)}(r[f](v))}catch(g){d(a[0][3],g)}}function l(f){s("next",f)}function c(f){s("throw",f)}function d(f,v){f(v),a.shift(),a.length&&s(a[0][0],a[0][1])}}(this,arguments,qi().mark(function n(){var t,r,i;return qi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=e.getReader(),s.prev=1;case 2:return s.next=5,Zi(t.read());case 5:if(i=(r=s.sent).value,!r.done){s.next=12;break}return s.next=11,Zi(void 0);case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,Zi(i);case 14:return s.next=16,s.sent;case 16:s.next=2;break;case 18:return s.prev=18,t.releaseLock(),s.finish(18);case 21:case"end":return s.stop()}},n,null,[[1,,18,21]])}))}function Jw(e){return Se(e?.getReader)}function _r(e){if(e instanceof un)return e;if(null!=e){if(Zw(e))return function o5(e){return new un(function(n){var t=e[kd]();if(Se(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Sg(e))return function s5(e){return new un(function(n){for(var t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(qw(e))return function u5(e){return new un(function(n){e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,Bp)})}(e);if(Yw(e))return eM(e);if(Qw(e))return function l5(e){return new un(function(n){var r,t=x(e);try{for(t.s();!(r=t.n()).done;)if(n.next(r.value),n.closed)return}catch(a){t.e(a)}finally{t.f()}n.complete()})}(e);if(Jw(e))return function c5(e){return eM(Xw(e))}(e)}throw Kw(e)}function eM(e){return new un(function(n){(function d5(e,n){var t,r,i,a;return function e5(e,n,t,r){return new(t||(t=Promise))(function(a,o){function s(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):function i(a){return a instanceof t?a:new t(function(o){o(a)})}(c.value).then(s,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,qi().mark(function o(){return qi().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,t=r5(e);case 2:return l.next=4,t.next();case 4:if((r=l.sent).done){l.next=12;break}if(n.next(r.value),!n.closed){l.next=10;break}return l.abrupt("return");case 10:l.next=2;break;case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),i={error:l.t0};case 17:if(l.prev=17,l.prev=18,!r||r.done||!(a=t.return)){l.next=22;break}return l.next=22,a.call(t);case 22:if(l.prev=22,!i){l.next=25;break}throw i.error;case 25:return l.finish(22);case 26:return l.finish(17);case 27:n.complete();case 28:case"end":return l.stop()}},o,null,[[0,14,17,27],[18,,22,26]])}))})(e,n).catch(function(t){return n.error(t)})})}function si(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function nM(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ft(function(t,r){t.subscribe(new ht(r,function(i){return si(r,e,function(){return r.next(i)},n)},function(){return si(r,e,function(){return r.complete()},n)},function(i){return si(r,e,function(){return r.error(i)},n)}))})}function tM(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ft(function(t,r){r.add(e.schedule(function(){return t.subscribe(r)},n))})}function rM(e,n){if(!e)throw new Error("Iterable cannot be null");return new un(function(t){si(t,n,function(){var r=e[Symbol.asyncIterator]();si(t,n,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Qs(e,n){return n?function m5(e,n){if(null!=e){if(Zw(e))return function f5(e,n){return _r(e).pipe(tM(n),nM(n))}(e,n);if(Sg(e))return function h5(e,n){return new un(function(t){var r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(qw(e))return function v5(e,n){return _r(e).pipe(tM(n),nM(n))}(e,n);if(Yw(e))return rM(e,n);if(Qw(e))return function g5(e,n){return new un(function(t){var r;return si(t,n,function(){r=e[$w](),si(t,n,function(){var i,a;try{var o=r.next();i=o.value,a=o.done}catch(s){return void t.error(s)}a?t.complete():t.next(i)},0,!0)}),function(){return Se(r?.return)&&r.return()}})}(e,n);if(Jw(e))return function p5(e,n){return rM(Xw(e),n)}(e,n)}throw Kw(e)}(e,n):_r(e)}var y5=Array.isArray,_5=Object.getPrototypeOf,C5=Object.prototype,b5=Object.keys;function iM(e){return e&&Se(e.schedule)}function Ig(e){return e[e.length-1]}function Tg(e){return iM(Ig(e))?e.pop():void 0}var k5=Array.isArray;function aM(e){return Rt(function(n){return function S5(e,n){return k5(n)?e.apply(void 0,V(n)):e(n)}(e,n)})}function T5(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=function w5(e){return Se(Ig(e))?e.pop():void 0}(n),i=function E5(e){if(1===e.length){var n=e[0];if(y5(n))return{args:n,keys:null};if(function D5(e){return e&&"object"==typeof e&&_5(e)===C5}(n)){var t=b5(n);return{args:t.map(function(r){return n[r]}),keys:t}}}return{args:e,keys:null}}(n),a=i.args,o=i.keys,s=new un(function(u){var l=a.length;if(l)for(var c=new Array(l),d=l,f=l,v=function(C){var b=!1;_r(a[C]).subscribe(new ht(u,function(_){b||(b=!0,f--),c[C]=_},function(){return d--},void 0,function(){(!d||!b)&&(f||u.next(o?function I5(e,n){return e.reduce(function(t,r,i){return t[r]=n[i],t},{})}(o,c):c),u.complete())}))},g=0;g<l;g++)v(g);else u.complete()});return r?s.pipe(aM(r)):s}var oM=function(){var e,n=function(){return m(function t(r,i){y(this,t),this._renderer=r,this._elementRef=i,this.onChange=function(a){},this.onTouched=function(){}},[{key:"setProperty",value:function(i,a){this._renderer.setProperty(this._elementRef.nativeElement,i,a)}},{key:"registerOnTouched",value:function(i){this.onTouched=i}},{key:"registerOnChange",value:function(i){this.onChange=i}},{key:"setDisabledState",value:function(i){this.setProperty("disabled",i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(A(Ri),A(zt))},e.\u0275dir=ue({type:e}),n}(),Yi=function(){var e,n=function(t){function r(){return y(this,r),M(this,r,arguments)}return k(r,t),m(r)}(oM);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=xn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,features:[fe]}),n}(),Cr=new W(""),P5={provide:Cr,useExisting:Ve(function(){return ui}),multi:!0},ui=function(){var e,n=function(t){function r(){return y(this,r),M(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("checked",a)}}])}(Yi);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=xn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&se("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Ze([P5]),fe]}),n}(),O5={provide:Cr,useExisting:Ve(function(){return pn}),multi:!0},x5=new W(""),pn=function(){var e,n=function(t){function r(i,a,o){var s;return y(this,r),(s=M(this,r,[i,a]))._compositionMode=o,s._composing=!1,null==s._compositionMode&&(s._compositionMode=!function A5(){var e=zs()?zs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),s}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",a??"")}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}])}(oM);return(e=n).\u0275fac=function(r){return new(r||e)(A(Ri),A(zt),A(x5,8))},e.\u0275dir=ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&se("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ze([O5]),fe]}),n}();function li(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}var Wn=new W(""),ci=new W("");function Pg(e){return null}function uM(e){return null!=e}function lM(e){return sc(e)?Qs(e):e}function cM(e){var n={};return e.forEach(function(t){n=null!=t?re(re({},n),t):n}),0===Object.keys(n).length?null:n}function dM(e,n){return n.map(function(t){return t(e)})}function fM(e){return e.map(function(n){return function z5(e){return!e.validate}(n)?n:function(t){return n.validate(t)}})}function Og(e){return null!=e?function G5(e){if(!e)return null;var n=e.filter(uM);return 0==n.length?null:function(t){return cM(dM(t,n))}}(fM(e)):null}function Ag(e){return null!=e?function W5(e){if(!e)return null;var n=e.filter(uM);return 0==n.length?null:function(t){return T5(dM(t,n).map(lM)).pipe(Rt(cM))}}(fM(e)):null}function vM(e,n){return null===e?[n]:Array.isArray(e)?[].concat(V(e),[n]):[e,n]}function xg(e){return e?Array.isArray(e)?e:[e]:[]}function Lc(e,n){return Array.isArray(e)?e.includes(n):e===n}function pM(e,n){var t=xg(n);return xg(e).forEach(function(i){Lc(t,i)||t.push(i)}),t}function mM(e,n){return xg(n).filter(function(t){return!Lc(e,t)})}var yM=function(){return m(function e(){y(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]},[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Og(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ag(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){this.control&&this.control.reset(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)}},{key:"hasError",value:function(t,r){return!!this.control&&this.control.hasError(t,r)}},{key:"getError",value:function(t,r){return this.control?this.control.getError(t,r):null}}])}(),nt=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}])}(yM),di=function(e){function n(){var t;return y(this,n),(t=M(this,n,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return k(n,e),m(n)}(yM),_M=function(){return m(function e(n){y(this,e),this._cd=n},[{key:"isTouched",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._touched)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.touched)}},{key:"isUntouched",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.untouched)}},{key:"isPristine",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._pristine)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.pristine)}},{key:"isDirty",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.dirty)}},{key:"isValid",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||null===(r=t._status)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||null===(i=i.control)||void 0===i||!i.valid)}},{key:"isInvalid",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.invalid)}},{key:"isPending",get:function(){var t;return!(null===(t=this._cd)||void 0===t||null===(t=t.control)||void 0===t||!t.pending)}},{key:"isSubmitted",get:function(){var t,r,i;return null===(t=this._cd)||void 0===t||null===(r=t._submitted)||void 0===r||r.call(t),!(null===(i=this._cd)||void 0===i||!i.submitted)}}])}(),Sn=function(){var e,n=function(t){function r(i){return y(this,r),M(this,r,[i])}return k(r,t),m(r)}(_M);return(e=n).\u0275fac=function(r){return new(r||e)(A(di,2))},e.\u0275dir=ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Kl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]}),n}(),Xs="VALID",Bc="INVALID",fo="PENDING",Js="DISABLED",vo=m(function e(){y(this,e)}),bM=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n)).value=t,i.source=r,i}return k(n,e),m(n)}(vo),Rg=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n)).pristine=t,i.source=r,i}return k(n,e),m(n)}(vo),Lg=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n)).touched=t,i.source=r,i}return k(n,e),m(n)}(vo),Hc=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n)).status=t,i.source=r,i}return k(n,e),m(n)}(vo);function EM(e){return(Uc(e)?e.validators:e)||null}function DM(e,n){return(Uc(n)?n.asyncValidators:e)||null}function Uc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var wM=function(){return m(function e(n,t){var r=this;y(this,e),this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=function(){},this._parent=null,this._status=js(function(){return r.statusReactive()}),this.statusReactive=Ra(void 0),this._pristine=js(function(){return r.pristineReactive()}),this.pristineReactive=Ra(!0),this._touched=js(function(){return r.touchedReactive()}),this.touchedReactive=Ra(!1),this._events=new Mr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)},[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"status",get:function(){return mr(this.statusReactive)},set:function(t){var r=this;mr(function(){return r.statusReactive.set(t)})}},{key:"valid",get:function(){return this.status===Xs}},{key:"invalid",get:function(){return this.status===Bc}},{key:"pending",get:function(){return this.status==fo}},{key:"disabled",get:function(){return this.status===Js}},{key:"enabled",get:function(){return this.status!==Js}},{key:"pristine",get:function(){return mr(this.pristineReactive)},set:function(t){var r=this;mr(function(){return r.pristineReactive.set(t)})}},{key:"dirty",get:function(){return!this.pristine}},{key:"touched",get:function(){return mr(this.touchedReactive)},set:function(t){var r=this;mr(function(){return r.touchedReactive.set(t)})}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._assignValidators(t)}},{key:"setAsyncValidators",value:function(t){this._assignAsyncValidators(t)}},{key:"addValidators",value:function(t){this.setValidators(pM(t,this._rawValidators))}},{key:"addAsyncValidators",value:function(t){this.setAsyncValidators(pM(t,this._rawAsyncValidators))}},{key:"removeValidators",value:function(t){this.setValidators(mM(t,this._rawValidators))}},{key:"removeAsyncValidators",value:function(t){this.setAsyncValidators(mM(t,this._rawAsyncValidators))}},{key:"hasValidator",value:function(t){return Lc(this._rawValidators,t)}},{key:"hasAsyncValidator",value:function(t){return Lc(this._rawAsyncValidators,t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1===this.touched;this.touched=!0;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._parent&&!r.onlySelf&&this._parent.markAsTouched(re(re({},r),{},{sourceControl:a})),i&&!1!==r.emitEvent&&this._events.next(new Lg(!0,a))}},{key:"markAllAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(function(r){return r.markAllAsTouched(t)})}},{key:"markAsUntouched",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!0===this.touched;this.touched=!1,this._pendingTouched=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._forEachChild(function(o){o.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:a})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,a),i&&!1!==r.emitEvent&&this._events.next(new Lg(!1,a))}},{key:"markAsDirty",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!0===this.pristine;this.pristine=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._parent&&!r.onlySelf&&this._parent.markAsDirty(re(re({},r),{},{sourceControl:a})),i&&!1!==r.emitEvent&&this._events.next(new Rg(!1,a))}},{key:"markAsPristine",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;this._forEachChild(function(o){o.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,a),i&&!1!==r.emitEvent&&this._events.next(new Rg(!0,a))}},{key:"markAsPending",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=fo;var i=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new Hc(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending(re(re({},r),{},{sourceControl:i}))}},{key:"disable",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this._parentMarkedDirty(r.onlySelf);this.status=Js,this.errors=null,this._forEachChild(function(o){o.disable(re(re({},r),{},{onlySelf:!0}))}),this._updateValue();var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new bM(this.value,a)),this._events.next(new Hc(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(re({},r),{},{skipPristineCheck:i}),this),this._onDisabledChange.forEach(function(o){return o(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this._parentMarkedDirty(t.onlySelf);this.status=Xs,this._forEachChild(function(i){i.enable(re(re({},t),{},{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(re(re({},t),{},{skipPristineCheck:r}),this),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}},{key:"setParent",value:function(t){this._parent=t}},{key:"getRawValue",value:function(){return this.value}},{key:"updateValueAndValidity",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._setInitialStatus(),this._updateValue(),this.enabled){var i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xs||this.status===fo)&&this._runAsyncValidator(i,r.emitEvent)}var a=null!==(t=r.sourceControl)&&void 0!==t?t:this;!1!==r.emitEvent&&(this._events.next(new bM(this.value,a)),this._events.next(new Hc(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(re(re({},r),{},{sourceControl:a}))}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(r){return r._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Js:Xs}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t,r){var i=this;if(this.asyncValidator){this.status=fo,this._hasOwnPendingAsyncValidator={emitEvent:!1!==r};var a=lM(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(function(o){i._hasOwnPendingAsyncValidator=null,i.setErrors(o,{emitEvent:r,shouldHaveEmitted:t})})}}},{key:"_cancelExistingSubscription",value:function(){if(this._asyncValidationSubscription){var t,r;this._asyncValidationSubscription.unsubscribe();var i=null!==(t=null===(r=this._hasOwnPendingAsyncValidator)||void 0===r?void 0:r.emitEvent)&&void 0!==t&&t;return this._hasOwnPendingAsyncValidator=null,i}return!1}},{key:"setErrors",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==r.emitEvent,this,r.shouldHaveEmitted)}},{key:"get",value:function(t){var r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce(function(i,a){return i&&i._find(a)},this)}},{key:"getError",value:function(t,r){var i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}},{key:"hasError",value:function(t,r){return!!this.getError(t,r)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t,r,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Hc(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,i)}},{key:"_initObservables",value:function(){this.valueChanges=new fn,this.statusChanges=new fn}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Js:this.errors?Bc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fo)?fo:this._anyControlsHaveStatus(Bc)?Bc:Xs}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(r){return r.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(t,r){var i=!this._anyControlsDirty(),a=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),a&&this._events.next(new Rg(this.pristine,r))}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.touched=this._anyControlsTouched(),this._events.next(new Lg(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Uc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}},{key:"_find",value:function(t){return null}},{key:"_assignValidators",value:function(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function eU(e){return Array.isArray(e)?Og(e):e||null}(this._rawValidators)}},{key:"_assignAsyncValidators",value:function(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function nU(e){return Array.isArray(e)?Ag(e):e||null}(this._rawAsyncValidators)}}])}(),ho=new W("CallSetDisabledState",{providedIn:"root",factory:function(){return jc}}),jc="always";function eu(e,n){var r,i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jc;(function Bg(e,n){var t=function hM(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(vM(t,n.validator)):"function"==typeof t&&e.setValidators([t]);var r=function gM(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(vM(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};Wc(n._rawValidators,i),Wc(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&(null===(r=(i=n.valueAccessor).setDisabledState)||void 0===r||r.call(i,e.disabled)),function oU(e,n){n.valueAccessor.registerOnChange(function(t){e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&MM(e,n)})}(e,n),function uU(e,n){var t=function(i,a){n.valueAccessor.writeValue(i),a&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(function(){e._unregisterOnChange(t)})}(e,n),function sU(e,n){n.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&MM(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function aU(e,n){if(n.valueAccessor.setDisabledState){var t=function(i){n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(function(){e._unregisterOnDisabledChange(t)})}}(e,n)}function Wc(e,n){e.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function MM(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function IM(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}function TM(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}var PM=function(e){function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return y(this,n),(t=M(this,n,[EM(i),DM(a,i)])).defaultValue=null,t._onChange=[],t._pendingChange=!1,t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!t.asyncValidator}),Uc(i)&&(i.nonNullable||i.initialValueIsDefault)&&(t.defaultValue=TM(r)?r.value:r),t}return k(n,e),m(n,[{key:"setValue",value:function(r){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=r,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(function(o){return o(i.value,!1!==a.emitViewToModelChange)}),this.updateValueAndValidity(a)}},{key:"patchValue",value:function(r){this.setValue(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"reset",value:function(){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultValue),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(r){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(r){this._onChange.push(r)}},{key:"_unregisterOnChange",value:function(r){IM(this._onChange,r)}},{key:"registerOnDisabledChange",value:function(r){this._onDisabledChange.push(r)}},{key:"_unregisterOnDisabledChange",value:function(r){IM(this._onDisabledChange,r)}},{key:"_forEachChild",value:function(r){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(r){TM(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}])}(wM),pU={provide:di,useExisting:Ve(function(){return mn})},xM=function(){return Promise.resolve()}(),mn=function(){var e,n=function(t){function r(i,a,o,s,u,l){var c;return y(this,r),(c=M(this,r))._changeDetectorRef=u,c.callSetDisabledState=l,c.control=new PM,c._registered=!1,c.name="",c.update=new fn,c._parent=i,c._setValidators(a),c._setAsyncValidators(o),c.valueAccessor=function jg(e,n){if(!n)return null;Array.isArray(n);var t=void 0,r=void 0,i=void 0;return n.forEach(function(a){a.constructor===pn?t=a:function dU(e){return Object.getPrototypeOf(e.constructor)===Yi}(a)?r=a:i=a}),i||r||t||null}(0,s),c}return k(r,t),m(r,[{key:"ngOnChanges",value:function(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){var o=a.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),function Ug(e,n){if(!e.hasOwnProperty("model"))return!1;var t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._getPath(this.name)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){eu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;xM.then(function(){var s;o.control.setValue(a,{emitViewToModelChange:!1}),null===(s=o._changeDetectorRef)||void 0===s||s.markForCheck()})}},{key:"_updateDisabled",value:function(a){var o=this,s=a.isDisabled.currentValue,u=0!==s&&function Jh(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(s);xM.then(function(){var l;u&&!o.control.disabled?o.control.disable():!u&&o.control.disabled&&o.control.enable(),null===(l=o._changeDetectorRef)||void 0===l||l.markForCheck()})}},{key:"_getPath",value:function(a){return this._parent?function zc(e,n){return[].concat(V(n.path),[e])}(a,this._parent):[a]}}])}(di);return(e=n).\u0275fac=function(r){return new(r||e)(A(nt,9),A(Wn,10),A(ci,10),A(Cr,10),A(cc,8),A(ho,8))},e.\u0275dir=ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ze([pU]),fe,Tr]}),n}(),yU={provide:Cr,useExisting:Ve(function(){return Mt}),multi:!0},Mt=function(){var e,n=function(t){function r(){return y(this,r),M(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",a??"")}},{key:"registerOnChange",value:function(a){this.onChange=function(o){a(""==o?null:parseFloat(o))}}}])}(Yi);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=xn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&se("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ze([yU]),fe]}),n}(),bU={provide:Cr,useExisting:Ve(function(){return Zc}),multi:!0},Zc=function(){var e,n=function(t){function r(){return y(this,r),M(this,r,arguments)}return k(r,t),m(r,[{key:"writeValue",value:function(a){this.setProperty("value",parseFloat(a))}},{key:"registerOnChange",value:function(a){this.onChange=function(o){a(""==o?null:parseFloat(o))}}}])}(Yi);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=xn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){1&r&&se("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ze([bU]),fe]}),n}();function jM(e){return"number"==typeof e?e:parseFloat(e)}var Ki=function(){var e,n=function(){return m(function t(){y(this,t),this._validator=Pg},[{key:"ngOnChanges",value:function(i){if(this.inputName in i){var a=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):Pg,this._onChange&&this._onChange()}}},{key:"validate",value:function(i){return this._validator(i)}},{key:"registerOnValidatorChange",value:function(i){this._onChange=i}},{key:"enabled",value:function(i){return null!=i}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275dir=ue({type:e,features:[Tr]}),n}(),xU={provide:Wn,useExisting:Ve(function(){return Kg}),multi:!0},Kg=function(){var e,n=function(t){function r(){var i;return y(this,r),(i=M(this,r,arguments)).inputName="max",i.normalizeInput=function(a){return jM(a)},i.createValidator=function(a){return function R5(e){return function(n){if(li(n.value)||li(e))return null;var t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(a)},i}return k(r,t),m(r)}(Ki);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=xn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Rr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Ze([xU]),fe]}),n}(),NU={provide:Wn,useExisting:Ve(function(){return Yc}),multi:!0},Yc=function(){var e,n=function(t){function r(){var i;return y(this,r),(i=M(this,r,arguments)).inputName="min",i.normalizeInput=function(a){return jM(a)},i.createValidator=function(a){return function F5(e){return function(n){if(li(n.value)||li(e))return null;var t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(a)},i}return k(r,t),m(r)}(Ki);return(e=n).\u0275fac=function(){var t;return function(i){return(t||(t=xn(e)))(i||e)}}(),e.\u0275dir=ue({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Rr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Ze([NU]),fe]}),n}(),UU=function(){var e,n=m(function t(){y(this,t)});return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({}),n}(),zU=function(){var e,n=function(){function t(){y(this,t)}return m(t,null,[{key:"withConfig",value:function(i){var a;return{ngModule:t,providers:[{provide:ho,useValue:null!==(a=i.callSetDisabledState)&&void 0!==a?a:jc}]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({imports:[UU]}),n}(),GU=function(n){return{background:n}},WU=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"ref",void 0),h(this,"r",0),h(this,"g",0),h(this,"b",0),h(this,"_data",void 0),this.ref=r},[{key:"data",get:function(){return this._data},set:function(i){var a;this._data=i;var o=null===(a=this.data)||void 0===a?void 0:a.getter();o&&(this.r=o.r,this.g=o.g,this.b=o.b),this.ref.detectChanges()}},{key:"colorStr",get:function(){return this.data?et(this.data.getter()):""}},{key:"input",value:function(){var i,a;null===(i=this.data)||void 0===i||i.setter({r:this.r<0?0:this.r>255?255:this.r,g:this.g<0?0:this.g>255?255:this.g,b:this.b<0?0:this.b>255?255:this.b,a:null===(a=this.data)||void 0===a?void 0:a.getter().a})}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(cc))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-color-picker"]],decls:5,vars:6,consts:[[1,"wrapper"],[1,"preview",3,"ngStyle"],["type","number","title","Rot","min","0","max","255",1,"inp","r",3,"ngModelChange","input","ngModel"],["type","number","title","Gr\xfcn","min","0","max","255",1,"inp","g",3,"ngModelChange","input","ngModel"],["type","number","title","Blau","min","0","max","255",1,"inp","b",3,"ngModelChange","input","ngModel"]],template:function(r,i){1&r&&(E(0,"div",0),Qe(1,"div",1),E(2,"input",2),G("ngModelChange",function(o){return j(i.r,o)||(i.r=o),o}),se("input",function(){return i.input()}),D(),E(3,"input",3),G("ngModelChange",function(o){return j(i.g,o)||(i.g=o),o}),se("input",function(){return i.input()}),D(),E(4,"input",4),G("ngModelChange",function(o){return j(i.b,o)||(i.b=o),o}),se("input",function(){return i.input()}),D()()),2&r&&(O(),Q("ngStyle",Mn(4,GU,i.colorStr)),O(),z("ngModel",i.r),O(),z("ngModel",i.g),O(),z("ngModel",i.b))},dependencies:[uo,pn,Mt,Sn,Yc,Kg,mn],styles:['.wrapper[_ngcontent-%COMP%]{--width: 100px;width:var(--width)}.preview[_ngcontent-%COMP%]{--size: 40px;width:var(--width);height:var(--size);border-radius:5px}.inp[_ngcontent-%COMP%]{--padding: 5px;--border: 1px;width:calc(var(--width) - 2 * (var(--padding) + var(--border)));padding:var(--padding);margin-top:7px;border-radius:5px;border:var(--border) solid #ddd;transition:all .1s ease-in-out;outline:none;font-size:10pt;font-family:Segoe UI,Calibri,"sans-serif"}.inp[_ngcontent-%COMP%]:hover{border:var(--border) solid #999}.inp[_ngcontent-%COMP%]:active, .inp[_ngcontent-%COMP%]:focus{border:var(--border) solid #555}']})),n}(),qU=["content"],ZU=["wrapper"],YU=function(n,t){return{"top.px":n,"left.px":t}},KU=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"content",void 0),h(this,"wrapper",void 0),h(this,"component",void 0),h(this,"position",{x:0,y:0}),h(this,"data",void 0)},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.content.createComponent(this.component).instance.data=this.data}},{key:"getBoundingClientRect",value:function(){return this.wrapper.nativeElement.getBoundingClientRect()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-hover-menu"]],viewQuery:function(r,i){var a;1&r&&(bt(qU,5,Nn),bt(ZU,5)),2&r&&(Et(a=Dt())&&(i.content=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:4,vars:4,consts:[["wrapper",""],["content",""],[1,"wrapper",3,"ngStyle"]],template:function(r,i){1&r&&(E(0,"div",2,0),Qe(2,"div",null,1),D()),2&r&&Q("ngStyle",Sh(1,YU,i.position.y,i.position.x))},dependencies:[uo],styles:["@keyframes _ngcontent-%COMP%_start{0%{transform:scale(0)}to{transform:scale(1)}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;animation:.1s start ease-in-out;z-index:1}"]})),n}(),$U=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"vc",void 0),h(this,"hoverMenu",void 0),h(this,"appHoverMenu",void 0),h(this,"element",void 0),h(this,"hoverTimeMs",750),h(this,"version",0),h(this,"eventListenerStart",function(){if(!i.hoverMenu){var a=++i.version;setTimeout(function(){i.version===a&&i.openHoverMenu()},i.hoverTimeMs)}}),h(this,"eventListenerEnd",function(a){if(i.hoverMenu&&a instanceof MouseEvent){var o={x:a.clientX,y:a.clientY};(!Ks(o,i.element.getBoundingClientRect())||a.target==i.element)&&(!Ks(o,i.hoverMenu.instance.getBoundingClientRect())||a.target==i.hoverMenu.location.nativeElement)&&(i.hoverMenu.destroy(),i.hoverMenu=void 0)}i.version=0}),this.vc=r,this.element=r.element.nativeElement,this.element.addEventListener("mouseover",this.eventListenerStart),this.element.addEventListener("mousemove",this.eventListenerStart),this.element.addEventListener("mouseleave",this.eventListenerEnd),this.element.addEventListener("click",function(){i.version=0})},[{key:"openHoverMenu",value:function(){if(!this.hoverMenu){this.hoverMenu=this.vc.createComponent(KU),this.hoverMenu.instance.component=this.appHoverMenu.component,this.hoverMenu.instance.data=this.appHoverMenu.data;var i=this.element.getBoundingClientRect();this.hoverMenu.instance.position={x:i.x+i.width/2,y:i.y+i.height/2},this.hoverMenu.location.nativeElement.addEventListener("mouseleave",this.eventListenerEnd)}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(Nn))}),h(n,"\u0275dir",ue({type:e,selectors:[["","appHoverMenu",""]],inputs:{appHoverMenu:"appHoverMenu"}})),n}(),QU=function(n,t){return{"border-color":n,background:t}},XU=function(n){return{notVisible:n}},$i=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"color",jn),h(this,"colorChange",new fn),h(this,"visible",!0),h(this,"visibleChange",new fn)},[{key:"ngOnInit",value:function(){}},{key:"changeVisibility",value:function(){this.visible=!this.visible,this.visibleChange.emit(this.visible)}},{key:"colorStr",get:function(){return et(this.color)}},{key:"hoverMenu",get:function(){var i=this;return{component:WU,data:{getter:function(){return i.color},setter:function(o){i.color=o,i.colorChange.emit(o)}}}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-color-circle"]],inputs:{color:"color",visible:"visible"},outputs:{colorChange:"colorChange",visibleChange:"visibleChange"},decls:1,vars:8,consts:[[1,"colorPicker",3,"click","appHoverMenu","ngStyle","ngClass"]],template:function(r,i){1&r&&(E(0,"div",0),se("click",function(){return i.changeVisibility()}),D()),2&r&&Q("appHoverMenu",i.hoverMenu)("ngStyle",Sh(3,QU,i.colorStr,i.colorStr))("ngClass",Mn(6,XU,!i.visible))},dependencies:[$t,uo,$U],styles:[".colorPicker[_ngcontent-%COMP%]{--buttonSize: 46px;--borderThickness: 2px;float:left;width:calc(var(--buttonSize) - 2 * var(--borderThickness));height:calc(var(--buttonSize) - 2 * var(--borderThickness));border:var(--borderThickness) solid;border-radius:100%}.colorPicker.notVisible[_ngcontent-%COMP%]{background:transparent!important}"]})),n}(),JU=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"canvasElement",void 0),i.canvasElement=new ge({x:0,y:0}),i}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-point-formula"]],features:[fe],decls:15,vars:7,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return j(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return j(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"div")(3,"p",2),Qe(4,"span"),I(5),E(6,"span")(7,"input",3),G("ngModelChange",function(o){return j(i.canvasElement.x,o)||(i.canvasElement.x=o),o}),D()(),I(8," | "),E(9,"span")(10,"input",3),G("ngModelChange",function(o){return j(i.canvasElement.y,o)||(i.canvasElement.y=o),o}),D()(),I(11," ) "),D()(),E(12,"button",4),se("click",function(o){return i.threePointsClicked(o)}),E(13,"span",5),I(14,"more_vert"),D()()()),2&r&&(O(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(4),pr(" ",i.name,"( "),O(2),Q("disabled",i.canvasElement.dependent),z("ngModel",i.canvasElement.x),O(3),Q("disabled",i.canvasElement.dependent),z("ngModel",i.canvasElement.y))},dependencies:[pn,Mt,Sn,mn,$i],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}']})),n}(),Qg=function(e){function n(t){var r,i;return y(this,n),h(i=M(this,n),"removeListener",function(a){void 0!==a&&a.removeCanvasElements(i)}),h(i,"resetTempListener",void 0),(r=i).addDependency.apply(r,V(t)),i.onAdd.addListener(function(a){void 0!==a&&void 0!==i.resetTempListener&&a.onBeforeElementsDraw.addListener(i.resetTempListener)}),i.onRemove.addListener(function(a){void 0!==a&&void 0!==i.resetTempListener&&a.onBeforeElementsDraw.removeListener(i.resetTempListener)}),i}return k(n,e),m(n,[{key:"addDependency",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];for(var o=0,s=i;o<s.length;o++)s[o].onRemove.addListener(this.removeListener)}}])}(Wi),go=m(function e(){y(this,e),h(this,"dialog",void 0)}),e3=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}}])}(go);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-point-element"]],features:[fe],decls:23,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths"],["title","Name","type","text",1,"input",3,"ngModelChange","ngModel"],["type","number","step","any",1,"input",3,"ngModelChange","disabled","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),I(2,"Punkt bearbeiten"),D(),E(3,"p",2),Qe(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return j(i.name,o)||(i.name=o),o}),D(),I(6," ( "),E(7,"span")(8,"input",4),G("ngModelChange",function(o){return j(i.dialogData.x,o)||(i.dialogData.x=o),o}),D()(),I(9," | "),E(10,"span")(11,"input",4),G("ngModelChange",function(o){return j(i.dialogData.y,o)||(i.dialogData.y=o),o}),D()(),I(12," ) "),D(),E(13,"div",5)(14,"input",6),G("ngModelChange",function(o){return j(i.latex,o)||(i.latex=o),o}),D(),E(15,"label",7),I(16,"Label als LaTeX rendern"),D()(),E(17,"div",8)(18,"input",9),G("ngModelChange",function(o){return j(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(19,"label",10),I(20,"Label schwarz anzeigen"),D()(),E(21,"button",11),se("click",function(){return i.dialog.close()}),I(22,"Schlie\xdfen"),D()()),2&r&&(O(5),z("ngModel",i.name),O(3),Q("disabled",i.dialogData.dependent),z("ngModel",i.dialogData.x),O(3),Q("disabled",i.dialogData.dependent),z("ngModel",i.dialogData.y),O(3),z("ngModel",i.latex),O(4),z("ngModel",i.displayBlack))},dependencies:[pn,Mt,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.checkboxDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}']})),n}(),ge=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=M(this,n,[o]),"dependent",void 0),h(r,"componentType",JU),h(r,"formulaDialogType",e3),h(r,"_stroke",{r:100,g:100,b:100}),h(r,"_strokeWidth",3),h(r,"_radius",5),h(r,"_x",void 0),h(r,"_y",void 0),h(r,"selected",!1),r.dependent=a,r._x=t?.x,r._y=t?.y,r._color=i,r._visible=s,r.configuration.showLabel=u,r}return k(n,e),m(n,[{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(r)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(r)}},{key:"radius",get:function(){return this._radius},set:function(r){this._radius=r,this.onChange.emit(r)}},{key:"x",get:function(){return this._x},set:function(r){this.dependent||(this._x=r,this.onChange.emit(r))}},{key:"y",get:function(){return this._y},set:function(r){this.dependent||(this._y=r,this.onChange.emit(r))}},{key:"point",get:function(){if(void 0!==this.x&&void 0!==this.y)return{x:this.x,y:this.y}},set:function(r){this.dependent||this.forceSetPoint(r)}},{key:"forceSetPoint",value:function(r){this._x=r?.x,this._y=r?.y,this.onChange.emit(r)}},{key:"draw",value:function(r){var a=this.point;void 0!==a&&Ks(a,r.range,1.75*this.radius/r.zoom)&&((this.selected||-1!==r.selection.indexOf(this))&&r.drawCircle(a,1.75*this.radius/r.zoom,Xt(this.color,.3)),r.drawCircle(a,this.radius/r.zoom,this.color,this.stroke,this.strokeWidth))}},{key:"getDistance",value:function(r,i){var a=this.point;if(void 0!==a)return Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2))-this.radius/i.zoom}},{key:"getPositionForLabel",value:function(r){var a=this.x,o=this.y;if(void 0!==a&&void 0!==o)return{x:a+15/r.zoom,y:o+15/r.zoom}}},{key:"serialize",value:function(){return{data:{x:this.x,y:this.y,dependent:this.dependent},style:{color:this.color,stroke:this.stroke,size:this.radius,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data;this.forceSetPoint(void 0===o.x||void 0===o.y?void 0:{x:o.x,y:o.y}),this.dependent=o.dependent,this.loadStyle(i.style)}},{key:"loadStyle",value:function(r){var i,a,o;this.color=r.color,this.visible=r.visible,this.radius=null!==(i=r.size)&&void 0!==i?i:this.radius,this.stroke=null!==(a=r.stroke)&&void 0!==a?a:this.stroke,this.strokeWidth=null!==(o=r.strokeWidth)&&void 0!==o?o:this.strokeWidth}}],[{key:"getDefaultInstance",value:function(){return new n(void 0)}}])}(Qg),n3=["componentNeighbor"],t3=["filler"],r3=function(n){return{display:n}},i3=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"componentNeighbor",void 0),h(this,"filler",void 0),h(this,"componentType",void 0),h(this,"component",void 0),h(this,"opened",!1),h(this,"dialog",void 0)},[{key:"open",value:function(i,a){var o=this;this.dialog=a,setTimeout(function(){o.componentType&&o.componentNeighbor&&(o.component=o.componentNeighbor.createComponent(o.componentType),o.component.instance.dialogData=i,o.component.instance.dialog=a,o.opened=!0)})}},{key:"close",value:function(){if(this.component){var i,a=this.component.instance.dialogData;return null===(i=this.dialog)||void 0===i||i.destroy(),this.opened=!1,a}return null}},{key:"onFillerClicked",value:function(i){this.filler&&this.filler.nativeElement===i.target&&this.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-dialog"]],viewQuery:function(r,i){var a;1&r&&(bt(n3,5,Nn),bt(t3,5)),2&r&&(Et(a=Dt())&&(i.componentNeighbor=a.first),Et(a=Dt())&&(i.filler=a.first))},decls:5,vars:3,consts:[["filler",""],["componentNeighbor",""],[1,"filler",3,"click","ngStyle"],[1,"wrapper"],[1,"componentNeighbor"]],template:function(r,i){if(1&r){var a=Lr();E(0,"div",2,0),se("click",function(s){return Ke(a),$e(i.onFillerClicked(s))}),E(2,"div",3),Qe(3,"div",4,1),D()()}2&r&&Q("ngStyle",Mn(1,r3,i.opened?"flex":"none"))},dependencies:[uo],styles:["@keyframes _ngcontent-%COMP%_animateFillerDialog{0%{background-color:#0000}to{background-color:#0007}}@keyframes _ngcontent-%COMP%_animateWrapperDialog{0%{transform:scale(0)}to{transform:scale(1)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;background-color:#0007;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_animateFillerDialog .1s ease-in-out;overflow:auto}.wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:16px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperDialog .1s ease-in-out}.componentNeighbor[_ngcontent-%COMP%]{display:none}"]})),n}(),a3=function(){return m(function e(n,t){y(this,e),h(this,"dialogComponentRef",void 0),h(this,"componentType",void 0),h(this,"dialogComponent",void 0),this.dialogComponentRef=n,this.componentType=t,this.dialogComponent=this.dialogComponentRef.instance,this.dialogComponent.componentType=t},[{key:"open",value:function(t){this.dialogComponent.open(t,this)}},{key:"close",value:function(){return this.dialogComponent.close()}},{key:"destroy",value:function(){this.dialogComponentRef.destroy()}}])}(),tu=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"rootViewContainerRef",void 0)},[{key:"createDialog",value:function(i){if(!this.rootViewContainerRef)return null;var a=this.rootViewContainerRef.createComponent(i3);return new a3(a,i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",he({token:e,factory:e.\u0275fac,providedIn:"root"})),n}();function o3(e,n){if(1&e&&(E(0,"span"),I(1," von "),E(2,"span",7),I(3),D()()),2&e){var t=en();O(3),nn(t.canvasElement.description[1]())}}var s3=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=M(this,r),"dialogService",void 0),h(a,"canvasElement",void 0),a.dialogService=i,a}return k(r,t),m(r,[{key:"elementCountStr",get:function(){var a=this.canvasElement.size;return 0===a?"Keine Elemente":1===a?"Ein Element":"".concat(a," Elemente")}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(tu))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-dependency-point-element-formula"]],features:[fe],decls:10,vars:5,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[4,"ngIf"],[1,"elementCount"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"maths"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return j(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return j(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"p",2),I(3),Fn(4,o3,4,1,"span",3),E(5,"span",4),I(6),D()(),E(7,"button",5),se("click",function(o){return i.threePointsClicked(o)}),E(8,"span",6),I(9,"more_vert"),D()()()),2&r&&(O(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(2),pr(" ",i.canvasElement.description[0],""),O(),Q("ngIf",void 0!==i.canvasElement.description[1]()),O(2),nn(i.elementCountStr))},dependencies:[so,$i],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.elementCount[_ngcontent-%COMP%]{font-size:10pt;color:gray;margin-left:7px}']})),n}(),Tn=function(e){function n(t,r){var i;return y(this,n),h(i=M(this,n),"str",void 0),i.str=r,i.operation=t,i}return k(n,e),m(n,[{key:"operation",get:function(){return this.childOperations.getItem(0)},set:function(r){this.childOperations.setItem(0,r)}},{key:"simplify",value:function(){return this.operation=this.operation.simplify(),this}},{key:"toString",value:function(){return"".concat(this.str,"(").concat(this.operation.toString(),")")}}])}(zn),fi=function(e){function n(){var t,r;y(this,n),h(r=M(this,n),"_summands",void 0);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r._summands=a,(t=r.childOperations).push.apply(t,a),r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var o,i=0,a=x(this._summands);try{for(a.s();!(o=a.n()).done;)i+=o.value.evaluate(r)}catch(u){a.e(u)}finally{a.f()}return i}},{key:"derive",value:function(r){return Je(n,V(this._summands.map(function(i){return i.derive(r)})))}},{key:"summands",get:function(){return this._summands.slice()}},{key:"toString",value:function(){if(0==this._summands.length)return"0";for(var r="(".concat(this._summands[0].toString()),i=1;i<this._summands.length;i++)r+=" + ".concat(this._summands[i].toString());return r+")"}},{key:"simplify",value:function(){var r=0,i=this._summands.map(function(l){return l.simplify()}).filter(function(l){return!(l instanceof Ce&&(r+=l.constant,1))});if(0!=r&&(i=[new Ce(r)].concat(V(i))),0==i.length)return new Ce(0);if(1==i.length)return i[0];var s,a=[],o=x(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;u instanceof n?a.push.apply(a,V(u._summands)):a.push(u)}}catch(l){o.e(l)}finally{o.f()}return a.length!=i.length?Je(n,a).simplify():Je(n,V(i))}}])}(zn),po=function(e){function n(t,r){var i;return y(this,n),h(i=M(this,n),"minuend",void 0),h(i,"subtrahend",void 0),i.minuend=t,i.subtrahend=r,i.childOperations.push(i.minuend,i.subtrahend),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.minuend.evaluate(r)-this.subtrahend.evaluate(r)}},{key:"derive",value:function(r){return new n(this.minuend.derive(r),this.subtrahend.derive(r))}},{key:"toString",value:function(){return"(".concat(this.minuend.toString()," - ").concat(this.subtrahend.toString(),")")}},{key:"simplify",value:function(){var r=this.minuend.simplify(),i=this.subtrahend.simplify();if(i instanceof Ce){if(0==i.constant)return r;if(r instanceof Ce)return new Ce(r.constant-i.constant).simplify()}return r instanceof Ce&&0==r.constant?new Xe(new Ce(-1),i).simplify():r instanceof fi?Je(fi,V(r.summands).concat([new Xe(new Ce(-1),i)])).simplify():i instanceof fi?new fi(r,Je(fi,V(i.summands.map(function(a){return new Xe(new Ce(-1),a)})))).simplify():new n(r,i)}}])}(zn),YM=function(e){function n(t){return y(this,n),M(this,n,[t,"ln"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.log(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Qi(this.operation.derive(r),this.operation)}},{key:"toString",value:function(){return"ln (".concat(this.operation.toString(),")")}},{key:"simplify",value:function(){var r=this.operation.simplify();if(r instanceof Ce){if(1==r.constant)return new Ce(0);if(r.constant==Math.E)return new Ce(1)}return new n(r)}}])}(Tn),br=function(e){function n(t,r){var i;return y(this,n),h(i=M(this,n),"base",void 0),h(i,"exponent",void 0),i.base=t,i.exponent=r,i.childOperations.push(i.base,i.exponent),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.pow(this.base.evaluate(r),this.exponent.evaluate(r))}},{key:"derive",value:function(r){return new Xe(new n(this.base,this.exponent),new fi(new Xe(this.exponent.derive(r),new YM(this.base)),new Xe(this.exponent,new Qi(this.base.derive(r),this.base))))}},{key:"toString",value:function(){return"((".concat(this.base.toString(),") ^ (").concat(this.exponent.toString(),"))")}},{key:"simplify",value:function(){var r=this.base.simplify(),i=this.exponent.simplify();if(i instanceof Ce){if(1==i.constant)return r;if(0==i.constant)return new Ce(1)}return r instanceof Ce&&1==r.constant?new Ce(1):r instanceof n?new n(r.base,new Xe(r.exponent,i)).simplify():new n(r,i)}}])}(zn),Qi=function(e){function n(t,r){var i;return y(this,n),h(i=M(this,n),"dividend",void 0),h(i,"divisor",void 0),i.dividend=t,i.divisor=r,i.childOperations.push(i.dividend,i.divisor),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.dividend.evaluate(r)/this.divisor.evaluate(r)}},{key:"derive",value:function(r){return new n(new po(new Xe(this.dividend.derive(r),this.divisor),new Xe(this.dividend,this.divisor.derive(r))),new br(this.divisor,new Ce(2)))}},{key:"toString",value:function(){return"(".concat(this.dividend.toString()," / ").concat(this.divisor.toString(),")")}},{key:"simplify",value:function(){var r=this.dividend.simplify(),i=this.divisor.simplify();if(i instanceof Ce&&1==i.constant)return r;if(r instanceof Ce&&0==r.constant)return new Ce(0);if(r instanceof n)return new n(r.dividend,new Xe(r.divisor,i)).simplify();if(i instanceof n)return new n(new Xe(r,i.divisor),i.dividend).simplify();if(i instanceof xt&&r instanceof Xe)for(var a=r.factors,o=0;o<a.length;o++){var s=a[o];if(s instanceof xt&&s.key===i.key)return a.splice(o,1),Je(Xe,V(a)).simplify();if(s instanceof br&&s.base instanceof xt&&s.base.key===i.key)return a.splice(o,1,new br(s.base,new po(s.exponent,new Ce(1)))),Je(Xe,V(a)).simplify()}if(i instanceof br&&i.base instanceof xt&&r instanceof Xe)for(var u=r.factors,l=0;l<u.length;l++){var c=u[l];if(c instanceof xt&&c.key===i.base.key)return u.splice(l,1,new br(i.base,new po(new Ce(1),i.exponent))),Je(Xe,V(u)).simplify();if(c instanceof br&&c.base instanceof xt&&c.base.key===i.base.key)return u.splice(l,1,new br(c.base,new po(c.exponent,i.exponent))),Je(Xe,V(u)).simplify()}return new n(r,i)}}])}(zn),Xe=function(e){function n(){var t,r;y(this,n),h(r=M(this,n),"_factors",void 0);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r._factors=a,(t=r.childOperations).push.apply(t,a),r}return k(n,e),m(n,[{key:"evaluate",value:function(r){var o,i=1,a=x(this._factors);try{for(a.s();!(o=a.n()).done;)i*=o.value.evaluate(r)}catch(u){a.e(u)}finally{a.f()}return i}},{key:"derive",value:function(r){for(var i=this,a=[],o=function(l){var c=i._factors.map(function(d,f){return f==l?d.derive(r):d});a.push(Je(n,V(c)))},s=0;s<this._factors.length;s++)o(s);return Je(fi,a)}},{key:"factors",get:function(){return this._factors.slice()}},{key:"toString",value:function(){if(0==this._factors.length)return"1";for(var r="(".concat(this._factors[0].toString()),i=1;i<this._factors.length;i++)r+=" * ".concat(this._factors[i].toString());return r+")"}},{key:"simplify",value:function(){var r=1,i=this._factors.map(function(d){return d.simplify()}).filter(function(d){return!(d instanceof Ce&&(r*=d.constant,1))});if(1!==r&&(i=[new Ce(r)].concat(V(i))),Bw(i,function(d){return d instanceof Ce&&0==d.constant}))return new Ce(0);if(0===i.length)return new Ce(1);if(1===i.length)return i[0];for(var a=0;a<i.length;a++){var o=i[a];if(o instanceof Qi)return i.splice(a,1,o.dividend),new Qi(Je(n,V(i)),o.divisor).simplify()}var l,s=[],u=x(i);try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof n?s.push.apply(s,V(c._factors)):s.push(c)}}catch(d){u.e(d)}finally{u.f()}return s.length!==i.length?Je(n,s).simplify():Je(n,V(i))}}])}(zn),Xi=function(e){function n(t,r,i){var a;return y(this,n),h(a=M(this,n,[i,t]),"funcKey",void 0),h(a,"funcProvider",void 0),a.funcKey=t,a.funcProvider=r,a}return k(n,e),m(n,[{key:"derive",value:function(r){return new Xe(this.operation.derive(r),new n(function u3(e){return e+"'"}(this.funcKey),this.funcProvider,this.operation))}},{key:"evaluate",value:function(r){var i=this.func;if(void 0===i)throw"Func doesn't exist!";return i.evaluate(this.operation.evaluate(r),function KH(e){return JSON.parse(JSON.stringify(e))}(r))}},{key:"func",get:function(){return this.funcProvider(this.funcKey)}}])}(Tn),KM="'";function Xg(e){var n=[],t=[];if(e instanceof xt&&n.push(e.key),e instanceof Xi){var r,i=null===(r=e.func)||void 0===r?void 0:r.name;void 0!==i&&t.push(i)}return e.childOperations.forEach(function(a){var o,s,u=Xg(a);(o=n).push.apply(o,V(u.variableNames)),(s=t).push.apply(s,V(u.externalFuncNames))}),n=Hw(n),t=Hw(t),{variableNames:n,externalFuncNames:t}}function $M(e){return Kc(e,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}function Kc(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof co)return Kc(e.operation,n);if(e instanceof Xi&&(e.funcKey===n.name||t&&$c(e.funcKey)===$c(n.name)))return!0;var r=!1;if(e.childOperations.forEach(function(a){r=r||Kc(a,n)}),e instanceof Xi){var i=e.func;void 0!==i&&(r=r||Kc(i,n))}return r}function Er(e,n){if(void 0===e)return!1;if(e instanceof co)return Er(e.operation,n);if(e instanceof xt&&e.key===n)return!0;var t=!1;return e.childOperations.forEach(function(r){t=t||Er(r,n)}),e instanceof Xi&&(t=t||Er(e.func,n)),t}function $c(e){if(e){for(var n=e;n.endsWith(KM);)n=n.substring(0,n.length-1);return n}}function Qc(e){for(var n=0,t=e;t.endsWith(KM);)t=t.substring(0,t.length-1),n++;return n}function ru(e,n,t,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=(t+r)/2,l=(r-t)/2;if(i<=0)try{var c=[],d=e.evaluate(t,n),f=e.evaluate(r,n);if(!s&&0===d&&(!a||e.evaluate(t-l,n)*e.evaluate(t+l,n)<0)&&c.push(t),0===f&&(!a||e.evaluate(r-l,n)*e.evaluate(r+l,n)<0)&&c.push(r),d*f<0&&isFinite(d)&&isFinite(f))if(o){var v=function c3(e){try{var n=e.derive();return $M(n),n}catch{return}}(e);(!v||d*v.evaluate(t,n)<=0&&f*v.evaluate(r,n)>=0)&&c.push(u)}else c.push(u);return c}catch{return[]}return[].concat(V(ru(e,n,t,u,i-1,a,o,s)),V(ru(e,n,u,r,i-1,a,o,!0)))}function XM(e,n,t,r,i){return ru(e.derive(),n,t,r,i,!0)}var iu=[10,10],g3=function(){return m(function e(n,t,r,i,a){y(this,e),h(this,"ctx",void 0),h(this,"transformations",void 0),h(this,"_variables",void 0),h(this,"selection",void 0),h(this,"config",void 0),this.ctx=n,this.transformations=t,this._variables=r,this.selection=i,this.config=a},[{key:"transformPointFromCanvasToField",value:function(t){return{x:t.x/this.transformations.zoom-this.transformations.translateX,y:-t.y/this.transformations.zoom-this.transformations.translateY}}},{key:"transformPointFromFieldToCanvas",value:function(t){return{x:(t.x+this.transformations.translateX)*this.transformations.zoom,y:-(t.y+this.transformations.translateY)*this.transformations.zoom}}},{key:"transformRectFromCanvasToField",value:function(t){var r=this.transformPointFromCanvasToField(t);return{x:r.x,y:r.y,width:t.width/this.transformations.zoom,height:-t.height/this.transformations.zoom}}},{key:"transformRectFromFieldToCanvas",value:function(t){var r=this.transformPointFromFieldToCanvas(t);return{x:r.x,y:r.y,width:t.width*this.transformations.zoom,height:-t.height*this.transformations.zoom}}},{key:"zoom",get:function(){return this.transformations.zoom}},{key:"step",get:function(){return 1/this.transformations.zoom}},{key:"range",get:function(){return this.transformRectFromCanvasToField({x:0,y:0,width:this.ctx.canvas.width,height:this.ctx.canvas.height})}},{key:"variables",get:function(){return re({},this._variables)}},{key:"getRightColor",value:function(t){var r;return void 0===(null===(r=this.config)||void 0===r?void 0:r.transformColor)?t:this.config.transformColor(t)}},{key:"drawPath",value:function(t,r,i,a,o){var s=this,u=t.map(function(f){return s.transformPointFromFieldToCanvas(f)});if(this.ctx.beginPath(),this.ctx.lineWidth=r,this.ctx.strokeStyle=et(this.getRightColor(i)),this.ctx.setLineDash(o?iu:[]),0!=u.length){var l=u[0];this.ctx.moveTo(l.x,l.y);for(var c=1;c<u.length;c++){var d=u[c];this.ctx.lineTo(d.x,d.y)}this.ctx.stroke(),a&&(this.ctx.fillStyle=et(this.getRightColor(a)),this.ctx.fill()),this.ctx.closePath()}}},{key:"drawLine",value:function(t,r,i,a,o){this.drawPath([t,r],i,a,void 0,o)}},{key:"drawText",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sans-serif",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"start",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"alphabetic",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"inherit",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{r:0,g:0,b:0},c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:yr,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3,f=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,g=this.transformPointFromFieldToCanvas(r),p=this.ctx;this.ctx.setLineDash(f?iu:[]);for(var C=[],b="",_=0;_<t.length;_++)"_"===t.charAt(_)&&_+1<t.length&&!v?(C.push(b),b="",C.push(t.charAt(_+1)),_++):b+=t.charAt(_);""!==b&&C.push(b),p.textAlign=o,p.textBaseline=s,p.direction=u,p.fillStyle=et(this.getRightColor(l)),p.strokeStyle=et(this.getRightColor(c)),p.lineWidth=d;for(var S=g.x,P=0;P<C.length;P++){var B=C[P],R=g.y;P%2==0?p.font="".concat(i,"px ").concat(a):(p.font="".concat(3*i/4,"px ").concat(a),R+=i/3),p.strokeText(B,S,R),p.fillText(B,S,R),S+=p.measureText(B).width+1}}},{key:"measureText",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sans-serif",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"start",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"alphabetic",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"inherit",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,l=this.ctx;return l.font="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,"px ").concat(i),l.textAlign=a,l.textBaseline=o,l.direction=s,l.lineWidth=u,l.measureText(t)}},{key:"drawEllipse",value:function(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jn,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yr,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.ctx.setLineDash((arguments.length>7?arguments[7]:void 0)?iu:[]),this.ctx.lineWidth=u,this.ctx.strokeStyle=et(this.getRightColor(s)),this.ctx.fillStyle=et(this.getRightColor(o));var c=this.transformPointFromFieldToCanvas(t),d=r*this.zoom,f=i*this.zoom;this.ctx.beginPath(),this.ctx.ellipse(c.x,c.y,d,f,a,0,2*Math.PI),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}},{key:"drawCircle",value:function(t,r){this.drawEllipse(t,r,r,0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn,arguments.length>3&&void 0!==arguments[3]?arguments[3]:yr,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5?arguments[5]:void 0)}},{key:"drawCircleSector",value:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yr,s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;this.ctx.lineWidth=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,this.ctx.strokeStyle=et(this.getRightColor(a)),this.ctx.fillStyle=et(this.getRightColor(i));var c=this.transformPointFromFieldToCanvas(t),d=r*this.zoom;this.ctx.setLineDash(l?iu:[]),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(c.x,c.y),this.ctx.arc(c.x,c.y,d,s,u),this.ctx.lineTo(c.x,c.y),this.ctx.stroke(),this.ctx.fill(),this.ctx.closePath()}},{key:"drawRect",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.ctx.setLineDash((arguments.length>4?arguments[4]:void 0)?iu:[]),this.ctx.lineWidth=a,this.ctx.strokeStyle=et(this.getRightColor(i)),this.ctx.fillStyle=et(this.getRightColor(r));var s=this.transformRectFromFieldToCanvas(t);this.ctx.fillRect(s.x,s.y,s.width,s.height)}},{key:"drawImage",value:function(t,r,i,a){var o=this.transformPointFromFieldToCanvas(r);this.ctx.drawImage(t,o.x,o.y,i,a)}}])}(),p3=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"draw",value:function(r){var i;if(void 0===(null===(i=r.config)||void 0===i?void 0:i.showGrid)||r.config.showGrid){var a,o,s,u,l=Jt(r.range),c=99/r.zoom,f=Math.round(Math.log(c)/Math.log(2)+.5),v=Math.round(c/Math.pow(2,f)+.5)*Math.pow(2,f);if(0==v)return;for(var g=null===(a=null===(o=r.config)||void 0===o?void 0:o.showNumbers)||void 0===a||a,p=15/r.zoom,C=Vw(l.y+p,-p,l.y+l.height-p),b=C==l.y+p,_=Vw(l.x+p,-p,l.x+l.width-p),w=_==l.x+p,P="sans-serif",B=null!==(s=null===(u=r.config)||void 0===u?void 0:u.gridColor)&&void 0!==s?s:{r:100,g:100,b:100},R=l.x-l.x%(v/2);R<l.x+l.width;R+=v/2){var Y=R%v==0;if(r.drawLine({x:R,y:l.y},{x:R,y:l.y+l.height},0===R?3:Y?1:.5,B),0===R){var J=15/r.zoom,ve=.5/r.zoom;r.drawPath([{x:R+ve,y:l.y+l.height+3/r.zoom},{x:R-J/4+ve,y:l.y+l.height-J},{x:R+J/4+ve,y:l.y+l.height-J}],0,B,B)}else Y&&g&&r.drawText(R.toLocaleString(),{x:R,y:C},15,P,"center",b?"bottom":"top")}for(var de=l.y-l.y%(v/2);de<l.y+l.height;de+=v/2){var De=de%v==0;if(r.drawLine({x:l.x,y:de},{x:l.x+l.width,y:de},0===de?3:De?1:.5,B),0===de){var Ne=15/r.zoom,sn=.5/r.zoom;r.drawPath([{x:l.x+l.width+3/r.zoom,y:de+sn},{x:l.x+l.width-Ne,y:de-Ne/4+sn},{x:l.x+l.width-Ne,y:de+Ne/4+sn}],0,B,B)}else De&&g&&r.drawText(de.toLocaleString(),{x:_,y:de},15,P,w?"left":"right","middle")}l.y<=-p&&l.y+l.height>=-p&&l.x<=-p&&l.x+l.width>=-p&&g&&r.drawText("0",{x:-p,y:-p},15,P,"right","top")}}}])}(Aw),m3=function(e){function n(t,r){var i;return y(this,n),h(i=M(this,n),"value",void 0),h(i,"modulo",void 0),i.value=t,i.modulo=r,i.childOperations.push(i.value,i.modulo),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return this.value.evaluate(r)%this.modulo.evaluate(r)}},{key:"derive",value:function(){throw"not implemented yet"}},{key:"toString",value:function(){return"(".concat(this.value.toString()," % ").concat(this.modulo.toString(),")")}},{key:"simplify",value:function(){return new n(this.value.simplify(),this.modulo.simplify())}}])}(zn),Jg=function(e){function n(t){return y(this,n),M(this,n,[t,"cos"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.cos(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xe(new Ce(-1),this.operation.derive(r),new JM(this.operation))}},{key:"toString",value:function(){return"cos(".concat(this.operation.toString(),")")}}])}(Tn),JM=function(e){function n(t){return y(this,n),M(this,n,[t,"sin"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.sin(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xe(this.operation.derive(r),new Jg(this.operation))}}])}(Tn),y3=function(e){function n(t){return y(this,n),M(this,n,[t,"tan"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.tan(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Qi(this.operation.derive(r),new br(new Jg(this.operation),new Ce(2)))}}])}(Tn),_3=function(e){function n(t){return y(this,n),M(this,n,[t,"sec"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.cos(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),C3=function(e){function n(t){return y(this,n),M(this,n,[t,"csc"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.sin(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),b3=function(e){function n(t){return y(this,n),M(this,n,[t,"cot"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return 1/Math.tan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),E3=function(e){function n(t){return y(this,n),M(this,n,[t,"asin"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.asin(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),D3=function(e){function n(t){return y(this,n),M(this,n,[t,"acos"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.acos(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),w3=function(e){function n(t){return y(this,n),M(this,n,[t,"atan"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.atan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),M3=function(e){function n(t){return y(this,n),M(this,n,[t,"asec"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.acos(1/this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),k3=function(e){function n(t){return y(this,n),M(this,n,[t,"acsc"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.asin(1/this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),S3=function(e){function n(t){return y(this,n),M(this,n,[t,"acot"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.PI/2-Math.atan(this.operation.evaluate(r))}},{key:"derive",value:function(){throw"not implemented yet"}}])}(Tn),I3=function(e){function n(t,r){var i;return y(this,n),h(i=M(this,n),"base",void 0),h(i,"exponent",void 0),i.base=t,i.exponent=r,i.childOperations.push(i.base,i.exponent),i}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.pow(this.base.evaluate(r),1/this.exponent.evaluate(r))}},{key:"derive",value:function(r){return new br(this.base,new Qi(new Ce(1),this.exponent)).derive(r)}},{key:"toString",value:function(){return"((".concat(this.base.toString(),") ^ (1 / (").concat(this.exponent.toString(),")))")}},{key:"simplify",value:function(){var r=this.base.simplify(),i=this.exponent.simplify();return i instanceof Ce&&1==i.constant?r:r instanceof Ce&&1==r.constant?new Ce(1):new n(r,i)}}])}(zn),T3=function(e){function n(){return y(this,n),M(this,n,[Math.PI])}return k(n,e),m(n,[{key:"toString",value:function(){return"pi"}}])}(Ce),P3=function(e){function n(){return y(this,n),M(this,n,[Math.E])}return k(n,e),m(n,[{key:"toString",value:function(){return"e"}}])}(Ce),O3=function(e){function n(t){return y(this,n),M(this,n,[t,"abs"])}return k(n,e),m(n,[{key:"derive",value:function(){throw"not implemented yet"}},{key:"evaluate",value:function(r){return Math.abs(this.operation.evaluate(r))}}])}(Tn),A3=function(e){function n(t){return y(this,n),M(this,n,[t,"sgn"])}return k(n,e),m(n,[{key:"derive",value:function(){throw"not implemented yet"}},{key:"evaluate",value:function(r){return Math.sign(this.operation.evaluate(r))}}])}(Tn),ek=function(e){function n(t){return y(this,n),M(this,n,[t,"cosh"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.cosh(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xe(this.operation.derive(r),new nk(this.operation))}}])}(Tn),nk=function(e){function n(t){return y(this,n),M(this,n,[t,"sinh"])}return k(n,e),m(n,[{key:"evaluate",value:function(r){return Math.sinh(this.operation.evaluate(r))}},{key:"derive",value:function(r){return new Xe(this.operation.derive(r),new ek(this.operation))}}])}(Tn),tk=[["^",function(e,n){return new br(e,n)}]],rk=[["*",function(e,n){return new Xe(e,n)}],["/",function(e,n){return new Qi(e,n)}],["%",function(e,n){return new m3(e,n)}]],ik=[["+",function(e,n){return new fi(e,n)}],["-",function(e,n){return new po(e,n)}]],ak=[].concat(tk,rk,ik),x3=tk.map(function(e){return e[0]}),N3=rk.map(function(e){return e[0]}),F3=ik.map(function(e){return e[0]}),mo=ak.map(function(e){return e[0]}),R3=[["sin",function(e){return new JM(e)}],["asin",function(e){return new E3(e)}],["csc",function(e){return new C3(e)}],["acsc",function(e){return new k3(e)}],["cos",function(e){return new Jg(e)}],["acos",function(e){return new D3(e)}],["sec",function(e){return new _3(e)}],["asec",function(e){return new M3(e)}],["tan",function(e){return new y3(e)}],["atan",function(e){return new w3(e)}],["cot",function(e){return new b3(e)}],["acot",function(e){return new S3(e)}],["ln",function(e){return new YM(e)}],["sqrt",function(e){return new I3(e,new Ce(2))}],["abs",function(e){return new O3(e)}],["sgn",function(e){return new A3(e)}],["sinh",function(e){return new nk(e)}],["cosh",function(e){return new ek(e)}]],L3=[["pi",function(){return new T3}],["e",function(){return new P3}]],au=[" ","\t","\r","\n"],vi=["(","["],Xc=[")","]"],Jc=[].concat(vi,Xc),ok=[].concat(au,V(mo),V(Jc)),V3=[["**","^"],["\xb2","^2"],["\xb3","^3"]],B3=[["arcsin","asin"],["arccos","acos"],["arctan","atan"],["arcsec","asec"],["arccsc","acsc"],["arccot","acot"],["sign","sgn"]],H3=[["\u03c0","pi"]],Ur="syntax error",sk=function(){return m(function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];y(this,e),h(this,"str",void 0),h(this,"funcProvider",void 0),h(this,"changingVariables",void 0),h(this,"formattedString",void 0),h(this,"stringSplit",void 0),h(this,"parseTree",void 0),h(this,"operation",void 0),this.str=n,this.funcProvider=t,this.changingVariables=r},[{key:"formatString",value:function(){if(!this.formattedString){this.formattedString=this.str.trim();for(var t=0,r=V3;t<r.length;t++){var i=r[t];this.formattedString=UH(this.formattedString,i[0],i[1])}}return this.formattedString}},{key:"splitString",value:function(){if(!this.stringSplit){if(!this.formattedString)throw"string not formatted yet";this.stringSplit=[];for(var t="",r=0;r<this.formattedString.length;r++){var i=!1,a=this.formattedString.charAt(r);(-1!==[].concat(V(mo),au,V(Jc)).indexOf(a)||-1!==[].concat(V(mo),V(Jc)).indexOf(t)||$s(t)&&!$s(t+a))&&(i=!0),i&&""!==t&&(this.stringSplit.push(t),t=""),-1===au.indexOf(a)&&(t+=a)}""!=t&&this.stringSplit.push(t);for(var o=0;o<this.stringSplit.length-1;o++)o+1==this.stringSplit.length||Gn(vi,this.stringSplit[o])||Gn(Xc,this.stringSplit[o+1])||Gn(vi,this.stringSplit[o+1])&&!Gn(Xc,this.stringSplit[o])&&!$s(this.stringSplit[o])||Gn(mo,this.stringSplit[o])||Gn(mo,this.stringSplit[o+1])||$s(this.stringSplit[o+1])?"+"!=this.stringSplit[o]||0!=o&&!Gn(vi,this.stringSplit[o-1])?"-"==this.stringSplit[o]&&(0==o||Gn(vi,this.stringSplit[o-1]))&&this.stringSplit.splice(o,1,"-1","*"):(this.stringSplit.splice(o,1),o--):this.stringSplit.splice(o+1,0,"*")}return this.stringSplit}},{key:"parseToTree",value:function(){if(!this.parseTree){if(!this.stringSplit)throw"string not split yet";this.parseTree=function r(i){if(0==i.length)throw Ur;if(1==i.length){var a=i[0];if("string"==typeof a){if(!Gn(ok,a))return{value:Uw(a,H3)};throw Ur}return a}for(var o=V(i);Gn.apply(void 0,[o].concat(vi));){var s=Mg.apply(void 0,[o].concat(vi)),u=qH(o,vi,Xc,s,Ur)+1,l=o.splice(s,u-s);o.splice(s,0,r(l.splice(1,u-s-2)))}for(var c=function(B,R){return"string"==typeof B&&"string"!=typeof R&&!Gn(ok,B)};GH(o,c);){var d=zH(o,c);if(d==o.length-1)throw Ur;var f=Uw(o[d],B3),v=o[d+1];if(Gn(Jc,v)||Gn(mo,v))throw Ur;o.splice(d,2,{value:f,first:r([v])})}for(var g=0,p=[x3,N3,F3];g<p.length;g++)for(var C=p[g];Gn.apply(void 0,[o].concat(V(C)));){var b=Mg.apply(void 0,[o].concat(V(C)));if(-1==b||0==b||b==o.length-1)throw Ur;var _=o.splice(b-1,3),w={value:_[1],first:r([_[0]]),second:r([_[2]])};o.splice(b-1,0,w)}if(1==o.length){var S=o[0];if("string"!=typeof S)return S}throw Ur}(this.stringSplit)}return this.parseTree}},{key:"createOperation",value:function(){var t=this;if(!this.operation){if(!this.parseTree)throw"tree not created yet";this.operation=function i(a){if(void 0!==a.first&&void 0!==a.second){var s,o=x(ak);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(a.value===u[0])return u[1](i(a.first),i(a.second))}}catch(b){o.e(b)}finally{o.f()}}else{if(void 0!==a.first&&void 0===a.second){for(var l=0,c=R3;l<c.length;l++){var d=c[l];if(a.value===d[0])return d[1](i(a.first))}return new Xi(a.value,t.funcProvider,i(a.first))}if(void 0===a.first&&void 0===a.second){if($s(a.value))return new Ce(Rw(a.value));for(var f=0;f<t.changingVariables.length;f++)if(t.changingVariables[f]===a.value)return new xt(a.value,f);for(var g=0,p=L3;g<p.length;g++){var C=p[g];if(a.value===C[0])return C[1]()}return new xt(a.value)}}throw Ur}(this.parseTree)}return this.operation}},{key:"parse",value:function(){return this.formatString(),this.splitString(),this.parseToTree(),this.createOperation()}}])}(),uk="couldn't split the function",ep=["="],U3=function(){return m(function e(n,t){y(this,e),h(this,"str",void 0),h(this,"funcProvider",void 0),h(this,"funcMetaData",void 0),h(this,"funcOperation",void 0),h(this,"func",void 0),this.str=n,this.funcProvider=t},[{key:"splitString",value:function(){if(!this.funcOperation||!this.funcMetaData)if(Nc.apply(void 0,[this.str].concat(ep))){var t=Lw.apply(void 0,[this.str].concat(ep)),r=this.str.slice(0,t).trim(),i=this.str.slice(t+1,this.str.length);if(Nc.apply(void 0,[i].concat(ep))||0===r.length)throw uk;if(this.funcOperation=i,"y"==r)this.funcMetaData={variable:"x"};else{var a=r.split(/(\(|\))/).map(function(o){return o.trim()}).filter(function(o){return""!==o});if(4!==a.length||Nc.apply(void 0,[a[0]].concat(V(au)))||Nc.apply(void 0,[a[2]].concat(V(au)))||"("!=a[1]||")"!=a[3]||0===a[0].length||-1==="abcdefghijklmnopqrstuvwxyz_".indexOf(a[0].charAt(0).toLowerCase()))throw uk;this.funcMetaData={name:a[0],variable:a[2]}}}else this.funcOperation=this.str,this.funcMetaData={variable:"x"};return[this.funcMetaData,this.funcOperation]}},{key:"parseOperation",value:function(){if(this.funcOperation&&this.funcMetaData){if(!this.func){var r=new sk(this.funcOperation,this.funcProvider,[this.funcMetaData.variable]).parse();this.func=new co(r,this.funcMetaData.name,this.funcMetaData.variable)}return this.func}throw"func not split yet!"}},{key:"parse",value:function(){return this.splitString(),this.parseOperation()}}])}(),np=function(){return m(function e(){y(this,e),h(this,"dict",void 0);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];this.dict=t},[{key:"getItem",value:function(t){var i,r=x(this.dict);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a[0]===t)return a[1]}}catch(o){r.e(o)}finally{r.f()}}},{key:"setItem",value:function(t,r){for(var i=0;i<this.dict.length;i++)if(this.dict[i][0]===t)return void(this.dict[i][1]=r);this.dict.push([t,r])}},{key:"delItem",value:function(t){var r=this.indexOfKey(t);return r>=0&&(this.dict.splice(r,1),!0)}},{key:"hasKey",value:function(t){var i,r=x(this.dict);try{for(r.s();!(i=r.n()).done;)if(i.value[0]===t)return!0}catch(o){r.e(o)}finally{r.f()}return!1}},{key:"indexOfKey",value:function(t){for(var r=0;r<this.dict.length;r++)if(this.dict[r][0]===t)return r;return-1}},{key:"keys",get:function(){return this.dict.map(function(t){return t[0]})}},{key:"values",get:function(){return this.dict.map(function(t){return t[1]})}},{key:"empty",value:function(){this.dict=[]}},{key:"size",get:function(){return this.dict.length}}])}(),j3=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"_canvasElement",void 0),h(i,"min",-5),h(i,"max",5),i._canvasElement=new yo("",0),i}return k(r,t),m(r,[{key:"ngOnInit",value:function(){}},{key:"canvasElement",get:function(){return this._canvasElement},set:function(a){var o=this;this._canvasElement=a,a.onChange.addListener(function(){o.setMinMax(o.canvasElement.value)})}},{key:"setMinMax",value:function(a){this.min=Math.min(a,this.min),this.max=Math.max(a,this.max)}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-variable-formula"]],features:[fe],decls:8,vars:5,consts:[[1,"text"],[1,"span"],["type","number","step","any",1,"input",3,"ngModelChange","ngModel"],[1,"iconButton","floatRight",3,"click"],[1,"material-symbols-outlined"],["type","range","step","any",1,"slider",3,"ngModelChange","ngModel","min","max"]],template:function(r,i){1&r&&(E(0,"span",0),I(1),D(),E(2,"span",1)(3,"input",2),G("ngModelChange",function(o){return j(i.canvasElement.value,o)||(i.canvasElement.value=o),o}),D()(),E(4,"button",3),se("click",function(o){return i.threePointsClicked(o)}),E(5,"span",4),I(6,"more_vert"),D()(),E(7,"input",5),G("ngModelChange",function(o){return j(i.canvasElement.value,o)||(i.canvasElement.value=o),o}),D()),2&r&&(O(),pr("",i.canvasElement.key," = "),O(2),z("ngModel",i.canvasElement.value),O(4),z("ngModel",i.canvasElement.value),Q("min",i.min)("max",i.max))},dependencies:[pn,Mt,Zc,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.text[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{height:30px;font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.text[_ngcontent-%COMP%]{user-select:none}.span[_ngcontent-%COMP%]{--padding: 7px;--border: 1px;display:inline-flex;overflow:hidden;right:0;margin-right:0;padding-right:calc(2 * (var(--padding) + var(--border)))}.input[_ngcontent-%COMP%]{width:200px}.slider[_ngcontent-%COMP%]{width:100%;margin-top:16px}']})),n}(),yo=function(e){function n(t,r){var i;return y(this,n),h(i=M(this,n),"componentType",j3),h(i,"formulaDialogType",void 0),h(i,"_value",void 0),h(i,"_key",void 0),i._key=t,i._value=r,i.visible=!1,i}return k(n,e),m(n,[{key:"draw",value:function(){}},{key:"value",get:function(){return this._value},set:function(r){this._value=r,this.onChange.emit(r)}},{key:"key",get:function(){return this._key},set:function(r){this._key=r,this.onChange.emit(r)}},{key:"serialize",value:function(){return{data:{value:this.value,key:this.key},style:{color:this.color,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a=i.data;this.color=i.style.color,this.visible=i.style.visible,this.key=a.key,this.value=a.value}}],[{key:"getDefaultInstance",value:function(){return new n("",0)}}])}(Wi),z3=function(){return m(function e(){y(this,e),h(this,"_ts",[]),h(this,"onSelectionChanged",new dt)},[{key:"empty",value:function(){var t=this._ts;this._ts=[],this.onSelectionChanged.emit(t)}},{key:"set",value:function(t){this._ts=void 0!==t?[t]:[],this.onSelectionChanged.emit(t)}},{key:"add",value:function(t){return void 0!==t&&!this.contains(t)&&(this._ts.push(t),this.onSelectionChanged.emit(t),!0)}},{key:"remove",value:function(t){if(void 0===t)return!1;var r=this._ts.indexOf(t);return r>=0&&(this._ts.splice(r,1),this.onSelectionChanged.emit(t),!0)}},{key:"contains",value:function(t){return void 0===t||-1!==this._ts.indexOf(t)}},{key:"alternate",value:function(t){return void 0!==t&&(this.contains(t)?(this.remove(t),!1):(this.add(t),!0))}},{key:"toArray",value:function(){return this._ts.slice()}},{key:"size",get:function(){return this._ts.length}}])}(),G3=[{r:18,g:128,b:234},{r:214,g:78,b:78},{r:78,g:194,b:98},{r:88,g:88,b:224},{r:255,g:148,b:148},{r:255,g:234,b:38},{r:224,g:48,b:224},{r:48,g:224,b:224},{r:227,g:131,b:30},{r:180,g:180,b:30},{r:113,g:35,b:103}],W3=m(function e(){y(this,e),h(this,"transformInvisibleColor",void 0)}),jr=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){r.translateX+=(o.x-a.x)/s.pointerCount,r.translateY+=(o.y-a.y)/s.pointerCount}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey)}}])}(W3);function ed(e,n){if(void 0!==e&&void 0!==n){var t=n.y-e.y,r=e.x-n.x;return{a:t,b:r,c:t*e.x+r*e.y}}}function tp(e){if(void 0!==e&&(0!==e.a||0!==e.b))return 0===e.a?[{x:0,y:e.c/e.b},{x:1,y:e.c/e.b}]:[{x:e.c/e.a,y:0},{x:(e.c-e.b)/e.a,y:1}]}function rp(e,n){var t=e.b,r=-e.a;return{a:t,b:r,c:t*n.x+r*n.y}}function ou(e,n){if(void 0!==e&&void 0!==n)return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}function ip(e,n){var t,r=ed(e,n);return void 0===r||void 0===e||void 0===n?[void 0,void 0]:null!==(t=tp(rp(r,ou(e,n))))&&void 0!==t?t:[void 0,void 0]}function lk(e,n,t){if(void 0===e||void 0===n||void 0===t)return[[void 0,void 0],[void 0,void 0]];var i=ou(e,n),a=ap(n,t,i,ai(i,e));return[[e,a[0]],[e,a[1]]]}function _o(e,n){var t=e.b*n.a-e.a*n.b;if(0!==t){var i=(e.c*n.a-e.a*n.c)/t;return{y:i,x:0!==e.a?(e.c-e.b*i)/e.a:(n.c-n.b*i)/n.a}}}function nd(e,n,t){if(0===e.a){if(0===e.b)return[void 0,void 0];var a=nd({a:e.b,b:e.a,c:e.c},{x:n.y,y:n.x},t);return[void 0===a[0]?void 0:{x:a[0].y,y:a[0].x},void 0===a[1]?void 0:{x:a[1].y,y:a[1].x}]}var o=Math.pow(e.b/e.a,2)+1,s=-2*e.c*e.b/Math.pow(e.a,2)-2*n.y+2*e.b*n.x/e.a,u=Math.pow(e.c,2)/Math.pow(e.a,2)+Math.pow(n.x,2)+Math.pow(n.y,2)-Math.pow(t,2)-2*e.c*n.x/e.a,l=Math.pow(s,2)-4*o*u;if(l<0)return[void 0,void 0];if(0===l){var c=-s/(2*o);return[{x:(e.c-e.b*c)/e.a,y:c},void 0]}var d=(-s-Math.sqrt(l))/(2*o),f=(-s+Math.sqrt(l))/(2*o);return[{x:(e.c-e.b*d)/e.a,y:d},{x:(e.c-e.b*f)/e.a,y:f}]}function ap(e,n,t,r){var i=function(w){var S=Math.pow(n,2)-Math.pow(w,2);return S<0?[void 0,void 0]:0===S?[{x:0,y:w},void 0]:[{x:Math.sqrt(S),y:w},{x:-Math.sqrt(S),y:w}]},a=function(w){return void 0===w?Number.MAX_VALUE:Math.abs(Math.pow(w.x-t.x,2)+Math.pow(w.y-t.y,2)-r*r)};if(0!==e.x||0!==e.y)return ap({x:0,y:0},n,{x:t.x-e.x,y:t.y-e.y},r).map(function(_){if(void 0!==_)return{x:_.x+e.x,y:_.y+e.y}});var s=t.x,u=t.y,l=r*r-n*n-s*s-u*u,c=s*s*4+u*u*4,d=4*l*u,f=s*s*-4*(n*n)+l*l,v=Math.pow(d,2)-4*c*f;if(0===c||v<0)return[void 0,void 0];if(0===v)return[i(-d/(2*c)).sort(function(_,w){return a(_)-a(w)})[0],void 0];var b=[].concat(V(i((-d+Math.sqrt(v))/(2*c))),V(i((-d-Math.sqrt(v))/(2*c)))).sort(function(_,w){return a(_)-a(w)});return[b[0],b[1]]}function hi(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}var $3=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"abcForm",get:function(){var a=this.dialogData.getABCFormLine();if(void 0===a)return"kann nicht konstruiert werden";var o=Math.pow(10,2),s=Math.round(a.a*o)/o,u=Math.round(a.b*o)/o,l=Math.round(a.c*o)/o;return"".concat(s.toLocaleString()," \xb7 x + ").concat(u.toLocaleString()," \xb7 y = ").concat(l.toLocaleString())}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}}])}(go);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-abstract-line-element"]],features:[fe],decls:24,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),I(2,"Allgemeine Geradenform:"),D(),E(3,"p",2),Qe(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return j(i.name,o)||(i.name=o),o}),D(),I(6," : "),D(),E(7,"p",4)(8,"span"),I(9),D()(),E(10,"div",5)(11,"input",6),G("ngModelChange",function(o){return j(i.dashed,o)||(i.dashed=o),o}),D(),E(12,"label",7),I(13,"Gestrichelt anzeigen"),D()(),E(14,"div",8)(15,"input",9),G("ngModelChange",function(o){return j(i.latex,o)||(i.latex=o),o}),D(),E(16,"label",10),I(17,"Label als LaTeX rendern"),D()(),E(18,"div",11)(19,"input",12),G("ngModelChange",function(o){return j(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(20,"label",13),I(21,"Label schwarz anzeigen"),D()(),E(22,"button",14),se("click",function(){return i.dialog.close()}),I(23,"Schlie\xdfen"),D()()),2&r&&(O(5),z("ngModel",i.name),O(4),nn(i.abcForm),O(2),z("ngModel",i.dashed),O(4),z("ngModel",i.latex),O(4),z("ngModel",i.displayBlack))},dependencies:[pn,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}']})),n}(),Dr=function(e){function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:0,g:0,b:0},o=arguments.length>3?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return y(this,n),h(i=M(this,n,[r]),"lineWidth",void 0),h(i,"formulaDialogType",$3),h(i,"_pointsProvider",void 0),h(i,"_tempPoints",void 0),h(i,"resetTempListener",function(){i._tempPoints=void 0}),i.lineWidth=u,i.configuration.formula=o,i.configuration.showLabel=l,i._color=a,i._visible=s,i._pointsProvider=t,i}return k(n,e),m(n,[{key:"point1",get:function(){return void 0===this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[0]}},{key:"point2",get:function(){return null==this._tempPoints&&(this._tempPoints=this._pointsProvider()),this._tempPoints[1]}},{key:"pointsProvider",get:function(){return this._pointsProvider},set:function(r){this._pointsProvider=r,this.onChange.emit(r)}},{key:"getDistance",value:function(r,i){var a=this.getClosestPointOnLineToPoint(r);if(void 0!==a)return ai(r,a)}},{key:"getABCFormLine",value:function(){return ed(this.point1,this.point2)}},{key:"getClosestPointOnLineToPoint",value:function(r){var i=this.getABCFormLine();if(void 0!==i)return _o(i,rp(i,r))}}])}(Qg),td=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"canvasElement",void 0),i.canvasElement=new vt(function(){return[void 0,void 0]},[],function(){return{subType:"",els:[]}}),i}return k(r,t),m(r,[{key:"ngOnInit",value:function(){}},{key:"labelString",get:function(){var a=this.canvasElement.configuration.formula,o=this.canvasElement.configuration.label;return void 0!==o&&void 0!==a?a+" "+o:void 0!==o?o:void 0!==a?a:" "}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-geometric-formula"]],features:[fe],decls:8,vars:3,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return j(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return j(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),E(2,"p",2)(3,"span"),I(4),D()(),E(5,"button",3),se("click",function(o){return i.threePointsClicked(o)}),E(6,"span",4),I(7,"more_vert"),D()()()),2&r&&(O(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(3),nn(i.labelString))},dependencies:[$i],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize)}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;user-select:none;height:var(--buttonSize);line-height:var(--buttonSize)}']})),n}(),ft=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=M(this,n,[t,r,o,s,u,l,c]),"dataProvider",void 0),h(a,"componentType",td),a.dataProvider=i,a}return k(n,e),m(n,[{key:"draw",value:function(r){var i=this.point1,a=this.point2;void 0!==i&&void 0!==a&&!Fw(i,a)&&(-1!==r.selection.indexOf(this)&&r.drawPath([i,a],this.lineWidth*fu,Xt(this._color,du),void 0,this.configuration.dashed),r.drawPath([i,a],this.lineWidth,this.color,void 0,this.configuration.dashed))}},{key:"getDistance",value:function(r,i){var a=this.getClosestPointOnLineToPoint(r),o=this.point1,s=this.point2;if(void 0!==a&&void 0!==o&&void 0!==s)return gn(a.x,o.x,s.x)&&gn(a.y,o.y,s.y)?ai(r,a):Math.min(ai(o,a),ai(s,a))}},{key:"getPositionForLabel",value:function(r){var i=r.zoom,o=ou(this.point1,this.point2);if(void 0!==o)return{x:o.x+15/i,y:o.y+15/i}}},{key:"serialize",value:function(){return{data:this.dataProvider(),style:{color:this.color,visible:this.visible,size:this.lineWidth}}}},{key:"loadFrom",value:function(r,i){var a;this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(a=i.style.size)&&void 0!==a?a:this.lineWidth;var o=i.data,s=r[o.p1],u=r[o.p2];s instanceof ge&&u instanceof ge&&(this.pointsProvider=function(){return[s.point,u.point]},this.dataProvider=function(){return{p1:s.id,p2:u.id}},this.addDependency(s,u))}}],[{key:"getDefaultInstance",value:function(){return new n(function(){return[void 0,void 0]},[],function(){return{p1:-1,p2:-1}})}}])}(Dr);function Q3(e,n){if(1&e&&(E(0,"table")(1,"tr")(2,"td")(3,"p",12),I(4,"Radius:"),D()(),E(5,"td")(6,"p",13)(7,"span"),I(8),D()()()(),E(9,"tr")(10,"td")(11,"p",12),I(12,"Mittelpunkt:"),D()(),E(13,"td")(14,"p",13),I(15),D()()()()),2&e){var t=en();O(8),nn(t.radius),O(7),xs("( ",t.pointX," | ",t.pointY," )")}}function X3(e,n){1&e&&(E(0,"div")(1,"p",13),I(2,"Kreis konnte nicht konstruiert werden."),D()())}var Co=Math.pow(10,2),J3=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"isDefined",value:function(){return void 0!==this.dialogData.point&&void 0!==this.dialogData.radius}},{key:"radius",get:function(){return(Math.round(this.dialogData.radius*Co)/Co).toLocaleString()}},{key:"pointX",get:function(){return(Math.round(this.dialogData.point.x*Co)/Co).toLocaleString()}},{key:"pointY",get:function(){return(Math.round(this.dialogData.point.y*Co)/Co).toLocaleString()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}}])}(go);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-circle-element"]],features:[fe],decls:19,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"paragraph"],[1,"paragraph","maths","centered"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),I(2,"Kreis:"),D(),E(3,"p",2),Qe(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return j(i.name,o)||(i.name=o),o}),D(),I(6," : "),D(),E(7,"div",4)(8,"input",5),G("ngModelChange",function(o){return j(i.latex,o)||(i.latex=o),o}),D(),E(9,"label",6),I(10,"Label als LaTeX rendern"),D()(),E(11,"div",7)(12,"input",8),G("ngModelChange",function(o){return j(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(13,"label",9),I(14,"Label schwarz anzeigen"),D()(),Fn(15,Q3,16,3,"table",10)(16,X3,3,0,"div",10),E(17,"button",11),se("click",function(){return i.dialog.close()}),I(18,"Schlie\xdfen"),D()()),2&r&&(O(5),z("ngModel",i.name),O(3),z("ngModel",i.latex),O(4),z("ngModel",i.displayBlack),O(3),Q("ngIf",i.isDefined()),O(),Q("ngIf",!i.isDefined()))},dependencies:[so,pn,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}td[_ngcontent-%COMP%]{padding-left:16px;padding-top:7px}.checkboxDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}']})),n}(),kt=function(e){function n(t,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{r:0,g:0,b:0},u=arguments.length>5?arguments[5]:void 0,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:3,d=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return y(this,n),h(o=M(this,n,[i]),"dataProvider",void 0),h(o,"lineWidth",void 0),h(o,"componentType",td),h(o,"formulaDialogType",J3),h(o,"_pointProvider",void 0),h(o,"_tempPoint",void 0),h(o,"_radiusProvider",void 0),h(o,"_tempRadius",void 0),h(o,"resetTempListener",function(){o._tempPoint=void 0,o._tempRadius=void 0}),o.dataProvider=a,o.lineWidth=c,o.configuration.formula=u,o.configuration.showLabel=d,o._color=s,o._visible=l,o._pointProvider=t,o._radiusProvider=r,o}return k(n,e),m(n,[{key:"point",get:function(){return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),this._tempPoint}},{key:"pointProvider",get:function(){return this._pointProvider},set:function(r){this._pointProvider=r,this.onChange.emit(r)}},{key:"radius",get:function(){return void 0===this._tempRadius&&(this._tempRadius=this._radiusProvider()),this._tempRadius}},{key:"radiusProvider",get:function(){return this._radiusProvider},set:function(r){this._radiusProvider=r,this.onChange.emit(r)}},{key:"draw",value:function(r){var i=this.point,a=this.radius;void 0!==i&&void 0!==a&&(-1!==r.selection.indexOf(this)&&r.drawCircle(i,a,yr,Xt(this._color,du),this.lineWidth*fu,this.configuration.dashed),r.drawCircle(i,a,yr,this.color,this.lineWidth,this.configuration.dashed))}},{key:"getPositionForLabel",value:function(r){var i=15/r.zoom,a=this.point,o=this.radius;if(void 0!==a&&void 0!==o)return{x:a.x+o/Math.SQRT2+i,y:a.y+o/Math.SQRT2+i}}},{key:"getDistance",value:function(r,i){var a=this.point,o=this.radius;if(void 0!==a&&void 0!==o)return Math.abs(ai(a,r)-o)}},{key:"serialize",value:function(){return{style:{color:this.color,size:this.lineWidth,visible:this.visible},data:this.dataProvider()}}},{key:"loadFrom",value:function(r,i){if(void 0!==i.data.center&&void 0!==i.data.scdPoint){var a,o=r[i.data.center],s=r[i.data.scdPoint];o instanceof ge&&s instanceof ge&&(this.pointProvider=function(){return o.point},this.radiusProvider=function(){return function BH(e,n){if(void 0!==e&&void 0!==n)return ai(e,n)}(o.point,s.point)},this.dataProvider=function(){return{center:o.id,scdPoint:s.id}},this.addDependency(o,s)),this.color=i.style.color,this.lineWidth=null!==(a=i.style.size)&&void 0!==a?a:this.lineWidth,this.visible=i.style.visible}}}],[{key:"getDefaultInstance",value:function(){return new n(function(){},function(){},[],function(){return{center:-1,scdPoint:-1}})}}])}(Qg),ck="angle_bisector",op="bisection",dk="connection",fk="orthogonal",vk="parallel",sp="tangens",vt=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{r:0,g:0,b:0},s=arguments.length>4?arguments[4]:void 0,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3,c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return y(this,n),h(a=M(this,n,[t,r,o,s,u,l,c]),"subTypeAndDataProvider",void 0),h(a,"componentType",td),a.subTypeAndDataProvider=i,a}return k(n,e),m(n,[{key:"draw",value:function(r){var i=this.point1,a=this.point2;if(void 0!==i&&void 0!==a&&!Fw(i,a)){var u,l,o=r.range,s=this.getABCFormLine();0===s.a?(u={x:o.x,y:s.c/s.b},l={x:o.x+o.width,y:s.c/s.b}):s.a>s.b||0===s.b?(u={x:(s.c-s.b*o.y)/s.a,y:o.y},l={x:(s.c-s.b*(o.y+o.height))/s.a,y:o.y+o.height}):(u={x:o.x,y:(s.c-s.a*o.x)/s.b},l={x:o.x+o.width,y:(s.c-s.a*(o.x+o.width))/s.b}),-1!==r.selection.indexOf(this)&&r.drawPath([u,l],this.lineWidth*fu,Xt(this._color,du),void 0,this.configuration.dashed),r.drawPath([u,l],this.lineWidth,this.color,void 0,this.configuration.dashed)}}},{key:"getPositionForLabel",value:function(r){var i=Jt(r.range),a=50/r.zoom,o=this.getABCFormLine();if(void 0!==o){var s={x:i.x+a,y:i.y+a,width:i.width-2*a,height:i.height-2*a},u=_o(o,{a:0,b:1,c:s.y}),l=_o(o,{a:0,b:1,c:s.y+s.height}),c=void 0!==l&&gn(l.x,s.x,s.x+s.width),d=_o(o,{a:1,b:0,c:s.x+s.width}),f=void 0!==u&&gn(u.x,s.x,s.x+s.width);if(void 0!==d&&gn(d.y,s.y,s.y+s.height))return d;if(c&&f)return l.x>u.x?l:u;if(c)return l;if(f)return u}}},{key:"serialize",value:function(){var r=this.subTypeAndDataProvider();return{data:{els:r.els,index:r.index},subType:r.subType,style:{color:this.color,size:this.lineWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o,c,v,s=i.data,u=[],l=x(s.els);try{for(l.s();!(c=l.n()).done;){var f=r[c.value];void 0!==f&&this.addDependency(f),u.push(f)}}catch(p){l.e(p)}finally{l.f()}if(this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.size)&&void 0!==o?o:this.lineWidth,i.subType===ck&&3===u.length&&u[0]instanceof ge&&u[1]instanceof ge&&u[2]instanceof ge)v=n.createAngleBisector(u[0],u[1],u[2]);else if(i.subType===op)if(1===u.length&&u[0]instanceof ft)v=n.createBisectionByLineSegment(u[0]);else{if(!(2===u.length&&u[0]instanceof ge&&u[1]instanceof ge))return;v=n.createBisectionByPoints(u[0],u[1])}else if(i.subType===dk&&2===u.length&&u[0]instanceof ge&&u[1]instanceof ge)v=n.createConnection(u[0],u[1]);else if(i.subType===fk&&2===u.length&&u[0]instanceof ge&&u[1]instanceof Dr)v=n.createOrthogonal(u[0],u[1]);else if(i.subType===vk&&2===u.length&&u[0]instanceof ge&&u[1]instanceof Dr)v=n.createParallel(u[0],u[1]);else{if(!(i.subType===sp&&2===u.length&&u[0]instanceof ge&&u[1]instanceof kt))return;var g;v=n.createTangens(u[0],u[1])[null!==(g=s.index)&&void 0!==g?g:0]}this.pointsProvider=v.pointsProvider,this.subTypeAndDataProvider=v.subTypeAndDataProvider}}],[{key:"createAngleBisector",value:function(r,i,a){return new n(function(){return function K3(e,n,t){var r=ed(n,e),i=ed(t,e);if(void 0===r||void 0===e||void 0===n||void 0===t||void 0===i)return[void 0,void 0];var a=n.y-e.y,o=t.y-e.y,s=Math.sign(a*o),u=(s=0===s?Math.sign(a+o):s)>0?0:1;return ip(nd(r,e,1)[0],nd(i,e,1)[u])}(r.point,i.point,a.point)},[r,i,a],function(){return{subType:ck,els:[r.id,i.id,a.id]}},Rn,"Winkelhalbierende")}},{key:"createBisectionByPoints",value:function(r,i){return new n(function(){return ip(r.point,i.point)},[r,i],function(){return{subType:op,els:[r.id,i.id]}},Rn,"Mittelsenkrechte")}},{key:"createBisectionByLineSegment",value:function(r){return new n(function(){return function Y3(e){return ip(e.point1,e.point2)}(r)},[r],function(){return{subType:op,els:[r.id]}},Rn,"Mittelsenkrechte")}},{key:"createConnection",value:function(r,i){return new n(function(){return[r.point,i.point]},[r,i],function(){return{subType:dk,els:[r.id,i.id]}},Rn,"Verbindungsgerade")}},{key:"createOrthogonal",value:function(r,i){return new n(function(){var a,o=i.getABCFormLine(),s=r.point;if(void 0===o||void 0===s)return[void 0,void 0];var u=rp(o,s);if(i instanceof ft){var l=_o(o,u),c=i.point1,d=i.point2;if(void 0===l||void 0===c||void 0===d)return[void 0,void 0];if(!gn(l.x,c.x,d.x)||!gn(l.y,c.y,d.y))return[void 0,void 0]}return null!==(a=tp(u))&&void 0!==a?a:[void 0,void 0]},[r,i],function(){return{subType:fk,els:[r.id,i.id]}},Rn,"Lot")}},{key:"createParallel",value:function(r,i){return new n(function(){return function q3(e,n){var t;return void 0===e||void 0===n?[void 0,void 0]:null!==(t=tp({a:e.a,b:e.b,c:e.a*n.x+e.b*n.y}))&&void 0!==t?t:[void 0,void 0]}(i.getABCFormLine(),r.point)},[r,i],function(){return{subType:vk,els:[r.id,i.id]}},Rn,"Parallele")}},{key:"createTangens",value:function(r,i){return[new n(function(){return lk(r.point,i.point,i.radius)[0]},[r,i],function(){return{subType:sp,els:[r.id,i.id],index:0}},Rn,"Tangente"),new n(function(){return lk(r.point,i.point,i.radius)[1]},[r,i],function(){return{subType:sp,els:[r.id,i.id],index:1}},Rn,"Tangente")]}},{key:"getDefaultInstance",value:function(){return new n(function(){return[void 0,void 0]},[],function(){return{subType:"",els:[]}})}}])}(Dr),ej=function(n){return{noMargin:n}},rd=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"_from",0),h(this,"fromChange",new fn),h(this,"_to",0),h(this,"toChange",new fn),h(this,"noMargin",!1)},[{key:"fromForTemplate",get:function(){return this._from},set:function(i){this._from=i,this.fromChange.emit(i)}},{key:"from",set:function(i){this._from=i}},{key:"toForTemplate",get:function(){return this._to},set:function(i){this._to=i,this.toChange.emit(i)}},{key:"to",set:function(i){this._to=i}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-interval"]],inputs:{from:"from",to:"to",noMargin:"noMargin"},outputs:{fromChange:"fromChange",toChange:"toChange"},decls:6,vars:5,consts:[[1,"maths",3,"ngClass"],["step","any","type","number","title","Von (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"],["step","any","type","number","title","Bis (einschlie\xdflich)",1,"input",3,"ngModelChange","ngModel"]],template:function(r,i){1&r&&(E(0,"p",0),I(1," ["),E(2,"input",1),G("ngModelChange",function(o){return j(i.fromForTemplate,o)||(i.fromForTemplate=o),o}),D(),I(3,"; "),E(4,"input",2),G("ngModelChange",function(o){return j(i.toForTemplate,o)||(i.toForTemplate=o),o}),D(),I(5,"]\n"),D()),2&r&&(Q("ngClass",Mn(3,ej,i.noMargin)),O(2),z("ngModel",i.fromForTemplate),O(2),z("ngModel",i.toForTemplate))},dependencies:[$t,pn,Mt,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.noMargin[_ngcontent-%COMP%]{margin:0}']})),n}();function nj(e,n){if(1&e&&(E(0,"span"),I(1," von "),E(2,"span",12),I(3),D()()),2&e){var t=en(2);O(3),nn(t.canvasElement.graph.func.name)}}function tj(e,n){if(1&e&&(E(0,"p",10),I(1,"Bestimmtes Integral "),Fn(2,nj,4,1,"span",11),D()),2&e){var t=en();O(2),Q("ngIf",null==t.canvasElement.graph.func?null:t.canvasElement.graph.func.name)}}function rj(e,n){if(1&e&&(E(0,"span"),I(1," von "),E(2,"span",12),I(3),D()()),2&e){var t=en(2);O(3),xs("",t.canvasElement.graph.func.name,", ",t.canvasElement.secondGraph.func.name,"")}}function ij(e,n){if(1&e&&(E(0,"p",10),I(1,"Fl\xe4che zwischen Graphen "),Fn(2,rj,4,2,"span",11),D()),2&e){var t=en();O(2),Q("ngIf",(null==t.canvasElement.graph.func?null:t.canvasElement.graph.func.name)&&(null==t.canvasElement.secondGraph.func?null:t.canvasElement.secondGraph.func.name))}}var aj=function(){var e,n=function(t){function r(){var i;y(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return h(i=M(this,r,[].concat(o)),"canvasElement",void 0),i}return k(r,t),m(r)}(oi);return e=n,h(n,"\u0275fac",function(){var t;return function(i){return(t||(t=xn(e)))(i||e)}}()),h(n,"\u0275cmp",ke({type:e,selectors:[["app-definite-integral-formula"]],features:[fe],decls:17,vars:9,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],["class","paragraph description",4,"ngIf"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","intervalParagraph"],[1,"interval",3,"fromChange","toChange","noMargin","from","to"],[1,"paragraph"],["min","0","step","any","type","number","title","Schrittweite der Integralbestimmung",1,"input",3,"ngModelChange","ngModel"],["title","N\xe4herungsweise bestimmter Wert",1,"maths"],[1,"paragraph","description"],[4,"ngIf"],[1,"maths"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(o){return j(i.canvasElement.color,o)||(i.canvasElement.color=o),o})("visibleChange",function(o){return j(i.canvasElement.visible,o)||(i.canvasElement.visible=o),o}),D(),Fn(2,tj,3,1,"p",2)(3,ij,3,1,"p",2),E(4,"button",3),se("click",function(o){return i.threePointsClicked(o)}),E(5,"span",4),I(6,"more_vert"),D()(),E(7,"p",5),I(8,"Intervall: "),E(9,"app-interval",6),G("fromChange",function(o){return j(i.canvasElement.from,o)||(i.canvasElement.from=o),o})("toChange",function(o){return j(i.canvasElement.to,o)||(i.canvasElement.to=o),o}),D()(),E(10,"p",7),I(11,"Schrittweite: "),E(12,"input",8),G("ngModelChange",function(o){return j(i.canvasElement.h,o)||(i.canvasElement.h=o),o}),D()(),E(13,"p",7),I(14,"\u2192 "),E(15,"span",9),I(16),D()()()),2&r&&(O(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(),Q("ngIf",void 0===i.canvasElement.secondGraph),O(),Q("ngIf",void 0!==i.canvasElement.secondGraph),O(6),Q("noMargin",!0),z("from",i.canvasElement.from)("to",i.canvasElement.to),O(3),z("ngModel",i.canvasElement.h),O(4),nn(i.canvasElement.value.toLocaleString()))},dependencies:[so,pn,Mt,Sn,Yc,mn,$i,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.interval[_ngcontent-%COMP%]{display:inline-block}.intervalParagraph[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}.input[_ngcontent-%COMP%]{width:75px;display:unset}']})),n}(),id=function(e){function n(t,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jn,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yr,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return y(this,n),h(o=M(this,n),"componentType",aj),h(o,"formulaDialogType",void 0),h(o,"_value",0),h(o,"rects",[]),h(o,"_graph",void 0),h(o,"_secondGraph",void 0),h(o,"_stroke",void 0),h(o,"_strokeWidth",void 0),h(o,"_h",1),h(o,"_from",void 0),h(o,"_to",void 0),o._graph=t,o._secondGraph=r,o._color=u,o._stroke=l,o._strokeWidth=c,o._visible=d,o._h=s,o._from=i,o._to=a,o}return k(n,e),m(n,[{key:"value",get:function(){return this._value},set:function(r){this._value=r}},{key:"graph",get:function(){return this._graph},set:function(r){this._graph=r,this.onChange.emit(r)}},{key:"secondGraph",get:function(){return this._secondGraph},set:function(r){this._secondGraph=r,this.onChange.emit(r)}},{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(r)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(r)}},{key:"h",get:function(){return this._h},set:function(r){this._h=this.correctH(r),this.onChange.emit(this._h)}},{key:"correctH",value:function(r){return r<0?r=-r:r||(r=1),r}},{key:"from",get:function(){return this._from},set:function(r){this._from=Math.min(r,this.to),this.onChange.emit(this._from)}},{key:"to",get:function(){return this._to},set:function(r){this._to=Math.max(r,this.from),this.onChange.emit(this._to)}},{key:"reload",value:function(r){for(var i=this,a=[],o=0,s=function(d,f){if(0!==f&&void 0!==i.graph.func)try{var v,g,p=i.graph.func.evaluate(d,r),C=null!==(v=null===(g=i.secondGraph)||void 0===g||null===(g=g.func)||void 0===g?void 0:g.evaluate(d,r))&&void 0!==v?v:0;isFinite(p)&&isFinite(C)&&(o+=f*(p-C),a.push({x:d,y:C,width:f,height:p-C}))}catch{}},u=this.from;u<=this.to-this.h;u+=this.h)s(u,this.h);var l=this.to-u;s(this.to-l,l),a=a.map(function(c){return Jt(c)}),this.rects=a,this.value=o}},{key:"draw",value:function(r){this.reload(r.variables);var u,i=-1!==r.selection.indexOf(this),a=r.range,o=Xt(this.color,i?.5:.3),s=x(this.rects);try{for(s.s();!(u=s.n()).done;){var c=VH(u.value,a);c&&r.drawRect(c,o,this.stroke)}}catch(d){s.e(d)}finally{s.f()}}},{key:"getDistance",value:function(r,i){return Math.min.apply(Math,V(this.rects.map(function(a){return Nw(r,a)})))}},{key:"serialize",value:function(){return{data:{graph:this.graph.id,secondGraph:void 0===this.secondGraph?void 0:this.secondGraph.id,h:this.h,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a,o;if(void 0!==i.data.graph&&void 0!==i.data.h&&void 0!==i.data.from&&void 0!==i.data.to){var s=r[i.data.graph],u=r[i.data.secondGraph];s instanceof tt&&(this.graph=s),(u instanceof tt||void 0===u)&&(this.secondGraph=u),"number"==typeof i.data.h&&(this.h=i.data.h),"number"==typeof i.data.from&&(this.from=i.data.from),"number"==typeof i.data.to&&(this.to=i.data.to)}this.stroke=null!==(a=i.style.stroke)&&void 0!==a?a:yr,this.strokeWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:0,this.color=i.style.color,this.visible=i.style.visible}}],[{key:"getDefaultInstance",value:function(){return new n(void 0,void 0,0,0)}}])}(Wi),bo="intersection_point",up="middle_point",Ln=function(e){function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jn,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(a=M(this,n,[{x:0,y:0},o,!0,r,u]),"subTypeAndDataProvider",void 0),h(a,"_pointProvider",void 0),h(a,"_tempPoint",void 0),h(a,"resetTempListener",function(){a._tempPoint=void 0}),a.subTypeAndDataProvider=i,a._pointProvider=t,a}return k(n,e),m(n,[{key:"x",get:function(){var r;return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),null===(r=this._tempPoint)||void 0===r?void 0:r.x}},{key:"y",get:function(){var r;return void 0===this._tempPoint&&(this._tempPoint=this._pointProvider()),null===(r=this._tempPoint)||void 0===r?void 0:r.y}},{key:"pointProvider",get:function(){return this._pointProvider},set:function(r){this._pointProvider=r,this.onChange.emit(r)}},{key:"serialize",value:function(){var r=this.subTypeAndDataProvider();return{data:{el1:r.el1,el2:r.el2,index:r.index},subType:r.subType,style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data,s=r[o.el1],u=void 0===o.el2?void 0:r[o.el2];if(void 0!==s&&this.addDependency(s),void 0!==u&&this.addDependency(u),this.loadStyle(i.style),i.subType===up){if(s instanceof ge&&u instanceof ge){var l=n.createMiddlePointByPoints(s,u);this.pointProvider=l.pointProvider,this.subTypeAndDataProvider=l.subTypeAndDataProvider}else if(s instanceof ft){var c=n.createMiddlePointByLineSegment(s);this.pointProvider=c.pointProvider,this.subTypeAndDataProvider=c.subTypeAndDataProvider}}else if(i.subType===bo&&(s instanceof Dr||s instanceof kt)&&(u instanceof Dr||u instanceof kt)){var d,f=n.createIntersectionPoints(s,u)[null!==(d=o.index)&&void 0!==d?d:0];this.pointProvider=f.pointProvider,this.subTypeAndDataProvider=f.subTypeAndDataProvider}}}],[{key:"createMiddlePointByPoints",value:function(r,i){return new n(function(){return ou(r.point,i.point)},[r,i],function(){return{subType:up,el1:r.id,el2:i.id}},Rn)}},{key:"createMiddlePointByLineSegment",value:function(r){return new n(function(){return function Z3(e){return ou(e.point1,e.point2)}(r)},[r],function(){return{subType:up,el1:r.id}},Rn)}},{key:"createIntersectionPoints",value:function(r,i){if(r instanceof Dr&&i instanceof Dr)return[new n(function(){var u=r.getABCFormLine(),l=i.getABCFormLine();if(void 0!==u&&void 0!==l){var c=_o(u,l);if(void 0!==c){if(r instanceof ft){var d=r.point1,f=r.point2;if(void 0===d||void 0===f||!gn(c.x,d.x,f.x)||!gn(c.y,d.y,f.y))return}if(i instanceof ft){var v=i.point1,g=i.point2;if(void 0===v||void 0===g||!gn(c.x,v.x,g.x)||!gn(c.y,v.y,g.y))return}return c}}},[r,i],function(){return{subType:bo,el1:r.id,el2:i.id}},Rn)];if(r instanceof kt&&i instanceof Dr){var a=r;r=i,i=a}if(r instanceof Dr&&i instanceof kt){var o=function(l){return function(){var c=r.getABCFormLine(),d=i.point,f=i.radius;if(void 0!==c&&void 0!==d&&void 0!==f){var v=nd(c,d,f)[l];if(void 0!==v){if(r instanceof ft){var g=r.point1,p=r.point2;return void 0===g||void 0===p?void 0:gn(v.x,g.x,p.x)&&gn(v.y,g.y,p.y)?v:void 0}return v}}}};return[new n(o(0),[r,i],function(){return{subType:bo,el1:r.id,el2:i.id,index:0}},Rn),new n(o(1),[r,i],function(){return{subType:bo,el1:r.id,el2:i.id,index:1}},Rn)]}if(r instanceof kt&&i instanceof kt){var s=function(l){return function(){var c=r.point,d=r.radius,f=i.point,v=i.radius;if(void 0!==c&&void 0!==d&&void 0!==f&&void 0!==v)return ap(c,d,f,v)[l]}};return[new n(s(0),[r,i],function(){return{subType:bo,el1:r.id,el2:i.id,index:0}},Rn),new n(s(1),[r,i],function(){return{subType:bo,el1:r.id,el2:i.id,index:1}},Rn)]}return[]}},{key:"getDefaultInstance",value:function(){return new n(function(){},[],function(){return{subType:"",el1:-1}})}}])}(ge),oj=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"angle",get:function(){return(Math.floor(1e3*this.dialogData.angle)/1e3).toLocaleString()}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}}])}(go);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-angle-element"]],features:[fe],decls:29,vars:6,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"paragraph","maths","centered"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],[1,"sizeDiv"],["for","si"],["id","si","type","range",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),I(2,"Winkel:"),D(),E(3,"p",2),Qe(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return j(i.name,o)||(i.name=o),o}),D(),I(6," : "),D(),E(7,"p",4)(8,"span"),I(9),D()(),E(10,"div",5)(11,"input",6),G("ngModelChange",function(o){return j(i.dashed,o)||(i.dashed=o),o}),D(),E(12,"label",7),I(13,"Gestrichelt anzeigen"),D()(),E(14,"div",8)(15,"input",9),G("ngModelChange",function(o){return j(i.latex,o)||(i.latex=o),o}),D(),E(16,"label",10),I(17,"Label als LaTeX rendern"),D()(),E(18,"div",11)(19,"input",12),G("ngModelChange",function(o){return j(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(20,"label",13),I(21,"Label schwarz anzeigen"),D()(),E(22,"div",14)(23,"label",15),I(24,"Darstellungsgr\xf6\xdfe:"),D(),Qe(25,"br"),E(26,"input",16),G("ngModelChange",function(o){return j(i.dialogData.size,o)||(i.dialogData.size=o),o}),D()(),E(27,"button",17),se("click",function(){return i.dialog.close()}),I(28,"Schlie\xdfen"),D()()),2&r&&(O(5),z("ngModel",i.name),O(4),pr("",i.angle,"\xb0"),O(2),z("ngModel",i.dashed),O(4),z("ngModel",i.latex),O(4),z("ngModel",i.displayBlack),O(7),z("ngModel",i.dialogData.size))},dependencies:[pn,Zc,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%], .sizeDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .sizeDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}#si[_ngcontent-%COMP%]{margin-top:6px}#si[_ngcontent-%COMP%]{width:100%}']})),n}(),su=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=M(this,n),"_size",void 0),h(r,"lineWidth",void 0),h(r,"componentType",td),h(r,"formulaDialogType",oj),h(r,"_points",void 0),r._size=o,r.lineWidth=s,r._color=i,r._visible=a,r._points=t,r.configuration.formula="Winkel",r.configuration.showLabel=u,r}return k(n,e),m(n,[{key:"points",get:function(){return this._points.slice()},set:function(r){this._points=r.slice(),this.onChange.emit()}},{key:"size",get:function(){return this._size},set:function(r){this._size=r,this.onChange.emit(r)}},{key:"angle",get:function(){if(3!==this.points.length)return Number.NaN;var r=this.points[0].point,i=this.points[1].point,a=this.points[2].point;if(r&&i&&a){var o={x:r.x-i.x,y:r.y-i.y},s={x:a.x-i.x,y:a.y-i.y},u={x:0,y:0},l=(o.x*s.x+o.y*s.y)/(hi(u,o)*hi(u,s));return Math.acos(l)/Math.PI*180}return Number.NaN}},{key:"angles",get:function(){if(3===this._points.length){var r=this._points[0].point,i=this._points[1].point,a=this._points[2].point;if(void 0!==r&&void 0!==i&&void 0!==a){var o={x:1,y:0},s={x:0,y:0},l=function(p,C){return Math.acos(function(p,C){return p.x*C.x+p.y*C.y}(p,C)/hi(s,p)/hi(s,C))},d={x:a.x-i.x,y:a.y-i.y},f=l(o,{x:r.x-i.x,y:r.y-i.y}),v=l(o,d);return r.y>i.y&&(f=-f),a.y>i.y&&(v=-v),[f,v]}}}},{key:"serialize",value:function(){return{data:{points:this.points.map(function(r){return r.id})},style:{color:this.color,visible:this.visible,size:this.size,strokeWidth:this.lineWidth}}}},{key:"loadFrom",value:function(r,i,a){var o,s;this.points=i.data.points.map(function(l){return r[l]}).filter(function(l){return l instanceof ge}),this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.strokeWidth)&&void 0!==o?o:this.lineWidth,this.size=null!==(s=i.style.size)&&void 0!==s?s:this.size}},{key:"draw",value:function(r){var i=this.angles,a=this._points;if(i&&3===a.length){var o=a[1].point;void 0!==o&&(r.drawCircleSector(o,this.size/r.zoom,Xt(this.color,.3),this.color,this.lineWidth,i[1],i[0],this.configuration.dashed),-1!==r.selection.indexOf(this)&&r.drawCircleSector(o,this.size/r.zoom,yr,Xt(this.color,.3),2.5*this.lineWidth,i[1],i[0],this.configuration.dashed))}}},{key:"getPositionForLabel",value:function(r){if(3===this._points.length){var a=this._points[0].point,o=this._points[1].point,s=this._points[2].point;if(void 0!==a&&void 0!==o&&void 0!==s){var u={x:a.x-o.x,y:a.y-o.y},l={x:s.x-o.x,y:s.y-o.y},c={x:u.x+l.x,y:u.y+l.y},d=this.size/r.zoom/2/hi({x:0,y:0},c),f={x:c.x*d,y:c.y*d};return{x:f.x+o.x,y:f.y+o.y}}}}},{key:"getDistance",value:function(r,i){var a=this.size/i.zoom;if(3===this._points.length){var o=this._points[0].point,s=this._points[1].point,u=this._points[2].point;if(void 0!==o&&void 0!==s&&void 0!==u){var l={x:1,y:0},c={x:0,y:0},f=function(S,P){return Math.acos(function(S,P){return S.x*P.x+S.y*P.y}(S,P)/hi(c,S)/hi(c,P))},g={x:u.x-s.x,y:u.y-s.y},p=f(l,{x:o.x-s.x,y:o.y-s.y}),C=f(l,g),b={x:r.x-s.x,y:r.y-s.y},_=f(l,b);if(o.y>s.y&&(p=-p+2*Math.PI),u.y>s.y&&(C=-C+2*Math.PI),r.y>s.y&&(_=-_+2*Math.PI),hi(c,b)<=a&&(C<_&&p>_||C>_&&p>_&&C>p||p<_&&C<_&&C>p))return 0}}return Number.MAX_VALUE}}],[{key:"getDefaultInstance",value:function(){return new n([])}}])}(Wi),hk=function(n){return{error:n}},uj=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"canvasElement",void 0),i.canvasElement=uu.getDefaultInstance(),i}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?this.canvasElement.configuration.name+" ":""}},{key:"errorMessageX",get:function(){return this.canvasElement.xErrorText}},{key:"errorMessageY",get:function(){return this.canvasElement.yErrorText}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-compiled-point-formula"]],features:[fe],decls:15,vars:13,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){var a,o;1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(u){return j(i.canvasElement.color,u)||(i.canvasElement.color=u),u})("visibleChange",function(u){return j(i.canvasElement.visible,u)||(i.canvasElement.visible=u),u}),D(),E(2,"div")(3,"p",2),Qe(4,"span"),I(5),E(6,"span")(7,"input",3),G("ngModelChange",function(u){return j(i.canvasElement.xText,u)||(i.canvasElement.xText=u),u}),D()(),I(8," | "),E(9,"span")(10,"input",3),G("ngModelChange",function(u){return j(i.canvasElement.yText,u)||(i.canvasElement.yText=u),u}),D()(),I(11," ) "),D()(),E(12,"button",4),se("click",function(u){return i.threePointsClicked(u)}),E(13,"span",5),I(14,"more_vert"),D()()()),2&r&&(O(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(4),pr(" ",i.name,"( "),O(2),Q("ngClass",Mn(9,hk,void 0!==i.errorMessageX))("title",null!==(a=i.errorMessageX)&&void 0!==a?a:""),z("ngModel",i.canvasElement.xText),O(3),Q("ngClass",Mn(11,hk,void 0!==i.errorMessageY))("title",null!==(o=i.errorMessageY)&&void 0!==o?o:""),z("ngModel",i.canvasElement.yText))},dependencies:[$t,pn,Sn,mn,$i],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;display:inline}.input[_ngcontent-%COMP%]{width:100px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none}input.error[_ngcontent-%COMP%]{background:#fcc!important}']})),n}(),uu=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2?arguments[2]:void 0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return y(this,n),h(r=M(this,n,[null,[],null,i,a,o]),"parseAndValidateProvider",void 0),h(r,"componentType",uj),h(r,"_xText","0"),h(r,"_xOperation",void 0),h(r,"_xErrorText",void 0),h(r,"_yText","0"),h(r,"_yOperation",void 0),h(r,"_yErrorText",void 0),h(r,"_tempVariables",void 0),h(r,"evaluate",function(){if((r.error||void 0===r._xOperation||void 0===r._yOperation)&&r.reparse(),!r.error&&void 0!==r._xOperation&&void 0!==r._yOperation)try{return{x:r._xOperation.evaluate(r._tempVariables),y:r._yOperation.evaluate(r._tempVariables)}}catch{return}}),h(r,"resetTempListener",function(s){var u;r._tempPoint=void 0,void 0!==s&&(r._tempVariables=null!==(u=s.variables)&&void 0!==u?u:{})}),r.parseAndValidateProvider=t,r._pointProvider=r.evaluate,r}return k(n,e),m(n,[{key:"xText",get:function(){return this._xText},set:function(r){this._xText=r,this.reparseX(),this.onChange.emit(r)}},{key:"yText",get:function(){return this._yText},set:function(r){this._yText=r,this.reparseY(),this.onChange.emit(r)}},{key:"xErrorText",get:function(){return this._xErrorText}},{key:"xError",get:function(){return void 0!==this._xErrorText}},{key:"yErrorText",get:function(){return this._yErrorText}},{key:"yError",get:function(){return void 0!==this._yErrorText}},{key:"error",get:function(){return this.yError||this.xError}},{key:"xOperation",get:function(){return this._xOperation}},{key:"yOperation",get:function(){return this._yOperation}},{key:"reparseX",value:function(){var r=this.parseAndValidateProvider(this._xText);return r instanceof zn?(this._xOperation=r,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=r,!1)}},{key:"reparseY",value:function(){var r=this.parseAndValidateProvider(this._yText);return r instanceof zn?(this._yOperation=r,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=r,!1)}},{key:"reparse",value:function(){var r=this.reparseX(),i=this.reparseY();return r&&i}},{key:"serialize",value:function(){return{data:{xText:this.xText,yText:this.yText},style:{color:this.color,size:this.radius,stroke:this.stroke,strokeWidth:this.strokeWidth,visible:this.visible}}}},{key:"loadFrom",value:function(r,i,a){var o=i.data;this.loadStyle(i.style),this._xText=o.xText,this._yText=o.yText}},{key:"draw",value:function(r){Ge(Oe(n.prototype),"draw",this).call(this,r)}}],[{key:"getDefaultInstance",value:function(){return new n(function(){})}},{key:"getDefaultInstanceWithDrawerService",value:function(r){return new n(function(i){return r.parseAndValidateOperation(i)})}}])}(Ln),ad=function(n){return{error:n}},lj=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=M(this,r),"drawerService",void 0),h(a,"canvasElement",void 0),a.drawerService=i,a.canvasElement=lu.getDefaultInstance(i),a}return k(r,t),m(r,[{key:"name",get:function(){return this.canvasElement.configuration.name?" "+this.canvasElement.configuration.name:""}},{key:"contextMenu",get:function(){var a=this;return{elements:function(){return[{header:"Duplizieren",icon:"content_copy",disabled:a.canvasElement.error,click:function(){a.duplicate()},title:"Diese Funktion duplizieren."}]},additionalEvent:this.threePointsClickedEvent}}},{key:"duplicate",value:function(){var a=this.canvasElement.clone();this.drawerService.addCanvasElements(a)}},{key:"errorMessageX",get:function(){return this.canvasElement.xErrorText}},{key:"errorMessageY",get:function(){return this.canvasElement.yErrorText}},{key:"errorMessageBottom",get:function(){return this.canvasElement.bottomErrorText}},{key:"errorMessageTop",get:function(){return this.canvasElement.topErrorText}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-curve-formula"]],features:[fe],decls:52,vars:25,consts:[[1,"wrapper"],[3,"colorChange","visibleChange","color","visible"],[1,"paragraph","description"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"alignEnd","paragraph"],["autocomplete","off","type","text","step","any",1,"input",3,"ngModelChange","ngClass","title","ngModel"],["autocomplete","off","type","text","step","any",1,"input","parameter",3,"ngModelChange","ngModel"],["autocomplete","off","type","number","step","any",1,"input","steps",3,"ngModelChange","ngModel"]],template:function(r,i){var a,o,s,u;1&r&&(E(0,"div",0)(1,"app-color-circle",1),G("colorChange",function(c){return j(i.canvasElement.color,c)||(i.canvasElement.color=c),c})("visibleChange",function(c){return j(i.canvasElement.visible,c)||(i.canvasElement.visible=c),c}),D(),E(2,"div")(3,"p",2),Qe(4,"span"),I(5),D(),E(6,"button",3),se("click",function(c){return i.threePointsClicked(c)}),E(7,"span",4),I(8,"more_vert"),D()(),E(9,"table")(10,"tr")(11,"td")(12,"p",5),I(13,"x = "),D()(),E(14,"td")(15,"span")(16,"input",6),G("ngModelChange",function(c){return j(i.canvasElement.xText,c)||(i.canvasElement.xText=c),c}),D()()()(),E(17,"tr")(18,"td")(19,"p",5),I(20,"y = "),D()(),E(21,"td")(22,"span")(23,"input",6),G("ngModelChange",function(c){return j(i.canvasElement.yText,c)||(i.canvasElement.yText=c),c}),D()()()(),E(24,"tr")(25,"td")(26,"p",5),I(27,"Parameter: "),D()(),E(28,"td")(29,"span")(30,"input",7),G("ngModelChange",function(c){return j(i.canvasElement.parameter,c)||(i.canvasElement.parameter=c),c}),D()()()(),E(31,"tr")(32,"td")(33,"p",5),I(34,"Schritte: "),D()(),E(35,"td")(36,"span")(37,"input",8),G("ngModelChange",function(c){return j(i.canvasElement.steps,c)||(i.canvasElement.steps=c),c}),D()()()(),E(38,"tr")(39,"td")(40,"p",5),I(41,"Untere Grenze: "),D()(),E(42,"td")(43,"span")(44,"input",6),G("ngModelChange",function(c){return j(i.canvasElement.bottomText,c)||(i.canvasElement.bottomText=c),c}),D()()()(),E(45,"tr")(46,"td")(47,"p",5),I(48,"Obere Grenze: "),D()(),E(49,"td")(50,"span")(51,"input",6),G("ngModelChange",function(c){return j(i.canvasElement.topText,c)||(i.canvasElement.topText=c),c}),D()()()()()()()),2&r&&(O(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(4),pr(" Kurve",i.name,": "),O(11),Q("ngClass",Mn(17,ad,void 0!==i.errorMessageX))("title",null!==(a=i.errorMessageX)&&void 0!==a?a:""),z("ngModel",i.canvasElement.xText),O(7),Q("ngClass",Mn(19,ad,void 0!==i.errorMessageY))("title",null!==(o=i.errorMessageY)&&void 0!==o?o:""),z("ngModel",i.canvasElement.yText),O(7),z("ngModel",i.canvasElement.parameter),O(7),z("ngModel",i.canvasElement.steps),O(7),Q("ngClass",Mn(21,ad,void 0!==i.errorMessageBottom))("title",null!==(s=i.errorMessageBottom)&&void 0!==s?s:""),z("ngModel",i.canvasElement.bottomText),O(7),Q("ngClass",Mn(23,ad,void 0!==i.errorMessageTop))("title",null!==(u=i.errorMessageTop)&&void 0!==u?u:""),z("ngModel",i.canvasElement.topText))},dependencies:[$t,pn,Mt,Sn,mn,$i],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--defaultMargin: 17.33px}.input[_ngcontent-%COMP%]{width:150px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-left:calc(var(--buttonSize) + var(--margin));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;user-select:none;margin-bottom:0}.alignEnd[_ngcontent-%COMP%]{text-align:end}.description[_ngcontent-%COMP%]{margin-top:0;margin-bottom:var(--defaultMargin);margin-left:calc(var(--buttonSize) + 16px);line-height:var(--buttonSize)}input.error[_ngcontent-%COMP%]{background:#fcc!important}.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * (var(--buttonSize) + var(--defaultMargin)))!important}']})),n}(),cj=function(){var e,n=function(t){function r(){var i;return y(this,r),h(i=M(this,r),"dialogData",void 0),i}return k(r,t),m(r,[{key:"name",get:function(){return this.dialogData.configuration.name?this.dialogData.configuration.name:""},set:function(a){this.dialogData.configuration.name=a,this.dialogData.configuration.label=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit(a)}},{key:"dashed",get:function(){return!0===this.dialogData.configuration.dashed},set:function(a){this.dialogData.configuration.dashed=a,this.dialogData.onChange.emit()}},{key:"latex",get:function(){var a;return null===(a=!this.dialogData.configuration.dontUseLaTeX)||void 0===a||a},set:function(a){this.dialogData.configuration.dontUseLaTeX=!a,this.dialogData.onChange.emit()}},{key:"displayBlack",get:function(){var a;return null!==(a=this.dialogData.configuration.displayBlackLabel)&&void 0!==a&&a},set:function(a){this.dialogData.configuration.displayBlackLabel=a,this.dialogData.svgLabel=void 0,this.dialogData.onChange.emit()}}])}(go);return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-view-curve-element"]],features:[fe],decls:21,vars:4,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph","maths","nameInput"],["type","text","title","Name",1,"input",3,"ngModelChange","ngModel"],[1,"checkboxDiv","dashedDiv"],["type","checkbox","id","dash",3,"ngModelChange","ngModel"],["for","dash"],[1,"checkboxDiv","latexDiv"],["type","checkbox","id","latex",3,"ngModelChange","ngModel"],["for","latex"],[1,"checkboxDiv","blackDiv"],["type","checkbox","id","black",3,"ngModelChange","ngModel"],["for","black"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),I(2,"Kurve:"),D(),E(3,"p",2),Qe(4,"span"),E(5,"input",3),G("ngModelChange",function(o){return j(i.name,o)||(i.name=o),o}),D(),I(6," : "),D(),E(7,"div",4)(8,"input",5),G("ngModelChange",function(o){return j(i.dashed,o)||(i.dashed=o),o}),D(),E(9,"label",6),I(10,"Gestrichelt anzeigen"),D()(),E(11,"div",7)(12,"input",8),G("ngModelChange",function(o){return j(i.latex,o)||(i.latex=o),o}),D(),E(13,"label",9),I(14,"Label als LaTeX rendern"),D()(),E(15,"div",10)(16,"input",11),G("ngModelChange",function(o){return j(i.displayBlack,o)||(i.displayBlack=o),o}),D(),E(17,"label",12),I(18,"Label schwarz anzeigen"),D()(),E(19,"button",13),se("click",function(){return i.dialog.close()}),I(20,"Schlie\xdfen"),D()()),2&r&&(O(5),z("ngModel",i.name),O(3),z("ngModel",i.dashed),O(4),z("ngModel",i.latex),O(4),z("ngModel",i.displayBlack))},dependencies:[pn,ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.input[_ngcontent-%COMP%]{width:50px;display:unset}.paragraph[_ngcontent-%COMP%]{--margin: 16px;--buttonSize: 46px;margin-top:0;margin-bottom:0;font-size:14pt;user-select:none}.heading[_ngcontent-%COMP%]{margin-bottom:16px}.close[_ngcontent-%COMP%]{margin-top:16px}.nameInput[_ngcontent-%COMP%]{margin-bottom:16px}.checkboxDiv[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";padding:8px;user-select:none}.checkboxDiv[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:6px}']})),n}(),lu=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3?arguments[3]:void 0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(r=M(this,n),"parseAndValidateProvider",void 0),h(r,"componentType",lj),h(r,"formulaDialogType",cj),h(r,"_lineWidth",void 0),h(r,"_parameter","t"),h(r,"_steps",1e3),h(r,"_xText","0"),h(r,"_xErrorText",void 0),h(r,"_xOperation",void 0),h(r,"_yText","0"),h(r,"_yErrorText",void 0),h(r,"_yOperation",void 0),h(r,"_bottomText","0"),h(r,"_bottomErrorText",void 0),h(r,"_bottomOperation",void 0),h(r,"_topText","1"),h(r,"_topErrorText",void 0),h(r,"_topOperation",void 0),r.parseAndValidateProvider=t,r._color=i,r._lineWidth=a,r.configuration.name=o,r.configuration.showLabel=u,r.svgLabel=void 0,r._visible=s,r}return k(n,e),m(n,[{key:"lineWidth",get:function(){return this._lineWidth},set:function(r){this._lineWidth=r,this.onChange.emit(r)}},{key:"dashed",get:function(){return 1==this.configuration.dashed},set:function(r){this.configuration.dashed=r,this.onChange.emit(r)}},{key:"parameter",get:function(){return this._parameter},set:function(r){this._parameter=r,this.onChange.emit(r)}},{key:"steps",get:function(){return this._steps},set:function(r){this._steps=Math.floor(Math.abs(r)),this.onChange.emit(r)}},{key:"xText",get:function(){return this._xText},set:function(r){this._xText=r,this.reparseX(),this.onChange.emit(r)}},{key:"xError",get:function(){return void 0!==this._xErrorText}},{key:"xErrorText",get:function(){return this._xErrorText}},{key:"xOperation",get:function(){return this._xOperation}},{key:"yText",get:function(){return this._yText},set:function(r){this._yText=r,this.reparseY(),this.onChange.emit(r)}},{key:"yError",get:function(){return void 0!==this._yErrorText}},{key:"yErrorText",get:function(){return this._yErrorText}},{key:"yOperation",get:function(){return this._yOperation}},{key:"bottomText",get:function(){return this._bottomText},set:function(r){this._bottomText=r,this.reparseBottom(),this.onChange.emit(r)}},{key:"bottomError",get:function(){return void 0!==this._bottomErrorText}},{key:"bottomErrorText",get:function(){return this._bottomErrorText}},{key:"bottomOperation",get:function(){return this._bottomOperation}},{key:"topText",get:function(){return this._topText},set:function(r){this._topText=r,this.reparseTop(),this.onChange.emit(r)}},{key:"topError",get:function(){return void 0!==this._topErrorText}},{key:"topErrorText",get:function(){return this._topErrorText}},{key:"topOperation",get:function(){return this._topOperation}},{key:"error",get:function(){return this.topError||this.bottomError||this.yError||this.xError}},{key:"reparseX",value:function(){var r=this.parseAndValidateProvider(this._xText,[this.parameter]);return r instanceof zn?(this._xOperation=r,this._xErrorText=void 0,!0):(this._xOperation=void 0,this._xErrorText=r,!1)}},{key:"reparseY",value:function(){var r=this.parseAndValidateProvider(this._yText,[this.parameter]);return r instanceof zn?(this._yOperation=r,this._yErrorText=void 0,!0):(this._yOperation=void 0,this._yErrorText=r,!1)}},{key:"reparseBottom",value:function(){var r=this.parseAndValidateProvider(this._bottomText,[]);return r instanceof zn?(this._bottomOperation=r,this._bottomErrorText=void 0,!0):(this._bottomOperation=void 0,this._bottomErrorText=r,!1)}},{key:"reparseTop",value:function(){var r=this.parseAndValidateProvider(this._topText,[]);return r instanceof zn?(this._topOperation=r,this._topErrorText=void 0,!0):(this._topOperation=void 0,this._topErrorText=r,!1)}},{key:"reparse",value:function(){var r=this.reparseX(),i=this.reparseY(),a=this.reparseBottom(),o=this.reparseTop();return r&&i&&a&&o}},{key:"parseIfNecessary",value:function(){void 0===this.bottomOperation&&this.reparseBottom(),void 0===this.topOperation&&this.reparseTop(),void 0===this.xOperation&&this.reparseX(),void 0===this.yOperation&&this.reparseY()}},{key:"draw",value:function(r){var i=this.getPoints(r);if(void 0!==i){var a=Xt(this._color,du),o=this.lineWidth*fu;r.drawPath(i,this.lineWidth,this.color,void 0,this.dashed),-1!==r.selection.indexOf(this)&&r.drawPath(i,o,a,void 0,this.dashed)}}},{key:"getPoints",value:function(r){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){var i=r.variables,a=this.bottomOperation.evaluate(i),o=this.topOperation.evaluate(i);if(o<a){var s=a;a=o,o=s}for(var u=[],l=this.steps,c=(o-a)/l,d=0;d<=l;d++){var f=a+c*d;try{i[this.parameter]=f;var v=this.xOperation.evaluate(i),g=this.yOperation.evaluate(i);u.push({x:v,y:g})}catch{}}return u}}},{key:"loadFrom",value:function(r,i,a){var o,s=i.data;this._xText=s.xText,this._yText=s.yText,this._bottomText=s.bottomText,this._topText=s.topText,this._parameter=s.parameter,this._steps=s.steps,this._color=i.style.color,this._lineWidth=null!==(o=i.style.size)&&void 0!==o?o:3,this._visible=i.style.visible,this.onChange.emit()}},{key:"serialize",value:function(){return{data:{xText:this.xText,yText:this.yText,parameter:this.parameter,bottomText:this.bottomText,topText:this.topText,steps:this.steps},style:{color:this.color,size:this.lineWidth,visible:this.visible}}}},{key:"getDistance",value:function(r,i){var a=this.getPoints(i);if(void 0!==a){var o=a.map(function(l){return ai(l,r)});if(0!==o.length){for(var s=o[0],u=1;u<o.length;u++)o[u]<s&&(s=o[u]);return s}}}},{key:"getPositionForLabel",value:function(r){if(this.parseIfNecessary(),!this.error&&void 0!==this.bottomOperation&&void 0!==this.topOperation&&void 0!==this.xOperation&&void 0!==this.yOperation){var a=r.variables,o=this.bottomOperation.evaluate(a),s=this.topOperation.evaluate(a);a[this.parameter]=(o+s)/2;try{var u=this.xOperation.evaluate(a),l=this.yOperation.evaluate(a);return{x:u+15/r.zoom,y:l+15/r.zoom}}catch{}}}},{key:"clone",value:function(){var r=new n(this.parseAndValidateProvider,this.color,this.lineWidth,void 0,this.visible);return r._steps=this._steps,r._parameter=this._parameter,r._xText=this._xText,r._yText=this._yText,r._bottomText=this._bottomText,r._topText=this._topText,r.configuration=re({},this.configuration),r}}],[{key:"getDefaultInstance",value:function(r){return new n(function(i,a){return r.parseAndValidateOperation(i,!0,a)})}}])}(Wi),pk="definite_integral",mk="dependency_points",yk="linesegment",Ck="dynamic_point",bk="compiled_point",wk="variable";function vj(e){return e instanceof tt?"graph":e instanceof vt?"line":e instanceof kt?"circle":e instanceof id?pk:e instanceof uu?bk:e instanceof Eo?mk:e instanceof ft?yk:e instanceof Ln?Ck:e instanceof ge?"point":e instanceof yo?wk:e instanceof su?"angle":e instanceof lu?"curve":"undefined"}var Sk="serialized",Ik='"Cambria Math", Cambria, "CMU Serif", serif',Tk="Ung\xfcltige Eingabe.",Pk="Referenz einer unbekannten Funktion.",er=function(){var e,n=function(){return m(function t(){var r=this;y(this,t),h(this,"_mode",new jr),h(this,"_backgroundColor",{r:255,g:255,b:255}),h(this,"_canvasElements",[]),h(this,"_metaDrawers",[]),h(this,"_transformations",{translateX:7,translateY:-5,zoom:100}),h(this,"_showGrid",!0),h(this,"_showGridNumbers",!0),h(this,"_drawPointsEqually",!1),h(this,"selection",new z3),h(this,"canvas",void 0),h(this,"onBackgroundColorChanged",new dt),h(this,"onCanvasElementChanged",new dt),h(this,"onMetaDrawersChanged",new dt),h(this,"onTransformationsChanged",new dt),h(this,"onCanvasConfigChanged",new dt),h(this,"onBeforeRedraw",new dt),h(this,"onBeforeElementsDraw",new dt),h(this,"onAfterRedraw",new dt),h(this,"onModeChanged",new dt),h(this,"redrawListener",function(){r.redraw()}),h(this,"canvasElementOnChangeListener",function(i){r.onCanvasElementChanged.emit(i)}),h(this,"emptyCacheListener",function(){r.funcCache.empty()}),h(this,"saveListener",function(){localStorage[Sk]=JSON.stringify(r.serialize())}),h(this,"funcCache",new np),h(this,"funcProvider",function(i){var a=r.funcCache.getItem(i);if(a)return a;var s,o=x(r.graphs);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(void 0!==u.func&&$c(i)===$c(u.func.name)){var l=u.func,c=Qc(l.name),d=Qc(i);if(c>d)continue;for(var f=0;f<d-c;f++)l=l.derive();return r.funcCache.setItem(i,l),l}}}catch(v){o.e(v)}finally{o.f()}}),this.addMetaDrawer(new p3),this.onBackgroundColorChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.redrawListener),this.onTransformationsChanged.addListener(this.redrawListener),this.onMetaDrawersChanged.addListener(this.redrawListener),this.onCanvasConfigChanged.addListener(this.redrawListener),this.onModeChanged.addListener(this.redrawListener),this.selection.onSelectionChanged.addListener(this.redrawListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onCanvasElementChanged.addListener(this.emptyCacheListener),this.onAfterRedraw.addListener(this.saveListener)},[{key:"mode",get:function(){return this._mode},set:function(i){this._mode=i,this.onModeChanged.emit(i)}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this.onBackgroundColorChanged.emit(i)}},{key:"addCanvasElements",value:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=0,u=a;s<u.length;s++){var l=u[s];this._canvasElements.push(l),l.onChange.addListener(this.canvasElementOnChangeListener),l.onAdd.emit(this)}this.onCanvasElementChanged.emit(a)}},{key:"removeCanvasElements",value:function(){for(var i=!0,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];for(var u=0,l=o;u<l.length;u++){var c=l[u],d=this._canvasElements.indexOf(c);d>=0?(this._canvasElements.splice(d,1),c.onChange.removeListener(this.canvasElementOnChangeListener),c.onRemove.emit(this)):i=!1}return this.onCanvasElementChanged.emit(o),i}},{key:"emptyCanvasElements",value:function(){var a,i=x(this._canvasElements);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.onChange.removeListener(this.canvasElementOnChangeListener),o.onRemove.emit(this)}}catch(s){i.e(s)}finally{i.f()}this._canvasElements=[],this.onCanvasElementChanged.emit()}},{key:"canvasElements",get:function(){return this._canvasElements.slice()}},{key:"addMetaDrawer",value:function(i){this._metaDrawers.push(i),this.onMetaDrawersChanged.emit(i)}},{key:"removeMetaDrawer",value:function(i){var a=this._metaDrawers.indexOf(i);return a>=0&&(this._metaDrawers.splice(a,1),this.onMetaDrawersChanged.emit(i),!0)}},{key:"emptyMetaDrawers",value:function(){this._metaDrawers=[],this.onMetaDrawersChanged.emit()}},{key:"metaDrawers",get:function(){return this._metaDrawers.slice()}},{key:"translateX",get:function(){return this._transformations.translateX},set:function(i){this._transformations.translateX=i,this.onTransformationsChanged.emit(i)}},{key:"translateY",get:function(){return this._transformations.translateY},set:function(i){this._transformations.translateY=i,this.onTransformationsChanged.emit(i)}},{key:"zoom",get:function(){return this._transformations.zoom},set:function(i){this._transformations.zoom=i,this.onTransformationsChanged.emit(i)}},{key:"transformations",get:function(){return{translateX:this.translateX,translateY:this.translateY,zoom:this.zoom}},set:function(i){this._transformations.zoom=i.zoom,this._transformations.translateX=i.translateX,this._transformations.translateY=i.translateY,this.onTransformationsChanged.emit(i)}},{key:"showGrid",get:function(){return this._showGrid},set:function(i){this._showGrid=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"showGridNumbers",get:function(){return this._showGridNumbers},set:function(i){this._showGridNumbers=i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"drawPointsEqually",get:function(){return this._drawPointsEqually},set:function(i){this._drawPointsEqually=!0===i,this.onCanvasConfigChanged.emit(this.canvasConfig)}},{key:"canvasConfig",get:function(){return{showNumbers:this.showGridNumbers,showGrid:this.showGrid,drawPointsEqually:this.drawPointsEqually}}},{key:"renderingContext",get:function(){var i;return this.getRenderingContextFor(null===(i=this.canvas)||void 0===i?void 0:i.ctx,this._transformations)}},{key:"getRenderingContextFor",value:function(i,a){return new g3(i,a,this.getVariables(),this.selection.toArray(),this.canvasConfig)}},{key:"redraw",value:function(){this.canvas&&this.canvas.canvasEl&&this.canvas.wrapperEl&&this.canvas.ctx&&(this.onBeforeRedraw.emit(),this.drawToCanvas(this.canvas.canvasEl,this.canvas.wrapperEl.getBoundingClientRect(),this._transformations,!0),this.onAfterRedraw.emit())}},{key:"tex2svg",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,o=MathJax.tex2svg(i).firstElementChild;return o.setAttributeNS(null,"color",et(a)),o}},{key:"drawToCanvas",value:function(i,a,o){var s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=i.getContext("2d");l.canvas.width=a.width,l.canvas.height=a.height,l.fillStyle=et(this.backgroundColor),l.fillRect(0,0,i.width,i.height);var c=this.getRenderingContextFor(l,o);this.onBeforeElementsDraw.emit(c);var f,g,d=x(this._metaDrawers);try{for(d.s();!(f=d.n()).done;)f.value.draw(c)}catch(P){d.e(P)}finally{d.f()}if(this.drawPointsEqually)g=this._canvasElements;else{var p=this._canvasElements.filter(function(P){return P instanceof ge}),C=this._canvasElements.filter(function(P){return P instanceof su}),b=this._canvasElements.filter(function(P){return!(P instanceof ge||P instanceof su)});g=C.concat(b).concat(p)}var w,_=x(g);try{var S=function(){var B,R=w.value;if(c.config&&u)if(R.visible)c.config.transformColor=void 0;else{var Y;c.config.transformColor=null===(Y=s.mode)||void 0===Y?void 0:Y.transformInvisibleColor}if(R.visible||null!==(B=c.config)&&void 0!==B&&B.transformColor){R.draw(c);var J=s.getLabelPoint(R,c),ve=R.configuration.label;if(void 0!==J&&void 0!==ve){var ye,de=R.configuration.displayBlackLabel?jn:R.color,De=null===(ye=!R.configuration.dontUseLaTeX)||void 0===ye||ye,Ne=function(){c.drawText(ve,J,18,Ik,"start","alphabetic","inherit",de,s.selection.contains(R)?Xt(de,.2):NH,3)};if(MathJax&&De)try{var U=function(ee){c.drawImage(ee,J,1*ee.naturalWidth,1*ee.naturalHeight)};if(void 0===R.svgLabel){var N=s.tex2svg(ve,de),H=document.createElement("img");H.src="data:image/svg+xml;base64,"+btoa('<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n'+N.outerHTML),H.onload=function($){var ee;R.svgLabel=null!==(ee=$.target)&&void 0!==ee?ee:void 0,R.svgLabel?U(R.svgLabel):Ne()}}else U(R.svgLabel)}catch{R.svgLabel=void 0,console.log("nenenenenene"),Ne()}else Ne()}}};for(_.s();!(w=_.n()).done;)S()}catch(P){_.e(P)}finally{_.f()}}},{key:"zoomToBy",value:function(i,a){var o_y=-i.y/this.zoom*(1-1/a);this._transformations.translateX-=i.x/this.zoom*(1-1/a),this._transformations.translateY-=o_y,this.zoom*=a}},{key:"graphs",get:function(){return this.canvasElements.filter(function(i){return i instanceof tt})}},{key:"points",get:function(){return this.canvasElements.filter(function(i){return i instanceof ge})}},{key:"parseAndValidateOperation",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var s=new sk(i,this.funcProvider).parse();try{var u=Xg(s);if(a){var c,l=x(u.variableNames);try{for(l.s();!(c=l.n()).done;){var d=c.value;-1===o.indexOf(d)&&this.addVariable(d)}}catch(f){l.e(f)}finally{l.f()}}return s}catch{return Pk}}catch{return Tk}}},{key:"parseAndValidateFunc",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var o=new U3(i,this.funcProvider).parse();try{if($M(o))return"Eine Funktion darf nicht auf sich selbst verweisen.";var s=function l3(e){return Xg(e.operation)}(o);if(a){var l,u=x(s.variableNames);try{for(u.s();!(l=u.n()).done;){var c=l.value;c!==o.variable&&(void 0!==o.variable||"x"!==c)&&this.addVariable(c)}}catch(d){u.e(d)}finally{u.f()}}return o}catch{return Pk}}catch{return Tk}}},{key:"parseAndValidateProviderGraph",get:function(){var i=this;return function(a){return i.parseAndValidateFunc(a)}}},{key:"addVariable",value:function(i){var a=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.hasVariable(i)){var s=new yo(i,0);return this.addCanvasElements(s),o&&this.onCanvasElementChanged.addListener(function l(){var f,c=!1,d=x(a.canvasElements);try{for(d.s();!(f=d.n()).done;){var v=f.value;if(v instanceof tt?c=c||void 0!==v.func&&v.func.variable!==s.key&&(void 0!==v.func.variable||"x"!==s.key)&&Er(v.func,s.key):v instanceof uu?c=c||Er(v.xOperation,s.key)||Er(v.yOperation,s.key):v instanceof lu&&(c=(c=(c=c||Er(v.topOperation,s.key)||Er(v.bottomOperation,s.key))||v.parameter!==s.key&&Er(v.xOperation,s.key))||v.parameter!==s.key&&Er(v.yOperation,s.key)),c)return}}catch(g){d.e(g)}finally{d.f()}c||(a.onCanvasElementChanged.removeListener(l),a.removeCanvasElements(s))}),s}}},{key:"getNewColor",value:function(){return function YH(e,n,t){for(var r=n.slice(),i=0,a=function(u){return t(e[i%e.length],u)};Bw(r,a);i++){var o=WH(r,a);r.splice(o,1)}return e[i%e.length]}(G3,this.canvasElements.map(function(i){return i.color}),function(i,a){return function ZH(e,n){return e.r==n.r&&e.g==n.g&&e.b==n.b&&(e.a==n.a||!e.a&&!n.a)}(i,a)})}},{key:"getVariables",value:function(){var o,i={},a=x(this.canvasElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;s instanceof yo&&(i[s.key]=s.value)}}catch(u){a.e(u)}finally{a.f()}return i}},{key:"hasVariable",value:function(i){var o,a=x(this.canvasElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s instanceof yo&&s.key===i)return!0}}catch(u){a.e(u)}finally{a.f()}return!1}},{key:"getLabelPoint",value:function(i,a){var o=i.getPositionForLabel(a);if(void 0!==o&&void 0!==i.configuration.label&&i.configuration.showLabel){var s=a.range,u={x:Math.abs(s.width)*i.labelTranslate.x,y:Math.abs(s.height)*i.labelTranslate.y};return{x:o.x+u.x,y:o.y+u.y}}}},{key:"getSelection",value:function(i){var c,v,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=this.renderingContext,l=void 0,d=function(w){var S=a.getLabelPoint(w,u);if(void 0!==w.configuration.label&&void 0!==S){var P=0,B=0;return w.configuration.dontUseLaTeX||void 0===w.svgLabel?(P=u.measureText(w.configuration.label,18,Ik).width/u.zoom,B=18/u.zoom):(P=w.svgLabel.width/u.zoom,B=w.svgLabel.height/u.zoom),Nw(i,re(re({},S),{},{width:P,height:B}))}},f=x(this.canvasElements);try{for(f.s();!(v=f.n()).done;){var g=v.value,p=HH(g.getDistance(i,u),d(g));if(null!=p&&isFinite(p)&&o(g)&&(g.visible||!s)){var C=void 0===l;(C=C||p<=l)&&(l=p,c=g)}}}catch(_){f.e(_)}finally{f.f()}return void 0!==l&&10<l*this.zoom&&(c=void 0,l=void 0),c}},{key:"setSelection",value:function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.getSelection(i,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0});a?this.selection.set(s):this.selection.alternate(s)}},{key:"serialize",value:function(){return function dj(e){var r,n=[],t=x(e.canvasElements);try{for(t.s();!(r=t.n()).done;){var i=r.value,o=re(re({},i.serialize()),{},{id:i.id,configuration:i.configuration,type:vj(i),translateLabel:i.labelTranslate});n.push(o)}}catch(s){t.e(s)}finally{t.f()}return{canvasElements:n,backgroundColor:e.backgroundColor,transformations:e.transformations,showGrid:e.showGrid,showGridNumbers:e.showGridNumbers,drawPointsEqually:e.drawPointsEqually}}(this)}},{key:"loadFrom",value:function(i){!function hj(e,n){e.showGridNumbers=n.showGridNumbers,e.showGrid=n.showGrid,e.drawPointsEqually=n.drawPointsEqually,e.transformations=n.transformations,e.backgroundColor=n.backgroundColor,e.emptyCanvasElements();var i,t={},r=x(n.canvasElements);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=void 0;"circle"===a.type?o=kt.getDefaultInstance():a.type===pk?o=id.getDefaultInstance():a.type===bk?o=uu.getDefaultInstanceWithDrawerService(e):a.type===mk?o=Eo.getDefaultInstance(e):a.type===yk?o=ft.getDefaultInstance():"graph"===a.type?o=tt.getDefaultInstance(e):a.type===Ck?o=Ln.getDefaultInstance():"point"===a.type?o=ge.getDefaultInstance():"line"===a.type?o=vt.getDefaultInstance():a.type===wk?o=yo.getDefaultInstance():"angle"===a.type?o=su.getDefaultInstance():"curve"===a.type&&(o=lu.getDefaultInstance(e)),void 0!==o&&(o.configuration=a.configuration,o.labelTranslate=a.translateLabel,o.svgLabel=void 0,t[a.id]=o)}}catch(g){r.e(g)}finally{r.f()}var u,s=x(n.canvasElements);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=t[l.id];void 0!==c&&c.loadFrom(t,l,e)}}catch(g){s.e(g)}finally{s.f()}e.addCanvasElements.apply(e,V(Object.values(t).filter(function(g){return void 0!==g})));var f,d=x(e.graphs);try{for(d.s();!(f=d.n()).done;)f.value.reparseIfNecessary()}catch(g){d.e(g)}finally{d.f()}e.redraw()}(this,i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",he({token:e,factory:e.\u0275fac,providedIn:"root"})),n}(),pj=function(n){return{notLast:n}};function mj(e,n){if(1&e&&(E(0,"span"),I(1," von "),E(2,"span",12),I(3),D()()),2&e){var t=en(2);O(3),nn(t.dialogData.description[1]())}}function yj(e,n){if(1&e){var t=Lr();E(0,"div",15)(1,"p",16),I(2),D(),E(3,"button",17),se("click",function(){var o=Ke(t).$implicit;return $e(en(3).addPointToDrawerService(o))}),E(4,"span",18),I(5,"add"),D()()()}if(2&e){var r=n.$implicit;Q("ngClass",Mn(3,pj,!n.last)),O(2),xs("(",r.x.toLocaleString(),"|",r.y.toLocaleString(),")")}}function _j(e,n){if(1&e&&(E(0,"div",13)(1,"p",4),I(2,"Ergebnisse:"),D(),Fn(3,yj,6,5,"div",14),D()),2&e){var t=en(2);O(3),Q("ngForOf",t.dialogData.points)}}function Cj(e,n){1&e&&(E(0,"div",19),I(1,"Es wurden keine Elemente gefunden."),D())}function bj(e,n){if(1&e){var t=Lr();E(0,"div",1)(1,"p",2),I(2),Fn(3,mj,4,1,"span",3),D(),E(4,"p",4),I(5,"Im Intervall"),D(),E(6,"p",5)(7,"app-interval",6),G("fromChange",function(a){Ke(t);var o=en();return j(o.dialogData.from,a)||(o.dialogData.from=a),$e(a)})("toChange",function(a){Ke(t);var o=en();return j(o.dialogData.to,a)||(o.dialogData.to=a),$e(a)}),D()(),E(8,"p",4),I(9,"mit der Suchtiefe:"),D(),E(10,"p",7)(11,"input",8),G("ngModelChange",function(a){Ke(t);var o=en();return j(o.dialogData.depth,a)||(o.dialogData.depth=a),$e(a)}),D()(),Fn(12,_j,4,1,"div",9)(13,Cj,2,0,"div",10),E(14,"button",11),se("click",function(){return Ke(t),$e(en().dialog.close())}),I(15,"Schlie\xdfen"),D()()}if(2&e){var r=en();O(2),pr(" ",r.dialogData.description[0],""),O(),Q("ngIf",void 0!==r.dialogData.description[1]()),O(4),z("from",r.dialogData.from)("to",r.dialogData.to),O(4),z("ngModel",r.dialogData.depth),O(),Q("ngIf",0!==r.dialogData.size),O(),Q("ngIf",0===r.dialogData.size)}}var Ej=function(){var e,n=function(t){function r(i){var a;return y(this,r),h(a=M(this,r),"drawerService",void 0),h(a,"dialogData",void 0),a.drawerService=i,a}return k(r,t),m(r,[{key:"addPointToDrawerService",value:function(a){this.drawerService.addCanvasElements(new ge(a,this.drawerService.getNewColor()))}}])}(go);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-dependency-point-elements-dialog"]],features:[fe],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"paragraph","heading"],[4,"ngIf"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],[1,"centered","maths"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["class","pointWrappers",4,"ngIf"],["class","paragraph defaultMargin pointsNotFoundMessage",4,"ngIf"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],[1,"maths"],[1,"pointWrappers"],["class","point",3,"ngClass",4,"ngFor","ngForOf"],[1,"point",3,"ngClass"],[1,"maths","paragraph","pointParagraph"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"],[1,"paragraph","defaultMargin","pointsNotFoundMessage"]],template:function(r,i){1&r&&Fn(0,bj,16,7,"div",0),2&r&&Q("ngIf",void 0!==i.dialogData)},dependencies:[$t,oo,so,pn,Mt,Sn,mn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.defaultMargin[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.pointParagraph[_ngcontent-%COMP%]{line-height:46px;margin-top:0;margin-bottom:0}.maths[_ngcontent-%COMP%]{font-size:16pt!important}.point[_ngcontent-%COMP%]{width:290px;padding:7px}.notLast[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.pointWrappers[_ngcontent-%COMP%]{margin-bottom:16px;max-height:400px;overflow-y:auto}.iconButton[_ngcontent-%COMP%]{background-color:#fff}.input[_ngcontent-%COMP%]{width:50px;display:unset}.pointsNotFoundMessage[_ngcontent-%COMP%]{width:290px;padding:7px}']})),n}(),cu="__dependencyPointElements__",Ok="intersectionpoints",Ak="zeropoints",xk="extremumpoints",Nk="inflectionpoints",Eo=function(e){function n(t,r,i,a,o,s,u,l){var c,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:jn,f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],v=arguments.length>10?arguments[10]:void 0,g=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];return y(this,n),h(c=M(this,n),"drawerService",void 0),h(c,"pointsProvider",void 0),h(c,"dependencyStillActive",void 0),h(c,"description",void 0),h(c,"subTypeAndGraphsProvider",void 0),h(c,"firstInit",void 0),h(c,"componentType",s3),h(c,"formulaDialogType",Ej),h(c,"pointElements",[]),h(c,"initializedYet",!1),h(c,"correctVersion",0),h(c,"drawnVersion",0),h(c,"_stroke",{r:100,g:100,b:100}),h(c,"_strokeWidth",3),h(c,"_radius",5),h(c,"_from",void 0),h(c,"_to",void 0),h(c,"_depth",void 0),h(c,"reloadListener",function(p){p!==cu&&p!==c&&c.reload().catch(function(C){return console.error(C)})}),h(c,"removeListener",function(){c.drawerService.onCanvasElementChanged.removeListener(c.reloadListener)}),c.drawerService=t,c.pointsProvider=r,c.dependencyStillActive=s,c.description=u,c.subTypeAndGraphsProvider=l,c.firstInit=v,c._color=d,c._visible=f,c._from=i,c._to=a,c._depth=o,g&&(c.onRemove.addListener(c.removeListener),c.drawerService.onCanvasElementChanged.addListener(c.reloadListener)),c}return k(n,e),m(n,[{key:"points",get:function(){return this.pointElements.map(function(r){return r.point})}},{key:"stroke",get:function(){return this._stroke},set:function(r){this._stroke=r,this.onChange.emit(cu)}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this.onChange.emit(cu)}},{key:"radius",get:function(){return this._radius},set:function(r){this._radius=r,this.onChange.emit(cu)}},{key:"size",get:function(){return this.pointElements.length}},{key:"from",get:function(){return this._from},set:function(r){this._from=r,this.onChange.emit(r)}},{key:"to",get:function(){return this._to},set:function(r){this._to=r,this.onChange.emit(r)}},{key:"depth",get:function(){return this._depth},set:function(r){this._depth=r,this.onChange.emit(r)}},{key:"reload",value:(t=function JH(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function o(u){jw(a,r,i,o,s,"next",u)}function s(u){jw(a,r,i,o,s,"throw",u)}o(void 0)})}}(qi().mark(function i(){var a=this;return qi().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.dependencyStillActive()){s.next=5;break}return this.correctVersion++,s.abrupt("return",new Promise(function(u,l){setTimeout(function(){try{var c=a.pointsProvider(a.from,a.to,a.depth);if(!a.initializedYet&&a.firstInit&&a.firstInit(c),a.initializedYet=!0,a.pointElements.length<c.length)for(var d=c.length-a.pointElements.length,f=0;f<d;f++)a.createPointElement();else if(a.pointElements.length>c.length)for(var v=a.pointElements.length-c.length,g=0;g<v;g++)a.pointElements.pop();for(var p=0;p<c.length;p++)a.pointElements[p].forceSetPoint(c[p]);a.drawnVersion++,a.onChange.emit(cu),u()}catch(C){a.drawnVersion++,l(C)}})}));case 5:this.drawerService.removeCanvasElements(this);case 6:case"end":return s.stop()}},i,this)})),function r(){return t.apply(this,arguments)})},{key:"createPointElement",value:function(){var i=new ge(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},this.color,!0);return i.radius=this.radius,i.stroke=this.stroke,i.strokeWidth=this.strokeWidth,this.pointElements.push(i),i}},{key:"draw",value:function(r){if(this.correctVersion===this.drawnVersion){var o,i=-1!==r.selection.indexOf(this),a=x(this.pointElements);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.color=this.color,s.radius=this.radius,s.stroke=this.stroke,s.strokeWidth=this.strokeWidth,s.selected=i,s.draw(r)}}catch(u){a.e(u)}finally{a.f()}}}},{key:"getDistance",value:function(r,i){return Math.min.apply(Math,V(this.pointElements.map(function(a){return a.getDistance(r,i)}).filter(function(a){return void 0!==a})))}},{key:"serialize",value:function(){var r=this.subTypeAndGraphsProvider();return{subType:r.subType,data:{graph:r.graph,secondGraph:r.secondGraph,depth:this.depth,from:this.from,to:this.to},style:{color:this.color,stroke:this.stroke,strokeWidth:this.strokeWidth,size:this.radius,visible:this.visible}}}},{key:"loadFrom",value:function(r,i){var a=i.data;this.color=i.style.color,this.stroke=i.style.stroke,this.radius=i.style.size,this.strokeWidth=i.style.strokeWidth,this.visible=i.style.visible,this.depth=a.depth,this.from=a.from,this.to=a.to;var u,o=r[a.graph],s=void 0===a.secondGraph?void 0:r[a.secondGraph];if(i.subType===Ok&&o instanceof tt&&s instanceof tt)u=n.createIntersectionPoints(this.drawerService,o,s,a.from,a.to,a.depth,void 0,void 0,!1);else if(i.subType===Ak&&o instanceof tt)u=n.createZeroPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1);else if(i.subType===xk&&o instanceof tt)u=n.createExtremumPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1);else{if(!(i.subType===Nk&&o instanceof tt))throw"not known subtype";u=n.createInflectionPoints(this.drawerService,o,a.from,a.to,a.depth,void 0,!1)}this.pointsProvider=u.pointsProvider,this.dependencyStillActive=u.dependencyStillActive,this.description=u.description,this.subTypeAndGraphsProvider=u.subTypeAndGraphsProvider,this.draw=u.draw}}],[{key:"createIntersectionPoints",value:function(r,i,a,o,s,u,l,c){var d,f=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];l=null!==(d=l)&&void 0!==d?d:r.getNewColor();var v=wg+0;return new n(r,function(g,p,C){var b,_,w,S;if(void 0===i.func)return[];var P=function(J){return function(ve){if(void 0===J.func)throw"can't use bad function";var ye=J.func,Ne=Qc(ve)-(J.func.name?Qc(J.func.name):0);if(Ne<0)throw"can't integrate";for(var sn=0;sn<Ne;sn++)ye=ye.derive();return ye}},B=new co(new po(new Xi(null!==(b=null===(_=i.func)||void 0===_?void 0:_.name)&&void 0!==b?b:"",P(i),new xt(v)),new Xi(null!==(w=null===(S=a.func)||void 0===S?void 0:S.name)&&void 0!==w?w:"",P(a),new xt(v))),void 0,"x"),R=r.getVariables();return ru(B,R,g,p,C).map(function(Y){return{x:Y,y:i.func.evaluate(Y,R)}})},o,s,u,function(){var b,g=!1,p=!1,C=x(r.canvasElements);try{for(C.s();!(b=C.n()).done;){var _=b.value;_===i?g=!0:_===a&&(p=!0)}}catch(w){C.e(w)}finally{C.f()}return g&&p},["Schnittpunkte",function(){var g;return void 0!==i.func&&i.func.name&&null!==(g=a.func)&&void 0!==g&&g.name?"".concat(i.func.name,", ").concat(a.func.name):void 0}],function(){return{graph:i.id,secondGraph:a.id,subType:Ok}},l,!0,c,f)}},{key:"createZeroPoints",value:function(r,i,a,o,s,u){return n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function d3(e,n,t,r,i){return ru(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,Ak,"Nullpunkt",u,!(arguments.length>6&&void 0!==arguments[6])||arguments[6])}},{key:"createExtremumPoints",value:function(r,i,a,o,s,u){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.func.derive(),n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function f3(e,n,t,r,i){return XM(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,xk,"Extrempunkt",u,l)}},{key:"createInflectionPoints",value:function(r,i,a,o,s,u){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return i.func.derive(),n.createDependencyPointElements(r,i,function(c,d,f){return void 0===i.func?[]:function h3(e,n,t,r,i){return function v3(e,n,t,r,i){return XM(e.derive(),n,t,r,i)}(e,n,t,r,i).map(function(a){return{x:a,y:e.evaluate(a,n)}})}(i.func,r.getVariables(),c,d,f)},a,o,s,Nk,"Wendepunkt",u,l)}},{key:"createDependencyPointElements",value:function(r,i,a,o,s,u,l,c,d){var f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];return new n(r,a,o,s,u,function QH(e,n){return function(){var r,t=x(e.canvasElements);try{for(t.s();!(r=t.n()).done;)if(r.value===n)return!0}catch(a){t.e(a)}finally{t.f()}return!1}}(r,i),function XH(e,n){return[e,function(){var t;return null===(t=n.func)||void 0===t?void 0:t.name}]}("".concat(c,"e"),i),function(){return{graph:i.id,subType:l}},i.color,!0,d,f)}},{key:"getDefaultInstance",value:function(r){return new n(r,function(){return[]},0,0,1,function(){return!0},["",function(){}],function(){return{subType:"",graph:-1}},jn,!0,void 0,!0)}}]);var t}(Wi),Dj=["snackbar"],wj=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"wrapper",void 0),h(this,"snackbarConfig",void 0),h(this,"message",void 0)},[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var i,a,o,s,u=this.wrapper.nativeElement;u.textContent=this.message,u.style.background=null!==(i=null===(a=this.snackbarConfig)||void 0===a?void 0:a.background)&&void 0!==i?i:"#333",u.style.color=null!==(o=null===(s=this.snackbarConfig)||void 0===s?void 0:s.color)&&void 0!==o?o:"white"}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-snackbar"]],viewQuery:function(r,i){var a;1&r&&bt(Dj,5),2&r&&Et(a=Dt())&&(i.wrapper=a.first)},decls:3,vars:0,consts:[["snackbar",""],[1,"filler"],[1,"snackbar"]],template:function(r,i){1&r&&(E(0,"div",1),Qe(1,"div",2,0),D())},styles:['@keyframes _ngcontent-%COMP%_animateWrapperSnackbar{0%{transform:translateY(100px)}to{transform:translateY(0)}}.filler[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;inset:0;pointer-events:none;align-items:flex-end;justify-content:center;display:flex}.snackbar[_ngcontent-%COMP%]{padding:10px;border-radius:7px;animation:_ngcontent-%COMP%_animateWrapperSnackbar .2s ease-in-out;font-size:13pt;text-align:center;font-family:Segoe UI,Calibri,"sans-serif";user-select:none;pointer-events:all;margin-bottom:10px;box-shadow:0 0 10px #9997}']})),n}(),cp=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"rootViewContainerRef",void 0)},[{key:"openSnackbar",value:function(i,a){var o=this;return new Promise(function(s,u){var l,c;if(o.rootViewContainerRef){var d=null!==(l=a?.duration)&&void 0!==l?l:4e3,f=null===(c=o.rootViewContainerRef)||void 0===c?void 0:c.createComponent(wj);f?(f.instance.message=i,f.instance.snackbarConfig=a,setTimeout(function(){f.destroy(),s()},d)):u()}else u()})}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275prov",he({token:e,factory:e.\u0275fac,providedIn:"root"})),n}(),Mj=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"snackbarService",void 0),h(this,"dialogData",void 0),h(this,"dialog",void 0),h(this,"from",-1),h(this,"to",1),h(this,"_depth",10),this.drawerService=r,this.snackbarService=i},[{key:"depth",get:function(){return this._depth},set:function(i){this._depth=Math.floor(i)}},{key:"evaluateZeroPoints",value:function(){var i=this;try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Eo.createZeroPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(a){Fc(i.snackbarService,"Nullpunkt",a.length)}))}catch{Rc(this.snackbarService)}this.dialog.close()}},{key:"evaluateExtremumPoints",value:function(){var i=this;try{this.dialogData&&this.dialogData.graph&&this.drawerService.addCanvasElements(Eo.createExtremumPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(a){Fc(i.snackbarService,"Extrempunkt",a.length)}))}catch{Rc(this.snackbarService)}this.dialog.close()}},{key:"evaluateInflectionPoints",value:function(){var i=this;try{if(this.dialogData&&this.dialogData.graph){var a=Eo.createInflectionPoints(this.drawerService,this.dialogData.graph,this.from,this.to,this.depth,function(o){Fc(i.snackbarService,"Wendepunkt",o.length)});this.drawerService.addCanvasElements(a)}}catch{Rc(this.snackbarService)}this.dialog.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(cp))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-func-analyser-dialog"]],decls:24,vars:5,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"maths","heading"],[1,"centered","maths"],[1,"paragraph"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Extrempunkte berechnen",1,"button","floatRight",3,"click"],["title","Nullpunkte berechnen",1,"button","floatRight",3,"click"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Wendepunkte berechnen",1,"button","floatRight",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),I(2,"Funktion "),E(3,"span",2),I(4),D(),I(5,"analysieren:"),D(),E(6,"p",3),I(7),D(),E(8,"p",4),I(9,"Im Intervall"),D(),E(10,"p",5)(11,"app-interval",6),G("fromChange",function(o){return j(i.from,o)||(i.from=o),o})("toChange",function(o){return j(i.to,o)||(i.to=o),o}),D()(),E(12,"p",4),I(13,"mit der Suchtiefe:"),D(),E(14,"p",3)(15,"input",7),G("ngModelChange",function(o){return j(i.depth,o)||(i.depth=o),o}),D()(),E(16,"button",8),se("click",function(){return i.evaluateExtremumPoints()}),I(17,"Extrempunkte"),D(),E(18,"button",9),se("click",function(){return i.evaluateZeroPoints()}),I(19,"Nullpunkte"),D(),E(20,"button",10),se("click",function(){return i.dialog.close()}),I(21,"Schlie\xdfen"),D(),E(22,"button",11),se("click",function(){return i.evaluateInflectionPoints()}),I(23,"Wendepunkte"),D()()),2&r&&(O(4),nn(null!=i.dialogData&&null!=i.dialogData.graph&&null!=i.dialogData.graph.func&&i.dialogData.graph.func.name?(null==i.dialogData||null==i.dialogData.graph||null==i.dialogData.graph.func?null:i.dialogData.graph.func.name)+" ":""),O(3),nn(null==i.dialogData||null==i.dialogData.graph||null==i.dialogData.graph.func?null:i.dialogData.graph.func.operationAsString),O(4),z("from",i.from)("to",i.to),O(4),z("ngModel",i.depth))},dependencies:[pn,Mt,Sn,mn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})),n}(),kj=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"snackbarService",void 0),h(this,"dialogData",void 0),h(this,"dialog",void 0),h(this,"from",-1),h(this,"to",1),h(this,"_depth",10),this.drawerService=r,this.snackbarService=i},[{key:"depth",get:function(){return this._depth},set:function(i){this._depth=Math.floor(i)}},{key:"getFuncName",value:function(i){return i&&void 0!==i.func&&i.func.name?" ".concat(i.func.name):""}},{key:"evaluateIntersectionPoints",value:function(){var i=this,a=!1;try{this.dialogData&&this.dialogData.graph1&&this.dialogData.graph2?this.drawerService.addCanvasElements(Eo.createIntersectionPoints(this.drawerService,this.dialogData.graph1,this.dialogData.graph2,this.from,this.to,this.depth,this.dialogData.color,function(l){Fc(i.snackbarService,"Schnittpunkt",l.length)})):a=!0}catch{a=!0}a&&Rc(this.snackbarService),this.dialog.close()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(cp))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-intersection-dialog"]],decls:29,vars:7,consts:[[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"maths"],[1,"centered","maths"],[1,"centered"],[3,"fromChange","toChange","from","to"],["type","number","title","Suchtiefe",1,"input",3,"ngModelChange","ngModel"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Schnittpunkte berechnen",1,"button","floatRight",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"p",1),I(2,"Schnittpunkte berechnen"),D(),E(3,"p",2),I(4,"Von"),E(5,"span",3),I(6),D(),I(7,":"),D(),E(8,"p",4),I(9),D(),E(10,"p",2),I(11,"Und"),E(12,"span",3),I(13),D(),I(14,":"),D(),E(15,"p",4),I(16),D(),E(17,"p",2),I(18,"Im Intervall"),D(),E(19,"p",5)(20,"app-interval",6),G("fromChange",function(o){return j(i.from,o)||(i.from=o),o})("toChange",function(o){return j(i.to,o)||(i.to=o),o}),D()(),E(21,"p",2),I(22,"mit der Suchtiefe:"),D(),E(23,"p",4)(24,"input",7),G("ngModelChange",function(o){return j(i.depth,o)||(i.depth=o),o}),D()(),E(25,"button",8),se("click",function(){return i.dialog.close()}),I(26,"Schlie\xdfen"),D(),E(27,"button",9),se("click",function(){return i.evaluateIntersectionPoints()}),I(28,"Schnittpunkte"),D()()),2&r&&(O(6),nn(i.getFuncName(null==i.dialogData?null:i.dialogData.graph1)),O(3),nn(null==i.dialogData||null==i.dialogData.graph1||null==i.dialogData.graph1.func?null:i.dialogData.graph1.func.operationAsString),O(4),nn(i.getFuncName(null==i.dialogData?null:i.dialogData.graph2)),O(3),nn(null==i.dialogData||null==i.dialogData.graph2||null==i.dialogData.graph2.func?null:i.dialogData.graph2.func.operationAsString),O(4),z("from",i.from)("to",i.to),O(4),z("ngModel",i.depth))},dependencies:[pn,Mt,Sn,mn,rd],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{width:350px}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:50px;display:unset}']})),n}(),Sj=function(n){return{error:n}},Ij=function(){var e,n=function(t){function r(i,a){var o;return y(this,r),h(o=M(this,r),"drawerService",void 0),h(o,"dialogService",void 0),h(o,"canvasElement",void 0),o.drawerService=i,o.dialogService=a,o.canvasElement=tt.getDefaultInstance(i),o}return k(r,t),m(r,[{key:"contextMenu",get:function(){var a=this;return{elements:function(){var s=a.drawerService.selection.toArray(),u=-1!==s.indexOf(a.canvasElement)&&2===s.length&&s[0]instanceof tt&&s[1]instanceof tt;return[{header:"Ableiten",click:function(){var d=a.canvasElement.derive(a.drawerService.getNewColor());void 0!==d&&a.drawerService.addCanvasElements(d)},disabled:!a.canvasElement.canDerive()||a.canvasElement.funcError,icon:"south_east",title:"Diese Funktion ableiten."},{header:"Duplizieren",icon:"content_copy",disabled:a.canvasElement.funcError,click:function(){try{a.drawerService.addCanvasElements(a.canvasElement.clone())}catch{}},title:"Diese Funktion duplizieren."},{header:"Analysieren",icon:"query_stats",click:function(){var d;null===(d=a.dialogService.createDialog(Mj))||void 0===d||d.open({graph:a.canvasElement})},title:"Nullpunkte, Extrempunkte oder Wendepunkte dieser Funktion bestimmen."},{header:"Bestimmtes Integral",click:function(){a.drawerService.addCanvasElements(new id(a.canvasElement,void 0,-1,1,.1,a.canvasElement.color))},icon:"monitoring"},{header:"Schnittpunkte bestimmen",disabled:!u,click:function(){var d;u&&(null===(d=a.dialogService.createDialog(kj))||void 0===d||d.open({graph1:s[0],graph2:s[1]}))},title:u?"Schnittpunkte der beiden ausgew\xe4hlten Funktionen berechnen.":"Um Schnittpunkte zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"multiline_chart"},{header:"Fl\xe4che zwischen Graphen",disabled:!u,click:function(){u&&a.drawerService.addCanvasElements(new id(s[0],s[1],-1,1,.1,a.drawerService.getNewColor()))},title:u?"Fl\xe4che zwischen den Graphen der beiden ausgew\xe4hlten Funktionen berechnen.":"Um die Fl\xe4che zwischen den Graphen zweier Funktionen zu berechnen, m\xfcssen zwei Funktionen ausgew\xe4hlt sein.",icon:"stacked_line_chart"}]},additionalEvent:this.threePointsClickedEvent}}},{key:"color",get:function(){return et(this.canvasElement.color)}}])}(oi);return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(tu))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-graph-formula"]],features:[fe],decls:7,vars:8,consts:[["inp",""],[1,"wrapper",3,"ngClass"],[3,"colorChange","visibleChange","color","visible"],["autocomplete","off",1,"input",3,"ngModelChange","title","ngModel","disabled"],[1,"iconButton","depositionTop","floatRight",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){if(1&r){var a=Lr();E(0,"div",1)(1,"app-color-circle",2),G("colorChange",function(u){return Ke(a),j(i.canvasElement.color,u)||(i.canvasElement.color=u),$e(u)})("visibleChange",function(u){return Ke(a),j(i.canvasElement.visible,u)||(i.canvasElement.visible=u),$e(u)}),D(),E(2,"input",3,0),G("ngModelChange",function(u){return Ke(a),j(i.canvasElement.funcText,u)||(i.canvasElement.funcText=u),$e(u)}),D(),E(4,"button",4),se("click",function(u){return Ke(a),$e(i.threePointsClicked(u))}),E(5,"span",5),I(6,"more_vert"),D()()()}var o;2&r&&(Q("ngClass",Mn(6,Sj,i.canvasElement.funcError)),O(),z("color",i.canvasElement.color)("visible",i.canvasElement.visible),O(),Q("title",null!==(o=i.canvasElement.funcErrorText)&&void 0!==o?o:""),z("ngModel",i.canvasElement.funcText),Q("disabled",!i.canvasElement.configuration.editable))},dependencies:[$t,pn,Sn,mn,$i],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{--buttonSize: 46px;--margin: 16px}.wrapper.error[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:#fcc!important}.input[_ngcontent-%COMP%]{--padding: 7px;width:calc(100% - 2 * (var(--padding) + var(--buttonSize) + var(--margin)));margin-left:calc(var(--margin) + var(--buttonSize))}']})),n}();function Fk(e,n,t){var r=(n.y-t.y)/(n.x-t.x),i=(e.y+e.x/r-n.y+r*n.x)/(r+1/r),a_y=r*i+n.y-r*n.x;return Math.sqrt(Math.pow(e.x-i,2)+Math.pow(e.y-a_y,2))}var du=.3,fu=2.5,tt=function(e){function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:0,g:0,b:0},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return y(this,n),h(i=M(this,n),"parseAndValidateProvider",void 0),h(i,"lineWidth",void 0),h(i,"componentType",Ij),h(i,"formulaDialogType",void 0),h(i,"_funcText","0"),h(i,"_funcErrorText",void 0),h(i,"_func",void 0),i.parseAndValidateProvider=t,i.lineWidth=s,r instanceof co?(i._func=r,i.configuration.label=r?.name,i._funcText=r.operationAsString):"string"==typeof r&&(i._funcText=r),i.configuration.showLabel=u,i.svgLabel=void 0,i._color=a,i._visible=o,i}return k(n,e),m(n,[{key:"func",get:function(){return this._func}},{key:"funcText",get:function(){return this._funcText},set:function(r){this._funcText=r,this.reparse(),this.onChange.emit(r)}},{key:"funcErrorText",get:function(){return this._funcErrorText}},{key:"funcError",get:function(){return void 0!==this.funcErrorText}},{key:"draw",value:function(r){var i=this;if((this.funcError||void 0===this.func)&&this.reparse(),!this.funcError&&void 0!==this.func){for(var a=[],o=[],s=r.range,u=r.step,l=u,c=-1!==r.selection.indexOf(this),d=Xt(this._color,du),f=this.lineWidth*fu,v=function(de,De){if(void 0!==De){var Ne=de/(0===De?1:De);if(Math.abs(de)>10){if(Ne<0)return!0;if(Ne>15)return!0}}return!1},g=function(de){try{var De=i._func.evaluate(de,r.variables);if(isFinite(De))return{x:de,y:De}}catch{}},p=void 0,C=void 0,b=void 0,_=s.x;_<s.x+s.width;_+=l){var w=!1,S=g(_);if(S||(w=!0,b=void 0),S&&C){var P=(S.y-C.y)/(S.x-C.x);p=(w=w||v(P,p))?void 0:P,l=u/Math.min(Math.max(1,Math.abs(P/5)),15)}if(S&&!Ks(S,s)){if(b||_===s.x){if(!w&&b&&gn(s.y,b.y,S.y)){var R=g((b.x+S.x)/2);R&&gn(R.y,b.y,S.y)&&o.push(b,R,S)}w=!0}b=S}else S&&(b&&void 0!==p&&!w&&(o.push(b),p=(S.y-b.y)/(S.x-b.x)),b=void 0);S&&!w&&o.push(S),C=S,w&&0!=o.length&&(a.push(o),o=[])}0!=o.length&&a.push(o);for(var Y=0,J=a;Y<J.length;Y++){var ve=J[Y];r.drawPath(ve,this.lineWidth,this._color,void 0,this.configuration.dashed),c&&r.drawPath(ve,f,d,void 0,this.configuration.dashed)}}}},{key:"getDistance",value:function(r,i){try{var a=r.x-i.step,o=r.x,s=r.x+i.step,u={x:a,y:this.func.evaluate(a,i.variables)},l={x:o,y:this.func.evaluate(o,i.variables)},c={x:s,y:this.func.evaluate(s,i.variables)},d=Fk(r,u,l),f=Fk(r,l,c);if(d=isFinite(d)?d:1/0,f=isFinite(f)?f:1/0,d!==1/0||f!==1/0)return Math.min(d,f)}catch{}try{return Math.abs(r.y-this.func.evaluate(r.x,i.variables))}catch{}}},{key:"serialize",value:function(){return{data:{formula:this.funcText},style:{color:this.color,visible:this.visible,size:this.lineWidth}}}},{key:"loadFrom",value:function(r,i,a){var o;this.color=i.style.color,this.visible=i.style.visible,this.lineWidth=null!==(o=i.style.size)&&void 0!==o?o:this.lineWidth;var s=i.data;try{void 0!==s.formula&&(this._funcText=s.formula)}catch{}}},{key:"reparse",value:function(){var r=this.parseAndValidateProvider(this._funcText);return r instanceof co?(this._func=r,this._funcErrorText=void 0,this.configuration.label=r.name,this.svgLabel=void 0,!0):(this._func=void 0,this._funcErrorText=r,this.configuration.label=void 0,this.svgLabel=void 0,!1)}},{key:"reparseIfNecessary",value:function(){return!this.funcError&&void 0!==this.func||this.reparse()}},{key:"getPositionForLabel",value:function(r){var i=Jt(r.range);try{var s=i.x+.6*i.width;return{x:s,y:this.func.evaluate(s)+.05*i.height}}catch{return}}},{key:"clone",value:function(){var r=new n(this.parseAndValidateProvider,this.funcText,this.color,this.visible,this.lineWidth,this.configuration.showLabel);return r.configuration=re({},this.configuration),r.svgLabel=void 0,r}},{key:"derive",value:function(r){try{var i,a=new n(this.parseAndValidateProvider,null===(i=this.func)||void 0===i?void 0:i.derive(),r??this.color);return a.configuration.editable=!0,a}catch{return}}},{key:"canDerive",value:function(){try{return void 0!==this.func&&(this.func.derive(),!0)}catch{return!1}}}],[{key:"getDefaultInstance",value:function(r){return new n(r.parseAndValidateProviderGraph)}}])}(Wi),Tj=["wrapper"],Pj=function(n){return{color:n}},Oj=function(n){return{disabled:n}};function Aj(e,n){if(1&e){var t=Lr();E(0,"div",3),se("click",function(s){var u=Ke(t).$implicit;return $e(en().click(s,u))})("keydown",function(s){var u=Ke(t).$implicit;return $e(en().onTabKeyboard(s,u))}),E(1,"p"),I(2),D(),E(3,"span",4),I(4),D()()}if(2&e){var r,i,a=n.$implicit;Q("title",null!==(r=a.title)&&void 0!==r?r:"")("ngStyle",Mn(5,Pj,null!==(i=a.color)&&void 0!==i?i:"black"))("ngClass",Mn(7,Oj,a.disabled)),O(2),nn(a.header),O(2),nn(a.icon)}}var xj=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"wrapper",void 0),h(this,"wrapperElement",void 0),h(this,"elements",[]),h(this,"_contextMenu",{elements:function(){return[]}}),h(this,"_position",{x:0,y:0})},[{key:"contextMenu",get:function(){return this._contextMenu},set:function(i){this._contextMenu=i,this.elements=i.elements()}},{key:"position",get:function(){if(this.wrapperElement){var i={width:window.innerWidth,height:window.innerHeight},a=this.wrapperElement.getBoundingClientRect();return{x:Math.min(this._position.x,i.width-a.width),y:Math.min(this._position.y,i.height-a.height)}}return this._position},set:function(i){this._position=i}},{key:"ngAfterViewInit",value:function(){this.wrapperElement=this.wrapper.nativeElement,this.setPosition()}},{key:"setPosition",value:function(){if(this.wrapperElement){var i=this.position;this.wrapperElement.style.left="".concat(i.x,"px"),this.wrapperElement.style.top="".concat(i.y,"px")}}},{key:"click",value:function(i,a){!a.disabled&&a.click&&a.click(i)}},{key:"onTabKeyboard",value:function(i,a){("Enter"==i.key||" "==i.key)&&this.click(i,a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-context-menu"]],viewQuery:function(r,i){var a;1&r&&bt(Tj,5),2&r&&Et(a=Dt())&&(i.wrapper=a.first)},decls:3,vars:1,consts:[["wrapper",""],[1,"wrapper"],["class","element","tabindex","0",3,"title","ngStyle","ngClass","click","keydown",4,"ngFor","ngForOf"],["tabindex","0",1,"element",3,"click","keydown","title","ngStyle","ngClass"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(E(0,"div",1,0),Fn(2,Aj,5,9,"div",2),D()),2&r&&(O(2),Q("ngForOf",i.elements))},dependencies:[$t,oo,uo],styles:['.element[_ngcontent-%COMP%]{--height: 30px;--sizeIcon: 30px;--marginToIcon: 5px;height:var(--height);user-select:none;line-height:var(--height);padding:7px;font-size:12pt;font-family:Segoe UI,sans-serif;border-radius:var(--borderRadius);background:#fff;transition:.1s all ease-in-out}.element[_ngcontent-%COMP%]:hover{background:#eee}.element[_ngcontent-%COMP%]:active{background:#ccc}.element.disabled[_ngcontent-%COMP%]{color:gray!important}.element.disabled[_ngcontent-%COMP%]:hover, .element.disabled[_ngcontent-%COMP%]:active{background:#fff}.element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:calc(var(--sizeIcon) + var(--marginToIcon));margin-top:0;margin-bottom:0}@keyframes _ngcontent-%COMP%_start{0%{opacity:0;transform:scale(1)}to{opacity:1}}.wrapper[_ngcontent-%COMP%]{--borderRadius: 5px;background:#fff;position:fixed;padding:5px;border-radius:var(--borderRadius);border:1px solid #ccc;transform-origin:top left;animation:.1s start ease-in-out;z-index:1}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translateY(-27.5px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})),n}(),Rk=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"vc",void 0),h(this,"contextMenu",void 0),h(this,"_appContextMenu",void 0),h(this,"element",void 0),h(this,"contextmenuDocumentEventListener",function(a){(a instanceof PointerEvent||a instanceof MouseEvent)&&-1===a.composedPath().indexOf(i.element)&&i.destroyContextMenu()}),h(this,"keyboardDocumentEventListener",function(a){a instanceof KeyboardEvent&&"Escape"==a.key&&i.destroyContextMenu()}),h(this,"closeContextMenuEventListener",function(a){a!==i.skipEvent&&i.destroyContextMenu(),i.skipEvent=void 0}),h(this,"contextmenuEventListener",function(a){(a instanceof PointerEvent||a instanceof MouseEvent)&&(a.preventDefault(),i.showContextMenuAt({x:a.x,y:a.y}))}),h(this,"skipEvent",void 0),h(this,"customContextMenuActivateListener",function(a){var s,o=a?a[0]:void 0;i.skipEvent=a?a[1]:void 0,!o&&i._appContextMenu&&(o=i._appContextMenu.defaultPopUpPosition),o||(o=null!==(s=i.element.getBoundingClientRect())&&void 0!==s?s:{x:0,y:0}),i.showContextMenuAt(o)}),this.vc=r,this.element=r.element.nativeElement,this.element.addEventListener("contextmenu",this.contextmenuEventListener)},[{key:"appContextMenu",get:function(){return this._appContextMenu},set:function(i){this._appContextMenu&&this._appContextMenu.additionalEvent&&this._appContextMenu.additionalEvent.removeListener(this.customContextMenuActivateListener),i&&i.additionalEvent&&i.additionalEvent.addListener(this.customContextMenuActivateListener),this._appContextMenu=i}},{key:"ngOnDestroy",value:function(){this.element.removeEventListener("contextmenu",this.contextmenuEventListener),this.destroyContextMenu()}},{key:"showContextMenuAt",value:function(i){this.destroyContextMenu(),this._appContextMenu&&(this.contextMenu=this.vc.createComponent(xj),this.contextMenu.instance.position=i,this.contextMenu.instance.contextMenu=this._appContextMenu,document.addEventListener("click",this.closeContextMenuEventListener),document.addEventListener("wheel",this.closeContextMenuEventListener),document.addEventListener("contextmenu",this.contextmenuDocumentEventListener),document.addEventListener("keydown",this.keyboardDocumentEventListener))}},{key:"destroyContextMenu",value:function(){this.contextMenu&&(this.contextMenu.destroy(),this.contextMenu=void 0,document.removeEventListener("click",this.closeContextMenuEventListener),document.removeEventListener("wheel",this.closeContextMenuEventListener),document.removeEventListener("contextmenu",this.contextmenuDocumentEventListener),document.removeEventListener("keydown",this.keyboardDocumentEventListener))}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(Nn))}),h(n,"\u0275dir",ue({type:e,selectors:[["","appContextMenu",""]],inputs:{appContextMenu:"appContextMenu"}})),n}(),Nj=["formula"],Fj=function(n){return{selected:n}},Rj=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"dialogService",void 0),h(this,"canvasElement",void 0),h(this,"formula",void 0),h(this,"formulaElementComp",void 0),this.drawerService=r,this.dialogService=i},[{key:"ngAfterViewInit",value:function(){var i=this;setTimeout(function(){i.formulaElementComp=i.formula.createComponent(i.canvasElement.componentType).instance,i.formulaElementComp.canvasElement=i.canvasElement})}},{key:"selected",get:function(){return this.drawerService.selection.contains(this.canvasElement||void 0)}},{key:"getContextMenuElementsFromFormulaElement",value:function(){return this.formulaElementComp?this.formulaElementComp.contextMenu.elements():[]}},{key:"completeContextMenu",get:function(){var a,o,i=this;return{elements:function(){var u=void 0!==i.canvasElement.formulaDialogType?[{header:"Anzeigen",click:function(){var f;null===(f=i.dialogService.createDialog(i.canvasElement.formulaDialogType))||void 0===f||f.open(i.canvasElement)},icon:"visibility",title:"Element anzeigen und bearbeiten."}]:[],l=i.selected,c=[].concat(u,V(i.getContextMenuElementsFromFormulaElement()),[{header:l?"Auswahl entfernen":"Ausw\xe4hlen",click:function(){i.drawerService.selection.alternate(i.canvasElement||void 0)},icon:l?"remove_done":"done",title:"Dieses Element ausw\xe4hlen."},{header:"L\xf6schen",color:"red",click:function(){i.drawerService.removeCanvasElements(i.canvasElement)},icon:"delete",title:"Dieses Element l\xf6schen."}]);return l&&c.push({header:"Auswahl l\xf6schen",click:function(){var f;(f=i.drawerService).removeCanvasElements.apply(f,V(i.drawerService.selection.toArray()))},color:"red",icon:"delete_sweep",title:"Alle ausgew\xe4hlten Elemente l\xf6schen."}),c},additionalEvent:null===(a=this.formulaElementComp)||void 0===a?void 0:a.contextMenu.additionalEvent,defaultPopUpPosition:null===(o=this.formulaElementComp)||void 0===o?void 0:o.contextMenu.defaultPopUpPosition}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(tu))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-formula-element"]],viewQuery:function(r,i){var a;1&r&&bt(Nj,5,Nn),2&r&&Et(a=Dt())&&(i.formula=a.first)},inputs:{canvasElement:"canvasElement"},decls:3,vars:4,consts:[["formula",""],[1,"wrapper",3,"appContextMenu","ngClass"],[1,"formula"]],template:function(r,i){1&r&&(E(0,"div",1),Qe(1,"div",2,0),D()),2&r&&Q("appContextMenu",i.completeContextMenu)("ngClass",Mn(2,Fj,i.selected))},dependencies:[$t,Rk],styles:[".wrapper[_ngcontent-%COMP%]{padding:15px;background:#fcfcfc;border:1px solid transparent;border-bottom:1px solid #ccc}.selected[_ngcontent-%COMP%]{border:1px solid black;border-radius:7px}.formula[_ngcontent-%COMP%]{display:none}"]})),n}();function Lj(e,n){1&e&&Qe(0,"app-formula-element",3),2&e&&Q("canvasElement",n.$implicit)}var Vj=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"drawerService",void 0),h(this,"contextMenu",{elements:function(){return[{header:"Funktion hinzuf\xfcgen",click:function(){i.addGraph()},icon:"show_chart",title:"Eine Funktion hinzuf\xfcgen."},{header:"Punkt hinzuf\xfcgen",click:function(){i.addPoint()},icon:"radio_button_checked",title:"Einen Punkt hinzuf\xfcgen."},{header:"Kurve hinzuf\xfcgen",click:function(){i.addCurve()},icon:"gesture",title:"Eine Kurve hinzuf\xfcgen."},{header:"Alle l\xf6schen",click:function(){i.drawerService.emptyCanvasElements()},icon:"delete",color:"red",title:"Alle Elemente l\xf6schen."}]}}),this.drawerService=r},[{key:"ngOnInit",value:function(){}},{key:"addClick",value:function(){this.addGraph()}},{key:"keyboardAdd",value:function(i){("Enter"==i.key||" "==i.key)&&this.addClick()}},{key:"addGraph",value:function(){var i=new tt(this.drawerService.parseAndValidateProviderGraph,void 0,this.drawerService.getNewColor());i.configuration.formula="0",i.configuration.editable=!0,this.drawerService.addCanvasElements(i)}},{key:"addPoint",value:function(){var i=this,a=new uu(function(o){return i.drawerService.parseAndValidateOperation(o)},this.drawerService.getNewColor());this.drawerService.addCanvasElements(a)}},{key:"addCurve",value:function(){var i=this,a=new lu(function(o,s){return i.drawerService.parseAndValidateOperation(o,!0,s)},this.drawerService.getNewColor());this.drawerService.addCanvasElements(a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-formula-tab"]],decls:6,vars:2,consts:[[3,"canvasElement",4,"ngFor","ngForOf"],["tabindex","0",1,"addDiv",3,"click","keydown","appContextMenu"],[1,"material-symbols-outlined"],[3,"canvasElement"]],template:function(r,i){1&r&&(Fn(0,Lj,1,1,"app-formula-element",0),E(1,"div",1),se("click",function(){return i.addClick()})("keydown",function(o){return i.keyboardAdd(o)}),E(2,"p")(3,"span",2),I(4,"add"),D(),I(5," Hinzuf\xfcgen "),D()()),2&r&&(Q("ngForOf",i.drawerService.canvasElements),O(),Q("appContextMenu",i.contextMenu))},dependencies:[oo,Rk,Rj],styles:['.addDiv[_ngcontent-%COMP%]{height:62px;background:#fcfcfc;transition:.1s all ease-in-out;line-height:62px}.addDiv[_ngcontent-%COMP%]:hover{background:#eee}.addDiv[_ngcontent-%COMP%]:active{background:#ddd}p[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;user-select:none;margin:0;height:100%;width:100%;display:inline-block;font-family:Segoe UI,Calibri,"sans-serif";font-size:13pt}.material-symbols-outlined[_ngcontent-%COMP%]{transform:translate(-5px,6px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}']})),n}(),Bj=["canvas"],Hj=["wrapper"],Uj=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"drawerService",void 0),h(this,"canvas",void 0),h(this,"canvasEl",void 0),h(this,"wrapper",void 0),h(this,"wrapperEl",void 0),h(this,"dialog",void 0),h(this,"_range",void 0),h(this,"_zoom",void 0),this.drawerService=r,this._range=r.renderingContext.range,this._zoom=r.zoom},[{key:"x",get:function(){return this._range.x},set:function(i){this._range.x=i,this.reload()}},{key:"y",get:function(){return this._range.y},set:function(i){this._range.y=i,this.reload()}},{key:"width",get:function(){return Math.abs(this._range.width)},set:function(i){this._range.width=Math.abs(i),this.reload()}},{key:"height",get:function(){return Math.abs(this._range.height)},set:function(i){this._range.height=Math.abs(i),this.reload()}},{key:"zoom",get:function(){return this._zoom},set:function(i){i>0&&(this._zoom=i,this.reload())}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.reload()}},{key:"download",value:function(){var i=document.createElement("canvas");this.drawToCanvas(i);var a=document.createElement("a");a.download="export.png",a.href=i.toDataURL(),a.click(),this.dialog.close()}},{key:"drawToCanvas",value:function(i){this.drawerService.drawToCanvas(i,{x:0,y:0,width:this.width*this.zoom,height:this.height*this.zoom},{translateX:-this.x,translateY:-this.y,zoom:this.zoom})}},{key:"reload",value:function(){this.canvasEl&&this.drawToCanvas(this.canvasEl)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-screenshot-dialog"]],viewQuery:function(r,i){var a;1&r&&(bt(Bj,5),bt(Hj,5)),2&r&&(Et(a=Dt())&&(i.canvas=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:28,vars:5,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],[1,"paragraph","heading"],[1,"paragraph"],[1,"centered","maths"],["type","number","title","x",1,"input",3,"ngModelChange","ngModel"],["type","number","title","y",1,"input",3,"ngModelChange","ngModel"],["type","number","title","Breite",1,"input",3,"ngModelChange","ngModel"],["type","number","title","H\xf6he",1,"input","leftMargin",3,"ngModelChange","ngModel"],["type","number","title","Zoom",1,"input",3,"ngModelChange","ngModel"],[1,"canvasWrapper"],["id","canvas",1,"canvas"],["title","Dialog schlie\xdfen",1,"button","floatRight","close",3,"click"],["title","Download",1,"button","floatRight",3,"click"]],template:function(r,i){if(1&r){var a=Lr();E(0,"div",2)(1,"p",3),I(2,"Screenshot machen"),D(),E(3,"p",4),I(4,"Startpunkt:"),D(),E(5,"p",5),I(6," ("),E(7,"input",6),G("ngModelChange",function(s){return Ke(a),j(i.x,s)||(i.x=s),$e(s)}),D(),I(8,"| "),E(9,"input",7),G("ngModelChange",function(s){return Ke(a),j(i.y,s)||(i.y=s),$e(s)}),D(),I(10,") "),D(),E(11,"p",4),I(12,"Breite und H\xf6he:"),D(),E(13,"p",5)(14,"input",8),G("ngModelChange",function(s){return Ke(a),j(i.width,s)||(i.width=s),$e(s)}),D(),E(15,"input",9),G("ngModelChange",function(s){return Ke(a),j(i.height,s)||(i.height=s),$e(s)}),D()(),E(16,"p",4),I(17,"Zoom:"),D(),E(18,"p",5)(19,"input",10),G("ngModelChange",function(s){return Ke(a),j(i.zoom,s)||(i.zoom=s),$e(s)}),D()(),E(20,"div",11,0),Qe(22,"canvas",12,1),D(),E(24,"button",13),se("click",function(){return Ke(a),$e(i.dialog.close())}),I(25,"Schlie\xdfen"),D(),E(26,"button",14),se("click",function(){return Ke(a),$e(i.download())}),I(27,"Download"),D()()}2&r&&(O(7),z("ngModel",i.x),O(2),z("ngModel",i.y),O(5),z("ngModel",i.width),O(),z("ngModel",i.height),O(4),z("ngModel",i.zoom))},dependencies:[pn,Mt,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{max-height:80vh;overflow:auto}.button[_ngcontent-%COMP%]{margin-left:7px;margin-top:7px;width:120px}.input[_ngcontent-%COMP%]{width:100px;display:unset}.leftMargin[_ngcontent-%COMP%]{margin-left:15px}.canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.canvasWrapper[_ngcontent-%COMP%]{padding:0;max-width:75vw}']})),n}(),zj=function(){var e,n=function(){return m(function t(r,i){y(this,t),h(this,"drawerService",void 0),h(this,"dialogService",void 0),this.drawerService=r,this.dialogService=i},[{key:"ngOnInit",value:function(){}},{key:"screenshot",value:function(){var i;null===(i=this.dialogService.createDialog(Uj))||void 0===i||i.open()}},{key:"download",value:function(){var i="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.drawerService.serialize())),a=document.createElement("a");a.href=i,a.download="download.json",a.click(),localStorage.setItem("serialized",JSON.stringify(this.drawerService.serialize()))}},{key:"openFile",value:function(){var i=this,a=document.getElementById("inp");if(a.files){var o,s=null===(o=a.files)||void 0===o?void 0:o.item(0);s?.text().then(function(u){try{i.drawerService.loadFrom(JSON.parse(u))}catch(l){console.error(l)}})}}},{key:"reset",value:function(){try{this.drawerService.loadFrom({canvasElements:[],backgroundColor:{r:255,g:255,b:255},transformations:{translateX:7,translateY:-5,zoom:100},showGrid:!0,showGridNumbers:!0})}catch{}}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er),A(tu))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-settings-tab"]],decls:26,vars:4,consts:[[1,"wrapper"],[1,"showGrid","settingsContainer"],["type","checkbox","id","showGrid",3,"ngModelChange","ngModel"],["for","showGrid"],[1,"showGridNumbers","settingsContainer"],["type","checkbox","id","showGridNumbers",3,"ngModelChange","ngModel","disabled"],["for","showGridNumbers"],[1,"drawPointsEqually","settingsContainer"],["type","checkbox","id","drawPointsEqually",3,"ngModelChange","ngModel"],["for","drawPointsEqually"],[1,"screenshotDiv","settingsContainer"],["title","Mache ein Screenshot",1,"button",3,"click"],[1,"downloadDiv","settingsContainer"],["title","Speicher in einer Datei",1,"button",3,"click"],[1,"openDiv","settingsContainer"],[1,"button","inpButton"],["title","Lade aus einer Datei","id","inp","type","file","accept",".json",3,"change"],[1,"resetDiv","settingsContainer"],["title","Alles zur\xfccksetzen",1,"button",3,"click"]],template:function(r,i){1&r&&(E(0,"div",0)(1,"div",1)(2,"input",2),G("ngModelChange",function(o){return j(i.drawerService.showGrid,o)||(i.drawerService.showGrid=o),o}),D(),E(3,"label",3),I(4,"Koordinatengitter anzeigen"),D()(),E(5,"div",4)(6,"input",5),G("ngModelChange",function(o){return j(i.drawerService.showGridNumbers,o)||(i.drawerService.showGridNumbers=o),o}),D(),E(7,"label",6),I(8,"Achsenbeschriftung anzeigen"),D()(),E(9,"div",7)(10,"input",8),G("ngModelChange",function(o){return j(i.drawerService.drawPointsEqually,o)||(i.drawerService.drawPointsEqually=o),o}),D(),E(11,"label",9),I(12,"Punkte auf gleicher Ebene zeichnen"),D()(),E(13,"div",10)(14,"button",11),se("click",function(){return i.screenshot()}),I(15,"Screenshot"),D()(),E(16,"div",12)(17,"button",13),se("click",function(){return i.download()}),I(18,"Herunterladen"),D()(),E(19,"div",14)(20,"button",15),I(21," \xd6ffnen "),E(22,"input",16),se("change",function(){return i.openFile()}),D()()(),E(23,"div",17)(24,"button",18),se("click",function(){return i.reset()}),I(25,"Zur\xfccksetzen"),D()()()),2&r&&(O(2),z("ngModel",i.drawerService.showGrid),O(4),z("ngModel",i.drawerService.showGridNumbers),Q("disabled",!i.drawerService.showGrid),O(4),z("ngModel",i.drawerService.drawPointsEqually))},dependencies:[ui,Sn,mn],styles:['.iconButton[_ngcontent-%COMP%]{--buttonSize: 46px;height:var(--buttonSize);width:var(--buttonSize);border:none;outline:none;background:#fcfcfc;transition:all .1s ease-in-out;border-radius:50%;user-select:none}.iconButton[_ngcontent-%COMP%]:hover{background:#eee}.iconButton[_ngcontent-%COMP%]:active, .iconButton[_ngcontent-%COMP%]:focus{background:#ddd}.iconButton.depositionTop[_ngcontent-%COMP%]{margin-top:calc(-1 * var(--buttonSize))}.input[_ngcontent-%COMP%]{--padding: 7px;--buttonSize: 46px;--border: 1px;inset:0;height:calc(var(--buttonSize) - 2 * (var(--padding) + var(--border)));font-size:14pt;font-family:"Cambria Math",Cambria,"CMU Serif",serif;padding:var(--padding);display:block;border:var(--border) solid transparent;border-radius:5px;outline:none;background:#eee;transition:.1s all ease-in-out;color:#555}.input[_ngcontent-%COMP%]:hover{background:#ddd}.input[_ngcontent-%COMP%]:focus{background:#fff;border:1px solid #d9d9d9;color:#000}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.button[_ngcontent-%COMP%]{padding:7px;outline:none;border:1px solid #cccccc;background:#fcfcfc;border-radius:5px;transition:all .1s ease-in-out;font-size:12pt;font-family:Segoe UI,Calibri,"sans-serif";font-weight:500;user-select:none}.button[_ngcontent-%COMP%]:hover{background:#eee;border:1px solid #999999}.button[_ngcontent-%COMP%]:focus, .button[_ngcontent-%COMP%]:active{background:#ddd;border:1px solid #555}.heading[_ngcontent-%COMP%]{font-size:16pt!important;font-weight:600;margin-top:0}.paragraph[_ngcontent-%COMP%]{font-size:13pt;font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.maths[_ngcontent-%COMP%]{font-size:14pt;user-select:none;font-family:"Cambria Math",Cambria,"CMU Serif",serif}.centered[_ngcontent-%COMP%]{text-align:center}.floatRight[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]{color:red}.wrapper[_ngcontent-%COMP%]{padding:16px;font-family:Segoe UI,Calibri,"sans-serif";font-size:11pt;user-select:none}.settingsContainer[_ngcontent-%COMP%]{margin-bottom:7px}.settingsContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:7px}.inpButton[_ngcontent-%COMP%]{position:relative}#inp[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}']})),n}(),Gj=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){r.addCanvasElements(new ge(a,r.getNewColor()))}}])}(jr),Wj=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){if(0===r.selection.size)Ge(Oe(n.prototype),"pointerMove",this).call(this,r,i,a,o,s);else{var l,u=x(r.selection.toArray());try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof ge&&void 0!==c.x&&void 0!==c.y&&!c.dependent&&(c.x+=o.x-a.x,c.y+=o.y-a.y)}}catch(d){u.e(d)}finally{u.f()}}}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey,function(s){return s instanceof ge&&!s.dependent})}}])}(jr),gi=function(e){function n(t,r){var i;return y(this,n),h(i=M(this,n),"types1",void 0),h(i,"types2",void 0),h(i,"selectedElement",void 0),i.types1=t,i.types2=r,i}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=this;r.selection.empty();var u=r.getSelection(a,function(l){return void 0===s.selectedElement&&(wr.apply(void 0,[l].concat(V(s.types1)))||wr.apply(void 0,[l].concat(V(s.types2))))||wr.apply(void 0,[s.selectedElement].concat(V(s.types1)))&&wr.apply(void 0,[l].concat(V(s.types2)))||wr.apply(void 0,[s.selectedElement].concat(V(s.types2)))&&wr.apply(void 0,[l].concat(V(s.types1)))});void 0!==u&&u!==this.selectedElement?void 0!==this.selectedElement?(wr.apply(void 0,[this.selectedElement].concat(V(this.types1)))&&wr.apply(void 0,[u].concat(V(this.types2)))?this.addCanvasElement(r,this.selectedElement,u):wr.apply(void 0,[this.selectedElement].concat(V(this.types2)))&&wr.apply(void 0,[u].concat(V(this.types1)))&&this.addCanvasElement(r,u,this.selectedElement),this.selectedElement=void 0):(this.selectedElement=u,r.selection.set(u)):this.selectedElement=void 0}}])}(jr);function wr(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var i=0,a=t;i<a.length;i++)if(e instanceof a[i])return!0;return!1}var qj=function(e){function n(){return y(this,n),M(this,n,[[ge,Ln],[ge,Ln]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createConnection(i,a))}}])}(gi),Zj=function(e){function n(){return y(this,n),M(this,n,[[ge,Ln],[ge,Ln]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(new ft(function(){return[i.point,a.point]},[i,a],function(){return{p1:i.id,p2:a.id}},Rn,"Verbindungsstrecke"))}}])}(gi),Yj=function(e){function n(){return y(this,n),M(this,n,[[ge,Ln],[ge,Ln]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(new kt(function(){return i.point},function(){return void 0!==i.point&&void 0!==a.point?Math.sqrt(Math.pow(i.point.x-a.point.x,2)+Math.pow(i.point.y-a.point.y,2)):void 0},[i,a],function(){return{center:i.id,scdPoint:a.id}},Rn,"Verbindungskreis"))}}])}(gi),Lk=function(e){function n(){return y(this,n),M(this,n,[[ge,Ln],[ge,Ln]])}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(u){return u instanceof ft});void 0!==s?this.addCanvasElementFromLineSegment(r,s):Ge(Oe(n.prototype),"click",this).call(this,r,i,a,o)}}])}(gi),Kj=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createBisectionByPoints(i,a))}},{key:"addCanvasElementFromLineSegment",value:function(r,i){r.addCanvasElements(vt.createBisectionByLineSegment(i))}}])}(Lk),$j=function(e){function n(){return y(this,n),M(this,n,[[ge,Ln],[vt,ft]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createParallel(i,a))}}])}(gi),Qj=function(e){function n(){return y(this,n),M(this,n,[[ge,Ln],[vt,ft]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(vt.createOrthogonal(i,a))}}])}(gi),Xj=function(e){function n(){return y(this,n),M(this,n,[[vt,ft,kt],[vt,ft,kt]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){var o=Ln.createIntersectionPoints(i,a);r.addCanvasElements.apply(r,V(o))}}])}(gi),Jj=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements(Ln.createMiddlePointByPoints(i,a))}},{key:"addCanvasElementFromLineSegment",value:function(r,i){r.addCanvasElements(Ln.createMiddlePointByLineSegment(i))}}])}(Lk),Vk=function(e){function n(){var t;y(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return h(t=M(this,n,[].concat(i)),"clickedElement1",void 0),h(t,"clickedElement2",void 0),t}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(d){return d instanceof ge});if(void 0!==s){if(s===this.clickedElement1)return this.clickedElement1=this.clickedElement2,this.clickedElement2=void 0,void r.selection.remove(s);if(s===this.clickedElement2)return this.clickedElement2=void 0,void r.selection.remove(s);if((void 0===this.clickedElement1&&void 0===this.clickedElement2||void 0!==this.clickedElement1&&void 0!==this.clickedElement2)&&r.selection.empty(),void 0===this.clickedElement1)return this.clickedElement1=s,void r.selection.set(s);if(void 0===this.clickedElement2)return this.clickedElement2=s,void r.selection.alternate(s);this.addCanvasElement(r,this.clickedElement1,this.clickedElement2,s)}else r.selection.empty(),this.clickedElement1=void 0,this.clickedElement2=void 0}}])}(jr),ez=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a,o){r.addCanvasElements(vt.createAngleBisector(a,i,o))}}])}(Vk),nz=function(e){function n(){return y(this,n),M(this,n,[[ge,Ln],[kt]])}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a){r.addCanvasElements.apply(r,V(vt.createTangens(i,a)))}}])}(gi),tz=function(e){function n(){var t;y(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return h(t=M(this,n,[].concat(i)),"transformInvisibleColor",function(o){return Xt(o)}),t}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a,function(){return!0},!1);void 0!==s&&(s.visible=!s.visible)}}])}(jr),rz=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"click",value:function(r,i,a,o){var s=r.getSelection(a);void 0!==s&&(s.configuration.showLabel=!0!==s.configuration.showLabel,r.onCanvasElementChanged.emit(s))}}])}(jr),iz=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"pointerMove",value:function(r,i,a,o,s){if(0===r.selection.size)Ge(Oe(n.prototype),"pointerMove",this).call(this,r,i,a,o,s);else{var l,u=x(r.selection.toArray());try{for(u.s();!(l=u.n()).done;){var c=l.value;if(c.configuration.showLabel&&c.configuration.label){var d=i.range,f=(o.x-a.x)/Math.abs(d.width),v=(o.y-a.y)/Math.abs(d.height);c.labelTranslateX+=f,c.labelTranslateY+=v}}}catch(g){u.e(g)}finally{u.f()}}}},{key:"click",value:function(r,i,a,o){r.setSelection(a,!o.ctrlKey)}}])}(jr),az=function(e){function n(){return y(this,n),M(this,n,arguments)}return k(n,e),m(n,[{key:"addCanvasElement",value:function(r,i,a,o){r.addCanvasElements(new su([i,a,o],r.getNewColor()))}}])}(Vk),oz=function(n){return{active:n}};function sz(e,n){if(1&e){var t=Lr();E(0,"div",5),se("click",function(){return $e(Ke(t).$implicit.click())}),Qe(1,"img",6),E(2,"p"),I(3),D()()}if(2&e){var r=n.$implicit;Q("title",r.tooltip)("ngClass",Mn(4,oz,r.isActivated())),O(),Q("src","./assets/"+r.icon+".svg",Jf),O(2),nn(r.title)}}function uz(e,n){if(1&e&&(E(0,"div",2)(1,"p",3),I(2),D(),Fn(3,sz,4,6,"div",4),D()),2&e){var t=n.$implicit;O(2),nn(t.name),O(),Q("ngForOf",t.modes)}}var lz=function(){var e,n=function(){return m(function t(r){var i=this;y(this,t),h(this,"drawerService",void 0),h(this,"groups",[{name:"Bewegungen und Sichtbarkeiten",modes:[new Vn(function(){return i.drawerService},function(){return new jr},"Bewegen","Bewege den Canvas und w\xe4hle Elemente aus","move"),new Vn(function(){return i.drawerService},function(){return new Wj},"Verschieben","Verschiebe Punkte","movePoints"),new Vn(function(){return i.drawerService},function(){return new tz},"Anzeigen","Mache Elemente (un-)sichtbar","changeVisibility"),new Vn(function(){return i.drawerService},function(){return new rz},"Label anzeigen","Mache Labels (un-)sichtbar","showLabelVisibility"),new Vn(function(){return i.drawerService},function(){return new iz},"Label bewegen","Verschiebe Labels","moveLabels")]},{name:"Einfache Konstruktionen",modes:[new Vn(function(){return i.drawerService},function(){return new Gj},"Punkte","Erstelle neue Punkte","points"),new Vn(function(){return i.drawerService},function(){return new qj},"Gerade","Erstelle eine neue Gerade mit zwei Punkten","line"),new Vn(function(){return i.drawerService},function(){return new Zj},"Strecke","Erstelle eine neue Strecke zwischen zwei Punkten","lineSegment"),new Vn(function(){return i.drawerService},function(){return new Yj},"Kreis","Erstelle einen neuen Kreis mit zwei Punkten","circle")]},{name:"Weiter Konstruktionen",modes:[new Vn(function(){return i.drawerService},function(){return new Xj},"Schnittpunkt","Mache den Schnittpunkt zwischen Geraden, Strecken und Kreisen","intersection"),new Vn(function(){return i.drawerService},function(){return new Jj},"Mittelpunkt","Mache den Mittelpunkt einer Strecke oder zwischen zwei Punkten","middlePoint"),new Vn(function(){return i.drawerService},function(){return new Kj},"Mittelsenk.","Mache die Mittelsenkrechte einer Strecke oder zwischen zwei Punkten","bisection"),new Vn(function(){return i.drawerService},function(){return new az},"Winkel","Lege einen Winkel durch drei Punkte","angle"),new Vn(function(){return i.drawerService},function(){return new ez},"Winkelhalb.","Mache die Winkelhalbierende von drei Punkten","angleBisector"),new Vn(function(){return i.drawerService},function(){return new $j},"Parallel","Mache die Parallele zu einer Geraden durch einen Punkt","parallel"),new Vn(function(){return i.drawerService},function(){return new Qj},"Lot","Mache den Lot zu eine Geraden durch einen Punkt","orthogonal"),new Vn(function(){return i.drawerService},function(){return new nz},"Tangente","Mache die Tangente an einen Kreis durch einen Punkt","tangens")]}]),this.drawerService=r},[{key:"ngOnInit",value:function(){}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-geometry-tab"]],decls:2,vars:1,consts:[[1,"wrapper"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"groupName"],["class","tabHeader","tabindex","0",3,"title","ngClass","click",4,"ngFor","ngForOf"],["tabindex","0",1,"tabHeader",3,"click","title","ngClass"],[1,"icon",3,"src"]],template:function(r,i){1&r&&(E(0,"div",0),Fn(1,uz,4,2,"div",1),D()),2&r&&(O(),Q("ngForOf",i.groups))},dependencies:[$t,oo],styles:['.wrapper[_ngcontent-%COMP%]{--size: 70px;--margin: 9px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;display:inline-block}.tabHeader[_ngcontent-%COMP%], .groupName[_ngcontent-%COMP%]{font-family:Segoe UI,Calibri,"sans-serif";user-select:none}.groupName[_ngcontent-%COMP%]{font-weight:700;font-size:large;margin-top:50px;margin-bottom:0}.group[_ngcontent-%COMP%]:first-child   .groupName[_ngcontent-%COMP%]{margin-top:0}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:-20px;text-align:center;line-height:2.5;font-size:smaller}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.wrapper[_ngcontent-%COMP%]{margin:16px}.icon[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:10px;user-select:none;pointer-events:none}']})),n}(),Vn=function(){return m(function e(n,t,r,i,a){y(this,e),h(this,"drawerServiceProvider",void 0),h(this,"getInstance",void 0),h(this,"title",void 0),h(this,"tooltip",void 0),h(this,"icon",void 0),this.drawerServiceProvider=n,this.getInstance=t,this.title=r,this.tooltip=i,this.icon=a},[{key:"click",value:function(){this.drawerServiceProvider().mode=this.getInstance(!0)}},{key:"isActivated",value:function(){var t=this.drawerServiceProvider().mode;return void 0!==t&&t.constructor===this.getInstance(!1).constructor}}])}(),cz=function(){var e=function(){function n(t,r){var i=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y(this,n),h(this,"element",void 0),h(this,"pointerControllerEvents",void 0),h(this,"preventDefault",void 0),h(this,"_active",!1),h(this,"pointerCache",new np),h(this,"pointerMoveCountCache",new np),h(this,"startEvent",function(o){if(o instanceof PointerEvent){var s=xc(o,i.element);i.pointerCache.setItem(o.pointerId,s),i.pointerMoveCountCache.setItem(o.pointerId,0),i.pointerControllerEvents.pointerStart&&i.pointerControllerEvents.pointerStart(s,i.getPointerContext(o))}}),h(this,"moveEvent",function(o){if(o instanceof PointerEvent){var s=xc(o,i.element);i.pointerMoveCountCache.hasKey(o.pointerId)&&i.pointerMoveCountCache.setItem(o.pointerId,i.pointerMoveCountCache.getItem(o.pointerId)+1),i.pointerCache.hasKey(o.pointerId)&&(i.pointerControllerEvents.pointerMove&&i.pointerControllerEvents.pointerMove(i.pointerCache.getItem(o.pointerId),s,i.getPointerContext(o)),i.pointerCache.setItem(o.pointerId,s))}}),h(this,"endEvent",function(o){if(o instanceof PointerEvent){var s=xc(o,i.element),u=i.getPointerContext(o);i.pointerControllerEvents.pointerEnd&&i.pointerCache.hasKey(o.pointerId)&&i.pointerControllerEvents.pointerEnd(s,u),i.pointerControllerEvents.click&&0===i.pointerMoveCountCache.getItem(o.pointerId)&&i.pointerControllerEvents.click(s,u),i.pointerCache.delItem(o.pointerId),i.pointerMoveCountCache.delItem(o.pointerId)}}),h(this,"mouseWheelHandler",function(o){if(o instanceof WheelEvent){o.preventDefault();var s=xc(o,i.element),u=Math.sqrt(Math.pow(o.deltaY,2)+Math.pow(o.deltaX,2)+Math.pow(o.deltaZ,2))*Math.sign((o.deltaX?o.deltaX:1)*(o.deltaY?o.deltaY:1)*(o.deltaZ?o.deltaZ:1));i.pointerControllerEvents.scroll&&i.pointerControllerEvents.scroll(s,u)}}),h(this,"preventDefaultEvent",function(o){o.preventDefault()}),h(this,"mainTouchEventId",void 0),h(this,"evCache",[]),h(this,"prevDiff",-1),h(this,"startPinchZoomEvent",function(o){o instanceof PointerEvent&&"touch"==o.pointerType&&(i.evCache.push(o),null==i.mainTouchEventId&&(i.mainTouchEventId=o.pointerId))}),h(this,"movePinchZoomEvent",function(o){if(o instanceof PointerEvent&&"touch"==o.pointerType){for(var s=0;s<i.evCache.length;s++)if(o.pointerId==i.evCache[s].pointerId){i.evCache[s]=o;break}if(2==i.evCache.length){var u={x:i.evCache[0].clientX,y:i.evCache[0].clientY},l={x:i.evCache[1].clientX,y:i.evCache[1].clientY},c=Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2)),d=i.element.getBoundingClientRect();i.prevDiff>0&&c>0&&i.pointerControllerEvents.pinchZoom&&i.pointerControllerEvents.pinchZoom({x:(u.x+l.x)/2-d.left,y:(u.y+l.y)/2-d.top},c/i.prevDiff),i.prevDiff=c}else i.evCache.length<2&&(i.prevDiff=-1)}}),h(this,"endPinchZoomEvent",function(o){o instanceof PointerEvent&&"touch"==o.pointerType&&(i.removeEventPinchZoom(o),i.evCache.length<2&&(i.prevDiff=-1),i.mainTouchEventId==o.pointerId&&(i.mainTouchEventId=void 0))}),h(this,"removeEventPinchZoom",function(o){for(var s=0;s<i.evCache.length;s++)if(i.evCache[s].pointerId==o.pointerId){i.evCache.splice(s,1);break}}),this.element=t,this.pointerControllerEvents=r,this.preventDefault=a,this.start()}return m(n,[{key:"active",get:function(){return this._active}},{key:"getPointerContext",value:function(r){return{id:r.pointerId,pointerCount:this.pointerCache.size,ctrlKey:r.ctrlKey,moveEventsFired:this.pointerMoveCountCache.getItem(r.pointerId)}}},{key:"start",value:function(){if(!this.active){var i,r=x(n.starts);try{for(r.s();!(i=r.n()).done;){var a=i.value;this.element.addEventListener(a,this.startEvent),this.element.addEventListener(a,this.startPinchZoomEvent)}}catch(_){r.e(_)}finally{r.f()}var s,o=x(n.moves);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.element.addEventListener(u,this.moveEvent),this.element.addEventListener(u,this.movePinchZoomEvent)}}catch(_){o.e(_)}finally{o.f()}var c,l=x(n.ends);try{for(l.s();!(c=l.n()).done;){var d=c.value;this.element.addEventListener(d,this.endEvent),this.element.addEventListener(d,this.endPinchZoomEvent)}}catch(_){l.e(_)}finally{l.f()}var v,f=x(n.scrolls);try{for(f.s();!(v=f.n()).done;)this.element.addEventListener(v.value,this.mouseWheelHandler)}catch(_){f.e(_)}finally{f.f()}if(this.preventDefault){var C,p=x(n.prevents);try{for(p.s();!(C=p.n()).done;)this.element.addEventListener(C.value,this.preventDefaultEvent)}catch(_){p.e(_)}finally{p.f()}}this._active=!0,this.pointerCache.empty()}}},{key:"end",value:function(){if(this.active){var i,r=x(n.starts);try{for(r.s();!(i=r.n()).done;){var a=i.value;try{this.element.removeEventListener(a,this.startEvent)}catch{}try{this.element.removeEventListener(a,this.startPinchZoomEvent)}catch{}}}catch(_){r.e(_)}finally{r.f()}var s,o=x(n.moves);try{for(o.s();!(s=o.n()).done;){var u=s.value;try{this.element.removeEventListener(u,this.moveEvent)}catch{}try{this.element.removeEventListener(u,this.movePinchZoomEvent)}catch{}}}catch(_){o.e(_)}finally{o.f()}var c,l=x(n.ends);try{for(l.s();!(c=l.n()).done;){var d=c.value;try{this.element.removeEventListener(d,this.endEvent)}catch{}try{this.element.removeEventListener(d,this.endPinchZoomEvent)}catch{}}}catch(_){l.e(_)}finally{l.f()}var v,f=x(n.scrolls);try{for(f.s();!(v=f.n()).done;){var g=v.value;try{this.element.removeEventListener(g,this.mouseWheelHandler)}catch{}}}catch(_){f.e(_)}finally{f.f()}if(this.preventDefault){var C,p=x(n.prevents);try{for(p.s();!(C=p.n()).done;){var b=C.value;try{this.element.removeEventListener(b,this.preventDefaultEvent)}catch{}}}catch(_){p.e(_)}finally{p.f()}}this._active=!1,this.pointerCache.empty()}}}])}();return h(e,"starts",["pointerdown"]),h(e,"moves",["pointermove"]),h(e,"ends",["pointerup","pointerleave","pointercancel","pointerout"]),h(e,"scrolls",["wheel"]),h(e,"prevents",["pointerdown","pointermove","pointerup","pointerleave","pointercancel","pointerout","pointerover","pointerenter","contextmenu"]),e}(),dz=["canvas"],fz=["wrapper"],vz=function(){var e,n=function(){return m(function t(r){y(this,t),h(this,"drawerService",void 0),h(this,"canvas",void 0),h(this,"canvasEl",void 0),h(this,"ctx",void 0),h(this,"wrapper",void 0),h(this,"wrapperEl",void 0),this.drawerService=r,this.drawerService.canvas=this},[{key:"ngAfterViewInit",value:function(){var i,a=this;this.canvasEl=this.canvas.nativeElement,this.wrapperEl=this.wrapper.nativeElement,this.ctx=null===(i=this.canvasEl)||void 0===i?void 0:i.getContext("2d"),window.onresize=function(){a.drawerService.redraw()},new cz(this.canvasEl,{pointerMove:function(s,u,l){var c,d=a.drawerService.renderingContext,f=d.transformPointFromCanvasToField(s),v=d.transformPointFromCanvasToField(u);null===(c=a.drawerService.mode)||void 0===c||c.pointerMove(a.drawerService,d,f,v,l)},click:function(s,u){var l,c=a.drawerService.renderingContext,d=c.transformPointFromCanvasToField(s);null===(l=a.drawerService.mode)||void 0===l||l.click(a.drawerService,c,d,u)},scroll:function(s,u){0!=u&&(u*=-.008333333333333333,u+=Math.sign(u),a.drawerService.zoomToBy(s,u>0?u:1/-u))},pinchZoom:function(s,u){a.drawerService.zoomToBy(s,u)}});try{this.drawerService.loadFrom(JSON.parse(localStorage[Sk]))}catch{}this.drawerService.redraw()}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(er))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-canvas"]],viewQuery:function(r,i){var a;1&r&&(bt(dz,5),bt(fz,5)),2&r&&(Et(a=Dt())&&(i.canvas=a.first),Et(a=Dt())&&(i.wrapper=a.first))},decls:4,vars:0,consts:[["wrapper",""],["canvas",""],[1,"wrapper"],["id","canvas",1,"canvas"]],template:function(r,i){1&r&&(E(0,"div",2,0),Qe(2,"canvas",3,1),D())},styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:0;touch-action:none}.wrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}"]})),n}(),hz=["tabPage"],gz=function(n){return{empty:n}},pz=function(n){return{active:n}};function mz(e,n){if(1&e&&(E(0,"p"),I(1),D()),2&e){var t=en().$implicit;O(),nn(t.title)}}function yz(e,n){if(1&e&&(E(0,"span",10),I(1),D()),2&e){var t=en().$implicit;O(),nn(t.icon)}}function _z(e,n){if(1&e){var t=Lr();E(0,"div",7),se("click",function(){var o=Ke(t).$implicit;return $e(en().onTabClick(o))})("keydown",function(o){var s=Ke(t).$implicit;return $e(en().onTabKeyboard(o,s))}),Fn(1,mz,2,1,"p",8)(2,yz,2,1,"span",9),D()}if(2&e){var r=n.$implicit,i=en();Q("title",r.title)("ngClass",Mn(4,pz,i.currentTab==r)),O(),Q("ngIf",!r.icon),O(),Q("ngIf",r.icon)}}var Cz=function(){var e,n=function(){return m(function t(){y(this,t),h(this,"currentComponent",void 0),h(this,"_currentTab",void 0),h(this,"tabs",[]),h(this,"tabPage",void 0)},[{key:"currentTab",get:function(){return this._currentTab},set:function(i){i!=this.currentTab&&(this.currentComponent&&this.currentComponent.destroy(),i&&(this.currentComponent=this.tabPage.createComponent(i.componentType)),this._currentTab=i)}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var i=this;setTimeout(function(){i.currentTab=i.tabs[0]},0)}},{key:"onTabClick",value:function(i){this.currentTab=this.currentTab==i?void 0:i}},{key:"onTabKeyboard",value:function(i,a){("Enter"==i.key||" "==i.key)&&this.onTabClick(a)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-tab-group"]],viewQuery:function(r,i){var a;1&r&&bt(hz,5,Nn),2&r&&Et(a=Dt())&&(i.tabPage=a.first)},inputs:{tabs:"tabs"},decls:7,vars:4,consts:[["tabPage",""],[1,"wrapper",3,"ngClass"],[1,"table"],[1,"tabHeaders"],["class","tabHeader","tabindex","0",3,"title","ngClass","click","keydown",4,"ngFor","ngForOf"],[1,"tabContainer"],[1,"tabPage"],["tabindex","0",1,"tabHeader",3,"click","keydown","title","ngClass"],[4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"]],template:function(r,i){1&r&&(E(0,"div",1)(1,"div",2)(2,"div",3),Fn(3,_z,3,6,"div",4),D(),E(4,"div",5),Qe(5,"div",6,0),D()()()),2&r&&(Q("ngClass",Mn(2,gz,null==i.currentTab)),O(3),Q("ngForOf",i.tabs))},dependencies:[$t,oo,so],styles:['.wrapper[_ngcontent-%COMP%]{--size: 60px;--margin: 3px;--border: 1px;--borderColor: #aaa;--padding: 2px;--borderRadius: 5px;--width: calc(var(--size) + 2 * var(--margin) + var(--border));--background: #fcfcfc}.tabHeaders[_ngcontent-%COMP%]{left:0;top:0;bottom:0;width:var(--width);padding:var(--padding);position:absolute;float:left;border-right:var(--border) solid var(--borderColor);border-bottom-right-radius:var(--borderRadius);border-top-right-radius:var(--borderRadius);background:#fff;box-shadow:0 0 7px #555;user-select:none;overflow:auto;scrollbar-width:none}.tabHeaders[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabHeader[_ngcontent-%COMP%]{--sizeHeader: calc(var(--size) - 2 * var(--border));width:var(--sizeHeader);height:var(--sizeHeader);margin:var(--margin);border:1px solid transparent;text-align:center;line-height:var(--sizeHeader);border-radius:var(--borderRadius);transition:.1s all ease-in-out;font-family:Segoe UI,Calibri,"sans-serif"}.tabHeader[_ngcontent-%COMP%]:hover{background:#eee}.tabHeader[_ngcontent-%COMP%]:active{background:#d9d9d9}.tabHeader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.tabHeader.active[_ngcontent-%COMP%]{background:#ddd}.tabContainer[_ngcontent-%COMP%]{inset:0;float:right;height:100%;width:calc(100% - var(--width) - 2 * var(--padding));background:var(--background);overflow:auto;border-right:1px solid #ccc}.empty[_ngcontent-%COMP%]   .tabContainer[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--background)}.empty.wrapper[_ngcontent-%COMP%]{width:calc(var(--width) + 2 * var(--padding))}.table[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;clear:both;box-sizing:border-box;background-color:transparent;overflow:hidden}.material-symbols-outlined[_ngcontent-%COMP%]{transform:scale(1.5) translateY(4px);font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.tabPage[_ngcontent-%COMP%]{display:none}']})),n}(),bz=function(){var e,n=function(){return m(function t(r,i,a){y(this,t),h(this,"dialogService",void 0),h(this,"snackbarService",void 0),h(this,"viewContainerRef",void 0),h(this,"tabs",[{title:"Formeln",icon:"functions",componentType:Vj},{title:"Geometrie",icon:"radio_button_unchecked",componentType:lz},{title:"Einstellungen",icon:"settings",componentType:zj}]),this.dialogService=r,this.snackbarService=i,this.viewContainerRef=a,this.dialogService.rootViewContainerRef=this.viewContainerRef,this.snackbarService.rootViewContainerRef=this.viewContainerRef},[{key:"renderMathToSvg",value:function(i){var a=this;MathJax.Hub.Queue(["Typeset",MathJax.Hub,function(){var o=MathJax.Hub.getAllJax()[0];MathJax.Hub.Queue(["Text",o,i]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,function(){var s=o.root.toSVG();a.displaySvg(s)}])}])}},{key:"displaySvg",value:function(i){console.log(i);var a=document.getElementById("svg-container");a&&(a.innerHTML=i)}}])}();return e=n,h(n,"\u0275fac",function(r){return new(r||e)(A(tu),A(cp),A(Nn))}),h(n,"\u0275cmp",ke({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"barWrapper"],[3,"tabs"],[1,"canvas"]],template:function(r,i){1&r&&(E(0,"div",0),Qe(1,"app-tab-group",1),D(),Qe(2,"app-canvas",2)),2&r&&(O(),Q("tabs",i.tabs))},dependencies:[vz,Cz],styles:[".canvas[_ngcontent-%COMP%]{padding:0;margin:0}.barWrapper[_ngcontent-%COMP%]{width:30%;min-width:min(100%,500px);position:absolute;height:100%;pointer-events:none;overflow:hidden}.barWrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}"]})),n}();function Bk(e){return new un(function(n){_r(e()).subscribe(n)})}function od(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Se(n)?od(function(r,i){return Rt(function(a,o){return n(r,a,i,o)})(_r(e(r,i)))},t):("number"==typeof n&&(t=n),Ft(function(r,i){return function Dz(e,n,t,r,i,a,o,s){var u=[],l=0,c=0,d=!1,f=function(){d&&!u.length&&!l&&n.complete()},v=function(C){return l<r?g(C):u.push(C)},g=function p(C){a&&n.next(C),l++;var b=!1;_r(t(C,c++)).subscribe(new ht(n,function(_){i?.(_),a?v(_):n.next(_)},function(){b=!0},void 0,function(){if(b)try{l--;for(var _=function(){var S=u.shift();o?si(n,o,function(){return p(S)}):p(S)};u.length&&l<r;)_();f()}catch(w){n.error(w)}}))};return e.subscribe(new ht(n,v,function(){d=!0,f()})),function(){s?.()}}(r,i,e,t)}))}var wz=["addListener","removeListener"],Mz=["addEventListener","removeEventListener"],kz=["on","off"];function sd(e,n,t,r){if(Se(t)&&(r=t,t=void 0),r)return sd(e,n,t).pipe(aM(r));var a=it(function Tz(e){return Se(e.addEventListener)&&Se(e.removeEventListener)}(e)?Mz.map(function(u){return function(l){return e[u](n,l,t)}}):function Sz(e){return Se(e.addListener)&&Se(e.removeListener)}(e)?wz.map(Hk(e,n)):function Iz(e){return Se(e.on)&&Se(e.off)}(e)?kz.map(Hk(e,n)):[],2),o=a[0],s=a[1];if(!o&&Sg(e))return od(function(u){return sd(u,n,t)})(_r(e));if(!o)throw new TypeError("Invalid event target");return new un(function(u){var l=function(){for(var d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return u.next(1<f.length?f:f[0])};return o(l),function(){return s(l)}})}function Hk(e,n){return function(t){return function(r){return e[t](n,r)}}}function dp(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Qs(n,Tg(n))}function Uk(){return od(Sd,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0)}function jk(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function Pz(){return Uk(1)}()(Qs(n,Tg(n)))}var Do=new un(ea),fp=new un(function(e){return e.complete()});function zk(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=Tg(n),i=function M5(e,n){return"number"==typeof Ig(e)?e.pop():n}(n,1/0),a=n;return a.length?1===a.length?_r(a[0]):Uk(i)(Qs(a,r)):fp}function vu(e,n){return Ft(function(t,r){var i=0;t.subscribe(new ht(r,function(a){return e.call(n,a,i++)&&r.next(a)}))})}function ud(e,n){return Ft(function(t,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};t.subscribe(new ht(r,function(u){i?.unsubscribe();var l=0,c=a++;_r(e(u,c)).subscribe(i=new ht(r,function(d){return r.next(n?n(u,d,c,l++):d)},function(){i=null,s()}))},function(){o=!0,s()}))})}var xz=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n)).source=t,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,Wp(t)&&(i.lift=t.lift),i}return k(n,e),m(n,[{key:"_subscribe",value:function(r){return this.getSubject().subscribe(r)}},{key:"getSubject",value:function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()}},{key:"connect",value:function(){var r=this,i=this._connection;if(!i){i=this._connection=new St;var a=this.getSubject();i.add(this.source.subscribe(new ht(a,void 0,function(){r._teardown(),a.complete()},function(o){r._teardown(),a.error(o)},function(){return r._teardown()}))),i.closed&&(this._connection=null,i=St.EMPTY)}return i}},{key:"refCount",value:function(){return function Az(){return Ft(function(e,n){var t=null;e._refCount++;var r=new ht(n,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)t=null;else{var i=e._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()}});e.subscribe(r),r.closed||(t=e.connect())})}()(this)}}])}(un),Fz={connector:function(){return new Mr}};function Gk(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fz).connector;return Ft(function(r,i){var a=t();Qs(e(function Nz(e){return new un(function(n){return e.subscribe(n)})}(a))).subscribe(i),i.add(r.subscribe(a))})}function pi(e){return e<=0?function(){return fp}:Ft(function(n,t){var r=0;n.subscribe(new ht(t,function(i){++r<=e&&(t.next(i),e<=r&&t.complete())}))})}var Bz=function(e){function n(t,r){return y(this,n),M(this,n)}return k(n,e),m(n,[{key:"schedule",value:function(r){return this}}])}(St),ld={setInterval:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){var e=ld.delegate;return(e?.setInterval||setInterval).apply(void 0,arguments)}),clearInterval:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){var n=ld.delegate;return(n?.clearInterval||clearInterval)(e)}),delegate:void 0},Hz=function(e){function n(t,r){var i;return y(this,n),(i=M(this,n,[t,r])).scheduler=t,i.work=r,i.pending=!1,i}return k(n,e),m(n,[{key:"schedule",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=r;var a=this.id,o=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(o,a,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(o,this.id,i),this}},{key:"requestAsyncId",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ld.setInterval(r.flush.bind(r,this),a)}},{key:"recycleAsyncId",value:function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=a&&this.delay===a&&!1===this.pending)return i;ld.clearInterval(i)}},{key:"execute",value:function(r,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(r,i);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(r,i){var o,a=!1;try{this.work(r)}catch(s){a=!0,o=s||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),o}},{key:"unsubscribe",value:function(){if(!this.closed){var r=this.id,i=this.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Du(a,this),null!=r&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,Ge(Oe(n.prototype),"unsubscribe",this).call(this)}}}])}(Bz),Wk={now:function(){return(Wk.delegate||Date).now()},delegate:void 0},vp=function(){return m(function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;y(this,e),this.schedulerActionCtor=n,this.now=t},[{key:"schedule",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,t).schedule(i,r)}}])}();vp.now=Wk.now;var Uz=function(e){function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vp.now;return y(this,n),(r=M(this,n,[t,i])).actions=[],r._active=!1,r._scheduled=void 0,r}return k(n,e),m(n,[{key:"flush",value:function(r){var i=this.actions;if(this._active)i.push(r);else{var a;this._active=!0;do{if(a=r.execute(r.state,r.delay))break}while(r=i.shift());if(this._active=!1,a){for(;r=i.shift();)r.unsubscribe();throw a}}}}])}(vp),qk=new Uz(Hz),jz=qk;function Zk(e,n){return n?function(t){return jk(n.pipe(pi(1),function zz(){return Ft(function(e,n){e.subscribe(new ht(n,ea))})}()),t.pipe(Zk(e)))}:od(function(t,r){return e(t,r).pipe(pi(1),function Gz(e){return Rt(function(){return e})}(t))})}var hu="Service workers are disabled or not supported by this browser";var cd=function(){return m(function e(n){if(y(this,e),this.serviceWorker=n,n){var r=sd(n,"controllerchange").pipe(Rt(function(){return n.controller})),a=jk(Bk(function(){return dp(n.controller)}),r);this.worker=a.pipe(vu(function(c){return!!c})),this.registration=this.worker.pipe(ud(function(){return n.getRegistration()}));var l=sd(n,"message").pipe(Rt(function(c){return c.data})).pipe(vu(function(c){return c&&c.type})).pipe(function Lz(e){return e?function(n){return Gk(e)(n)}:function(n){return function Rz(e,n){var t=Se(e)?e:function(){return e};return Se(n)?Gk(n,{connector:t}):function(r){return new xz(r,t)}}(new Mr)(n)}}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function Yz(e){return Bk(function(){return function Ez(e,n){var t=Se(e)?e:function(){return e},r=function(a){return a.error(t())};return new un(n?function(i){return n.schedule(r,0,i)}:r)}(new Error(e))})}(hu)},[{key:"postMessage",value:function(t,r){return this.worker.pipe(pi(1),function Vz(e,n,t){var r=Se(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ft(function(i,a){var o;null===(o=r.subscribe)||void 0===o||o.call(r);var s=!0;i.subscribe(new ht(a,function(u){var l;null===(l=r.next)||void 0===l||l.call(r,u),a.next(u)},function(){var u;s=!1,null===(u=r.complete)||void 0===u||u.call(r),a.complete()},function(u){var l;s=!1,null===(l=r.error)||void 0===l||l.call(r,u),a.error(u)},function(){var u,l;s&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Sd}(function(i){i.postMessage(re({action:t},r))})).toPromise().then(function(){})}},{key:"postMessageWithOperation",value:function(t,r,i){var a=this.waitForOperationCompleted(i),o=this.postMessage(t,r);return Promise.all([o,a]).then(function(s){return it(s,2)[1]})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(t){return this.events.pipe(vu("string"==typeof t?function(a){return a.type===t}:function(a){return t.includes(a.type)}))}},{key:"nextEventOfType",value:function(t){return this.eventsOfType(t).pipe(pi(1))}},{key:"waitForOperationCompleted",value:function(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(vu(function(r){return r.nonce===t}),pi(1),Rt(function(r){if(void 0!==r.result)return r.result;throw new Error(r.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}])}(),Yk=function(){var e,n=function(){return m(function t(r){if(y(this,t),this.sw=r,this.pushManager=null,this.subscriptionChanges=new Mr,!r.isEnabled)return this.messages=Do,this.notificationClicks=Do,void(this.subscription=Do);this.messages=this.sw.eventsOfType("PUSH").pipe(Rt(function(a){return a.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Rt(function(a){return a.data})),this.pushManager=this.sw.registration.pipe(Rt(function(a){return a.pushManager}));var i=this.pushManager.pipe(ud(function(a){return a.getSubscription()}));this.subscription=zk(i,this.subscriptionChanges)},[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(i){var a=this;if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(hu));for(var o={userVisibleOnly:!0},s=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),u=new Uint8Array(new ArrayBuffer(s.length)),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return o.applicationServerKey=u,this.pushManager.pipe(ud(function(c){return c.subscribe(o)}),pi(1)).toPromise().then(function(c){return a.subscriptionChanges.next(c),c})}},{key:"unsubscribe",value:function(){var i=this;return this.sw.isEnabled?this.subscription.pipe(pi(1),ud(function(s){if(null===s)throw new Error("Not subscribed to push notifications.");return s.unsubscribe().then(function(u){if(!u)throw new Error("Unsubscribe failed!");i.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(hu))}},{key:"decodeBase64",value:function(i){return atob(i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(be(cd))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),Kk=function(){var e,n=function(){return m(function t(r){if(y(this,t),this.sw=r,!r.isEnabled)return this.versionUpdates=Do,void(this.unrecoverable=Do);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")},[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(hu));var i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(hu));var i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}}])}();return(e=n).\u0275fac=function(r){return new(r||e)(be(cd))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),n}(),$k=new W("");function Kz(e,n,t,r){return function(){if(sw(r)&&"serviceWorker"in navigator&&!1!==t.enabled){var o,i=e.get(ze),a=e.get(Yt);if(i.runOutsideAngular(function(){var d=navigator.serviceWorker,f=function(){var g;return null===(g=d.controller)||void 0===g?void 0:g.postMessage({action:"INITIALIZE"})};d.addEventListener("controllerchange",f),a.onDestroy(function(){d.removeEventListener("controllerchange",f)})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{var u=function bp(e){return yp(e)||Cp(e)||gu(e)||_p()}((t.registrationStrategy||"registerWhenStable:30000").split(":")),l=u[0],c=u.slice(1);switch(l){case"registerImmediately":o=dp(null);break;case"registerWithDelay":o=Qk(+c[0]||0);break;case"registerWhenStable":o=c[0]?zk(Xk(e),Qk(+c[0])):Xk(e);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(t.registrationStrategy))}}i.runOutsideAngular(function(){return o.pipe(pi(1)).subscribe(function(){return navigator.serviceWorker.register(n,{scope:t.scope}).catch(function(d){return console.error("Service worker registration failed with:",d)})})})}}}function Qk(e){return dp(null).pipe(function Zz(e){var t=function qz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jz,r=-1;return null!=n&&(iM(n)?t=n:r=n),new un(function(i){var a=function Wz(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;a<0&&(a=0);var o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:qk);return Zk(function(){return t})}(e))}function Xk(e){return e.get(Yt).isStable.pipe(vu(function(t){return t}))}function $z(e,n){return new cd(sw(n)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var hp=m(function e(){y(this,e)});function Qz(e){return function Ao(e){return{\u0275providers:e}}([Yk,Kk,{provide:$k,useValue:e},{provide:hp,useValue:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},{provide:cd,useFactory:$z,deps:[hp,Qr]},{provide:QD,useFactory:Kz,deps:[Dn,$k,hp,Qr],multi:!0}])}var Xz=function(){var e,n=function(){function t(){y(this,t)}return m(t,null,[{key:"register",value:function(i){return{ngModule:t,providers:[Qz(i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})]}}}])}();return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Sr({providers:[Yk,Kk]}),n}(),Jz=function(){var e,n=m(function t(){y(this,t)});return e=n,h(n,"\u0275fac",function(r){return new(r||e)}),h(n,"\u0275mod",Zr({type:e,bootstrap:[bz]})),h(n,"\u0275inj",Sr({imports:[AH,zU,Xz.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})),n}();PH().bootstrapModule(Jz).catch(function(e){return console.error(e)})}},Oe=>{Oe(Oe.s=524)}]);